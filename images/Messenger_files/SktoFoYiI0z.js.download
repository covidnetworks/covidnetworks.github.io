if (self.CavalryLogger) { CavalryLogger.start_js(["fcWKA"]); }

__d("ComposedEntityMutabilityToName",[],(function(a,b,c,d,e,f){e.exports={0:"MUTABLE",1:"IMMUTABLE",2:"SEGMENTED"}}),null);
__d("ComposedEntityTypeToName",[],(function(a,b,c,d,e,f){e.exports={0:"MENTION",1:"LINK",2:"IMAGE",3:"VIDEO",4:"EMOTICON",5:"TOKEN",6:"HASHTAG",7:"IMPLICIT_LINK",8:"EMBED",9:"EMOJI",10:"MATH",11:"HIGHLIGHT",12:"DELIGHT",13:"TEMPLATE_VARIABLE",14:"ASSISTANT_TYPEAHEAD"}}),null);
__d("FBEmojiAliases",[],(function(a,b,c,d,e,f){e.exports={}}),null);
__d("MessengerDesktopAppLinks",[],(function(a,b,c,d,e,f){e.exports={macOSX:"https://apps.apple.com/app/messenger/id1480068668",windows:"https://www.microsoft.com/p/messenger/9wzdncrf0083"}}),null);
__d("MessengerDotComPromotionActionURL",[],(function(a,b,c,d,e,f){e.exports={turn_on_notification:"TurnOnNotification",messengerdotcom_cell_cutover_qp:"messengerdotcomCellCutoverQp"}}),null);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("MNCommercePageSetting",[],(function(a,b,c,d,e,f){e.exports={COMMERCE_FAQ_ENABLED:"COMMERCE_FAQ_ENABLED",IN_MESSENGER_SHOPPING_ENABLED:"IN_MESSENGER_SHOPPING_ENABLED",COMMERCE_NUX_ENABLED:"COMMERCE_NUX_ENABLED",NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED:"NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED",STRUCTURED_MENU_ENABLED:"STRUCTURED_MENU_ENABLED",USER_CONTROL_TOPIC_MANAGE_ENABLED:"USER_CONTROL_TOPIC_MANAGE_ENABLED",COMPOSER_INPUT_DISABLED:"COMPOSER_INPUT_DISABLED"}}),null);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("MeasurePeopleTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MeasurePeopleLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MeasurePeopleLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MeasurePeopleLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};return a}();c={};e.exports=a}),null);
__d("MessagingThreadEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActiveTimeMs=function(a){this.$1.active_time_ms=a;return this};c.setClientEventTimeMs=function(a){this.$1.client_event_time_ms=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageData=function(a){this.$1.page_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={active_time_ms:!0,client_event_time_ms:!0,event:!0,page_data:!0,page_id:!0,script_path:!0,source:!0,thread_id:!0};e.exports=a}),null);
__d("MessengerBotsWebTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerBotsWebLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCount=function(a){this.$1.count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIndex=function(a){this.$1.index=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPayload=function(a){this.$1.payload=a;return this};c.setQrContentType=function(a){this.$1.qr_content_type=a;return this};c.setTitle=function(a){this.$1.title=a;return this};c.setTitles=function(a){this.$1.titles=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setType=function(a){this.$1.type=a;return this};c.setURL=function(a){this.$1.url=a;return this};return a}();c={count:!0,event:!0,index:!0,page_id:!0,payload:!0,qr_content_type:!0,title:!0,titles:!0,type:!0,url:!0};e.exports=a}),null);
__d("MessengerMessageActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setErrorText=function(a){this.$1.error_text=a;return this};c.setExtra=function(a){this.$1.extra=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setMessageType=function(a){this.$1.message_type=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOfflineThreadid=function(a){this.$1.offline_threadid=a;return this};c.setPreviousReaction=function(a){this.$1.previous_reaction=a;return this};c.setReaction=function(a){this.$1.reaction=a;return this};c.setRecipientID=function(a){this.$1.recipient_id=a;return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setThreadid=function(a){this.$1.threadid=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,error_text:!0,extra:!0,group_size:!0,message_type:!0,mid:!0,name:!0,offline_threadid:!0,previous_reaction:!0,reaction:!0,recipient_id:!0,thread_type:!0,threadid:!0};e.exports=a}),null);
__d("MessengerMessageRequestsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerMessageRequestsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setFolderType=function(a){this.$1.folder_type=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setThreadKey=function(a){this.$1.thread_key=a;return this};c.setThreadKeyList=function(a){this.$1.thread_key_list=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,extra_client_data:!0,folder_type:!0,name:!0,surface:!0,thread_id:!0,thread_key:!0,thread_key_list:!0};e.exports=a}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};e.exports=a}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setDomain=function(a){this.$1.domain=a;return this};c.setLinkLocation=function(a){this.$1.link_location=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};return a}();c={action:!0,domain:!0,link_location:!0,target_id:!0};e.exports=a}),null);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};c.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};return a}();c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0};e.exports=a}),null);
__d("WorkChatActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setHscrollPosition=function(a){this.$1.hscroll_position=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setThreadIds=function(a){this.$1.thread_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,app_version:!0,event:!0,group_id:!0,hscroll_position:!0,message_id:!0,thread_ids:!0};e.exports=a}),null);
__d("WorkChatSuggestionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatSuggestionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setSuggestionType=function(a){this.$1.suggestion_type=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={app_id:!0,message_id:!0,suggestion_type:!0,thread_id:!0};e.exports=a}),null);
__d("WorkDoNotDisturbSettingsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setOption=function(a){this.$1.option=a;return this};c.setSource=function(a){this.$1.source=a;return this};return a}();c={event:!0,option:!0,source:!0};e.exports=a}),null);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3161478997284719",metadata:{},name:"RTWebCometRoomIncomingCallDialog_DisclaimerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MessengerCreateVideoChatLinkCallMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateMessengerCallInviteLinkResponsePayload",kind:"LinkedField",name:"create_messenger_call_invite_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"messenger_call_invite_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoChatLinkCallMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoChatLinkCallMutation",selections:b},params:{id:"2794067527328171",metadata:{},name:"MessengerCreateVideoChatLinkCallMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadFBID"}],b=[{kind:"Variable",name:"id",variableName:"threadFBID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MessengerStoriesRingPresenceMontageQueryContainer_messageThread"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},c],storageKey:null},c],storageKey:null}]},params:{id:"2316808138401460",metadata:{},name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerBusinessPersistentMenuResult",kind:"LinkedField",name:"messenger_business_persistent_menu_update_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerNonNestedCTAShareData",kind:"LinkedField",name:"menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"webview_height_ratio",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerBusinessPersistentMenuUpdateSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscription",selections:b},params:{id:"2907290672616359",metadata:{subscriptionName:"messenger_business_persistent_menu_update_subscribe"},name:"MessengerBusinessPersistentMenuUpdateSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"custom_user_settings"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"custom_user_settings")'}],type:"Page",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"2587770514615695",metadata:{},name:"MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerUserProfileLocationUtilsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerUserProfileLocationUtilsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MessengerUserProfileLocationUtilsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2746984198655487",metadata:{},name:"MessengerUserProfileLocationUtilsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersPackInTrayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"stickerInterface"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:[{kind:"Literal",name:"first",value:1e4},{kind:"Variable",name:"interface",variableName:"stickerInterface"}],concreteType:"PacksInTrayConnection",kind:"LinkedField",name:"tray_packs",plural:!1,selections:[{alias:null,args:null,concreteType:"PacksInTrayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"node",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StickersPackInTrayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StickersPackInTrayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[c,b],storageKey:null}],storageKey:null}]},params:{id:"3422169341186253",metadata:{},name:"StickersPackInTrayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersStoreDialogPackDetailQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"packID"},b={defaultValue:null,kind:"LocalArgument",name:"previewWidth"},c={defaultValue:null,kind:"LocalArgument",name:"profileSize"},d=[{kind:"Variable",name:"id",variableName:"packID"}],e={alias:null,args:null,kind:"ScalarField",name:"is_ghost_pack",storageKey:null},f=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"StickersStoreDialogPackDetailQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[e,{args:[{kind:"Variable",name:"packID",variableName:"packID"},{kind:"Variable",name:"previewWidth",variableName:"previewWidth"},{kind:"Variable",name:"profileSize",variableName:"profileSize"}],kind:"FragmentSpread",name:"StickersStoreDetailView_stickerPack"}],type:"StickerPack",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"StickersStoreDialogPackDetailQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_image",plural:!1,selections:f,storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:100}],concreteType:"Image",kind:"LinkedField",name:"preview_image",plural:!1,selections:f,storageKey:"preview_image(height:100)"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"copyrights",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_download",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"in_sticker_tray",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_purchased",storageKey:null}],type:"StickerPack",abstractKey:null}],storageKey:null}]},params:{id:"2696647197015163",metadata:{},name:"StickersStoreDialogPackDetailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersStoreDialogStoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"size"}],b=[{kind:"Variable",name:"first",variableName:"count"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StickersStoreDialogStoreQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"size",variableName:"size"}],kind:"FragmentSpread",name:"StickersStoreView_packList"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StickersStoreDialogStoreQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[{alias:null,args:b,concreteType:"AvailableStickerPacksConnection",kind:"LinkedField",name:"available_packs",plural:!1,selections:[{alias:null,args:null,concreteType:"AvailableStickerPacksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_composer_capable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_messenger_capable",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:d,storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:8}],concreteType:"StickersInPackConnection",kind:"LinkedField",name:"stickers",plural:!1,selections:[{alias:null,args:null,concreteType:"StickersInPackEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"height",variableName:"size"},{kind:"Variable",name:"width",variableName:"size"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:"stickers(first:8)"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_download",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"in_sticker_tray",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_purchased",storageKey:null},e],storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:b,filters:null,handle:"connection",key:"StickersStoreView_available_packs",kind:"LinkedHandle",name:"available_packs"},c],storageKey:null}],storageKey:null}]},params:{id:"3760245170687374",metadata:{},name:"StickersStoreDialogStoreQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a!=null)return a;else return void 0}}),null);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g={};function h(a,c,d){var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a}),null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],(function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a}),null);
__d("ChannelConnectionEvents",[],(function(a,b,c,d,e,f){a="chat-connection/connected";f.CONNECTED=a;b="chat-connection/reconnecting";f.RECONNECTING=b;c="chat-connection/shutdown";f.SHUTDOWN=c;d="chat-connection/mute";f.MUTE_WARNING=d;e="chat-connection/unmute";f.UNMUTE_WARNING=e}),null);
__d("ChannelConnection",["Arbiter","ArbiterMixin","ChannelConnectionEvents","ChannelConstants","ChannelManager","Run","SystemEvents","Visibility","clearTimeout","emptyFunction","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=null,h=null,i=null,j=null,k=0;a.__comet_ssr_is_server_env_DO_NOT_USE!==!0&&a.__is_archon!==!0&&b("ChannelManager").startChannelManager();c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.CONNECTED=b("ChannelConnectionEvents").CONNECTED,d.RECONNECTING=b("ChannelConnectionEvents").RECONNECTING,d.SHUTDOWN=b("ChannelConnectionEvents").SHUTDOWN,d.MUTE_WARNING="chat-connection/mute",d.UNMUTE_WARNING="chat-connection/unmute",d.unmuteWarning=n,c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.disconnected=function(){return j===l.SHUTDOWN||j===l.RECONNECTING&&!h&&k>1};d.isShutdown=function(){return j===l.SHUTDOWN};d.reconnect=function(a){a===void 0&&(a=!1);if(b("ChannelManager").state==="ping"||b("ChannelManager").state==="pull"||b("ChannelManager").isShutdown())return;l.inform(l.RECONNECTING,0);a?(g!==null&&(b("clearTimeout")(g),g=null),b("ChannelManager").enterState("ping!")):g||(g=b("setTimeoutAcrossTransitions")(function(){b("ChannelManager").enterState("ping!"),g=null},b("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC));b("ChannelManager").resetDelay()};d.mockAfterLoad=function(){r(),s()};return c}(b("mixin")(b("ArbiterMixin")));var l=new c();b("Run").onBeforeUnload(b("emptyFunction"),!1);function m(){h&&(b("clearTimeout")(h),h=null)}function n(){m(),l.inform(l.UNMUTE_WARNING)}function o(a){m(),h=b("setTimeoutAcrossTransitions")(n,a),l.inform(l.MUTE_WARNING)}function p(){i&&(b("clearTimeout")(i),i=null)}function q(a,c){p();if(a===b("ChannelConstants").ON_ENTER_STATE&&(c.nextState||c.state)==="pull"){if(j!==l.CONNECTED){var d=!j;j=l.CONNECTED;k=0;l.inform(l.CONNECTED,{init:d})}}else a===b("ChannelConstants").ON_ENTER_STATE&&((c.nextState||c.state)==="ping"||!c.nextState&&c.state==="idle")?i=b("setTimeoutAcrossTransitions")(function(){var b=null;c.state==="idle"&&!c.nextState||(b=c.delay||0);j=l.RECONNECTING;c.state==="idle"&&k++;k>1?l.inform(l.RECONNECTING,b):!c.nextState&&c.state==="idle"&&q(a,c)},500):a===b("ChannelConstants").ON_SHUTDOWN&&(j=l.SHUTDOWN,k=0,l.inform(l.SHUTDOWN,c.reason))}function r(){b("ChannelManager").isShutdown()?q(b("ChannelConstants").ON_SHUTDOWN,b("ChannelManager")._shutdownHint):q(b("ChannelConstants").ON_ENTER_STATE,{state:b("ChannelManager").state,nextState:b("ChannelManager").nextState,delay:0}),b("Visibility").addListener(b("Visibility").VISIBLE,l.reconnect)}b("Run").onAfterLoad(r);function s(){b("Arbiter").subscribe([b("ChannelConstants").ON_ENTER_STATE,b("ChannelConstants").ON_SHUTDOWN],q),b("Arbiter").subscribe(b("ChannelConstants").ATTEMPT_RECONNECT,function(){l.disconnected()&&l.reconnect()}),b("SystemEvents").subscribe(b("SystemEvents").TIME_TRAVEL,function(){l.reconnect(),o(b("ChannelConstants").MUTE_WARNING_TIME_MSEC)}),b("Run").onBeforeUnload(p,!1)}b("Run").onAfterLoad(s);d=l;e.exports=d}),3);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","ChannelConstants","ChatReliabilityEvents","ChatReliabilityInstrumentation","LastActiveTimes","ODS","PresenceStatus","debounceAcrossTransitions"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.$2=!1,this.$3=b("AvailableListInitialData").chatNotif,this.$4=!1}var c=a.prototype;c.subscribe=function(){var a=this,c,d;(c=b("Arbiter")).subscribe((d=b("ChannelConstants")).getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));c.subscribe(d.ON_INVALID_HISTORY,function(){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").ON_INVALID_HISTORY),a.$2=!0});c.subscribe(d.RTI_SESSION,function(c,d){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").RTI_SESSION),d&&(a.$4=d)});c.subscribe(d.getArbiterType("get_debug_presence"),function(c,d){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").GET_DEBUG_PRESENCE);c=b("PresenceStatus").getAllDebugInfo();d=b("LastActiveTimes").getDebugData();for(var e in d){var f=c[e];f===void 0&&(f={},c[e]=f);f.l=Math.floor(d[e])}a.$4.issueRequest("/debug_presence",{},c,function(){b("ODS").bumpEntityKey(2966,"ChatproxyPresence","debug_presence.sucess")})})};c.getRTISession=function(){return this.$4};c.updatePresenceInfo=function(a,c){this.$2&&(this.$2=!1,b("PresenceStatus").resetPresenceData());c=c.obj;a=!1;c.chatNotif!==void 0&&(a=this.$3!==c.chatNotif);a&&(this.$3=c.chatNotif);c.gamers&&b("PresenceStatus").setPlayingCanvasGameFriends(c.gamers);a&&this.$1(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$3);b("debounceAcrossTransitions")(function(){this.$1(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};c.getWebChatNotification=function(){return this.$3};return a}();e.exports=a}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AVAILABILITY_CHANGED:null});e.exports=a}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","ODS","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function(a,b,c,d,e,f){"use strict";b("ODS").setEntitySample("presence",1e-4);var g=babelHelpers["extends"]({},b("AvailableListConstants"),b("ArbiterMixin")),h=/\D/;g.subscribe([b("AvailableListConstants").ON_AVAILABILITY_CHANGED,b("AvailableListConstants").ON_UPDATE_ERROR],function(a,c){b("Arbiter").inform(a,c)});b("PresenceStatus").subscribe("change",b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var i=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function j(a,c,d,e,f){if(a===b("CurrentUser").getID())return;c=b("PresenceStatus").set(a,c,d,e,f);if(c){d=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,a),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:a})},0);d()}}function k(a){a=a.payload.availability||{};for(var b in a)j(b&&b.toString(),a[b].a,!0,"mercury_tabs",a[b].c)}function l(a){if(!a||a==="0"||h.test(a)){b("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+a);return}new(b("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:a}).setHandler(k).setErrorHandler(b("emptyFunction")).setAllowCrossPageTransition(!0).send()}var m=void 0;try{m=new(b("ChatproxyPresence"))(function(a){g.inform(a)}),m.subscribe()}catch(a){b("FBLogger")("chat").catching(a).mustfix("Failed to subscribe to chat proxy presence"),b("ChatReliabilityInstrumentation").logERROR(a.getMessage())}Object.assign(g,{getChatproxyPresenceObject:function(){return m},get:function(a){return b("PresenceStatus").get(a)},updateForID:function(a){if(b("ChatConfig").get("presence_page_green_dot_sub")&&!b("FBIDCheck").isUser_deprecated(a))return;l(a);b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessengerMQTTPresence"],function(b){b.sendAdditionalBuddyRequest(a)},"AvailableList")})},getWebChatNotification:function(){return m&&m.getWebChatNotification()},isReady:function(){return!!m},set:function(a,b,c,d){j(a,b,!0,c,d)}});b("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],i);b("requireWeak")("ChannelConnection",function(a){return a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],i)});b("Bootloader").loadModules(["MercurySyncEventsProxy"],function(a){b("Arbiter").subscribe([a.getArbiterTypeForFBID(b("CurrentUser").getID(),a.Events.TYP)],function(a,c){a=c.obj;if(a.st===b("TypingStates").TYPING){c=a.from;if(b("ChatVisibility").isOnline()){b("ODS").bumpEntityKey(3303,"presence","stale_presence_check_typing");a=b("PresenceStatus").get(c);if(a!=b("AvailableListConstants").ACTIVE){a=b("LastActiveTimes").get(c)*1e3;var d=b("ServerTime").get();if(!a)b("ODS").bumpEntityKey(3303,"presence","no_detailed_presence_typing");else if(d-a>5*60*1e3){var e="stale_presence_typing";d=d-a;d<10*60*1e3?e+="600":d<60*60*1e3&&(e+="3600");b("ODS").bumpEntityKey(3303,"presence",e)}}}g.set(c&&c.toString(),b("AvailableListConstants").ACTIVE,"channel-typing")}})},"AvailableList");b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("messaging"),function(a,c){if(!b("ChatVisibility").isOnline())return;a=c.obj;if(a.message&&a.message.timestamp&&a.message.sender_fbid){c=b("ServerTime").get();var d=a.message.timestamp;if(c-d<2*60*1e3){b("ODS").bumpEntityKey(3303,"presence","stale_presence_check");c=a.message.sender_fbid;a=b("PresenceStatus").get(c);if(a==b("AvailableListConstants").ACTIVE)return;a=b("LastActiveTimes").get(c)*1e3;if(!a)b("ODS").bumpEntityKey(3303,"presence","no_detailed_presence");else if(d-a>5*60*1e3){c="stale_presence";d=d-a;d<10*60*1e3?c+="600":d<60*60*1e3&&(c+="3600");b("ODS").bumpEntityKey(3303,"presence",c)}}}});a=g;e.exports=a}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","CurrentUser","Event","MercuryIDs","Parent","WorkGalahadSettings","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null;b("requireWeak")("FantaTabsReactApp",function(a){return h=a});b("requireWeak")("FantaTabsSlimApp",function(a){return h=a});function i(a,c,d,e){b("Event").listen(a,"click",function(f){(b("WorkGalahadSettings").isGalahadEnabled||l.canOpenTab())&&(e(c,d),a.removeAttribute("ajaxify"),a.removeAttribute("rel"),f.preventDefault())})}function j(a,c,d,e){b("Event").listen(a,"click",function(a){l.canOpenTab()&&e(c,d)})}function k(a){a=b("ContextualThing").getContext(a);return a&&b("Parent").bySelector(a,"._3qw")!==null}var l={canOpenTab:function(){return h&&!h.isHidden()},listenOpenEmptyTabDEPRECATED:function(a,b){i(a,null,b,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function(a,b,c){var d=this;i(a,b,c,function(a,b){return d.loadAndOpenFantaTab(a,b,c)})},listenOpenUserTabDEPRECATED:function(a,b,c){var d=this;k(a)||i(a,b,c,function(a){return d.loadAndOpenFantaTab(a,"user",c)})},listenOpenUserTabPersistentEventDEPRECATED:function(a,b,c){var d=this;k(a)||j(a,b,c,function(a){return d.loadAndOpenFantaTab(a,"user",c)})},listenOpenPageTabDEPRECATED:function(a,b,c,d){var e=this;k(a)||i(a,b,d,function(a){return e.loadAndOpenFantaTab(a,"page",d)})},listenOpenPageTabPersistentEventDEPRECATED:function(a,b,c,d){var e=this;k(a)||j(a,b,d,function(a){return e.loadAndOpenFantaTab(a,"page",d)})},loadAndOpenFantaTab:function(a,c,d){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(e,f){if(c==="user"||c==="page"){var g=b("MercuryIDs").getThreadIDFromUserID(a);f.openTab(g,[d]);e.logUserClickOpen(d,a)}else f.openTab(a,[d]),e.logClickOpen(d,a)},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function(){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MessengerState.bs"],function(a,c,d){d=d.createNewLocalThreadGenerateID(b("CurrentUser").getID());c.openNewMessageTab(d,"jewel_new_message");a.logClickOpen("EmptyTab")},"ChatOpenTab")}};e.exports=l}),null);
__d("ChatOpenTabEventLogger",["Banzai","Bootloader","MercuryMessagingLightswitch"],(function(a,b,c,d,e,f){"use strict";f.logClickOpen=h;f.logUserClickOpen=a;f.logAutoOpen=c;f.logUserAutoOpen=d;function g(a,c,d){b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["ChatImpressionLogger"],function(b){b.logImpression(a,c,d)},"ChatOpenTabEventLogger")})}function h(a,c,d,e){b("Bootloader").loadModules(["getPageIDFromThreadID"],function(b){g(a,d,e);b=b(String(c));b&&i(a,b)},"ChatOpenTabEventLogger")}function a(a,c,d){b("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(b){b=b.getThreadIDFromUserID(c);h(a,b,c,d)},"ChatOpenTabEventLogger")}function c(a,b,c,d){g(a,c,d)}function d(a,c){b("Bootloader").loadModules(["MercuryIDs","ChatImpressionLogger"],function(b){b=b.getThreadIDFromUserID(c);g(a,b,c)},"ChatOpenTabEventLogger")}function i(a,c){b("MercuryMessagingLightswitch").guard(function(){b("Banzai").post("page_message_button_click",{page_id:c,ref:a}),b("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum"],function(b,d,e){b.log(c,d.CLICK,e.PAGE_MESSAGE,a)},"ChatOpenTabEventLogger")})}}),null);
__d("ChatSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AFTER_DOM_LOAD:null,INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null});e.exports=a}),null);
__d("ChatSidebarPresencePrivacyActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PRIVACY_CHANGED:null,USER_PRESENCE_CHANGED:null});e.exports=a}),null);
__d("ChatSidebarRecentCallsActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({RECENT_CALLS_UPDATED:null});c=a;e.exports=c}),null);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarPresencePrivacyActions","ChatSidebarRecentCallsActions"],(function(a,b,c,d,e,f){"use strict";f.init=a;f.afterDomLoad=c;f.loaded=d;f.disable=e;f.enable=g;f.show=h;f.userPresenceChanged=i;f.privacyChanged=j;f.recentCallsUpdated=k;function a(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").INIT})}function c(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").AFTER_DOM_LOAD})}function d(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").LOADED})}function e(){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!1,sidebarType:"buddylist"})}function g(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SET_ENABLED,enabled:!0,sidebarType:a})}function h(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarActionTypes").SHOW,sidebarType:a})}function i(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})}function j(){b("ChatDispatcher").dispatch({type:b("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}function k(a){b("ChatDispatcher").dispatch({type:b("ChatSidebarRecentCallsActions").RECENT_CALLS_UPDATED,calls:a})}}),null);
__d("ChatSidebarDropdownConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({SOUND:"sound",ADVANCED_SETTINGS:"advanced_settings",BLOCK_SETTINGS:"block_settings",TURN_OFF_DIALOG:"turn_off_dialog",CLOSE_ALL_TABS:"close_all_tabs",LOWER_ALL_TABS:"lower_all_tabs",TOGGLE_DISCOVER_BOTS:"toggle_discover_bots",SIDEBAR:"sidebar",HIDE_GROUPS:"hide_groups",ONLINE:"online",VIDEOCALL_ON:"videoon",VIDEOCALL_OFF:"videooff",PAUSE:"pause",SHOW_APPS:"show_apps",HIDE_APPS:"hide_apps",HIDE_MARKETPLACE:"hide_marketplace",SHOW_TICKER:"show_ticker",HIDE_TICKER:"hide_ticker",HIDE_ADMINED_PAGES:"hide_admined_pages",HIDE_BUSINESSES:"hide_businesses",EMOJI_SETTINGS:"emoji_settings",TURN_OFF_CHAT_TABS:"turn_off_chat_tabs",SOLID_REACTION:"solid_reaction"});e.exports=a}),null);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";a=new(b("Dispatcher_DEPRECATED"))();e.exports=a}),null);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("FBRTCDispatcher"))||this}var d=c.prototype;d.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};return c}(b("FluxStore"));e.exports=a;a.__moduleID=e.id}),null);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","Bootloader","ChannelConstants","FBRTCDispatcher","FBRTCStore","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=!1,h=0,i=null,j="call_block_setting_changed";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(a){this.$FBRTCCallBlockingStore1(a),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};d.__onDispatch=function(a){if(a.type!==j)return;this.$FBRTCCallBlockingStore1(a.data)};d.$FBRTCCallBlockingStore1=function(a){switch(a){case 0:g=!1;this.$FBRTCCallBlockingStore3();break;case-1:g=!0;this.$FBRTCCallBlockingStore3();break;default:g=!0,this.$FBRTCCallBlockingStore4(a)}this.__emitChange()};d.$FBRTCCallBlockingStore4=function(a){i===null&&(i=b("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),a*1e3))};d.getBlockingStatus=function(){return g};d.turnOnVideoCalling=function(){new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};d.turnOffVideoCalling=function(a){h=a,new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:a}).send()};d.$FBRTCCallBlockingStore3=function(){i&&(b("clearTimeout")(i),i=null)};d.$FBRTCCallBlockingStore5=function(){b("FBRTCDispatcher").dispatch({type:j,data:0}),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_enabled"})},"FBRTCCallBlockingStore")};d.$FBRTCCallBlockingStore6=function(){b("FBRTCDispatcher").dispatch({type:j,data:h}),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:h===-1?"rtc_disabled_permanently":"rtc_disabled_temporarily"})},"FBRTCCallBlockingStore")};d.$FBRTCCallBlockingStore2=function(a,c){b("FBRTCDispatcher").dispatch({type:j,data:c.obj.value})};return c}(b("FBRTCStore"));c=new a();e.exports=c}),null);
__d("ChatOptions",["Arbiter","ArbiterMixin","Bootloader","ChannelConstants","ChatSidebarActions","ChatSidebarDropdownConstants","FBRTCCallBlockingStore","PresenceUtil","mixin","ChatOptionsInitialData"],(function(a,b,c,d,e,f){var g={};(function(){var a=b("ChatOptionsInitialData");for(var c in a){var d=a[c];switch(c){case"call_blocked_until":b("FBRTCCallBlockingStore").init(d);break;case b("ChatSidebarDropdownConstants").TURN_OFF_CHAT_TABS:d!==-1&&(g[c]=!!d);break;default:g[c]=!!d}}})();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getSetting=function(a){return g[a]};d.setSetting=function(a,c,d){if(a==="sidebar_mode"){b("Bootloader").loadModules(["ChatSidebarVisibility"],function(a){return a.shouldShowSidebarIgnoreEnabled(null,function(a,d){c?b("ChatSidebarActions").enable(a?"sidebar":"buddylist"):b("ChatSidebarActions").disable()})},"ChatOptions");return}if(this.getSetting(a)==c)return;g[a]=!!c;b("Arbiter").inform("chat/option-changed",{name:a,value:c})};return c}(b("mixin")(b("ArbiterMixin")));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("setting"),function(a,c){a=c.obj;if(a.window_id===b("PresenceUtil").getSessionID())return;h.setSetting(a.setting,!!a.value,"channel")});var h=new a();c=h;e.exports=c}),null);
__d("ChatSidebarPreloadStore",["InitialChatFriendsList"],(function(a,b,c,d,e,f){"use strict";f.onLoaded=a;function a(a){a({buddies:(a=b("InitialChatFriendsList")).list,groups:a.groups,shortProfiles:a.shortProfiles,nearby:a.nearby,adminedPages:a.adminedPages,marketplaceThreads:a.marketplaceThreads,pageListModule:a.pageListModule,pymmList:b("InitialChatFriendsList").pymmList||{},recentPageList:b("InitialChatFriendsList").recentPageList,profiles:[]})}}),null);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function(a,b,c,d,e,f){"use strict";f.init=a;f.get=c;var g={};function a(){b("ChatSidebarPreloadStore").onLoaded(function(a){var b=a.profiles,c=a.nearby;return b.filter(function(a){return!c||c.indexOf(a.id)===-1}).forEach(function(a){var b=new Date();b=a.birthdate&&b.getDate()===a.birthdate.day&&b.getMonth()+1===a.birthdate.month;var c=a.profile_picture&&a.profile_picture.uri?a.profile_picture.uri:null;g[a.id]={id:a.id,is_birthday:b,thumbSrc:c,name:a.name,is_messenger_only:!!a.is_messenger_only}})})}function c(a){return g[a]}}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})}),null);
__d("ShortProfilesBootstrapper",["Promise","AsyncRequest","CurrentUser","ODS","XChatUserInfoAllAsyncController"],(function(a,b,c,d,e,f){"use strict";var g=5,h=1e4,i=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI();a=function(){function a(a){var c=this;this.$1=a;this.$2=new(b("Promise"))(function(a,b){c.$3=a,c.$4=b});this.$5=!1;this.$6=null;this.$7=0;this.$8=0;this.$9=0;this.$10=!1;this.$11=!1}var c=a.prototype;c.fetchAll=function(){var a=this;this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=g){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(i).setHandler(function(b){a.$6=null,a.$5=!0,a.$15(),a.$1(b.payload),a.$3()}).setErrorHandler(function(){a.$6=null,a.$8++,a.$16()}).setTimeoutHandler(h,function(){a.$6=null,a.$9++,a.$17(),a.fetchAll()}).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};c.isBootstrapped=function(){return this.$5};c.isBootstrapping=function(){return!!this.$6};c.getAttemptCount=function(){return this.$7};c.getErrorCount=function(){return this.$8};c.getTimeoutCount=function(){return this.$9};c.$12=function(){this.$10||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.starts"),this.$10=!0)};c.$14=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.attempts")};c.$15=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes"),this.$7>1&&b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes_after_retries")};c.$16=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.errors")};c.$17=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.timeouts")};c.$13=function(){this.$11||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};return a}();e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("ShortProfiles",["AjaxLoader","CurrentUser","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction"],(function(a,b,c,d,e,f){"use strict";f.get=a;f.getMulti=c;f.getNow=j;f.getMultiNow=d;f.getCachedProfileIDs=e;f.hasAll=k;f.fetchAll=l;f.set=m;f.setMulti=n;var g,h=null,i=new(b("AjaxLoader"))(b("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles");function a(a,b){this.getMulti([a],function(c){return b(c[a],a)})}function c(a,c){i.get(a,c||b("emptyFunction"))}function j(a){return i.getNow(a)||null}function d(a){var b={};a.forEach(function(a){return b[a]=j(a)});return b}function e(){return i.getCachedKeys()}function k(){return!!h&&h.isBootstrapped()}function l(){h||(h=new(b("ShortProfilesBootstrapper"))(function(a){i.set(a)}));return h.fetchAll()}function m(a,b){var c={};c[a]=b;this.setMulti(c)}function n(a){if(b("CurrentUser").isWorkUser()){var c={};Object.keys(a).forEach(function(d){var e=a[d];(e.type!=="fb4c"||!e.uri)&&(c[d]=e);var f=new(g||(g=b("URI")))(e.uri).setDomain("").setProtocol("").toString();c[d]=babelHelpers["extends"]({},e,{uri:f})});a=c}i.set(a)}}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f){var g=/[ ]+/g,h=/[^ ]+/g,i=new RegExp("[^ "+l()+"]+|"+a(),"g"),j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function c(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(g," ")}function s(a,b){b===void 0&&(b=h);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function d(a,b){b===void 0&&(b=h);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(c),u=d(function(a){return a},i);function f(a,c,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;c=g(c,a=="prefix");var h=a=="prefix"?b("nullthrows")(c.sortedTokens):c.tokens,i=g(d).tokens,j={},k=c.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:f.bind(null,"exact"),isQueryMatch:f.bind(null,"query"),isQueryMatchIncludingPunctuations:f.bind(null,"query_punc"),isAlignedMatch:f.bind(null,"aligned"),isPrefixMatch:f.bind(null,"prefix"),tokenize:s};q=p;e.exports=q}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("ChatSidebarParticipantTooltipBuilder",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";f.buildParticipantsTooltip=a;b("React");var h=10;f.MAX_NUM_PARTICIPANTS_TO_RENDER=h;var i="\n";function a(a,b){var c=[],d=Math.min(h,a.length);a=a.slice(0,d);a.forEach(function(a){a=a.name;a&&c.push(a)});d<b&&c.push(g._("and {num} more...",[g._param("num",b-d)]));return c.join(i)}}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarParticipantTooltipBuilder","ChatSidebarPreloadStore","CurrentUser","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","createArrayFromMixed","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";var g=null,h={},i=[],j={};function k(a){a=String(a);return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function l(a,c){a=b("createArrayFromMixed")(a);c(a.filter(function(a){a=b("ShortProfiles").getNow(a);return!a||o(a)||a.is_nonfriend_messenger_contact}))}function m(a){g=[];var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);b("PresenceStatus").get(d)==a&&(g[c]=d,h[d]=c++)})}function n(a){var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);a==b("AvailableListConstants").ACTIVE&&(i[c]=d,j[d]=c++)})}function o(a){return a.type==="friend"||b("CurrentUser").isWorkUser()&&a.type==="fb4c"}var p={contains:function(a){return a in h},getList:function(a){if(g&&g.length){l(g,a);return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;m(b);l(g,a)})},getSearchableEntries:function(a,c,d){p.getList(function(e){b("ChatSidebarPreloadStore").onLoaded(function(f){var g=f.groups,h=f.recentPageList;b("ShortProfiles").getMulti(e.slice(0,a),function(a){var b=[];for(var e in a)b.push(p.normalizeProfileEntry(a[e],e));a=c?g.map(p.normalizeThreadEntry):[];var f=h.map(p.normalizePageEntry);d(b.concat(a,f).filter(function(a){return!!a}).sort(function(a,b){return a.getOrder()-b.getOrder()}))})})})},normalizePageEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:c,photo:a.imgSrc,title:e,subtitle:f,type:"page",uri:a.uri,auxiliaryData:{isVerified:a.isVerified}})},normalizeProfileEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:p.getRank(a.id||c),photo:a.thumbSrc,title:e,subtitle:f,type:a.type,uri:a.uri,auxiliaryData:{isMessengerUser:a.is_messenger_user}})},normalizeThreadEntry:function(a,c){var d=a.mercury_thread,e=a.participants_to_render.map(function(a){return babelHelpers["extends"]({},a,{id:k(a.id)})});d.participants=d.participants.map(k);var f=a.text,g=null;f||(f=d.name);var h=b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(e,d.participants.length-1),i=e.map(function(a){return a.name}).join(", ");!f?f=i:g=i;i=a.uid;return!f||!b("isValidUniqueID")(i)?null:new(b("SearchableEntry"))({uniqueID:i,order:c,photo:d.image_src,title:f,subtitle:g,type:"thread",auxiliaryData:{participantsToRender:e,tooltipContent:h,thread:d}})},getRank:function(a){return a in h?h[a]:g?g.length:0},getActiveList:function(a){if(i.length>0){a(i);return}p.getList(function(b){return a(b)})},getActiveRank:function(a){return a in j?j[a]:p.getRank(a)}};(function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var c=a.buddies;a=a.shortProfiles;b("ShortProfiles").setMulti(a);n(c);m(c)}),b("ChatProfileStore").init()})();e.exports=p}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("ChatDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};d.get=function(a){return b("PresenceStatus").get(a)};d.getIsPlaying=function(a){return b("PresenceStatus").isPlayingCanvasGameUser(a)};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","SubscriptionsHandler","TypingStates","createObjectFrom","emptyFunction"],(function(a,b,c,d,e,f){function a(a,b){this._input=a,this._ignoreKeys={},this._getValueFn=b}Object.assign(a.prototype,b("ArbiterMixin"),{_timeout:7e3,_currentState:b("TypingStates").INACTIVE,init:function(){this.init=b("emptyFunction"),this.reset(),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("Event").listen(this._input,"keyup",this._update.bind(this)),b("Run").onUnload(this._onunload.bind(this)))},reset:function(){clearTimeout(this._checkTimer),this._checkTimer=null,this._lastKeystrokeAt=null,this._currentState=b("TypingStates").INACTIVE},setIgnoreKeys:function(a){this._ignoreKeys=b("createObjectFrom")(a)},destroy:function(){this._subscriptions.release()},_onunload:function(){this._currentState==b("TypingStates").TYPING&&this._transition(b("TypingStates").QUITTING)},_update:function(a){a=b("Event").getKeyCode(a);var c=this._currentState;if(!this._ignoreKeys[a]){a=this._getValueFn?this._getValueFn():b("Input").getValue(this._input);a.trim().length===0?c==b("TypingStates").TYPING&&this._transition(b("TypingStates").INACTIVE):c==b("TypingStates").TYPING?this._recordKeystroke():c==b("TypingStates").INACTIVE&&(this._transition(b("TypingStates").TYPING),this._recordKeystroke())}},_transition:function(a){this.reset(),this._currentState=a,this.inform("change",a)},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now(),this._checkTimer||(this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout))},_checkTyping:function(){var a=this._lastKeystrokeTime+this._timeout,c=Date.now();c>a?this._transition(b("TypingStates").INACTIVE):(clearTimeout(this._checkTimer),this._checkTimer=setTimeout(this._checkTyping.bind(this),a-c+10))}});e.exports=a}),null);
__d("TypingDetectorController",["ActorURI","AsyncRequest","AvailableList","AvailableListConstants","ChatVisibility","Keys","MercuryServerRequestsConfig","MessageRequestUtils","TypingDetector","TypingStates","clearTimeout","emptyFunction","ifRequired","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f){"use strict";var g="/ajax/messaging/typ.php";a=function(){function a(a,c,d,e,f,g,h,i){var j=this;this._notifyState=function(a,c){if(!j.userID&&!j.threadID||j.thread&&!j.pageID&&!b("MessageRequestUtils").shouldSendTypingIndicators(j.thread)||!b("ChatVisibility").isOnline()||a===j.remoteState||b("ifRequired")("ChannelConnection",function(a){return a.disconnected()},function(){return!0}))return;j._sendRequest(a,j.userID,c)};if(!d)return;this.thread=a;this.userID=c;this.input=d;this.source=e;this.threadID=g;this.pageID=i;this.remoteState=b("TypingStates").INACTIVE;this.notifyTimer=null;f=f||{};this.notifyDelay=f.notifyDelay||this.notifyDelay;this._typingDetector=new(b("TypingDetector"))(d,h);this._typingDetector.init(f);this._typingDetector.subscribe("change",this._stateChange.bind(this))}var c=a.prototype;c.setUserAndThread=function(a,b){(this.userID!==a||this.threadID!==b)&&(this.resetState(),this.userID=a,this.threadID=b)};c.setIgnoreEnter=function(a){a=a?[b("Keys").RETURN]:[];this._typingDetector.setIgnoreKeys(a)};c.resetState=function(){this._notifyState(b("TypingStates").INACTIVE),this.remoteState=b("TypingStates").INACTIVE,this._typingDetector.reset(),b("clearTimeout")(this.notifyTimer),this.notifyTimer=null};c.destroy=function(){this.resetState(),this._typingDetector.destroy()};c._stateChange=function(a,c){c!=b("TypingStates").QUITTING?(b("clearTimeout")(this.notifyTimer),this.notifyTimer=b("setTimeoutAcrossTransitions")(b("shield")(this._notifyState,this,c),this.notifyDelay)):this._notifyState(c,!0)};c._sendRequest=function(a,c,d){this.remoteState=a;a={typ:a,to:c,source:this.source,thread:this.threadID};var e=this.pageID?b("ActorURI").create(g,this.pageID):g;c=new(b("AsyncRequest"))().setHandler(this._onTypResponse.bind(this,c)).setErrorHandler(b("emptyFunction")).setData(a).setURI(e).setAllowCrossPageTransition(!0).setOption("asynchronous_DEPRECATED",!d);b("MercuryServerRequestsConfig").msgrRegion&&c.setRequestHeader("X-MSGR-Region",b("MercuryServerRequestsConfig").msgrRegion);c.send()};c._onTypResponse=function(a,c){c=c.getPayload()||{};c.offline&&b("AvailableList").set(a,b("AvailableListConstants").OFFLINE,"typing_response")};return a}();Object.assign(a.prototype,{notifyDelay:1e3});e.exports=a}),null);
__d("MessengerDesktopUpsellLinks",["CurrentUser","MessengerDesktopAppLinks","UserAgent","qex"],(function(a,b,c,d,e,f){"use strict";f.getDesktopUpsellLinkForPlatform=g;f.getDesktopUpsellLinkIfEnabledForCalls=a;function g(){if(b("UserAgent").isPlatform("Mac OS X"))return b("MessengerDesktopAppLinks").macOSX;else if(b("UserAgent").isPlatform("Windows"))return b("MessengerDesktopAppLinks").windows;return null}function a(){var a=g(),c=a!=null&&!b("CurrentUser").isWorkUser()&&!!b("qex")._("1431495");return c?a:null}}),null);
__d("TetraPivotLink.react",["CometBadge.react","CometPressable.react","React","TetraIcon.react","TetraProfilePhoto.react","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=36,j={badge:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",end:"yftcgz6f",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",top:"kr520xx4"},icon:{display:"j83agx80",height:"gl3lb2sf"},iconAfterLabel:{marginStart:"ggphbty4"},iconBeforeLabel:{marginEnd:"fv0vnmcu"},pressed:{transform:"mtfd0dr2"},profile:{display:"j83agx80",marginEnd:"fv0vnmcu",marginStart:"fop5sh7t"},profileDisabled:{opacity:"akz8cqyu"},root:{alignItems:"bp9cbjyn",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",display:"j83agx80",flexDirection:"btwxx1t3",height:"tv7at329",justifyContent:"taijpn5t",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",position:"l9j0dhe7"},selected:{backgroundColor:"oo1teu6h"}},k={deemphasized:{backgroundColor:"g5ia77u1"},normal:{backgroundColor:"tdjehn4e"}};function a(a,c){var d=a.ariaCurrentType;d=d===void 0?"page":d;var e=a.disabled;e=e===void 0?!1:e;var f=a.hasNewContentBadge;f=f===void 0?!1:f;var l=a.image,m=a.imagePlacement;m=m===void 0?"left":m;var n=a.label,o=a.labelIsHidden;o=o===void 0?!1:o;var p=a.linkProps,q=a.newContentBadgeSize;q=q===void 0?6:q;var r=a.onPress,s=a.selected,t=s===void 0?!1:s;s=a.testid;s=a.testOnly_pressed;a=a.type;var u=a===void 0?"normal":a;a=null;f&&(a=h.jsx("div",{className:(g||(g=b("stylex")))(j.badge),children:h.jsx(b("CometBadge.react"),{border:"white",color:e?"gray":"blue",isProfileBadge:!0,size:q})}));f=null;if(l!=null)if(l.type==="icon"){q=t===!0?"highlight":null;f=h.jsx("div",{className:(g||(g=b("stylex")))(j.icon,!o&&m==="left"?j.iconBeforeLabel:null,!o&&m==="right"?j.iconAfterLabel:null),children:h.jsx(b("TetraIcon.react"),{color:e?"disabled":(q=q)!=null?q:"primary",icon:l.icon,size:16})})}else l.type==="profile-photo"&&l.source!=null&&(f=h.jsx("div",{className:(g||(g=b("stylex")))(j.profile,e?j.profileDisabled:null),children:h.jsx(b("TetraProfilePhoto.react"),{shape:"circle",size:28,source:l.source})}));q=m==="left"?f:null;l=m==="right"?f:null;m=o?null:h.jsx(b("TetraText.react"),{color:e?"disabled":t===!0?"highlight":"primary",numberOfLines:1,type:"button2",children:n});f=p?{"aria-current":t?d:void 0,"aria-label":n}:{"aria-label":n,"aria-pressed":t};return h.jsxs(b("CometPressable.react"),babelHelpers["extends"]({},f,{disabled:e,display:"inline",linkProps:p,onPress:e?void 0:r,overlayRadius:i/2,ref:c,testOnly_pressed:s,testid:void 0,xstyle:function(a){a=a.pressed;return[j.root,k[u],t===!0&&j.selected,a&&j.pressed]},children:[a,q,m,l]}))}c=h.forwardRef(a);e.exports=c}),null);
__d("TetraishContextualMessage.react",["ix","fbt","CometRow.react","CometRowItem.react","React","TetraIcon.react","TetraTextPairing.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k={closeButton:{marginEnd:"dlv3wnog",marginTop:"sv5sfqaa"},icon:{marginTop:"muag1w35"},root:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",paddingBottom:"ihqw7lf3"}},l={highlight:{backgroundColor:"is6700om"},primary:{backgroundColor:"cwj9ozl2"},secondary:{backgroundColor:"i94ygzvd"}};function a(a){var c=a.addOnPrimary,d=a.addOnSecondary,e=a.body,f=a.headline,m=a.icon,n=a.level;n=n===void 0?3:n;var o=a.onClose,p=a.testid;p=a.type;a=p===void 0?"primary":p;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,l[a]),"data-testid":void 0,children:[j.jsxs(b("CometRow.react"),{verticalAlign:"center",children:[m!=null?j.jsx(b("CometRowItem.react"),{verticalAlign:"start",children:j.jsx("div",{className:(i||(i=b("stylex")))(k.icon),children:m})}):null,j.jsx(b("CometRowItem.react"),{expanding:!0,children:j.jsx(b("TetraTextPairing.react"),{body:e,bodyColor:a==="highlight"?"white":"secondary",headline:f,headlineColor:a==="highlight"?"white":"primary",headlineLineLimit:2,level:n})}),o!=null?j.jsx(b("CometRowItem.react"),{verticalAlign:"start",children:j.jsx("div",{className:(i||(i=b("stylex")))(k.closeButton),children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Dismiss"),color:a==="highlight"?"white":"secondary",icon:b("fbicon")._(g("478232"),16),onPress:o,size:16,testid:void 0})})}):null]}),c,d]})}}),null);
__d("MWCount.bs",["ODS","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,b){}function c(a,c){b("ODS").bumpEntityKey(3185,a,c)}var g=b("gkx")("1430416")?c:a;function d(a){return g("fanta.load","total")}function e(a){return g("fanta.new_message","process")}function h(a){g("fanta.new_message","process");return g("fanta.new_message","process_new")}function i(a){g("fanta.new_message","process");return g("fanta.new_message","process_log")}function j(a){g("fanta.new_message","process");return g("fanta.new_message","process_messages_received")}h={newMessage:h,logMessage:i,messagesReceived:j};function k(a){return g("fanta.new_message","reject")}function l(a){g("fanta.new_message","reject");return g("fanta.new_message","reject_old")}function m(a){g("fanta.new_message","reject");return g("fanta.new_message","reject_supress")}i={old:l,suppress:m};function n(a){return g("fanta.new_message","lift")}j={$$process:e,Process:h,reject:k,Reject:i,lift:n};function o(a){return g("fanta.cookie.lift","none")}function p(a){return g("fanta.cookie.lift","some")}function q(a){g("fanta.cookie.lift","some");return g("fanta.cookie.lift","one")}function r(a){g("fanta.cookie.lift","some");return g("fanta.cookie.lift","many")}l={none:o,some:p,one:q,many:r};function s(a){return g("fanta.cookie.show","none")}function t(a){return g("fanta.cookie.show","some")}function u(a){g("fanta.cookie.show","some");return g("fanta.cookie.show","one")}function v(a){g("fanta.cookie.show","some");return g("fanta.cookie.show","many")}m={none:s,some:t,one:u,many:v};e={Lift:l,Show:m};h={load:d,NewMessage:j,Cookie:e};function w(a){return g("mwchat.load","total")}function x(a){return g("mwchat.new_message","process")}function y(a){return g("mwchat.new_message","reject")}function z(a){return g("mwchat.new_message","lift")}k={$$process:x,reject:y,lift:z};function A(a){return g("mwchat.cookie.lift","none")}function B(a){return g("mwchat.cookie.lift","some")}function C(a){g("mwchat.cookie.lift","some");return g("mwchat.cookie.lift","one")}function D(a){g("mwchat.cookie.lift","some");return g("mwchat.cookie.lift","many")}i={none:A,some:B,one:C,many:D};function E(a){return g("mwchat.cookie.show","none")}function F(a){return g("mwchat.cookie.show","some")}function G(a){g("mwchat.cookie.show","some");return g("mwchat.cookie.show","one")}function H(a){g("mwchat.cookie.show","some");return g("mwchat.cookie.show","many")}n={none:E,some:F,one:G,many:H};o={Lift:i,Show:n};p={load:w,NewMessage:k,Cookie:o};f.noop=a;f.log=c;f.bump=g;f.Blue=h;f.Comet=p}),null);
__d("MWCount.re",["MWCount.bs"],(function(a,b,c,d,e,f){c=(a=b("MWCount.bs")).Blue.load;f.Blue_load=c;d=a.Blue.NewMessage.Process.newMessage;f.Blue_NewMessage_Process_newMessage=d;e=a.Blue.NewMessage.Process.logMessage;f.Blue_NewMessage_Process_logMessage=e;b=a.Blue.NewMessage.Process.messagesReceived;f.Blue_NewMessage_Process_messagesReceived=b;c=a.Blue.NewMessage.reject;f.Blue_NewMessage_reject=c;d=a.Blue.NewMessage.Reject.old;f.Blue_NewMessage_Reject_old=d;e=a.Blue.NewMessage.Reject.suppress;f.Blue_NewMessage_Reject_suppress=e;b=a.Blue.NewMessage.lift;f.Blue_NewMessage_lift=b;c=a.Blue.Cookie.Lift.none;f.Blue_Cookie_Lift_none=c;d=a.Blue.Cookie.Lift.some;f.Blue_Cookie_Lift_some=d;e=a.Blue.Cookie.Lift.many;f.Blue_Cookie_Lift_many=e;b=a.Blue.Cookie.Show.none;f.Blue_Cookie_Show_none=b;c=a.Blue.Cookie.Show.one;f.Blue_Cookie_Show_one=c;d=a.Blue.Cookie.Show.many;f.Blue_Cookie_Show_many=d;e=a.Blue;f.Blue=e}),null);
__d("MessengerMuteUtils.bs",["fbt","formatDate","DateStrings"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a<=0)if(a===-1)return g._("Off indefinitely");else return;if(a<86401)return;var c=new Date(a*1e3).getDay(),d=c===new Date().getDay(),e=c===new Date().getDay()+1;if(e)return g._("Off until {time} tomorrow",[g._param("time",b("formatDate")(a,"g:ia"))]);else if(d)return g._("Off until {time}",[g._param("time",b("formatDate")(a,"g:ia"))]);else return g._("Off until {time} {weekday name}",[g._param("time",b("formatDate")(a,"g:ia")),g._param("weekday name",b("DateStrings").getWeekdayName(c))])}function c(a,b){if(a)if(b)return g._("Unmute notifications");else return g._("Mute notifications");else if(b)return g._("Unmute conversation");else return g._("Mute conversation")}f.mutedUntilLabel=a;f.muteActionLabel=c}),null);
__d("RTWebPreCallContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("randomZenonCallID",["Random"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return String(b("Random").uint32()+1)}}),null);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=2,h=6,i=36,j=2176782336;function a(){var a="";for(var c=0;c<g;c++){var d=Math.floor(b("Random").random()*j).toString(i);while(d.length<h)d="0"+d;a+=d}return a}}),null);
__d("ZenonPreCallHookBuilderHelper",["regeneratorRuntime","Promise","ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","VideoChatLinksUserActionsMultiplexLogger","XGroupCallController","ZenonCallWindowErrors","getRequestConstUri","gkx","isWorkplaceDotComURI","randomZenonCallID","randomZenonNonce"],(function(a,b,c,d,e,f){"use strict";f.acceptCall=a;f.createMeetup=c;f.joinMeetup=d;f.startCall=e;function a(a,c){var d,e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(a===null)){k.next=2;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 2:d=a.callInviteModel,e=a.callWindowController;f=d.getCurrentInvite();if(!(f===null)){k.next=6;break}throw new(b("ZenonCallWindowErrors").InviteNotFoundError)();case 6:if(!(f.type!=="ringing"||f.context.type!=="thread")){k.next=8;break}throw new(b("ZenonCallWindowErrors").CannotAcceptInviteError)();case 8:g=b("randomZenonNonce")();h=e.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},joinContext:{thread:f.context.type==="thread"?f.context.thread:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g}),i=h[0],j=h[1];d.accept(g,{isPopupBlocked:i===null,trigger:c});k.next=13;return b("regeneratorRuntime").awrap(j);case 13:case"end":return k.stop()}},null,this)}function c(a,c,d,e,f,g){var h,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g===void 0&&(g={allowAnonymousGuests:!b("gkx")("1224637")});if(!(a===null)){k.next=3;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 3:i(f,d,e).setEvent("meetup_attempt_create_meetup").log();k.prev=4;k.next=7;return b("regeneratorRuntime").awrap(b("MessengerCreateVideoMeetupLinkMutation")(c,g,f));case 7:h=k.sent;j=h.linkUrl;if(!(j!=null)){k.next=14;break}i(f,d,e).setEvent("meetup_create_success").setVideoCallLinkURLRaw(j).log();return k.abrupt("return",j);case 14:i(f,d,e).setEvent("meetup_create_failed").log();case 15:return k.abrupt("return",j);case 18:k.prev=18;k.t0=k["catch"](4);i(f,d,e).setEvent("meetup_create_failed").log();i(f,d,e).setEvent("error").setErrorType("LinkCreationError "+k.t0.name).setErrorDetails(k.t0.description).log();throw k.t0;case 23:case"end":return k.stop()}},null,this,[[4,18]])}function d(a){var c,d,e,f,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return b("regeneratorRuntime").async(function(D){while(1)switch(D.prev=D.next){case 0:d=a.callback_users,e=a.context,f=a.forceSkipChildLobby,i=f===void 0?!1:f,j=a.funnelSessionID,k=j===void 0?null:j,l=a.linkHash,m=a.linkUrl,n=a.referrerContext,o=a.startCallImmediately,p=o===void 0?!1:o,q=a.trigger;if(!(e===null)){D.next=3;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 3:r=e.callWindowController,s=e.incomingRingSDK;t=b("randomZenonNonce")();u=b("randomZenonCallID")();v=m;b("gkx")("1583309")&&!b("isWorkplaceDotComURI")(b("getRequestConstUri")())&&(y=(w=b("ConstUriUtils").getUri(m))==null?void 0:w.getQueryParam("funnel_session_id"),z=(x=l)!=null?x:g(m),v=h(z,p?t:null,d,y!=null?String(y):k,i,n));if(!(v==null)){D.next=10;break}return D.abrupt("return",b("Promise").reject("An invalid URI was provided"));case 10:A=r.initCall({context:{callID:u,existingCall:null,intent:"start or join",invitees:[]},joinContext:{linkUrl:v,type:"link"},mediaType:"video",nonce:t}),B=A[0],C=A[1];s.startCallIntent(t,{callID:u,callTrigger:(c=q)!=null?c:"meetup_join",isPopupBlocked:B===null,isVideo:!0,peerID:"MW_PEER_ID",protocol:"mw"});D.next=14;return b("regeneratorRuntime").awrap(C);case 14:case"end":return D.stop()}},null,this)}function e(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:d=c.existingCall,e=c.extra,f=c.invitees,g=c.mediaType,h=c.thread,i=c.trigger;if(!(a===null)){q.next=3;break}throw new(b("ZenonCallWindowErrors").UninitializedError)();case 3:j=a.callWindowController,k=a.incomingRingSDK;l=b("randomZenonCallID")();m=b("randomZenonNonce")();n=j.initCall({context:{callID:l,existingCall:d,intent:"start or join",invitees:f},extra:e,joinContext:{thread:h,type:"thread"},mediaType:g,nonce:m}),o=n[0],p=n[1];k.startCallIntent(m,{alohaEscalatedMW:p.then(function(a){return a.alohaEscalatedMW}),callID:l,callTrigger:i,isPopupBlocked:o===null,isVideo:g==="video",peerID:h.type===1?h.id:"MW_PEER_ID",protocol:h.type===1?"p2p":"mw"});q.next=10;return b("regeneratorRuntime").awrap(p);case 10:case"end":return q.stop()}},null,this)}function g(a){var c=b("ConstUriUtils").getUri(a),d=c==null?void 0:c.getDomain();c=c==null?void 0:(c=c.stripTrailingSlash())==null?void 0:c.getPath();if(c==null)return null;if(d==="msngr.com")return c.substring(1);var e=/^\/v(id)?\//;if(d==="m.me"&&e.test(c))return c.replace(e,"");b("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return null}function h(a,c,d,e,f,g){return a==null?"":b("XGroupCallController").getURIBuilder().setString("call_context","LINK:"+a).setString("nonce",c).setString("funnel_session_id",e).setFBIDSet("users_to_ring",(a=d)!=null?a:[]).setBool("auto_join",f?!0:null).setEnum("referrer_context",g).getURI().getQualifiedURI().toString()}function i(a,c,d){return new(b("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(c).setComponent(d)}}),null);
__d("useZenonCallInvite",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=g.useState(function(){return a?a.getCurrentInvite():null}),c=b[0],d=b[1];g.useEffect(function(){if(a){var b=a.addListener("callInvite",d);return function(){b.remove()}}else d(null)},[a]);return c}}),null);
__d("ZenonPreCallHookBuilder",["Promise","CometRelay","FBLogger","React","ZenonCallsModelTypes","ZenonPreCallHookBuilderHelper","gkx","useZenonCallInvite"],(function(a,b,c,d,e,f){"use strict";f.createAcceptCallCallbackHook=a;f.createCallInviteHook=c;f.createInviteAndStartCallCallbackHookFactory=d;f.createNoAnswerTimeoutHook=e;f.createStartCallCallbackHook=i;f.createCreateMeetupCallbackHook=j;f.createJoinMeetupCallbackHook=k;var g=b("React"),h=6e4;function a(a){return function(){var c=g.useContext(a);return g.useCallback(function(a){a=a.trigger;return b("ZenonPreCallHookBuilderHelper").acceptCall(c,a)},[c])}}function c(a){return function(){var c=g.useContext(a);c=b("useZenonCallInvite")(c?c.callInviteModel:null);g.useDebugValue(c);return c}}function d(a,c){return function(d,e){return function(){var f=g.useContext(a),h=d(),i=e(),j=c();return g.useCallback(function(a){if(!b("gkx")("1811099"))return;var c=a.existingCall,d=a.thread;if(!f||!f.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))i(a);else switch(d.type){case 1:j(babelHelpers["extends"]({},a,{invitees:[d.id]}));break;case 2:c===null||c.call_state==="NO_ONGOING_CALL"?h(a,function(b){j(babelHelpers["extends"]({},a,{invitees:b}))}):j(babelHelpers["extends"]({},a,{invitees:[]}));break;default:b("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},[f,h,i,j])}}}function e(a,c){return function(){var d=g.useContext(a),e=c();g.useEffect(function(){if(d&&e&&e.type==="ringing"){var a=window.setTimeout(function(){d.callInviteModel.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout)},h);return function(){window.clearTimeout(a)}}},[d,e])}}function i(a){return function(){var c=g.useContext(a);return g.useCallback(function(a){var d=a.existingCall,e=a.extra,f=a.invitees,g=a.mediaType,h=a.thread;a=a.trigger;return!b("gkx")("1811099")?b("Promise").resolve():b("ZenonPreCallHookBuilderHelper").startCall(c,{existingCall:d,extra:e,invitees:f,mediaType:g,thread:h,trigger:a})},[c])}}function j(a){return function(){var c=g.useContext(a),d=b("CometRelay").useRelayEnvironment();return g.useCallback(function(a,e,f,g){return!b("gkx")("1811099")?b("Promise").resolve(null):b("ZenonPreCallHookBuilderHelper").createMeetup(c,d,a,e,f,g)},[c,d])}}function k(a){return function(){var c=g.useContext(a);return g.useCallback(function(a,d,e,f,g){return!b("gkx")("1811099")?b("Promise").resolve():b("ZenonPreCallHookBuilderHelper").joinMeetup({callback_users:e,context:c,forceSkipChildLobby:!1,linkUrl:a,referrerContext:g,startCallImmediately:f,trigger:d})},[c])}}}),null);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f){"use strict";d=(a=b("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(c=b("RTWebPreCallContext"));f.useAcceptCallCallback=d;e=a.createCallInviteHook(c);f.useCallInvite=e;b=a.createNoAnswerTimeoutHook(c,e);f.useNoAnswerTimeout=b;d=a.createStartCallCallbackHook(c);f.useStartCallCallback=d;e=a.createCreateMeetupCallbackHook(c);f.useCreateMeetupCallback=e;b=a.createJoinMeetupCallbackHook(c);f.useJoinMeetupCallback=b;e=a.createInviteAndStartCallCallbackHookFactory(c,d);f.createInviteAndStartCallCallbackHook=e}),null);
__d("showDesktopNotification",["MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","ZenonUserActionLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=8e3;function a(){return function(a){var c=a.acceptCall,d=a.body,e=a.icon;a=a.title;var f={body:d,closeTime:g,icon:e,onClick:function(){b("ZenonUserActionLogger").logClick({component:"browser_notification",surface:"desktop_notification"}),window.focus(),c({trigger:"desktop_notification"})},onShow:function(){b("ZenonUserActionLogger").logImpression({component:"browser_notification",surface:"desktop_notification"})},title:a};if(b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DEFAULT){b("MessengerDesktopNotifications").requestPermission(function(){b("MessengerDesktopNotifications").showNotification(f)});return}b("MessengerDesktopNotifications").showNotification(f)}}}),null);
__d("RTWebCallInviteDesktopNotification.react",["fbt","React","RTWebPreCallHooks","ZenonUsersHooks","showDesktopNotification","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){a=a.invite;return(a==null?void 0:a.type)==="ringing"?h.jsx(i,{invite:a}):null}function i(a){a=a.invite;var c=b("showDesktopNotification")(),d=b("usePrevious")(a.ringID),e=b("RTWebPreCallHooks").useAcceptCallCallback(),f=b("ZenonUsersHooks").useZenonUser(a.inviterID),g=a.requestingVideo,h=a.participants.length>1;if(d!==a.ringID&&f!=null){c({acceptCall:e,body:k(f.shortName),icon:(d=f.profilePictureUrl)!=null?d:null,title:j(g,h)})}return null}function j(a,b){if(!b)return a?g._("Incoming video chat"):g._("Incoming call");else return a?g._("Incoming Group Video Chat"):g._("Incoming Group Call")}function k(a){return g._("{caller name} is calling you. Click to answer.",[g._param("caller name",a)])}}),null);
__d("RTWebCallWindowControllerLoader",["regeneratorRuntime","Promise","FBLogger","JSResource","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("RTWebCallWindowOpener"),h=b("requireDeferred")("ZenonCallWindowController"),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}var c=a.prototype;c.init=function(){var a,c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("Promise").all([h.load(),g.load()]));case 3:a=e.sent;c=a[0];d=a[1];this.$1=new c(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new d(),uriBuilderResource:b("JSResource")("ZenonUriBuilder").__setRef("RTWebCallWindowControllerLoader")});e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),b("FBLogger")("rtc_www").catching(e.t0).warn("Failed to initialize call window controller");case 12:case"end":return e.stop()}},null,this,[[0,9]])};c.initCall=function(a){if(this.$1)return this.$1.initCall(a);else throw new i()};return a}();e.exports=a;a.ResourceNotReadyError=i}),null);
__d("RTWebCometRoomIncomingCallDialog.entrypoint",["JSResourceForInteraction","RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:b("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"),variables:{nuxID:8259}}}}},root:b("JSResourceForInteraction")("RTWebCometRoomIncomingCallDialogContainer.react").__setRef("RTWebCometRoomIncomingCallDialog.entrypoint")};e.exports=a}),null);
__d("useRoomIncomingCallDialog",["CometPlaceholder.react","CometRelay","React","RTWebCometRoomIncomingCallDialog.entrypoint","VideoChatLinksUserActionsMultiplexLogger","ZenonDialogContext","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show,e=b("useCometRelayEntrypointContextualEnvironmentProvider")();return g.useCallback(function(a){var f=a.inviterID,h=a.linkUrl,i=a.onAccept,j=a.onDecline,k=a.roomName;a=a.sender;new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_received").setVideoCallLinkURLRaw(h).log();var l=b("CometRelay").loadEntryPoint(e,b("RTWebCometRoomIncomingCallDialog.entrypoint"),{});d(g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(b("CometRelay").EntryPointContainer,{entryPointReference:l,props:{inviterID:f,linkUrl:h,onAccept:i,onDecline:j,roomName:k,sender:a}})}));return{dismiss:c}},[e,c,d])}}),null);
__d("ZenonCallInviteModelLoader",["regeneratorRuntime","Promise","BaseEventEmitter","emptyFunction","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("ZenonCallInviteModel"),h=b("requireDeferred")("delegateZenonCallInviteModel");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonCallInviteModelLoader1=null;d.getCurrentInvite=function(){return null};d.startListening=function(a){this.$ZenonCallInviteModelLoader1=a};d.stopListening=function(){this.$ZenonCallInviteModelLoader1=null};d.dismiss=b("emptyFunction");d.accept=b("emptyFunction");d.decline=b("emptyFunction");d.$ZenonCallInviteModelLoader2=c;return d}var d=c.prototype;d.init=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(b("Promise").all([g.load(),h.load()]));case 2:a=f.sent,c=a[0],d=a[1],e=new c(this.$ZenonCallInviteModelLoader2),d(this,e),this.$ZenonCallInviteModelLoader1!==null&&e.startListening(this.$ZenonCallInviteModelLoader1);case 8:case"end":return f.stop()}},null,this)};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("useZenonRingTone",["React","RTCSounds","Sound"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=[b("RTCSounds").ringtone_mp3_url,b("RTCSounds").ringtone_ogg_url];function a(a){a===void 0&&(a=!1),g.useEffect(function(){if(a){b("Sound").play(h,null,!0);return function(){b("Sound").stop(h)}}},[a])}}),null);
__d("ZenonCallInviteRingtone.react",["useZenonRingTone"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=a.invite;b("useZenonRingTone")((a==null?void 0:a.type)==="ringing");return null}}),null);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f){var g=1500,h=null,i=!1,j=0,k=[],l=null,m=document.title,n=0;function o(){k.length>0?!i?(p(k[j].title),j=++j%k.length):q():(clearInterval(h),h=null,q())}function p(a){document.title=a,i=!0}function q(){r.set(l||m,!0),i=!1}var r=function(){function a(a){this.$1=a}a.get=function(){return m};a.set=function(a,c){var d=a.toString();document.title=d;!c?(m=d,l=null,b("Arbiter").inform("update_title",a)):l=d};a.blink=function(b){b={title:b.toString()};k.push(b);h===null&&(h=setInterval(o,g));return new a(b)};var c=a.prototype;c.stop=function(){var a=k.indexOf(this.$1);a>=0&&(k.splice(a,1),j>a?j--:j==a&&j==k.length&&(j=0))};a.badge=function(c){var d=a.get();d=c?"("+c+") "+d:d;a.set(d,!0);b("Arbiter").inform("update_title_badge",c,"state");n=c};a.preserveBadgeAndSet=function(c){a.set(c,!1),b("Arbiter").inform("update_title",c),a.badge(n)};return a}();e.exports=r}),null);
__d("useDocumentTitleBlink",["DocumentTitle","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){g.useEffect(function(){if(a==null)return;var c=b("DocumentTitle").blink(a);return function(){c.stop()}},[a])}}),null);
__d("ZenonCallInviteTitleBlinking.react",["fbt","React","ZenonUsersHooks","useDocumentTitleBlink"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){a=a.invite;return a!==null&&a.type==="ringing"&&a.inviterID!=null?h.jsx(i,{inviterID:a.inviterID}):null}function i(a){a=a.inviterID;a=b("ZenonUsersHooks").useZenonUser(a);b("useDocumentTitleBlink")(a?g._("{name} is calling",[g._param("name",a.shortName)]):null);return null}}),null);
__d("useZenonDialogController",["React","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c){var d=g.useState(null),e=d[0],f=d[1],h=b("usePrevious")(a);g.useEffect(function(){if((a==null?void 0:a.ringID)===(h==null?void 0:h.ringID)&&(a==null?void 0:a.type)===(h==null?void 0:h.type))return;e&&(e.dismiss(),f(null));if(a===null)return;f(c())},[e,a,h,c]);return e}}),null);
__d("MessengerCreateVideoChatLinkCallMutation",["Promise","requireCond","cr:1012418","MessengerCreateVideoChatLinkCallMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("cr:1012418").commitMutation;b("cr:1012418").graphql;function a(a){return new(b("Promise"))(function(c,d){h(a,{mutation:g!==void 0?g:g=b("MessengerCreateVideoChatLinkCallMutation.graphql"),onCompleted:function(a){a=a==null?void 0:(a=a.create_messenger_call_invite_link)==null?void 0:(a=a.messenger_call_invite_link)==null?void 0:a.link_url;return a!=null?c(a):d({error:"Failed to create linkurl."})},onError:function(a){d(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",link_metadata:{link_type:"MEETUP",should_allow_anonymous_guests:!0},should_allow_guests:!0}}})})}}),null);
__d("SelectionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};c.getAnchorKey=function(){return this.get("anchorKey")};c.getAnchorOffset=function(){return this.get("anchorOffset")};c.getFocusKey=function(){return this.get("focusKey")};c.getFocusOffset=function(){return this.get("focusOffset")};c.getIsBackward=function(){return this.get("isBackward")};c.getHasFocus=function(){return this.get("hasFocus")};c.hasEdgeWithin=function(a,b,c){var d=this.getAnchorKey(),e=this.getFocusKey();if(d===e&&d===a){var f=this.getStartOffset(),g=this.getEndOffset();return b<=f&&f<=c||b<=g&&g<=c}if(a!==d&&a!==e)return!1;f=a===d?this.getAnchorOffset():this.getFocusOffset();return b<=f&&c>=f};c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};b.createEmpty=function(a){return new b({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})};return b}(d);e.exports=f}),null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState","prop-types"],(function(a,b,c,d,e,f){b("React");c={viewID:(a=b("prop-types")).string.isRequired,selection:a.instanceOf(b("SelectionState")).isRequired,contextComponent:a.object.isRequired,mentionableEntries:a.array.isRequired,highlightedMentionable:a.instanceOf(b("SearchableEntry")),onMentionSelect:a.func.isRequired,onMentionHighlight:a.func.isRequired,onMentionRenderHighlight:a.func.isRequired};e.exports=c}),null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){var g,h=b("React"),i=!1,j=b("Locale").isRTL(),k,l,m,n,o=5;c=b("createReactClass_DEPRECATED")({displayName:"MentionsLayer",propTypes:babelHelpers["extends"]({},b("MentionResultsPropTypes"),{typeaheadView:(a=b("prop-types")).func.isRequired,typeaheadViewProps:a.object,autoflip:a.bool,reverseOrder:a.bool,position:a.oneOf(["above","below"])}),getInitialState:function(){return{bootloaded:i}},getDefaultProps:function(){return{offset:o}},componentDidMount:function(){var a=this;this.state.bootloaded||p(function(){a.isMounted()&&a.setState({bootloaded:!0})})},_onMentionSelect:function(a,b){b.preventDefault(),this.props.onMentionSelect(a,b)},shouldComponentUpdate:function(a,c){return this.state.bootloaded!==c.bootloaded||!(g||(g=b("areEqual")))(this.props.mentionableEntries,a.mentionableEntries)||this.props.highlightedMentionable!==a.highlightedMentionable||this.props.characterOffset!==a.characterOffset},render:function(){if(!this.state.bootloaded)return null;var a=this.props.mentionableEntries,b=this.props.selection;b=b.isCollapsed()&&b.getHasFocus()&&a&&a.length;var c=null,d=this.props.typeaheadViewProps,e=!1;d&&d.positionAtContext?e=!0:b&&(c=n(this.props.characterOffset,j));d={};this.props.autoflip&&(d.ContextualLayerAutoFlip=l,d.ContextualLayerUpdateOnScroll=m);var f=this.props.typeaheadView;return h.jsx(k,{shown:b,context:this.props.contextComponent,contextBounds:c,containerWidthMatchContext:e,offsetY:this.props.offset,offsetX:this.props.offset,position:this.props.position||"below",behaviors:d,shouldSetARIAProperties:!1,children:h.jsx("div",{"data-testid":void 0,children:h.jsx(f,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,reverseOrder:this.props.reverseOrder,entries:a||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})})})}});function p(a){b("Bootloader").loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(b,c,d,e){k=b,l=c,m=d,n=e,i=!0,a()},"MentionsLayer.react")}d=c;e.exports=d}),null);
__d("getDOMImageSize",["EncryptedImg","URI"],(function(a,b,c,d,e,f){e.exports=l;var g;function h(a){a.onload=null,a.onerror=null,a.onreadystatechange=null,a._callback=null,a._thisObj=null,a._srcStr=null,a.parentNode&&a.parentNode.removeChild(a)}function i(){var a=this;a._callback&&a._callback.call(a._thisObj,a.naturalWidth||a.width,a.naturalHeight||a.height,a._srcStr);h(a)}function j(){var a=this;a.readyState==="complete"&&i.call(a)}function k(){var a=this;a._callback&&a._callback.call(a._thisObj,0,0,a._srcStr);h(a)}function l(a,c,d){d=d||null;if(!a){c.call(d,0,0,"");return}var e=document.body;if(!e){setTimeout(l.bind(this,a,c,d),500);return}var f;if(typeof a==="string")f=a;else if(typeof a==="object")if(typeof a.width==="number"&&typeof a.height==="number"){if(typeof a.src==="string"){f=a.src;if(a.naturalWidth&&a.naturalHeight){c.call(d,a.naturalWidth,a.naturalHeight,f);return}}if(typeof a.uri==="string"){f=a.uri;if(a.width&&a.height){c.call(d,a.width,a.height,f);return}}}else a instanceof(g||(g=b("URI")))&&(f=a.toString());if(!f){c(0,0,a);return}a=document.createElement("img");a.onreadystatechange=j;a.onload=i;a.onerror=k;a._callback=c;a._thisObj=d;a._srcStr=f;b("EncryptedImg").isEncrypted(f)?b("EncryptedImg").insertIntoDOM(f,a):a.src=f;a.style.cssText="\n    position:absolute;\n    left:-5000px;\n    top:-5000px;\n    width:auto;\n    height:auto;\n    clip:rect(0 0 0 0);\n  ".replace(/\s+/," ");e.insertBefore(a,e.firstChild)}}),null);
__d("CachedDOMImageSizePool",["debounce","getDOMImageSize"],(function(a,b,c,d,e,f){a=function(){function a(a,c){this.$1={},this.$3=c,this.$2=0,this.$4=a,this.$5=b("debounce")(this.$8,5e3,this),this.$6={},this.$7={}}var c=a.prototype;c.get=function(a,c,d){if(!a){c.call(d,0,0,a);return}var e=this.$1[a];if(e)e.lastAccessTime=Date.now(),c.call(d,e.width,e.height,e.src);else if(this.$6[a]){this.$6[a].push(c);((e=this.$7[a])!=null?e:[]).push(d)}else this.$6[a]=[c],this.$7[a]=[d],b("getDOMImageSize")(a,this.$9,this)};c.set=function(a,b,c){this.$2>this.$4&&this.$5();var d=this.$1;if(a&&!d[a]){b={width:b,height:c,src:a,lastAccessTime:Date.now()};d[a]=b;this.$2++}};c.$9=function(a,b,c){this.set(c,a,b);var d=this.$6[c],e=this.$7[c];for(var f=0,g=d.length;f<g;f++)d[f].call(e==null?void 0:e[f],a,b,c);delete this.$6[c];delete this.$7[c]};c.$8=function(){var a=Date.now(),b=this.$1,c=this.$2,d=this.$3;for(var e in b){var f=b[e];a-f.lastAccessTime>d&&(delete b[e],c--)}this.$2=c};return a}();e.exports=a}),null);
__d("ImagePositioner.react",["React","clamp"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.width,b=this.props.height,c,d;switch(this.props.backgroundSize){case"cover":c="cover";d=!1;break;case"coverinside":c="cover";d=!0;break;case"contain":c="contain";d=!1;break;case"containinside":c="contain";d=!0;break;case"fitWidth":c="fitWidth";d=!0;break}var e=this.props.imageWidth,f=this.props.imageHeight,h=a/b,i=e/f;c==="contain"&&((e>a||!d)&&i>=h?(e=a,f=e/i):(f>b||!d)&&(f=b,e=f*i));c=="fitWidth"&&(e=a,f=a/i);c==="cover"&&((e>a||!d)&&i>=h?(f=b,e=f*i):(f>b||!d)&&(e=a,f=e/i));h=this.$1(e,f);b=this.props.children(h);return b&&g.Children.only(b)};d.$1=function(a,b){var c=["50%","50%"],d=this.$2;this.props.backgroundPosition?c=this.props.backgroundPosition.split(" "):this.props.backgroundFocus&&(c=this.props.backgroundFocus.split(" "),d=this.$3);return{width:Math.round(a)+"px",height:Math.round(b)+"px",left:d(c[0],a,this.props.width),top:d(c[1]||c[0],b,this.props.height)}};d.$2=function(a,b,c){var d=parseFloat(a),e=a.substr(d.toString().length);return e==="px"?a:Math.round((c-b)*(d/100))+"px"};d.$3=function(a,c,d){var e=parseFloat(a);a=a.substr(e.toString().length);if(c<d)return"0";a=a==="px"?e:Math.round(c*(e/100));e=a-d/2;e=b("clamp")(e,0,c-d);return-e+"px"};return c}(g.PureComponent);e.exports=a;a.defaultProps={backgroundSize:"contain"}}),null);
__d("BackgroundImage.react",["cx","invariant","CachedDOMImageSizePool","Image.react","ImagePositioner.react","React","XUISpinner.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a="(-?(\\d+\\.)?\\d+(px|\\%))";var j=new RegExp("^"+a+"?(\\s"+a+")?$","g"),k=new(b("CachedDOMImageSizePool"))(50,10*60*1e3);d=b("createReactClass_DEPRECATED")({displayName:"BackgroundImage",propTypes:{alt:(c=b("prop-types")).string,children:c.node,className:c.string,imageClassName:c.string,src:c.string,width:c.number.isRequired,height:c.number.isRequired,backgroundSize:c.oneOf(["contain","cover","containinside","coverinside","fitWidth"]),cropTransform:c.object,loadingIndicatorStyle:c.oneOf(["none","large","small"]),backgroundPosition:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4499,c),c.match(j)||h(0,4500,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},backgroundFocus:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4502,c),c.match(j)||h(0,4503,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},onImageLoad:c.func,optimizeResizeSpeed:c.bool,isUsingNewFDS:c.bool,onContextMenu:c.func},getInitialState:function(){return{imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:!0}},getDefaultProps:function(){return{optimizeResizeSpeed:!1,loadingIndicatorStyle:"none"}},componentDidMount:function(){this._resolveImageSize()},componentDidUpdate:function(a){this.props.src!==this.state.imageSrc&&this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:!0},this._resolveImageSize)},_resolveImageSize:function(){var a=this.state.imageSrc;a&&k.get(a,this._onImageSizeResolved,this)},render:function(){var a={width:this.props.width+"px",height:this.props.height+"px"},c=b("joinClasses")(this.props.className,"_5f0d");return i.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,c),style:babelHelpers["extends"]({},this.props.style||{},a),onContextMenu:this.props.onContextMenu,children:[this._renderImage(),this._renderContent(),this._renderLoadingIndicator()]}))},_renderLoadingIndicator:function(){return!this.state.loading||this.props.loadingIndicatorStyle==="none"?null:i.jsx("div",{className:"_1qe- _5lar",children:i.jsx("div",{className:"_1qe_",children:i.jsx("div",{className:"_1qf0",children:i.jsx(b("XUISpinner.react"),{size:this.props.loadingIndicatorStyle})})})})},_renderContent:function(){if(this.props.children)return i.jsx("div",{className:"_1qe-",children:i.jsx("div",{className:"_1qe_",children:i.jsx("div",{className:"_1qf0",children:this.props.children})})})},_renderImage:function(){var a=this;return!this.state.imageWidth||!this.state.imageHeight?null:i.jsx(b("ImagePositioner.react"),{imageWidth:this.state.imageWidth,imageHeight:this.state.imageHeight,width:this.props.width,height:this.props.height,backgroundPosition:this.props.backgroundPosition,backgroundSize:this.props.backgroundSize,backgroundFocus:this.props.backgroundFocus,children:function(c){var d=c.width,e=c.height,f=c.left;c=c.top;return i.jsx(b("Image.react"),{alt:a.props.alt,className:b("joinClasses")(a.props.imageClassName,"_5i4g"+(a.props.optimizeResizeSpeed?" _5sjv":"")),style:babelHelpers["extends"]({width:d,height:e,left:f,top:c},a.props.cropTransform),src:a.state.imageSrc})}})},_onImageSizeResolved:function(a,b,c){if(!this.isMounted()||this.state.imageSrc!==c)return;c=this.props.onImageLoad?this.props.onImageLoad.bind(null,a,b):void 0;this.setState({imageWidth:a,imageHeight:b,loading:!1},c)}});f=d;e.exports=f}),null);
__d("DeferredComponent.react",["React","createCancelableFunction","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({ComponentClass:a},function(){e.props.onComponentLoad&&e.props.onComponentLoad(a)})};var f=null;function g(a){f=a}e.props.deferredComponent(g);e.state={ComponentClass:f,cancelableModulesLoaded:b("createCancelableFunction")(e.$1)};return e}var d=c.prototype;d.componentDidMount=function(){this.props.deferredComponent(this.state.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.state.cancelableModulesLoaded.cancel()};d.render=function(){var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutPropertiesLoose(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return g.jsx(a,babelHelpers["extends"]({},b))};return c}(g.Component);a.propTypes={deferredPlaceholder:(c=b("prop-types")).element.isRequired,deferredComponent:c.func.isRequired,onComponentLoad:c.func,deferredForcePlaceholder:c.bool};e.exports=a}),null);
__d("PerfHelperUtils",["cx","DeferredComponent.react","JSResource","React","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";f.SlowBootloadBorder=a;var h=b("React"),i=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.tooltip;a=a.className;return h.jsx("div",{className:"_28hn"+(this.props.color==="red"?" _4ez8":"")+(this.props.color==="green"?" _28ho":""),children:h.jsx(b("DeferredComponent.react"),{deferredPlaceholder:h.jsx("div",{}),deferredComponent:function(a){b("promiseDone")(b("JSResource")("Tooltip.react").__setRef("PerfHelperUtils").load(),a)},className:b("joinClasses")("_5_my",a),tooltip:c,children:this.props.children})})};return a}(h.PureComponent);f.BorderedComponent=i;function a(a){return h.jsx(i,{color:"red",tooltip:"This bootloaded component has a red border\n          because "+a.moduleId+"\n          took over "+a.timeLimitSecs+" seconds ("+a.timeSpentSecs+"s) to load",children:a.children})}}),null);
__d("PerfUtils",["React","performanceNow","PerfHelperUtils"],(function(a,b,c,d,e,f){"use strict";f.appendListener=a;f.markRedInDev=c;var g,h=b("React"),i=h.Component;function a(a,b,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.componentDidMount=function(){b()};f.render=function(){if(c)return h.jsx(a,babelHelpers["extends"]({},this.props,{ref:c}));else return h.jsx(a,babelHelpers["extends"]({},this.props))};return d}(i);return d}function c(a,c,d){var e=1e4;d=(g||(g=b("performanceNow")))()-d;if(d<e)return a;var f=e/1e3,j=Math.round(d)/1e3;e=function(d){babelHelpers.inheritsLoose(e,d);function e(){return d.apply(this,arguments)||this}var g=e.prototype;g.componentDidMount=function(){};g.render=function(){return h.jsx(b("PerfHelperUtils").SlowBootloadBorder,{moduleId:c,timeLimitSecs:f,timeSpentSecs:j,children:h.jsx(a,babelHelpers["extends"]({},this.props))})};return e}(i);return e}}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","React","TimeSlice","performanceNow","useHeroBootloadedComponent"],(function(a,b,c,d,e,f){var g,h=b("React");a=h.Component;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.create=function(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){return c.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutPropertiesLoose(b,["bootloadLoader"]);return h.jsx(j,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:h.jsx("div",{})},b))};return b}(h.Component);b.displayName="BootloadedComponent("+a.getModuleId()+")";return b};return b}(a);function i(a){var c=a.resource;a=a.children;b("useHeroBootloadedComponent")(c);return a}d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$BootloadedComponent1=function(a){var c=d.props.isContinuation,e;c=c?b("TimeSlice").PropagationType.CONTINUATION:b("TimeSlice").PropagationType.EXECUTION;b("TimeSlice").guard(b("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:c})([d.props.bootloadLoader],function(c){c=d.props.onComponentDidMount?b("PerfUtils").appendListener(c,d.props.onComponentDidMount):c,a(c)})};c.onBootloaderWillMount&&c.onBootloaderWillMount();return d}var d=c.prototype;d.render=function(){var a=this.props,c=a.bootloadLoader;a.isContinuation;var d=a.bootloadPlaceholder,e=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);d=h.jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:d,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:e},a));return h.jsx(i,{resource:c,children:d})};return c}(c);d.defaultProps={isContinuation:!0};var j=d;f=j;e.exports=f}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){a={":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":dog:":"dog",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"};f.names=a;b={slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",dog:"1f436",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"};f.emote2emojis=b;c={slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",dog:":dog:",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"};f.symbols=c;d=/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:dog:|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/;f.regexp=d;e=/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:dog:|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/;f.noncapturingRegexp=e}),null);
__d("MercuryMessageRenderLocations",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHAT:"chat",MESSENGER:"messenger",PAGES:"pages"});e.exports=a}),null);
__d("MessengerFormattingUtils",["cx","CurrentUser","JSResource","MessengerFormattingConfig","Newline.react","React","UnicodeUtils","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";f.hasMatch=e;f.getRanges=q;var h,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("MessengerCodeBlock.react").__setRef("MessengerFormattingUtils"));function a(a){return{offset:a[1].length,length:(h||(h=b("UnicodeUtils"))).strlen(a[2])+2,innerOffset:1,innerText:a[2]}}function c(a){return{offset:a[1].length,length:(h||(h=b("UnicodeUtils"))).strlen(a[2])+2,innerOffset:1,innerText:a[2].replace(/\s\s+/g," ").trim()}}function d(a){return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(a[1]),innerText:a[2]}}g=b("MessengerFormattingConfig");e={pattern:new RegExp(g.boldConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.boldConfig.nonCapturingPattern),formatter:function(a){a=a.children;return i.jsx("b",{children:a})},getRangeInMatch:a,recursivelyFormat:!0};var k={pattern:new RegExp(g.italicConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.italicConfig.nonCapturingPattern),formatter:function(a){a=a.children;return i.jsx("i",{children:a})},getRangeInMatch:a,recursivelyFormat:!0};a={pattern:new RegExp(g.strikethroughConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.strikethroughConfig.nonCapturingPattern),formatter:function(a){a=a.children;return i.jsx("s",{children:a})},getRangeInMatch:a,recursivelyFormat:!0};c={pattern:new RegExp(g.codeConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeConfig.nonCapturingPattern),formatter:function(a){a=a.children;return i.jsx("code",{className:b("CurrentUser").isWorkUser()?"_7ilw":"",children:a})},getRangeInMatch:c,recursivelyFormat:!1};var l=function(a){var c=a.children;a=a.range;return i.jsxs(i.Fragment,{children:[i.jsx(i.Suspense,{fallback:i.jsx("div",{className:"_7mv7",children:c}),children:i.jsx(j,{range:a,children:c})}),i.jsx(b("Newline.react"),{})]})},m={pattern:new RegExp(g.codeBlockConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockConfig.nonCapturingPattern),formatter:function(a){a=a.children;return i.jsx("code",{children:a})},getRangeInMatch:d,recursivelyFormat:!1};l={pattern:new RegExp(g.codeBlockV2Config.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockV2Config.nonCapturingPattern),formatter:l,getRangeInMatch:function(a){var c=a[3]||"",d=a[4]!==void 0?a[4]:a[5],e=a[1]||"",f=a[2]||"";return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(e)+h.strlen(f),innerText:d,codeBlockLanguage:c}},recursivelyFormat:!1};var n=function(a){a=a.children;return i.jsxs(i.Fragment,{children:[i.jsxs("blockquote",{className:"_pye"+(b("CurrentUser").isWorkUser()?" _7ilx":""),children:[i.jsx("div",{className:"_pyf"}),a]}),i.jsx(b("Newline.react"),{})]})};d={pattern:new RegExp(g.blockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.blockQuoteConfig.nonCapturingPattern,"m"),formatter:n,getRangeInMatch:d,recursivelyFormat:!0};n={pattern:new RegExp(g.multipleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.multipleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:n,getRangeInMatch:function(a){var c=a[0],d=(h||(h=b("UnicodeUtils"))).strlen(c);a=h.strlen(a[2]);return{offset:0,length:d,innerOffset:a,innerText:h.substring(c,a,d)}},recursivelyFormat:!0,getAdditionalInnerRanges:function(a){return q(a.innerText,[o]).map(function(b){return babelHelpers["extends"]({},b,{offset:b.offset+a.innerOffset,innerOffset:b.innerOffset+a.innerOffset})})}};var o={pattern:new RegExp(g.singleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.singleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:function(a){a=a.children;return a},getRangeInMatch:function(a){return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0},p=[d,e,k,a,c,n];f.defaultFormatConfigs=p;p.push(b("CurrentUser").isWorkUser()?l:m);function e(a,b){b===void 0&&(b=p);for(var c=0;c<b.length;c++){var d=b[c].nonCapturingPattern;if(d.test(a))return!0}return!1}function q(a,c){c===void 0&&(c=p);var d=[];for(var e=0;e<c.length;e++){var f=c[e];f.pattern.lastIndex=0;var g=void 0;while((g=f.pattern.exec(a))!=null){g=b("nullthrows")(g);var i=f.getRangeInMatch(g),j=a.substr(0,g.index+i.offset);j=(h||(h=b("UnicodeUtils"))).strlen(j);j={offset:j,length:i.length,innerText:i.innerText,innerOffset:j+i.innerOffset,formatter:f.formatter,recursivelyFormat:f.recursivelyFormat,codeBlockLanguage:i.codeBlockLanguage};i=f.getAdditionalInnerRanges?f.getAdditionalInnerRanges(j):[];d.push(j);d=d.concat(i)}}return d}g={bold:e,italic:k,strikethrough:a,blockcode:m,codeblockV2:l,code:c,blockquote:d,multipleInlineBlockquote:n,singleInlineBlockquote:o};f.formatConfigs=g}),null);
__d("MessengerMathUtils",["UnicodeUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";f.isMathBlock=a;f.getMathBlockInner=c;f.hasInlineMath=d;f.getInlineMathRanges=e;f.getMaxBraceDepth=k;var g,h=2;f.MATH_DELIMITER_LENGTH=h;var i=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,j=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function a(a){return i.test(a)}function c(a){return a.substring(h,a.length-h)}function d(a){j.lastIndex=0;return j.test(a)}function e(a,c){c===void 0;c=[];j.lastIndex=0;var d;while((d=j.exec(a))!==null){d=b("nullthrows")(d);var e=a.substring(0,d.index);e=(g||(g=b("UnicodeUtils"))).strlen(e);c.push({offset:e,length:g.strlen(d[0]),math:!0})}return c}function k(a){var b=a.length,c=0,d=0;for(var e=0;e<b;e++)a[e]==="\\"?a.slice(e,e+6)==="\\begin"?(c+=2,d=Math.max(d,c)):a.slice(e,e+4)==="\\end"?c-=2:e++:a[e]==="{"?(c++,d=Math.max(d,c)):a[e]==="}"&&c--;return d}}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){f.decode=a;f.encode=b;function a(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}}function b(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}}),null);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","FBEmojiAliases","FBEmojiResource","Image.react","MessengerEmojiTransitionMapping.bs","MessengerHotlikeEmoji.bs","MessengerSupportedEmoji","React","SupportedEmoji3","SupportedFacebookEmoji","Utf16","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";f.getSupportedEmojiKey=a;f.isSupportedEmoji=c;f.isSupportedEmojiKey=d;f.isMessengerSupportedEmojiKey=e;f.getSupportedEmojiCodesArray=g;f.getEmojiKeyFromCodes=k;f.getClassSizeMap=l;f.getEmojiMatchObj=m;f.getNewEmojiData=n;f.getHotLikeEmojiDataTransition=o;f.getHotLikeEmojiData=p;f.getEmojiOnlyContents=q;f.getUrl=r;f.containsEmoji=s;f.parse=t;f.transferSize=u;var h=b("React"),i=/_fe0f/g,j=new RegExp("(\r\n|[ \r\n]|\\s)");function a(a){if(!a)return null;var c=null,d=this.parse(a);if(d.length===1&&d[0].length===a.length){a=d[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(i,"")}if(c){d=b("FBEmojiAliases")[c];d&&(c=d.replace(i,""))}return this.isSupportedEmojiKey(c)?c:null}function c(a){return!!this.getSupportedEmojiKey(a)}function d(a){if(!a)return!1;if(!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var c=function(a){var c=b("FBEmojiAliases")[a];return c?c.replace(i,""):a}(a);return!!b("SupportedFacebookEmoji")[c]||!!b("SupportedEmoji3")[c]}return!!b("MessengerSupportedEmoji").emoji[a]}function e(a){return!!(a&&b("MessengerSupportedEmoji").emoji[a])}function g(a){if(!a)return null;var c=this.parse(a);if(c.length===1&&c[0].length===a.length){a=c[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(i,"");if(this.isSupportedEmojiKey(c))return a}return null}function k(a){a=a.map(function(a){return a.toString(16)}).join("_").replace(i,"");var c=b("FBEmojiAliases")[a];return c?c.replace(i,""):a}function l(){var a,c=b("EmojiLikeConstants").size;return a={},a[c.XSMALL]="_2560",a[c.SMALL]="_1ifu",a[c.MEDIUM]="_19_r",a[c.LARGE]="_19_s",a}function m(a){a=this.parse(a,1);if(a.length!==1)return null;var c=a[0].emoji,d=a[0].emoji.map(function(a){return b("Utf16").decode(a)});b("MessengerEmojiTransitionMapping.bs").hasGender(d)&&!b("MessengerEmojiTransitionMapping.bs").getGender(d)&&(d=b("MessengerEmojiTransitionMapping.bs").makeFemale(d));d=d.map(function(a){return a.toString(16)}).join("_").replace(i,"");return{emoji_key:d,emoji_str:c.join(""),is_supported:this.isSupportedEmojiKey(d),offset:a[0].offset,length:a[0].length}}function n(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[c];c=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return c==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:c}),emoji_key:a,url:c}}function o(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a,!0);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}}function p(a,c){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:h.jsx(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}}function q(a){a=a||"";var c=[],d=function(a){var b=j.exec(a),d="";while(b&&b.length&&b.index===0)d+=b[0],a=a.replace(j,""),b=j.exec(a);d.length>0&&c.push({text:d});return a};while(!0){a=d(a);var e=b("EmoticonEmojiList").noncapturingRegexp.exec(a);if(e&&e.index===0){var f=b("EmoticonEmojiList").names[e[1]];f=b("EmoticonEmojiList").emote2emojis[f];c.push({emojiKey:f,text:e[1]});a=a.replace(e[1],"")}else break}while(a.length>0&&a.trim().length>0){a=d(a);f=this.getEmojiMatchObj(a);if(f&&f.is_supported)c.push({emojiKey:f.emoji_key,text:f.emoji_str}),a=a.replace(f.emoji_str,"");else return null}return c}function r(a,c){a=a.replace(i,"");c=this.transferSize(c);if(!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var d=b("FBEmojiAliases")[a];d&&(a=d.replace(i,""));return!this.isSupportedEmojiKey(a)?null:new(b("FBEmojiResource"))(a).getImageURL(b("EmojiLikeConstants").sizeMap[c])}return!b("MessengerSupportedEmoji").emoji[a]?null:b("EmojiImageURL").getMessengerURL(a,b("EmojiLikeConstants").sizeMap[c])}function s(a){return this.parse(a,1).length===1}function t(a,c){return b("EmojiRenderer").parse(a,c)}function u(a){return b("EmojiLikeConstants").sizeMapTransfer[a]||a}}),null);
__d("MessengerHotlikeEmoji.re",["MessengerHotlikeEmoji.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotlikeEmoji.bs").isMessengerHotlike;f.isMessengerHotlike=a}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji","ifRequired"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f=String(a);while(f){a=b("ifRequired")("MessengerSupportedEmojiUtils",function(a){return a.getEmojiMatchObj(f)},function(){return b("MessengerSupportedEmoji").getEmojiMatchObj(f)});if(a){var g=a.offset+a.length,h=f.substr(0,a.is_supported?a.offset:g);d(h);a.is_supported&&c(a.emoji_str,a.emoji_key,e);h=f.substr(g);f=h}else break}d(f)}}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f,g,h;a=String(a);while(a){g=b("EmoticonEmojiList").regexp.exec(a);if(g)f=g.index+g[1].length,h=a.substr(0,f),g=g[2],f=a.substr(f+g.length),d(h),c(g,b("EmoticonEmojiList").names[g],e),a=f;else break}d(a)}}),null);
__d("MessengerTextWithEmoticons.react",["cx","fbt","BaseTextWithDecoration.react","EmojiImageURL","EmoticonEmojiList","FBEmojiResource","Image.react","MessengerHotlikeEmoji.re","React","messengerIterateEmoji","messengerIterateEmoticons"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c,d,e,f){var g=e===!0?128:16;f=f!=null?f:!a&&!b("MessengerHotlikeEmoji.re").isMessengerHotlike(d)?new(b("FBEmojiResource"))(d).getImageURL(g):b("EmojiImageURL").getMessengerURL(d,g);a=e===!0?"_1ift _5m3a":"_1ift _2560";return i.jsx(b("Image.react"),{alt:c,className:a,src:f})}function k(a,c,d){var e=d===!0?128:16,f=b("EmoticonEmojiList").emote2emojis[c],g=f?b("MessengerHotlikeEmoji.re").isMessengerHotlike(f)?b("EmojiImageURL").getMessengerURL(f,e):new(b("FBEmojiResource"))(f).getImageURL(e):null;if(g!=null&&g!==""){f=String.fromCodePoint(parseInt(f,e));e=d===!0?"_1ift _5m3a":"_1ift _2560";return i.jsx(b("Image.react"),{alt:f,className:e,src:g})}d=h._("{emoticonName} emoticon",[h._param("emoticonName",c)]);return i.jsx("span",{"aria-label":d,children:a})}function l(a,b,c){return function(d,e,f){var g=function(c,d,a){e(b(c,d,a))};a(String(d),g,f,c)}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.text!==this.props.text};d.render=function(){var a=[l(b("messengerIterateEmoji"),j.bind(null,!!this.props.forceMessengerEmoji),this.props.customSize),l(b("messengerIterateEmoticons"),k,this.props.customSize)];return i.jsx(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},this.props,{text:this.props.text,decorators:a}))};return c}(i.Component);e.exports=a;a.renderEmoji=j}),null);
__d("MessengerTextWithEntities.react",["BaseTextWithEntities.react","Link.react","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(d.props.renderEmoticons||d.props.renderEmoji)return g.jsx(b("MessengerTextWithEmoticons.react"),{text:a,customSize:d.props.customSize,renderEmoticons:d.props.renderEmoticons,renderEmoji:d.props.renderEmoji});else return h(a)},d.$2=function(a,c){if(d.props.interpolator)return d.props.interpolator(a,c);else return g.jsx(b("Link.react"),{href:c.entity,children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$1}))};return c}(g.Component);e.exports=a}),null);
__d("P2PTriggersUtils",["P2PGKValues"],(function(a,b,c,d,e,f){f.canSeeTriggers=a;f.getMatches=c;var g=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/;function a(a){return!b("P2PGKValues").P2PEnabled?!1:!0}function c(a){return a.match(g)}}),null);
__d("RedditLinkMatcher",[],(function(a,b,c,d,e,f){"use strict";f.match=a;f.isMatch=b;var g=new RegExp("(^|\\s)(\\/?[ru]\\/\\w{1,21})(?:\\b)","i");function a(a){a=g.exec(a);return a===null?null:{lnk:a[2],idx:a.index+a[1].length}}function b(a){return g.exec(a)!==null}}),null);
__d("RedditLinkRanges",["RedditLinkMatcher","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";f.get=a;var g;c="https://reddit.com";f.REDDIT_PREFIX=c;function a(a,c){c===void 0&&(c=0);c=c;var d=a.substr(c),e=b("RedditLinkMatcher").match(d);if(!e)return[];var f=e.lnk;e=e.idx;d=(g||(g=b("UnicodeUtils"))).strlen(d.substr(0,e));c+=d;e="";switch(f[1].toLowerCase()){case"r":e=this.REDDIT_PREFIX+f;break;case"u":e=this.REDDIT_PREFIX+f;break;default:switch(f[0].toLowerCase()){case"r":e=this.REDDIT_PREFIX+"/"+f;break;case"u":e=this.REDDIT_PREFIX+"/"+f;break;default:return[]}}d=f.length;f=[{offset:c,length:d,entity:{url:e}}];return f.concat(this.get(a,c+d))}}),null);
__d("TextWithEntitiesMetadataType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,CONCEPT:1,INTENT:2});e.exports=a}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){c="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";d="\u2000-\u206f\xab\xbb\uff08\uff09";f="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])";var g="(?:(?:ht|f)tps?)://";f="(?:(?:"+f+"[.]){3}"+f+")";var h="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",i="(?:\\b)www\\d{0,3}[.]";c="[^\\s"+c+d+"]";d="(?:(?:(?:[.:\\-_%@]|"+c+")*"+c+")|"+h+")";c="(?::\\d+){0,1}";var j="(?=[/?#])";b=b("URLMatcherConfig").tlds;var k="(?:(?:"+g+d+c+")|(?:"+f+c+")|(?:"+h+c+")|(?:"+i+d+b+c+")|(?:"+d+b+c+j+"))";j="(?:(?:"+g+d+c+")|(?:"+f+c+")|(?:"+h+c+")|(?:"+i+d+b+c+")|(?:"+d+b+c+"))";f="[/#?]";h="\\([^\\s()<>]+\\)";var l="[^\\s()<>?#]+",m=new RegExp(k,"im"),n="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",o=new RegExp(n,"im"),p="(?:(?:"+f+")(?:(?:"+h+"|"+l+")*)*)*",q=new RegExp("((?:"+j+")(?:"+p+"))","im"),r=new RegExp("((?:"+g+d+c+")|(?:"+i+d+b+c+"))"),s=/[\s\'\";]/,t=new RegExp(f,"im"),u=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),v=new RegExp("[\\s()<>?#]","im"),w=new RegExp("\\s()<>"),x=function(a){if(a!=null&&a.indexOf("@")!=-1)return r.exec(a)?a:null;else return a},y=function(a){return new RegExp("((?:"+k+")(?:"+p+"))",a)};function a(){return q.source}n=function(a){return z(a,y("im"))};h=function(a){return A(a,y("igm"))};l=function(a){return z(a,q)};var z=function(a,b){b=b.exec(a);return b==null||b.length===0?null:x(b[1]||null)},A=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};j=function(a){return m.exec(a)};g=function(a){return!s.test(a.charAt(a.length-1))};i=function(a){a=a;var b=!1;do{var c=m.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=o.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!t.test(d[0]))return x(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(t.test(i)||!u.test(i))b=h;else if(v.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(w.test(i))break}return x(c[0]+d.substring(0,b+1))};d={permissiveHostPathMatch:l,permissiveMatch:n,permissiveMultiMatch:h,matchToPattern:z,multiMatchToPattern:A,matchHost:j,trigger:g,match:i,getPermissiveHostPathMatcherSource:a};e.exports=d}),null);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f){var g="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var d=c.prototype;d.reset=function(){b("DataStore").set(this.input,g,null)};d.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=b("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};d.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};d.check=function(a){var d=this.getValueFn?this.getValueFn():this.input.value;if(a&&c.trigger(d))return;a=c.match(d);d=b("URLMatcher").permissiveMatch(d);d&&d!=b("DataStore").get(this.input,g)&&(b("DataStore").set(this.input,g,d),this.inform("match",{url:a||d,alt_url:d}))};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;Object.assign(a,b("URLMatcher"))}),null);
__d("getURLRanges",["UnicodeUtils","URI","URLScraper"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;function a(a){var c=[],d=0;while(!0){var e=a.substr(d),f=b("URLScraper").match(e);if(!f)break;if(!(g||(g=b("URI"))).isValidURI(f))break;var i=f;/^[a-z][a-z0-9\-+.]+:\/\//i.test(f)||(i="http://"+f);var j=e.indexOf(f);e=(h||(h=b("UnicodeUtils"))).strlen(e.substr(0,j));d+=e;j=f.length;c.push({offset:d,length:f.length,entity:{url:i}});d+=j}return c}}),null);
__d("shouldAddMRefParam",["isFacebookURI"],(function(a,b,c,d,e,f){e.exports=a;function a(a){if(!b("isFacebookURI")(a)||a.getFragment())return!1;return/^\/events\//.test(a.getPath())?!0:!1}}),null);
__d("MercuryMessageBody.react",["cx","fbt","BootloadedComponent.react","CurrentUser","EmojiRenderer","EmoticonEmojiList","EmoticonsList","JSResource","Link.react","LinkRanges","MercuryIDs","MercuryMessageRenderLocations","MessengerFormattingUtils","MessengerMathUtils","MessengerSupportedEmojiUtils","MessengerTextWithEntities.react","P2PTriggersUtils","React","RedditLinkMatcher","RedditLinkRanges","TextWithEntities.react","TextWithEntitiesMetadataType","UnicodeUtils","URI","URLMatcher","emptyFunction","getURLRanges","gkx","ifRequired","prop-types","shouldAddMRefParam"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("LinkRanges").module,l=b("React"),m=function(){m=b("emptyFunction"),b("ifRequired")("ChatAppActions",function(a){a.setInitialDisplayDone()})};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.interpolator=function(a,c){if(c.className)return l.jsx("span",{className:c.className,children:a});if(c.math)return l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:l.jsx("span",{children:a}),body:d.$4(a),fallbackBody:a,inline:!0,stripDelimiters:!0,className:"_1e4d _1e4e"});if(c.id){var e={};!b("CurrentUser").isWorkUser()&&!d.props.isFromViewer&&d.props.threadCustomColor&&(e.color=d.props.threadCustomColor);var f=d.props.onContactSelect,g=d.props.threadID?b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)===c.id:!1,h=new(i||(i=b("URI")))("/ajax/hovercard/user.php").setQueryData({id:c.id}),j=b("gkx")("678279");h=l.jsx(b("Link.react"),{className:"_ih-"+(b("CurrentUser").isWorkUser()&&c.id===b("CurrentUser").getID()?" _1zle":""),href:g?"#":c.url,"data-hovercard":j?h:null,style:e,onClick:f&&!g?function(a){d.$3(f,c,a)}:b("emptyFunction"),children:a});!g&&f&&!j&&(typeof a==="string"&&(c.contactName=a&&a.replace("@","")),h=l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerAvatarActions.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:h,avatar:h,contact:c,showSendMessageItem:!0,onAction:d.props.onContactSelect}));return h}if(c.formatter){e=c.formatter;g=c.recursivelyFormat?d.renderBody(c.innerText,!0,c.innerOffset):c.innerText;return l.jsx(e,{range:c,children:g})}if(c.entity&&c.entity.url)if((i||(i=b("URI"))).isValidURI(c.entity.url)){j=new(i||(i=b("URI")))(c.entity.url.replace(/#+$/,""));b("shouldAddMRefParam")(j)&&j.addQueryData({__mref:"mb"});h=j.toString();return l.jsx(b("Link.react"),{href:{url:h,shimhash:c.entity.shimhash},s:c.entity.s,target:"_blank",children:a})}else return a;if(!c.entity&&c.id===void 0){e=typeof c.type==="number"?c.type:b("TextWithEntitiesMetadataType")[c.type];switch(e){case 0:return l.jsx("span",{className:"_2y9",title:JSON.stringify(c.data),children:a});case 1:return d.renderConceptMetadata(a,c.data);case 2:return d.renderIntentMetadata(a,c.data);default:return a}}return a};d.state=d.parseMessageBody(c);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){(this.props.body!==a.body||this.props.metaRanges!==a.metaRanges||this.props.ranges!==a.ranges)&&this.setState(this.parseMessageBody(a))};d.parseMessageBody=function(a){var c=(a.body||"").replace(/\s+$/,""),d=this.$1(a.metaRanges||[]);d={normalizedBody:c,isEncrypted:!1,isMathBlock:!1,isRichText:!1,ranges:[],filteredMetaRanges:d};if(c.length===0)return d;if(c.startsWith("?OTR")){d.isEncrypted=!0;return d}if(b("MessengerMathUtils").isMathBlock(c)){d.isMathBlock=!0;return d}var e=a.ranges,f=a.metaRanges;f=e&&e.length||f&&f.length||b("EmoticonsList").noncapturingRegexp.test(c)||b("EmojiRenderer").containsEmoji(c)||b("URLMatcher").match(c)||k&&k.hasMatch(c)||b("RedditLinkMatcher").isMatch(c)||this.$2(c,a)||b("MessengerSupportedEmojiUtils").containsEmoji(c)||b("EmoticonEmojiList").noncapturingRegexp.test(c)||b("MessengerFormattingUtils").hasMatch(c)||b("MessengerMathUtils").hasInlineMath(c);if(!f)return d;d.isRichText=!0;e&&e.length===1&&e[0].className==="__in"&&(e=b("getURLRanges")(c).concat(e));e=e||[];e.forEach(function(a){if(a.id){var d=c.substring(0,a.offset);a.offset=(j||(j=b("UnicodeUtils"))).strlen(d)}});e=e.concat(b("getURLRanges")(c));k&&(e=e.concat(k.get(c)));e=e.concat(b("RedditLinkRanges").get(c));e=e.concat(b("MessengerFormattingUtils").getRanges(c));e=e.concat(b("MessengerMathUtils").getInlineMathRanges(c));d.ranges=e.filter(function(a){return a!=void 0});return d};d.hasFormatting=function(){return this.state.isRichText||this.state.isMathBlock||this.state.isEncrypted};d.$3=function(a,b,c){c.preventDefault()};d.$4=function(a){if(this.props.isFromViewer)return"\\color{#fff}{"+b("MessengerMathUtils").getMathBlockInner(a)+"}";else return b("MessengerMathUtils").getMathBlockInner(a)};d.renderConceptMetadata=function(a,b){if(!b)return a;return b.intent_name||b.name?this.renderIntentMetadata(a,b):a};d.renderIntentMetadata=function(a,c){if(!c)return a;var d=c.intent_name||c.name;switch(d){case"request_time":return l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ServicesVerticalRequestTimeTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:l.jsx("span",{children:a}),data:c,text:a,threadID:this.props.threadID});default:return a}};d.renderBody=function(a,c,d){c===void 0&&(c=!1);d===void 0&&(d=0);var e=this.state,f=e.isRichText,g=e.ranges;e=e.filteredMetaRanges;var h=(j||(j=b("UnicodeUtils"))).strlen(a);if(!f)return l.jsx("span",{className:this.props.className,children:a});c&&(g=g.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}),e=e.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}));f={className:this.props.className,interpolator:this.interpolator,metaRanges:e,ranges:g,renderEmoji:!0,renderEmoticons:!0,text:a};if(this.$2(a)){c=l.jsx(b("TextWithEntities.react"),babelHelpers["extends"]({},f));return l.jsx(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:c,bootloadLoader:b("JSResource")("TextWithEntitiesAndP2P.react").__setRef("MercuryMessageBody.react")},f,{getMessengerEmote:this.$5,isSupportedEmoji:this.$6,threadID:this.props.threadID}))}e=l.jsx(b("MessengerTextWithEntities.react"),babelHelpers["extends"]({},f));return e};d.render=function(){var a=this.state,c=a.normalizedBody,d=a.isEncrypted;a=a.isMathBlock;if(c.length===0)return null;m();if(this.props.plainText)return l.jsx("span",{children:c});else if(d)return l.jsx("span",{className:"_89h",children:h._("[encrypted message]")});else if(a)return l.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:l.jsx("div",{children:c}),body:this.$4(c),fallbackBody:c,stripDelimiters:!0,className:"_1e4d"});else return this.renderBody(c)};d.$6=function(a){return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)};d.$5=function(a){a=b("EmoticonEmojiList").emote2emojis[a];return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)?a:null};d.$1=function(a){var b=a.filter(function(a){return a.data&&(a.data.intent_name==="create_event"||a.data.name==="create_event")});return b.length!==0?b:a};d.$2=function(a,c){c===void 0&&(c=this.props);return!!(c.threadID&&b("P2PTriggersUtils").canSeeTriggers(c.threadID)&&b("P2PTriggersUtils").getMatches(a))};return c}(l.PureComponent);e.exports=a;a.propTypes={body:(c=b("prop-types")).string,customLike:c.object,isFromViewer:c.bool,metaRanges:c.array,ranges:c.array,threadCustomColor:c.string,threadID:c.string,onContactSelect:c.func,renderLocation:c.oneOf([b("MercuryMessageRenderLocations").CHAT,b("MercuryMessageRenderLocations").MESSENGER,b("MercuryMessageRenderLocations").PAGES])}}),null);
__d("MercuryErrorInfo",["fbt","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){f.getMessage=a;f.isConnectionError=h;f.isTransient=i;f.isPermanent=c;f.hasErrorStatus=d;function a(a){var b="";h(a)?(b=g._("This message didn't send.").toString(),i(a)&&(b=g._("{message} Check your internet connection and click to try again.",[g._param("message",b)]).toString())):(a&&a.description?b=a.description:b=g._("This message failed to send.").toString(),i(a)&&(b=g._("{message} Click to send again.",[g._param("message",b)]).toString()));return b}function h(a){return a&&a.type==2?a.code===1001||a.code===1004||a.code===1006:!1}function i(a){return a&&a.is_transient}function c(a){return a?!this.isTransient(a):!1}function d(a){return b("MessengerMessage.bs").hasError(a)}}),null);
__d("ServerHTML.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.blob;a=babelHelpers.objectWithoutPropertiesLoose(a,["blob"]);return typeof b==="string"?g.jsx("div",babelHelpers["extends"]({},a,{children:b})):g.jsx("div",babelHelpers["extends"]({},a,{dangerouslySetInnerHTML:b}))};return b}(g.Component);e.exports=a}),null);
__d("MercuryMessageError.react",["cx","CurrentUser","Link.react","MercuryErrorInfo","MercuryMessageActions","React","ServerHTML.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.messageResend=function(a){a.stopPropagation();a=d.props.message;a=a.error_data;b("MercuryErrorInfo").isTransient(a)&&b("MercuryMessageActions").getForFBID(d.props.authorFBID).resend(d.props.message)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.message,c=a.error_data;return h.jsxs(b("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:b("joinClasses")(this.props.className,this.$1(a)),tabIndex:b("MercuryErrorInfo").isTransient(c)?0:null,onClick:this.messageResend,children:[h.jsx("i",{className:"_2fs1"}),h.jsx(b("ServerHTML.react"),{className:"_61ag",blob:this.$2(a)})]}))};d.$1=function(a){if(b("MercuryErrorInfo").hasErrorStatus(a))return"_2fs2 _2fs3"+(b("MercuryErrorInfo").isTransient(a.error_data)?" _2fs4":"")+(b("MercuryErrorInfo").isPermanent(a.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};d.$2=function(a){var c="",d=a.error_data;if(b("MercuryErrorInfo").hasErrorStatus(a)){a=b("MercuryErrorInfo").getMessage(d);a&&(c=a)}return c};return c}(h.Component);e.exports=a;a.propTypes={authorFBID:b("prop-types").string,message:b("prop-types").object.isRequired};a.defaultProps={authorFBID:b("CurrentUser").getID()}}),null);
__d("MercuryAudioPlayer",["DOM","Event"],(function(a,b,c,d,e,f){var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}var i=function(){this.interval=null,this.arbiterInstance=null,this.audio=b("DOM").create("audio"),b("Event").listen(this.audio,"playing",function(){this.informAttachment("playing",this.audio.currentTime),this.interval=window.setInterval(function(){this.informAttachment("playing",this.audio.currentTime)}.bind(this),g)}.bind(this)),b("Event").listen(this.audio,"ended",function(){window.clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(i.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),window.clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});function j(){return h()?new i():!1}var k=null,l=null,m=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++m;k!==null||(k=j());if(!k)return!1}Object.assign(a.prototype,{getType:function(){if(!k)return!1;else return k.getType()},play:function(a){a&&l==this.audio_id?k.resume():(this.pause(),l=this.audio_id,k.setAudio(this.src,this.arbiterInstance),k.play())},pause:function(){k.pause()}});e.exports=a}),null);
__d("MercuryShareAttachmentRenderLocations",[],(function(a,b,c,d,e,f){"use strict";f.getValues=a;f.isPreview=b;var g="chat";f.CHAT=g;var h="chat_preview";f.CHAT_PREVIEW=h;var i="ufi_composer";f.COMPOSER=i;var j="messenger";f.MESSENGER=j;var k="pages_inbox";f.PAGES_INBOX=k;function a(){return[g,h,i,j,k]}function b(a){return a===h}}),null);
__d("MercuryAttachmentAudioClip.react",["cssVar","cx","fbt","Arbiter","ArbiterMixin","CurrentUser","LeftRight.react","Link.react","MercuryAudioPlayer","MercuryShareAttachmentRenderLocations","React","SubscriptionsHandler","createReactClass_DEPRECATED","joinClasses","prop-types","shield"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k="MercuryAttachmentAudioClip/play",l="progress-bar";c=b("createReactClass_DEPRECATED")({displayName:"AudioClip",mixins:[b("ArbiterMixin")],propTypes:{customColor:(a=b("prop-types")).string,duration:a.number,isChat:a.bool,isFromViewer:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onAttachmentLoad:a.func,rootClassName:a.string,showHelp:a.bool,src:a.string.isRequired,width:a.number},getInitialState:function(){this.logged=!1;return{time:0,playing:!1,started:!1,duration:this.props.duration,audioPlayer:new(b("MercuryAudioPlayer"))(this.props.src,this)}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(),this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(this.subscribe("playing",this.updateTime),this.subscribe("played",b("shield")(this.setState,this,{playing:!0,started:!0})),this.subscribe("paused",b("shield")(this.setState,this,{playing:!1})),this.subscribe("finished",b("shield")(this.setState,this,{playing:!1,started:!1,time:this.props.duration})),b("Arbiter").subscribe(k,function(a,b){this.props.src!=b&&this.setState({time:0})}.bind(this)))},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function(a,b){this.setState({time:b})},play:function(){this.state.playing?this.state.audioPlayer.pause():(this.state.audioPlayer.play(this.state.started),b("Arbiter").inform(k,this.props.src),this.logged||(this.logged=!0))},_formatSeconds:function(a){if(a){a=Math.round(a);var b=a%60;b<10&&(b="0"+b);a=Math.floor(a/60);return a+":"+b}else return null},_renderPlayer:function(a,c,d){var e=this.props.isFromViewer,f=this.props.isChat,g=b("CurrentUser").isWorkUser(),h=d===l,k=f&&e&&!h,m=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER;g=g?"#373e4c":"#4080ff";g=d||g;a={width:a};k&&(a.backgroundColor=g);k=d&&d!==l&&!f?{color:d}:{};g={};h&&(g["aria-hidden"]=!0);return j.jsxs(b("Link.react"),babelHelpers["extends"]({"aria-label":i._("Voice Message"),className:"_1miz _2e-1"+(m?"":" _3_om")+(e&&f?" _3e5f":""),role:"button",style:a,onClick:this.play},g,{children:[j.jsx("span",{className:"_1mi- _2e-2",children:j.jsx("i",{className:"_1mi_ _2e-3"})}),j.jsx("span",{style:k,className:"_1mj0 _2e-4 _3oh-",children:c}),j.jsx("div",{className:"_1mj1 _2e-5"})]}))},render:function(){var a=this.state.time,c=this.state.playing,d=this._formatSeconds(this.state.duration),e=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,f=this.props.width||170;if(e){var g=this.props.duration;g>10?f=240:g>5?f=200:g>2?f=160:f=120}g=null;var h=Math.ceil(a*(f+2)/this.state.duration);e&&(h=Math.ceil(a*(f+24)/this.state.duration));if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var k=this._renderPlayer(f,d,this.props.customColor);f=this._renderPlayer(f,d,l);c="_1mj2 _2e-6"+(c&&a!==0?" _1mj3":"")+(c&&a===0?" _4g4x":"");g=j.jsxs("div",{className:c,children:[k,j.jsx("div",{className:"_1mj4 _2e-7",style:{width:h},children:f})]})}else g=j.jsx("div",{className:"_1mj2",children:j.jsx("div",{className:"_1miz",children:j.jsxs(b("LeftRight.react"),{children:[j.jsxs("a",{className:"_1mj5",href:this.props.src,children:[j.jsx("span",{className:"_3qi6",children:j.jsx("i",{className:"_1mj6"})}),j.jsx("span",{className:"_1mj7",children:i._("Voice Message")}),j.jsx("span",{className:"_1mj8",children:d})]}),j.jsx("a",{href:this.props.src,className:"_1mj9",children:j.jsx("i",{className:"_1mja"})})]})})});return j.jsx("div",{className:b("joinClasses")("_1mjb"+(e?" _454y":""),this.props.rootClassName),children:g})}});e.exports=c}),null);
__d("TooltipMixinClass.react",["DOM","React","ReactDOM","TooltipData"],(function(a,b,c,d,e,f){var g=b("React");function h(a){a=a.tooltip;return a!=null&&g.isValidElement(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tooltipContainer:h(d.props)?b("DOM").create("div"):null},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){a=h(a);c=c.tooltipContainer;if(c&&!a)return{tooltipContainer:null};else if(!c&&a)return{tooltipContainer:b("DOM").create("div")};return null};var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(a,b){b.tooltipContainer&&!this.state.tooltipContainer&&this.$2(b.tooltipContainer),this.$1()};d.$1=function(){var a=this.state.tooltipContainer,c=this.props.tooltip;if(c!=null&&g.isValidElement(c)&&a!=null){var d=function(){return c};b("ReactDOM").render(g.jsx(d,{}),a)}else a=this.props.tooltip;a!=null?b("TooltipData").set(b("ReactDOM").findDOMNode(this),a,this.props.position,this.props.alignH):b("TooltipData").remove(b("ReactDOM").findDOMNode(this))};d.componentWillUnmount=function(){this.state.tooltipContainer&&this.$2(this.state.tooltipContainer),b("TooltipData").remove(b("ReactDOM").findDOMNode(this))};d.$2=function(a){b("ReactDOM").unmountComponentAtNode(a)};return c}(g.Component);e.exports=a}),null);
__d("TooltipLink.react",["React","TooltipMixinClass.react"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("a",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return b}(b("TooltipMixinClass.react"));e.exports=a}),null);
__d("HelpLink.react",["fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("TooltipLink.react"),babelHelpers["extends"]({"aria-label":this.props.label},this.props,{className:b("joinClasses")(this.props.className,"uiHelpLink mls"),children:void 0}))};return c}(h.Component);e.exports=a;a.defaultProps={href:"#",label:g._("Help")}}),null);
__d("UFICreatorInfo.react",["fbt","HelpLink.react","Image.react","React","URI","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.getCreatorLink();switch(this.props.labelType){case"commented":a=g._("Commented on by {creator}",[g._param("creator",c)]);break;case"edited_comment":a=g._("Edited by {creator}",[g._param("creator",c)]);break;case"sent_message":a=g._("Sent by {creator}",[g._param("creator",c)]);break;case"page_admin_note":a=g._("Noted by {creator}",[g._param("creator",c)]);break;default:return i.jsx("span",{})}return i.jsxs("span",{children:[a,i.jsx(b("HelpLink.react"),{tooltip:this.getHelpText()})]})};d.getCreatorLink=function(){switch(this.props.creatorType){case"application":case"gray_account":case"indirect_admin":return i.jsx("a",{className:"uiLinkSubtle","data-hover":"tooltip","data-tooltip-content":this.getTooltipText(),children:this.props.creatorName});case"business_admin":return i.jsx("a",{className:"uiLinkSubtle",href:this.props.profileURI,children:this.props.creatorName});case"direct_admin":return this.getProfileLinkWithHovercard();case"former_admin":return i.jsxs("span",{className:"uiLinkSubtle",children:[i.jsx(b("Image.react"),{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()]});default:return i.jsx("span",{className:"uiLinkSubtle",children:this.props.creatorName})}};d.getTooltipText=function(){switch(this.props.creatorType){case"application":return this.getApplicationText();case"gray_account":return this.getGrayAccountText();case"indirect_admin":return this.getIndirectAdminText()}return null};d.getProfileLinkWithHovercard=function(){if(!this.props.profileURI)return i.jsx("span",{children:this.props.creatorName});var a=new(h||(h=b("URI")))("/ajax/hovercard/user.php").setQueryData({id:this.props.creatorID}).addQueryData({type:"page_admin",extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return i.jsx("a",{className:"uiLinkSubtle","data-hovercard":a,href:this.props.profileURI,children:this.props.creatorName})};d.getApplicationText=function(){switch(this.props.labelType){case"commented":return g._("This was commented on by someone using {application}.",[g._param("application",this.props.creatorName)]);case"edited_comment":return g._("This was edited by someone using {application}.",[g._param("application",this.props.creatorName)]);case"sent_message":return g._("This was sent by someone using {application}.",[g._param("application",this.props.creatorName)]);case"page_admin_note":return g._("This was noted by someone using {application}.",[g._param("application",this.props.creatorName)])}return null};d.getIndirectAdminText=function(){switch(this.props.labelType){case"commented":return g._("This was commented on by someone from {page}.",[g._param("page",this.props.creatorName)]);case"edited_comment":return g._("This was edited by someone from {page}.",[g._param("page",this.props.creatorName)]);case"sent_message":return g._("This was sent by someone from {page}.",[g._param("page",this.props.creatorName)]);case"page_admin_note":return g._("This was noted by someone from {page}.",[g._param("page",this.props.creatorName)])}return null};d.getGrayAccountText=function(){switch(this.props.labelType){case"commented":return g._("This was commented on by someone who doesn't have a personal Facebook account.");case"edited_comment":return g._("This was edited by someone who doesn't have a personal Facebook account.");case"sent_message":return g._("This was sent by someone who doesn't have a personal Facebook account.");case"page_admin_note":return g._("This was noted by someone who doesn't have a personal Facebook account.")}return null};d.getHelpText=function(){switch(this.props.labelType){case"commented":return g._("Only people who manage this Page can see who posted a comment.");case"edited_comment":return g._("Only people who manage this Page can see who edited a comment");case"sent_message":return g._("Only people who manage this Page can see who sent a message.");case"page_admin_note":return g._("Only people who manage this Page can see who created a note")}return null};return c}(i.Component);e.exports=a}),null);
__d("XUIGrayText.react",["cx","React","XUIText.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.shade;a=babelHelpers.objectWithoutPropertiesLoose(a,["shade"]);c=(c==="light"?"_50f8":"")+(c==="medium"?" _c24":"")+(c==="dark"?" _50f9":"");return h.jsx(b("XUIText.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,c),children:this.props.children}))};return c}(h.Component);a.propTypes={shade:b("prop-types").oneOf(["light","medium","dark"])};a.defaultProps={shade:"light"};e.exports=a}),null);
__d("PagesMessengerCreatorInfo.react",["cx","React","UFICreatorInfo.react","XUIGrayText.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("XUIGrayText.react"),{className:"_ajk"+(this.props.isNote?" _45l2":""),display:"inline",shade:"light",size:"meta1",children:h.jsx(b("UFICreatorInfo.react"),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})})};return c}(h.Component);e.exports=a;a.propTypes={creator_info:(c=b("prop-types")).shape({creatorID:c.string.isRequired,creatorName:c.string.isRequired,creatorType:c.string.isRequired,labelType:c.string.isRequired,pageID:c.string.isRequired,profileURI:c.string}).isRequired}}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";var g={search:function(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})}}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","createReactClass_DEPRECATED","joinClasses","loadImage","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"Pixelz",propTypes:{width:(a=b("prop-types")).number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return h.jsx("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:h.jsx("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle(),children:a})},getInsetBorder:function(){return!this.hasInsetBorder()?null:h.jsx("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var b=this.getInsetBorder();return h.jsxs("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle(),children:[a,b]})},render:function(){var a=this.getSrcDimensions();return!a?h.jsx("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("TextWithEntitiesTruncated.react",["fbt","Link.react","React","TextWithEntities.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=.6;function j(a,b,c){return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return a.offset>=0&&a.offset<c})}function k(a,b,c,d){var e=null,f=a.split("\n");a.length>b&&(e=Math.floor(b*(d===!0?1:i)));if(f.length>c){a=f.slice(0,c).join("\n").length;e!==null?e=Math.min(a,e):e=a}return e}function l(a){var b=[];a.forEach(function(a){a!=null&&a.offset!=null&&a.length!=null&&a.entity!=null&&b.push({entity:babelHelpers["extends"]({},a.entity),length:a.length,offset:a.offset})});return b}function a(a){var c=a.text,d=a.ranges;d=d===void 0?[]:d;var e=a.truncationStyle;e=e===void 0?"none":e;var f=a.maxLength;f=f===void 0?800:f;var i=a.maxLines;i=i===void 0?8:i;var m=a.useExactMaxLength;a=babelHelpers.objectWithoutPropertiesLoose(a,["text","ranges","truncationStyle","maxLength","maxLines","useExactMaxLength"]);var n=h.useState(!1),o=n[0],p=n[1];if(c==null)return null;n=c;d=l(d);var q=null,r=function(){p(!0)},s=function(){p(!1)};if(e!=="none"&&!o){f=k(c,f,i,m);if(f!=null){n=c.substring(0,f);d=j(d,0,n.length);switch(e){case"ellipsis-only":q=h.jsx(h.Fragment,{children:g._("\u2026")},"see-more-less");break;case"see-more":case"see-more-and-less":q=h.jsxs(h.Fragment,{children:[g._("\u2026")," ",h.jsx(b("Link.react"),{onClick:r,children:g._("See More")})]},"see-more-less")}}}else e==="see-more-and-less"&&o&&(q=h.jsxs(h.Fragment,{children:[" ",h.jsx(b("Link.react"),{onClick:s,children:g._("See Less")})]},"see-more-less"));return h.jsxs(h.Fragment,{children:[h.jsx(b("TextWithEntities.react"),babelHelpers["extends"]({},a,{ranges:d,text:n})),q]})}a.propTypes={text:(c=b("prop-types")).string,ranges:c.arrayOf(c.shape({offset:c.number,length:c.number,entity:c.object})).isRequired,truncationStyle:c.oneOf(["none","ellipsis-only","see-more","see-more-and-less"]),maxLength:c.number,maxLines:c.number,useExactMaxLength:c.bool}}),null);
__d("createTooltipPortal",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){return b("ReactDOM").createPortal(a,c)}}),null);
__d("Tooltip.react",["Arbiter","React","ReactDOM","SubscriptionsHandler","TooltipData","createTooltipPortal","gkx","ifRequired","killswitch"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state={visible:!1,wasEverVisible:!1},d.tooltipEl=g.createRef(),c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){return!Boolean(a.tooltip)?{visible:!1,wasEverVisible:b.wasEverVisible}:b};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2.addSubscriptions(b("Arbiter").subscribe("tooltip/requesthide",function(c,d){c=d.context;a.state.visible&&(!c||c===a.tooltipEl.current)&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").flushSync(function(){a.setState({visible:!1})})})}),b("Arbiter").subscribe("tooltip/requestshow",function(c,d){c=d.context;!a.state.visible&&c===a.tooltipEl.current&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").flushSync(function(){a.setState({visible:!0,wasEverVisible:!0})})})}));this.$3()};d.componentDidUpdate=function(a,c){var d=this;Boolean(a.tooltip)&&!Boolean(this.props.tooltip)?this.props.onVisibilityChange&&this.props.onVisibilityChange(!1):c.visible!==this.state.visible&&(this.props.onVisibilityChange&&this.props.onVisibilityChange(this.state.visible),b("ifRequired")("Tooltip",function(a){d.state.visible?a.commitShow(d.tooltipEl.current):a.commitHide(d.tooltipEl.current)}));this.$3()};d.componentWillUnmount=function(){this.$2.release(),b("TooltipData").remove(b("gkx")("1371738")?this.tooltipEl.current:b("ReactDOM").findDOMNode(this))};d.render=function(){var a=this.props;a.alignH;a.children;a.delayMountUntilHover;a.display;a.position;a.onVisibilityChange;var c=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignH","children","delayMountUntilHover","display","position","onVisibilityChange","tooltip"]);var d=this.$4();return g.createElement(this.props.display==="block"?"div":"span",babelHelpers["extends"]({},a,{ref:this.tooltipEl,"data-hover":"tooltip","data-tooltip-content":typeof c==="string"?c:void 0}),d&&c!==null?b("createTooltipPortal")(c,this.$5()):null,this.props.children)};d.$4=function(){var a=this.props.delayMountUntilHover,b=this.state.wasEverVisible;return!a||b};d.$5=function(){this.$1==null&&(this.$1=document.createElement("div"));return this.$1};d.$3=function(){if(!this.$4())return;var a=b("gkx")("1371738")?this.tooltipEl.current:b("ReactDOM").findDOMNode(this);if(!Boolean(this.props.tooltip))b("TooltipData").remove(a);else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")||typeof this.props.tooltip!=="string"){var c=this.props,d=c.alignH;c=c.position;b("TooltipData").set(a,this.$5(),c,d)}else b("TooltipData").remove(a,{onlyCleanupDataStore:!0}),b("TooltipData").refreshIfActive(this.tooltipEl.current)};return c}(g.Component);e.exports=a;a.defaultProps={delayMountUntilHover:!b("killswitch")("TOOLTIP_DELAY_MOUNT_UNTIL_HOVER"),display:"inline"}}),null);
__d("FBClipboardLink.react",["cx","fbt","Clipboard","DOMContainer.react","Event","KeyEventController","React","ReactDOM","SubscriptionsHandler","Tooltip.react","isKeyActivation","joinClasses","stylex"],(function(a,b,c,d,e,f,g,h){var i,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=j.createRef(),d.state={copied:!1,supported:b("Clipboard").isSupported()},d.$2=null,d.$3=null,d.$5=function(a){a.clipboardData&&(a.clipboardData.setData("text/html",d.$8()),a.clipboardData.setData("text",d.$9()),a.preventDefault())},d.$7=function(){if(!d.state.supported)return"Unsupported in this browser";return d.state.copied?d.props.tooltipSuccess:d.props.tooltip},d.$4=function(){d.$3&&(window.clearTimeout(d.$3),d.$3=null)},d.$10=function(){d.$3=window.setTimeout(d.$11,d.props.tooltipSuccessDuration)},d.$6=function(a){var c=b("ReactDOM").findDOMNode(d.$1.current);c=b("Clipboard").copy(d.$8(),c);d.$4();d.setState({copied:!0,supported:c});d.$10();d.props.onComplete&&d.props.onComplete(c);d.props.stopPropagation&&a.stopPropagation();d.props.preventDefaultOnClick&&a.preventDefault()},d.$11=function(){d.$4(),d.setState({copied:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$4(),this.$2&&this.$2.release()};d.componentDidMount=function(){if(this.props.type==="html"){var a=b("ReactDOM").findDOMNode(this);this.$2=this.$2||new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(b("Event").listen(a,"copy",this.$5))}this.props.hotkey&&(this.$2=this.$2||new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("KeyEventController").registerKey(this.props.hotkey,this.$6)))};d.render=function(){var a=this,c=b("joinClasses")(this.props.className,"_xd6"),d=this.props.children||this.props.label;!d&&this.props.childrenDONOTUSE&&(d=j.jsx(b("DOMContainer.react"),{children:this.props.childrenDONOTUSE}));return j.jsx(b("Tooltip.react"),babelHelpers["extends"]({},this.props,{tabIndex:"0",className:c,tooltip:this.$7(),"data-pitloot-persistonclick":!0,onClick:this.$6,onKeyPress:function(c){return b("isKeyActivation")(c)&&a.$6()},position:this.props.position,alignH:this.props.alignment,role:"button",children:j.jsx("div",{ref:this.$1,className:b("joinClasses")("_2lj1",(i||(i=b("stylex")))(this.props.innerXStyle)),children:d})}))};d.$8=function(){if(this.props.getValue)return this.props.getValue();else return this.props.value};d.$9=function(){return this.props.plainTextValue!=null?this.props.plainTextValue:this.$8()};return c}(j.PureComponent);e.exports=a;a.defaultProps={tooltip:h._("Copy Text to Clipboard"),tooltipSuccess:h._("Text Copied to Clipboard"),tooltipSuccessDuration:1e3,type:"string"}}),null);
__d("ClickableAreaButton.react",["cx","invariant","Focus","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1&&b("Focus").relocate(b("ReactDOM").findDOMNode(this.$1),b("ReactDOM").findDOMNode(this))};d.focus=function(){b("Focus").set(this.$1)};d.render=function(){var a=this,b=this.props,c=b.children,d=b.disabled,e=b.label,f=b.onClick,g=b.onMouseDown,j=b.onMouseEnter,k=b.onMouseMove,l=b.onMouseOut,m=b.onMouseLeave,n=b.pressed;b=b.tabIndex;c=i.Children.only(c);c.props.onClick&&h(0,2794);n=f?i.jsx("button",{"aria-pressed":n,className:"accessible_elem",disabled:d,label:e,tabIndex:b,ref:function(b){return a.$1=b},children:e},"accessible_button"):null;return i.cloneElement(c,{onClick:d?null:f,onMouseDown:g,onMouseEnter:j,onMouseMove:k,onMouseOut:l,onMouseLeave:m},[c.props.children,n])};return c}(i.Component);e.exports=a}),null);
__d("Collection",[],(function(a,b,c,d,e,f){function g(a,b){if(!a.__collection__){var c=new Function();for(var d in a.prototype)c.prototype[d]=g._call.bind(null,d);a.__collection__=c}c=new a.__collection__();c._elements=b;return c}g._call=function(a){var b=Array.prototype.slice.call(arguments,1);this._elements.forEach(function(c){c[a].apply(c,b)});return this};e.exports=g}),null);
__d("Drag",["Arbiter","DOM","Event","Style","Vector"],(function(a,b,c,d,e,f){var g={};g.currentDraggable=null;g.grab=function(a){g.currentDraggable&&g._onmouseup(),a.lastDragOver=null,g.attachDragEvents(),g.currentDraggable=a};g.attachDragEvents=function(){document.onselectstart=function(){document.onselectstart=null;return!1};if(g.dragEventsAttached)return;g.dragEventsAttached=!0;b("Arbiter").subscribe("scroller/scroll",g._onmousemove);b("Event").listen(document,{mousemove:g._onmousemove,mouseup:g._onmouseup})};g.droppables={};g.addDroppable=function(a,b){(g.droppables[a]=g.droppables[a]||[]).push(b)};g.removeDroppable=function(a,b){g.droppables[a]=g.droppables[a].filter(function(a){return a!=b})};g.getOffsetParent=function(a){if(b("DOM").isNodeOfType(a,["body","html"]))return document.body;while((a=a.parentNode)&&a!==document.body)if(b("Style").get(a,"position")!=="static")return a;return document.body};g._onmousemove=function(a,c){if(!g.currentDraggable)return;c=c||b("Vector").getEventPosition(a);a=g.currentDraggable;var d=g.droppables[a.namespace];if(a.namespace&&a.active&&d){var e={};d.forEach(function(a){e[a.zIndex]=a.zIndex});var f=[];for(var h in e)f.push(e[h]);f.sort();var i=a.lastDragOver,j=null;for(var k=f.length-1;k>=0;k--)if(i&&i.dom!=null&&i.zIndex==f[k]&&i.isDraggedOver(c)){j=i;break}else{i&&i.ondragout&&i.ondragout(a);for(h=0;h<d.length;h++){if(f[k]!=d[h].zIndex)continue;if(i!=d[h]&&a.dom!=d[h].dom&&d[h].isDraggedOver(c)){j=d[h];k=-1;break}}}j&&j!=i&&(j.ondragover(a),g.currentDraggable.adjustCursorPosition());j&&j.ondragmove(a,c.sub(b("Vector").getElementPosition(j.dom)));a.lastDragOver=j}g.currentDraggable._onmousemove(c)};g._onmouseup=function(a){document.onselectstart=null,g.currentDraggable&&(g.currentDraggable._ondrop(),g.currentDraggable=null)};e.exports=g}),null);
__d("Scroller",["Arbiter","Event","Rect","Style","Vector","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this;this._onmousemove=function(a){c.cursor=b("Vector").getEventPosition(a)};this.canvas=a;this.scrollZone=50;this.velocity=100;this.coefficient=1}var c=a.prototype;c.activate=function(){this.activate=b("emptyFunction"),this.event=b("Event").listen(document,"mousemove",this._onmousemove),this.interval=setInterval(this._intervalHandler.bind(this),50),this.cursor=null};c.deactivate=function(){delete this.activate,this.event&&this.event.remove(),this.event=null,clearInterval(this.interval)};c._intervalHandler=function(){if(!this.cursor)return;var a=this.canvas==document.body?b("Rect").getViewportBounds():new(b("Rect"))(this.canvas);a=new(b("Rect"))(this.cursor.y-a.t,a.r-this.cursor.x,a.b-this.cursor.y,this.cursor.x-a.l);var c=new(b("Vector"))(0,0);a.t<a.b&&a.t<this.scrollZone?c.y=-this.scrollZone+a.t:a.b<this.scrollZone&&(c.y=this.scrollZone-a.b);c.y=this._doMath(c.y);a.l<a.r&&a.l<this.scrollZone?c.x=-this.scrollZone+a.l:a.r<this.scrollZone&&(c.x=this.scrollZone-a.r);c.x=this._doMath(c.x);if(c.x||c.y){c.scrollElementBy(this.canvas);if(document.body==this.canvas){a=b("Vector").getScrollPosition();c.scrollElementBy(this.canvas);var d=b("Vector").getScrollPosition();this.cursor=this.cursor.add(d.sub(a))}else c.scrollElementBy(this.canvas);b("Arbiter").inform("scroller/scroll",this.cursor)}};c._doMath=function(a){a=a>=0?Math.min(a,this.scrollZone):Math.max(a,-this.scrollZone);return Math.floor(Math.pow(a/this.scrollZone*this.velocity,this.coefficient))};a.findScrollParent=function(a){var c;a=a.parentNode;while(a){if(a.scrollHeight!=a.offsetTop){c=b("Style").get(a,"overflowY");if(c=="scroll"||c=="auto")return a}a=a.parentNode}return document.body};return a}();e.exports=a}),null);
__d("Draggable",["Collection","DOM","Drag","Event","Rect","Scroller","Vector","emptyFunction"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(c){var d=this;this._onclick=function(a){if(!d._shouldKillEvents)return!0;if(d.active)return b("Event").kill(a)};this._onmousedown=function(a){if(!(a.which&&a.which===1||a.button&&a.button===1))return;var c=a.getTarget();if(b("DOM").isNodeOfType(c,["input","select","textarea","object","embed"]))return!0;c=b("Vector").getEventPosition(a);var e=b("Vector").getElementDimensions(d.dom);d.draggableInitialVector=b("Vector").getElementPosition(d.dom);d.cursorPositionVector=c.sub(d.draggableInitialVector);d.grabPctX=e.x===0?0:d.cursorPositionVector.x/e.x;d.grabPctY=e.y===0?0:d.cursorPositionVector.y/e.y;b("Drag").grab(d,a);d.gutter?d.cursorInitialVector=c:(d._setActive(!0),d._ongrab(c));return!d._shouldKillEvents?!0:b("Event").kill(a)};this._killUnlessActive=function(a){if(!d._shouldKillEvents)return;if(a.getTarget()!==document.activeElement)return a.kill()};if(!c)throw new Error("Element should be a DOM node");if(!(this instanceof a))if(c instanceof Array){var e=[];c.forEach(function(b){e.push(new a(b))});return new(b("Collection"))(a,e)}else return new a(c);else this.data={},this.handles=[],this.dom=c,this.boundingBox=null,this.useScroller=!0,this.scrollParents=null,this.manualPositioner=null,this.grabPctX=this.grabPctY=0,this._shouldKillEvents=!0,this._setInactiveTimeout=null,this.addHandle(this.dom)}var c=a.prototype;c.destroy=function(){var a=this;this.handles.forEach(function(b){return a.removeHandle(b.obj)});this.data=this.dom=null};c.adjustCursorPosition=function(){var a=b("Vector").getElementDimensions(this.dom);this.cursorPositionVector=new(b("Vector"))(parseInt(this.grabPctX*a.x,10),parseInt(this.grabPctY*a.y,10))};c._ongrab=function(a){this.ongrab(a);this.useScroller&&(this.scrollers||(this.scrollers=this.scrollParents?this.scrollParents.map(function(a){return new(b("Scroller"))(a)}):[new(b("Scroller"))(b("Scroller").findScrollParent(this.dom))]),this.scrollers.forEach(function(a){return a.activate()}));if(this.active){this.oldPosition||(this.oldPosition=this.dom.style.position);this.oldTop||(this.oldTop=this.dom.style.top);var c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(a=a.sub(b("Vector").getElementPosition(c)));this.dom.style.position=this.absolute?"absolute":"relative";a.sub(this.cursorPositionVector).setElementPosition(this.dom)}};c._onmousemove=function(a){this.active||a.distanceTo(this.cursorInitialVector)>=this.gutter&&(this._setActive(!0),this._ongrab(a));if(this.active){var c=a.sub(this.cursorPositionVector);if(this.boundingBox){var d=b("Rect").newFromVectors(c,b("Vector").getElementDimensions(this.dom));d=d.boundWithin(this.boundingBox);c=d.getPositionVector();this.boundingBox.w()===0&&this.boundingBox.h()===0?d=new(b("Vector"))(this.draggableInitialVector.x,this.draggableInitialVector.y,"document"):this.boundingBox.w()===0?d=new(b("Vector"))(this.draggableInitialVector.x,c.y,"document"):this.boundingBox.h()===0?d=new(b("Vector"))(c.x,this.draggableInitialVector.y,"document"):d=c}else d=c;c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(d=d.sub(b("Vector").getElementPosition(c)));this.manualPositioner?this.manualPositioner.updateMousePosition(d):d.setElementPosition(this.dom);this.ondrag(a)}};c._ondrop=function(){var a=this;this.scrollers&&this.scrollers.forEach(function(a){return a.deactivate()});this.active&&(this._setInactiveTimeout=setTimeout(function(){a._setInactiveTimeout=null,a._setActive(!1)},0),this.ondrop(this.scrollers&&this.scrollers[0].cursor),this.lastDragOver&&this.lastDragOver.ondrop(this))};c.killDrag=function(){this._setActive(!1),b("Drag")._onmouseup()};c.forceDrop=function(){b("Drag")._onmouseup()};c.triggerMouseDown=function(a){this._onmousedown(a)};c.setBoundingBox=function(a){this.boundingBox=a;return this};c.resetPosition=function(){var a;this.dom.style.position=this.oldPosition;this.oldPosition=null;this.dom.style.left="";this.dom.style.top=(a=this.oldTop)!=null?a:"";this.oldTop=null;return this};c.setUseAbsolute=function(a){this.absolute=a;return this};c.setDragHandler=function(a){this.ondrag=a;return this};c.setGrabHandler=function(a){this.ongrab=a;return this};c.setDropHandler=function(a){this.ondrop=a;return this};c.setGutter=function(a){this.gutter=a;return this};c.setNamespace=function(a){this.namespace=a;return this};c.setUseScroller=function(a){this.useScroller=a;return this};c.setScrollParents=function(a){this.scrollParents=a;return this};c.setAvoidKillingEvents=function(a){this._shouldKillEvents=!a;return this};c.setManualPositioner=function(a){this.manualPositioner=a;return this};c.addHandle=function(a){this.handles.length==1&&this.handles[0].obj==this.dom&&this.removeHandle(this.dom);this.handles.push({obj:a,evt:[b("Event").listen(a,"mousedown",this._onmousedown),b("Event").listen(a,"click",this._onclick),b("Event").listen(a,"drag",this._killUnlessActive),b("Event").listen(a,"selectstart",this._killUnlessActive)]});return this};c.removeHandle=function(a){this.handles=this.handles.filter(function(b){if(b.obj!=a)return!0;else{b.evt.forEach(function(a){a.remove()});return!1}})};c.getDOM=function(){return this.dom};c.setKey=function(a,b){this.data[a]=b;return this};c.getKey=function(a){return this.data[a]};c._setActive=function(a){if(!this.dom)return;a&&this._setInactiveTimeout!=null&&clearTimeout(this._setInactiveTimeout);this.dom.activeDrag=this.active=a;for(var b=0;b<this.handles.length;b++)this.handles[b].obj.activeDrag=a};return a}();a.prototype.ondrag=b("emptyFunction");a.prototype.ongrab=b("emptyFunction");a.prototype.ondrop=b("emptyFunction");a.prototype.gutter=0;a.prototype.handles=null;e.exports=a}),null);
__d("FBOverlayBase.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.Children.only(this.props.children)};return b}(g.Component);e.exports=a}),null);
__d("FBOverlayElement.react",["cx","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i={horizontal:{left:"_32rg",right:"_32rh",fit:"_32rg _32rh",center:"_1cy5"},vertical:{top:"_32ri",bottom:"_32rj",fit:"_32ri _32rj",middle:"_1cy6"}};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.Children.only(this.props.children),c=b("joinClasses")(a.props.className,"_32rk",i.horizontal[this.props.horizontal],i.vertical[this.props.vertical]);return h.cloneElement(a,{className:c})};return c}(h.PureComponent);a.propTypes={horizontal:b("prop-types").oneOf(["left","right","fit","center"]),vertical:b("prop-types").oneOf(["top","bottom","fit","middle"])};a.defaultProps={horizontal:"fit",vertical:"fit"};e.exports=a}),null);
__d("FBOverlayContainer.react",["cx","invariant","FBOverlayBase.react","FBOverlayElement.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");function a(a,c){return i.jsx("div",babelHelpers["extends"]({},a,{ref:c,className:b("joinClasses")(a.className,"_23n-"),children:a.children}))}c=i.forwardRef(a);c.propTypes={children:function(a,c){a=a[c];var d=0;i.Children.forEach(a,function(a){if(a===null||a===void 0)return;switch(a.type){case b("FBOverlayBase.react"):d++;break;case b("FBOverlayElement.react"):break;default:h(0,435)}});d===1||h(0,436)}};d=c;e.exports=d}),null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=b("getDocumentScrollElement")(a.ownerDocument||a.document);a.Window&&a instanceof a.Window&&(a=c);var d=b("getUnboundedScrollPosition")(a);c=a===c?a.ownerDocument.documentElement:a;var e=a.scrollWidth-c.clientWidth;a=a.scrollHeight-c.clientHeight;d.x=Math.max(0,Math.min(d.x,e));d.y=Math.max(0,Math.min(d.y,a));return d}}),null);
__d("AbstractDraggableItem.react",["cssVar","cx","CenteredContainer.react","DOMDimensions","Draggable","Event","FBOverlayContainer.react","FBOverlayElement.react","Keys","React","Rect","getScrollPosition","getViewportDimensions","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=parseInt("1024px",10),k=250;a=function(a){babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.componentDidMount=function(){this.$5(this.props.item.isMovable)};c.componentWillUnmount=function(){this.$5(!1)};c.componentDidUpdate=function(){this.$5(this.props.item.isMovable)};c.render=function(){var a=this.props.item,c=null;this.props.item.actionButton&&(c=i.jsx(b("FBOverlayElement.react"),{horizontal:"right",vertical:"fit",children:this.props.item.actionButton}));return i.jsxs(b("FBOverlayContainer.react"),{ref:this.$6,className:b("joinClasses")(this.getRootClassName(),this.props.className),style:{width:this.state.width},children:[a.label,this.getDragIcon(),this.getDragHandle(),c]},a.id)};function d(c){var d;d=a.call(this,c)||this;d.$6=function(a){d.$3=a};d.$7=function(a){d.$2=a};d.$8=function(){if(d.state.dragging)return;d.$4=b("Event").listen(document,"keydown",function(a){a.keyCode===b("Keys").ESC&&(d.$11(),a.preventDefault())});var a=b("DOMDimensions").getElementDimensions(d.$3);a=a.width;d.setState({dragging:!0,width:a});d.props.onGrab(d.props.item.id,d.$3)};d.$9=function(){var a=d.$3.parentNode;a=new(b("Rect"))(a);var c=b("getViewportDimensions")(),e=b("getScrollPosition")(window),f=Math.max(c.width,j);f=new(b("Rect"))(e.y,Math.min(f,a.r+k),c.height+e.y,Math.max(0,a.l-k));d.$1&&d.$1.setBoundingBox(f);d.props.onDrag()};d.$10=function(){d.$12(),d.props.onDrop()};d.state={dragging:!1,width:null};return d}c.getDragIcon=function(){return!this.props.item.isMovable?null:i.jsx(b("FBOverlayElement.react"),{horizontal:"left",vertical:"fit",children:i.jsx(b("CenteredContainer.react"),{className:"_80ep",horizontal:!1,vertical:!0,children:i.jsx("div",{className:"_58zl"})})})};c.getDragHandle=function(){return i.jsx(b("FBOverlayElement.react"),{horizontal:"left",vertical:"fit",children:i.jsx("div",{className:"_58zn",ref:this.$7})})};c.getRootClassName=function(){return(this.props.item.isMovable?"_58zo":"")+(this.state.dragging?" _58zp":"")+" _58z_"+(this.props.item.isMovable?"":" _58-6")+" _58-8"};c.$5=function(a){var c=this.$1;a&&!c?this.$1=new(b("Draggable"))(this.$3).setNamespace("AbstractDraggableList").setUseAbsolute(!0).setGrabHandler(this.$8).setDragHandler(this.$9).setDropHandler(this.$10).setUseScroller(this.props.useScroller).addHandle(this.$2):!a&&c&&(c.active&&this.$11(),c.destroy(),this.$1=null)};c.$11=function(){this.$1&&this.$1.killDrag(),this.$12(),this.props.onCancelDrag()};c.$12=function(){this.$1&&this.$1.resetPosition(),this.setState({dragging:!1,width:null}),this.$4&&this.$4.remove(),delete this.$4};return d}(i.Component);e.exports=a;a.defaultProps={useScroller:!0}}),null);
__d("AbstractDraggableList.react",["cx","invariant","AbstractDraggableItem.react","BinarySearch","DOMDimensions","React","Rect","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={targetIndex:null,sourceHeight:null},d.$5=function(a){d.$6=a},d.$7=function(a){var c=d.$6,e=c.childNodes;c=e.length-1-(d.state.targetIndex!==null?1:0);a=b("BinarySearch").leastUpperBound(function(a){d.sourceIndex<=a&&(a+=1);d.state.targetIndex!==null&&d.state.targetIndex<=a&&(a+=1);a=new(b("Rect"))(e[a]);return(a.t+a.b)/2},a,0,c,function(a,b){return a-b});return d.sourceIndex<=a?a+1:a},d.$4=function(a,c){d.sourceIndex=d.props.itemIDs.indexOf(a);d.sourceElem=c;a=b("DOMDimensions").getElementDimensions(d.sourceElem);c=a.height;d.setState({sourceHeight:c});d.$2()},d.$2=function(){var a=new(b("Rect"))(d.sourceElem);a=(a.t+a.b)/2;a=d.$7(a);while(a!==d.props.itemIDs.length&&(!d.props.itemsByID[d.props.itemIDs[a]].isMovable||a===d.sourceIndex))a+=1;d.setState({targetIndex:a})},d.$3=function(){var a=d.props.itemIDs[d.sourceIndex],b=d.state.targetIndex!==d.props.itemIDs.length?d.props.itemIDs[d.state.targetIndex]:null;d.endDrag();d.props.onReorder(a,b)},d.$1=function(){d.endDrag()},d.endDrag=function(){delete d.sourceIndex,delete d.sourceElem,d.setState({sourceHeight:null,targetIndex:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.className,e=c.itemIDs,f=c.itemsByID,g=c.itemsRenderer,j=c.onRemove;c.onReorder;var k=c.onSettingsClick,l=c.placeholderProps,m=c.placeholderRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["className","itemIDs","itemsByID","itemsRenderer","onRemove","onReorder","onSettingsClick","placeholderProps","placeholderRenderer"]);e.length!==0||h(0,367);var n=e.map(function(b){return i.jsx(g,{className:d,item:f[b],onCancelDrag:a.$1,onDrag:a.$2,onDrop:a.$3,onGrab:a.$4,onRemove:j,onSettingsClick:k},b)});if(this.state.targetIndex!==null){e=e[this.sourceIndex];e=f[e];m=m?i.jsx(m,babelHelpers["extends"]({height:this.state.sourceHeight},l||{}),"_placeholder"):i.jsx("li",{className:e.placeholderClassName||"_58-9",style:{height:this.state.sourceHeight}},"_placeholder");n.splice(this.state.targetIndex,0,m)}return i.jsx("ul",babelHelpers["extends"]({},c,{ref:this.$5,className:b("joinClasses")(d,"_58-a"),children:n}))};return c}(i.PureComponent);a.propTypes={className:(c=b("prop-types")).string,itemIDs:c.array.isRequired,itemsByID:c.object.isRequired,itemsRenderer:c.oneOfType([c.func,c.object]).isRequired,onRemove:c.func.isRequired,onReorder:c.func.isRequired,onSettingsClick:c.func,placeholderRenderer:c.func,placeholderProps:c.object};a.defaultProps={itemsRenderer:b("AbstractDraggableItem.react")};e.exports=a}),null);
__d("FDSCloseButton.react",["fbt","React","SUICloseButton.react","SUICloseButtonUniform.fds","makeFDSStandardComponent","makeSUIFDSPrivateTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("makeSUIFDSPrivateTheme")("FDSCloseButton",{SUICloseButton:b("SUICloseButtonUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return h.jsx(b("SUICloseButton.react"),{"data-hover":a.tooltipContent!==null&&a.tooltipContent!==void 0?"tooltip":null,"data-testid":void 0,"data-tooltip-alignH":a.tooltipAlignH,"data-tooltip-content":a.tooltipContent,"data-tooltip-position":a.tooltipPosition,disabled:a.isDisabled,id:a.id,label:a.label,layerCancel:a.layerCancel,margin:a.margin,onClick:a.onClick,onFocus:a.onFocus,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,shade:a.shade,size:a.size,theme:i})};return c}(h.PureComponent);a.defaultProps={isDisabled:!1,label:g._("Close"),shade:"dark",size:"small"};c=b("makeFDSStandardComponent")("FDSCloseButton",a);e.exports=c}),null);
__d("InputLabelLabel_DEPRECATED.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return g.jsx("label",babelHelpers["extends"]({},a,{children:b}))};return b}(g.Component);e.exports=a}),null);
__d("InputLabel_DEPRECATED.react",["cx","invariant","React","joinClasses","prop-types","uniqueID"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){this.props.children.length===2||h(0,5084);var a=this.props.children[0],c=this.props.children[1],d=a.type==="input";a=i.cloneElement(a,{className:b("joinClasses")(a.props.className,"uiInputLabelInput"+(d&&a.props.type==="radio"?" uiInputLabelRadio":"")+(d&&a.props.type==="checkbox"?" uiInputLabelCheckbox":"")),id:a.props.id||b("uniqueID")()});c=i.cloneElement(c,{className:b("joinClasses")(c.props.className,"uiInputLabelLabel"),htmlFor:a.props.id});d="uiInputLabel clearfix"+(this.props.display==="inline"?" inlineBlock":"")+(d?" uiInputLabelLegacy":"");return i.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,d),children:[a,c]}))};return c}(i.Component);e.exports=a;a.propTypes={display:b("prop-types").oneOf(["block","inline"])};a.defaultProps={display:"block"}}),null);
__d("AbstractPopoverButton.react",["cx","React","URI","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.config,c={},d=a.defaultMaxWidth;this.props.maxwidth!==void 0&&(d=this.props.maxwidth);d&&(c.style=babelHelpers["extends"]({},a.button.props.style,{maxWidth:d+"px"}));this.props.image&&(c.image=i.jsx("span",{className:"_-xe _3-8_",children:this.props.image}));this.props.label&&(c.labelIsHidden=this.props.labelIsHidden,c.label=i.jsx("span",{className:"_55pe",children:this.props.label}));this.props.haschevron&&(c.imageRight=i.jsx("span",{className:"_4o_3",children:a.chevron}));c.className=b("joinClasses")(a.button.props.className,"_2agf _4o_4");c.href=new(h||(h=b("URI")))("#");c["aria-haspopup"]=!0;c.role="button";return i.cloneElement(a.button,c)};return c}(i.Component);e.exports=a;a.propTypes={config:(c=b("prop-types")).object.isRequired,haschevron:c.bool,label:c.node,labelIsHidden:c.bool,maxwidth:c.number};a.defaultProps={haschevron:!0}}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}}),null);
__d("Spotlight",["csx","cx","Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerTabIsolation","ModalLayer","Vector","classWithMixins","joinClasses","mixin"],(function(a,b,c,d,e,f,g,h){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;c.stageMinSize=new(b("Vector"))(0,0);c.stagePadding=new(b("Vector"))(0,0);return c}var d=c.prototype;d._buildWrapper=function(a,c){a=b("joinClasses")("_n8"+(a.wash==="dark"||!a.wash?" _3qx":"")+(a.wash==="xui"?" _4-hy":"")+(a.wash==="blur"?" _99rc":""),a.rootClassName);return b("JSXDOM").div({className:a},b("JSXDOM").div({className:"_n9"},c))};d._getDefaultBehaviors=function(){return a.prototype._getDefaultBehaviors.call(this).concat([i,b("LayerAutoFocus"),b("LayerButtons"),b("LayerTabIsolation"),b("ModalLayer")])};d.getContentRoot=function(){this._content||(this._content=b("DOM").find(this.getRoot(),"div._n3"));return this._content};d.configure=function(a){a.stageMinSize&&(this.stageMinSize=a.stageMinSize),a.stagePadding&&(this.stagePadding=a.stagePadding)};d.onContentLoaded=function(){this.inform("content-load")};d.updatePermalink=function(a){this.inform("permalinkchange",a)};return c}(b("classWithMixins")(b("Layer"),b("mixin")(b("ArbiterMixin"))));Object.assign(a.prototype,{stageMinSize:null,stagePadding:null});var i=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe(["show","hide"],function(a,c){a==="show"?b("Arbiter").inform("layer_shown",{type:"Spotlight"}):b("Arbiter").inform("layer_hidden",{type:"Spotlight"})})};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};return a}();Object.assign(i.prototype,{_subscription:null});e.exports=a}),null);
__d("Spotlight.react",["LayerAutoFocusReact","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","ReactLayer","Spotlight","prop-types"],(function(a,b,c,d,e,f){c=b("ReactLayer").createClass({propTypes:{causalElement:(a=b("prop-types")).instanceOf(HTMLElement),onHide:a.func,rootClassName:a.string,shown:a.bool,wash:a.oneOf(["light","xui","dark","blur"])},getDefaultEnabledBehaviors:function(){return{hideOnBlur:b("LayerHideOnBlur"),hideOnEscape:b("LayerHideOnEscape"),refocusOnHide:b("LayerRefocusOnHide"),autoFocus:b("LayerAutoFocusReact")}},createLayer:function(a){var c=this.enumerateBehaviors(this.props.behaviors);c={addedBehaviors:c,rootClassName:this.props.rootClassName,wash:this.props.wash};c=new(b("Spotlight"))(c,a);c.setCausalElement(this.props.causalElement);c.conditionShow(this.props.shown);this.props.onBeforeHide&&c.subscribe("beforehide",this.props.onBeforeHide);this.props.onHide&&c.subscribe("hide",this.props.onHide);return c},receiveProps:function(a){this.layer&&(this.layer.setCausalElement(a.causalElement),this.layer.conditionShow(a.shown))}});d=c;e.exports=d}),null);
__d("SRXUIBadge.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.isInt=function(a){return parseInt(a,10)===a};d.render=function(){var a=this.props.count,c=this.props.maxcount;c==null&&(c=20);this.isInt(a)||h(0,186);this.isInt(c)||h(0,187);var d="_5ugh _5ugf _51lp"+(a>c?" _51lr":"")+(a===0?" hidden_elem":"");return i.jsx("span",{className:b("joinClasses")(this.props.className,d),children:a>c?c:a})};return c}(i.Component);e.exports=a}),null);
__d("XUIContextualDialogBody.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("div",{className:this.props.className,children:this.props.children})};return b}(g.Component);e.exports=a}),null);
__d("XUIContextualDialogFooter.react",["cx","React","XUIOverlayFooter.react","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("XUIOverlayFooter.react"),{className:b("joinClasses")(this.props.className,"_572u"),children:this.props.children})};return c}(h.Component);e.exports=a}),null);
__d("XUIContextualDialogTitle.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.use;a=b("joinClasses")("_47lu"+(a==="primary"?" _47lv":"")+(a==="secondary"?" _47mc":""),this.props.className);return h.jsx("h3",{className:a,id:this.props.id,children:this.props.children})};return c}(h.Component);e.exports=a;a.defaultProps={use:"primary"}}),null);
__d("XUIContextualDialog.react",["cx","fbt","ContextualDialogXUITheme","React","ReactAbstractContextualDialog","ReactLayer","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"ReactXUIContextualDialog",theme:b("ContextualDialogXUITheme")}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.updatePosition=function(){var a=c.refs.dialog;a&&a.layer.updatePosition()};c.$1=c.$1||b("uniqueID")();return c}var d=c.prototype;d.$2=function(){return this.$3(b("XUIContextualDialogBody.react"))};d.$4=function(){return this.$3(b("XUIContextualDialogTitle.react"))};d.$5=function(){return this.$3(b("XUIContextualDialogFooter.react"))};d.$3=function(a){var b=null;i.Children.forEach(this.props.children,function(c){!b&&c&&c.type===a&&(b=c)});return b};d.$6=function(){return h._("Dialog content")};d.render=function(){var a=this.props.children,c=this.$2(),d=this.$4(),e={};this.props.labelledBy?e.labelledBy=this.props.labelledBy:this.props.label?e.label=this.props.label:d?(d=i.cloneElement(d,{id:this.$1}),e.labelledBy=this.$1):e.label=this.$6();c&&(a=i.jsxs("div",{className:b("joinClasses")(this.props.className,"_53iv"),children:[d,c]}));return i.jsxs(j,babelHelpers["extends"]({},this.props,e,{ref:"dialog",children:[a,c?this.$5():null]}))};return c}(i.Component);e.exports=a;a.WIDTH={NORMAL:312,WIDE:400};a.defaultProps={dialogRole:"dialog",hasActionableContext:!1,hideOnEscape:!0}}),null);
__d("XUIRadioInput.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){!this.props.children||this.props.children.length===0||h(0,1138);var a=b("joinClasses")(this.props.className,"_55sh"),c=babelHelpers["extends"]({},this.props,{className:null});c=i.jsx("input",babelHelpers["extends"]({},c,{type:"radio",children:void 0}));return i.jsxs("label",{className:a,"data-testid":void 0,children:[c,i.jsx("span",{})]})};return c}(i.Component);e.exports=a}),null);
__d("DraftEffectsPerSite",["fbt","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";f.handleExtensionCausedError=a;function a(){b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(g._("An extension installed in your web browser is preventing text entry from working correctly. Please disable any extensions and reload the page."),g._("Text Editing Is Limited"),null,{width:600})},"DraftEffectsPerSite")}}),null);
__d("EmojiDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationDispatcher"))({strict:!1});e.exports=a}),null);
__d("EmojiActions",["EmojiDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.loadedTrayData=a;f.updateTrayData=c;f.changeEmojiColor=d;f.changeCurrentCategory=e;f.getEmojiColor=h;f.emojiColorReady=i;var g=b("keyMirror")({CHANGE_CURRENT_CATEGORY:null,CHANGE_EMOJI_COLOR:null,EMOJI_COLOR_READY:null,GET_EMOJI_COLOR:null,TRAY_DATA_READY:null,UPDATE_TRAY_DATA:null});f.Types=g;function a(){b("EmojiDispatcher").dispatch({type:g.TRAY_DATA_READY})}function c(){b("EmojiDispatcher").dispatch({type:g.UPDATE_TRAY_DATA})}function d(a){b("EmojiDispatcher").dispatch({type:g.CHANGE_EMOJI_COLOR,color:a})}function e(a){b("EmojiDispatcher").dispatch({type:g.CHANGE_CURRENT_CATEGORY,currentCategory:a})}function h(){b("EmojiDispatcher").dispatch({type:g.GET_EMOJI_COLOR})}function i(a){b("EmojiDispatcher").dispatch({type:g.EMOJI_COLOR_READY,color:a})}}),null);
__d("XMessagingGetEmojiRecentUsageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/emoji_recent_usage/",{})}),null);
__d("EmojiServerRequests",["Promise","AsyncRequest","XMessagingGetEmojiRecentUsageController"],(function(a,b,c,d,e,f){"use strict";f.fetchTrayData=a;function a(a){return g(b("XMessagingGetEmojiRecentUsageController").getURIBuilder().getURI(),a,!0)}function g(a,c,d){return new(b("Promise"))(function(c,e){return new(b("AsyncRequest"))(a).setHandler(function(a){return c(a.getPayload())}).setAllowCrossPageTransition(d).send()}).then(c)}}),null);
__d("XMessagingGetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/get_emoji_color/",{})}),null);
__d("XMessagingSetEmojiColorPrefController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_emoji_color/",{})}),null);
__d("EmojiState",["fbt","AsyncRequest","EmojiActions","EmojiServerRequests","MessengerSupportedEmojiUtils","XMessagingGetEmojiColorPrefController","XMessagingSetEmojiColorPrefController","promiseDone","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";f.onTrayDataReady=a;f.getEmojiColor=c;f.changeEmojiColor=d;f.addMRUCategory=e;f._addRecentlyUsedEmoji=k;f.getMRUCategory=l;f.updateRecentlyUsed=m;var h=null,i=null,j;function a(a){j||(j=b("EmojiServerRequests").fetchTrayData(function(a){i=a})),b("promiseDone")(j,function(){a(),b("EmojiActions").loadedTrayData()})}function c(){var a=b("XMessagingGetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){b("EmojiActions").emojiColorReady(a.payload)}).send()}function d(a){var c=b("XMessagingSetEmojiColorPrefController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({color:a}).send()}function e(){if(i){var a=i.map(function(a){return b("MessengerSupportedEmojiUtils").getSupportedEmojiCodesArray(a)}).filter(function(a){return!!a});h={name:g._("Recently Sent"),emojis:a,icon:[128340]};b("setImmediate")(b("EmojiActions").updateTrayData);i=null}}function k(a){var c=h&&h.emojis;if(!c)return;var d=function(b){var d=a[b];for(var b=0;b<c.length;++b)if(c[b].length==d.length&&c[b].every(function(a,b){return a===d[b]})){c.splice(b,1);break}c.unshift(d)};for(var e=0;e<a.length;++e)d(e);b("EmojiActions").updateTrayData()}function l(){h||this.addMRUCategory();return h}function m(a){if(!h){this.addMRUCategory();return}this._addRecentlyUsedEmoji(a)}}),null);
__d("EmojiStateStore",["EmojiActions","EmojiDispatcher","EmojiState","FluxStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("EmojiDispatcher"))||this;b("EmojiState").getEmojiColor();c.$EmojiStateStore2=!1;return c}var d=c.prototype;d.getState=function(){var a=b("EmojiState").getMRUCategory();return{currentCategory:this.$EmojiStateStore4,emojiColor:this.$EmojiStateStore3,mruCategory:[a],threadID:this.$EmojiStateStore1,trayDataReady:this.$EmojiStateStore2}};d.__onDispatch=function(a){var c=b("EmojiActions").Types;switch(a.type){case c.GET_EMOJI_COLOR:b("EmojiState").getEmojiColor();break;case c.EMOJI_COLOR_READY:this.$EmojiStateStore3=a.color;break;case c.CHANGE_EMOJI_COLOR:b("EmojiState").changeEmojiColor(a.color);this.$EmojiStateStore3=a.color;break;case c.CHANGE_CURRENT_CATEGORY:this.$EmojiStateStore4=a.currentCategory;break;case c.UPDATE_TRAY_DATA:break;case c.TRAY_DATA_READY:this.$EmojiStateStore2=!0;break}this.__emitChange()};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("FBRTCAvailability",["ChannelConstants","PresenceStatus"],(function(a,b,c,d,e,f){"use strict";f.isCallable=a;function a(a){a=b("PresenceStatus").getCapabilities(a);var c=b("ChannelConstants").CAPABILITY_VOIP_INTEROP;return!!(a&c)}}),null);
__d("FBRTCCallUIWrapper",["regeneratorRuntime","Bootloader","FBRTCLogger","QuickPerformanceLogger","UserAgent","gkx"],(function(a,b,c,d,e,f){"use strict";f.openGroupCallUI=a;f.openGroupCallURI=c;f.openAsCaller=d;f.openAsCallee=e;f._shouldFocusCallWindow=k;f._shouldCloseCallWindow=l;f._openWindow=m;f._windowDimension=n;f._windowPosition=o;f._isSparkBrowser=p;var g=b("FBRTCLogger").Trigger,h=null,i=0;function j(){return"Video Call "+i}function a(a,c,d,e,f,g,i){return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:h=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallUI(a,c,d,e,f,g,h,i)},"FBRTCCallUIWrapper");case 2:case"end":return j.stop()}},null,this)}function c(a,c,d,e,f,g,i,j,k){return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:h=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallURI({conferenceName:a,callID:c,hasVideo:d,initializeVideo:e,serverInfoData:i,trigger:j,callSummary:k,callWindow:h,multiwayWwwTier:g,multiwayCoreTier:f})},"FBRTCCallUIWrapper");case 2:case"end":return l.stop()}},null,this)}function d(a,c,d,e,f){!h&&window.rtcCallChildWindow&&(h=window.rtcCallChildWindow,window.rtcCallChildWindow=null);try{if(this._shouldFocusCallWindow(a)){h&&h.focus();d===g.WORKPLACE_P2P_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,105);return}this._shouldCloseCallWindow()&&(h&&h.close())}catch(a){if(a.name==="SecurityError")b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"call_window_navigated_away"})},"FBRTCCallUIWrapper"),h=null,i++;else{d===g.WORKPLACE_P2P_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,3);throw a}}h=this._openWindow(j(),{isP2P:!0});b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCaller(a,c,d,e,h,f)},"FBRTCCallUIWrapper");d===g.WORKPLACE_P2P_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,2)}function e(a,c,d,e,f){h=this._openWindow(j(),{isP2P:!0}),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCallee(a,c,d,e,h,f)},"FBRTCCallUIWrapper")}function k(a){return!!h&&!h.closed&&h.rtcCallInProgessWith===a}function l(){return!!h&&!h.closed&&!h.rtcCallInProgessWith}function m(a,c){c=c===void 0?{isP2P:!1}:c;c=c.isP2P;c=c===void 0?!1:c;c=this._windowPosition({isP2P:c});c=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",c.height,c.width,c.top,c.left].join(",");this._isSparkBrowser()&&(c="");b("gkx")("859726")&&b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_www_new_tab"})},"FBRTCCallUIWrapper");a=b("gkx")("859726")?window.open("","_blank"):window.open("",a,c);window.callWindow=a;return a}function n(a){a=a.isP2P;var b=960,c=540;screen&&screen.width>1280&&(!a?(b=1100,c=772):(b=1280,c=720));return{height:c,width:b}}function o(a){a=a.isP2P;a=a===void 0?!1:a;var b,c,d,e;a=n({isP2P:a});var f=a.height;a=a.width;window.innerWidth!==void 0?(c=window.innerWidth,b=window.innerHeight):(c=screen.width,b=screen.height);window.screenLeft!==void 0?(d=window.screenLeft,e=window.screenTop):(d=window.screenX,e=window.screenY);c=Math.floor(c/2-a/2+d);d=Math.floor(b/2-f/2+e);return{height:"height="+f.toString(),width:"width="+a.toString(),top:"top="+d.toString(),left:"left="+c.toString()}}function p(){return b("UserAgent").isBrowser("Chrome < 34")&&b("UserAgent").isBrowser("Chrome > 33")}}),null);
__d("deepFreezeValue",["ImmutableValue"],(function(a,b,c,d,e,f){function a(a){if(a===null||a===void 0)return;switch(typeof a){case"string":return;case"boolean":return;case"number":return;case"function":return;default:b("ImmutableValue").deepFreezeRootNode(a)}}e.exports=a}),null);
__d("RTWebCallTriggerMapping",["deepFreezeValue"],(function(a,b,c,d,e,f){"use strict";a={chat_sidebar:{surface:"chat_sidebar",component:"recent_calls"},chat_sidebar_audio_button:{surface:"chat_sidebar",component:"audio_button"},chat_sidebar_video_button:{surface:"chat_sidebar",component:"video_button"},chattab_audio_button:{surface:"chat_tab",component:"audio_button"},chattab_video_button:{surface:"chat_tab",component:"video_button"},messenger_bubble_free_call:{surface:"messenger_bubble",component:"free_call"},messenger_group_bubble_free_call:{surface:"messenger_bubble",component:"free_call"},messenger_dot_com_missed_call_dialog:{surface:"missed_call_dialog",component:"start_call_button"},messenger_dot_com_video_call:{surface:"messenger_header",component:"video_button"},messenger_dot_com_audio_call:{surface:"messenger_header",component:"audio_button"},timeline_audio:{surface:"timeline_top_section",component:"audio_button"},timeline_video:{surface:"timeline_top_section",component:"video_button"},messenger_dot_com_work_hovercard:{surface:"work_hovercard",component:"start_call_button"},admin_message:{surface:"admin_message",component:"start_call_button"},return_call:{surface:"missed_call_dialog",component:"start_call_button"},popup_start_call_button:{surface:"call_container",component:"start_call_button"},redial_button:{surface:"call_container",component:"redial"},web_messenger:{surface:"work_profile",component:"start_call_button"},workplace_group_call:{surface:"workplace_group_chat",component:"start_call_button"},workplace_p2p_call:{surface:"workplace_p2p_chat",component:"start_call_button"},quickdial:{surface:"work_profile",component:"start_call_button"},intern_search_meeting_room_unit:{surface:"meeting_room_intern_search_card",component:"start_call_button"},meeting_room_map_dialog:{surface:"meeting_room_map_dialog",component:"start_call_button"},meeting_room_page_profile:{surface:"meeting_room_profile",component:"start_call_button"}};b("deepFreezeValue")(a);c=a;e.exports=c}),null);
__d("generateRTCCallID",["randomInt"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("randomInt")(0,4294967294)+1}}),null);
__d("FBRTCCore",["invariant","Bootloader","FBLogger","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCLogger","FBRTCSupport","QuickPerformanceLogger","RTWebCallTriggerMapping","RTWebUserActionLogger","generateRTCCallID","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBRTCLogger").Trigger,i=!1;a={startOutgoingCall:function(a,c,d,e,f){e===void 0&&(e=!1);f===void 0&&(f=null);if(!b("gkx")("1811099"))return;/\D/.test(a)&&g(0,2478);var j=b("generateRTCCallID")(),k=b("RTWebCallTriggerMapping")[c];(k===null||k===void 0)&&b("FBLogger")("rtweb").mustfix("Unexpected or unknown call trigger: %s",c);b("RTWebUserActionLogger").logPreCallClick(babelHelpers["extends"]({},k,{callID:j.toString(),mediaType:b("RTWebUserActionLogger").getMediaType(d),callType:"p2p"}));if(i)return;c===h.WORKPLACE_P2P_CALL&&(b("QuickPerformanceLogger").markerStart(12451873),b("QuickPerformanceLogger").markerAnnotate(12451873,{string:{SOURCE:c}}));i=!0;b("setTimeout")(function(){i=!1},1e3);e&&!b("FBRTCSupport").isCollabSupported()?(b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(b,c){b.showForUnsupportedCollabCall(),c.logBrowserNotSupported({peerID:a})},"FBRTCCore"),c===h.WORKPLACE_P2P_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,3)):!b("FBRTCSupport").isWebrtcSupported()?(b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage"],function(a){a.showForOutgoingCall(),b("RTWebUserActionLogger").logError({callID:j.toString(),callType:"p2p",mediaType:b("RTWebUserActionLogger").getMediaType(d),errorDomain:"unsupported browser"})},"FBRTCCore"),c===h.WORKPLACE_P2P_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,3)):b("FBRTCCallUIWrapper").openAsCaller(a,j,c,d,f)},startGroupCall:function(a){var c=a.conferenceName,d=a.hasVideo,e=a.serverInfoData,f=a.trigger;a=a.usersToRing;a=a===void 0?[]:a;if(!b("gkx")("1811099"))return;if(i)return;f===h.WORKPLACE_GROUP_CALL&&(b("QuickPerformanceLogger").markerStart(12451873),b("QuickPerformanceLogger").markerAnnotate(12451873,{string:{SOURCE:f}}));i=!0;b("setTimeout")(function(){i=!1},1e3);if(!b("FBRTCSupport").isGroupCallWebtrcSupported()){b("Bootloader").loadModules(["MessengerRTCUnsupportedBrowserDialogController"],function(a){b("RTWebUserActionLogger").logError({callType:"mw",conferenceName:c,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"}),a.render({hasVideo:d,isGroupCall:!0})},"FBRTCCore");f===h.WORKPLACE_GROUP_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,3);return}b("FBRTCCallUIWrapper").openGroupCallUI(c,b("generateRTCCallID")(),a,d,d,f,e);f===h.WORKPLACE_GROUP_CALL&&b("QuickPerformanceLogger").markerEnd(12451873,2)},isAvailableForWebrtcCalling:function(a){return!b("gkx")("1811099")?!1:b("FBRTCAvailability").isCallable(a)}};e.exports=a}),null);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("ZenonParentCallsManager");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonIncomingRingSDK1=[],c.$ZenonIncomingRingSDK2=[],b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a){var b=this;this.$ZenonIncomingRingSDK3=a;g.onReady(function(c){b.callsManager==null&&(b.callsManager=new c(a));c=b.callsManager;c.addListener("unsupportedRing",function(a){return b.emit("unsupportedRing",a)});c.addListener("incomingRing",function(a){return b.emit("incomingRing",a)});c.addListener("ringCancel",function(a){return b.emit("ringCancel",a)});c.initListeners(b.$ZenonIncomingRingSDK1);while(b.$ZenonIncomingRingSDK2.length>0){var d=b.$ZenonIncomingRingSDK2.shift();c.startOutgoingCallIntent(d.nonce,d.callSummaryParams)}})};c.initListeners=function(a){var b=this.callsManager;if(b!=null)b.initListeners(a);else{(b=this.$ZenonIncomingRingSDK1).push.apply(b,a)}};c.removeListeners=function(a){var b=this;if(this.callsManager!=null)this.callsManager.removeListeners(a);else{var c=function(){if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var a=g;b.$ZenonIncomingRingSDK1=b.$ZenonIncomingRingSDK1.filter(function(b){return b!==a})};for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;a=c();if(a==="break")break}}};c.isCallSupported=function(a){if(this.$ZenonIncomingRingSDK3)switch(a.type){case"thread":if(a.threadType===1)return this.$ZenonIncomingRingSDK3.isSupportedClientForProtocol("p2p");else if(a.threadType===2)return this.$ZenonIncomingRingSDK3.isSupportedClientForProtocol("mw");break;default:return!1}return!1};c.startCallIntent=function(a,b){this.callsManager?this.callsManager.startOutgoingCallIntent(a,b):this.$ZenonIncomingRingSDK2.push({callSummaryParams:b,nonce:a})};return b}(b("BaseEventEmitter"));e.exports=a}),null);
__d("RTWebPreCallContextSingleton",["FBLogger","JSResource","RTWebCallWindowControllerLoader","RTWebIncomingRingConfiguration","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f){"use strict";f.create=a;f.init=c;f.get=d;var g=b("requireDeferred")("RTWebSignalingListener"),h=!1,i;function a(a){if(!b("gkx")("1811099"))return null;if(i!=null)return i;try{var c=new(b("ZenonIncomingRingSDK"))();i={callInviteModel:new(b("ZenonCallInviteModelLoader"))(c),callWindowController:new(b("RTWebCallWindowControllerLoader"))(a,b("JSResource")("RTWebMercuryCallWindowInitializer").__setRef("RTWebPreCallContextSingleton")),incomingRingSDK:c};return i}catch(a){b("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}}function c(){if(!b("gkx")("1811099"))return null;if(h)return i;h=!0;i.callInviteModel.init();i.callWindowController.init();i.incomingRingSDK.init({isSupportedClientForProtocol:b("RTWebIncomingRingConfiguration").isSupportedClientForProtocol});b("promiseDone")(g.load(),function(a){i.incomingRingSDK.initListeners([new a()])});return i}function d(){return i}}),null);
__d("StartVideoChatLinkCall",["FBLogger","RelayFBDefaultEnvironment","RTWebPreCallContextSingleton","URI","XGroupCallController","randomZenonCallID","randomZenonNonce","gkx"],(function(a,b,c,d,e,f){"use strict";f.startCall=a;var g,h=b("RTWebPreCallContextSingleton").create({relayEnvironment:b("RelayFBDefaultEnvironment")});function a(a,c,d,e){c===void 0&&(c=!1);d===void 0&&(d=!1);e===void 0&&(e="");if(!b("gkx")("1811099"))return null;if(h){var f=h.callWindowController,g=h.incomingRingSDK,j="",k=a,l=b("randomZenonCallID")();if(c){c=i(a);j=b("randomZenonNonce")();c!=null&&(k=b("XGroupCallController").getURIBuilder().setString("call_context","LINK:"+c).setString("funnel_session_id",e).setString("nonce",j).setBool("auto_join",d?!0:null).getURI().getQualifiedURI().toString())}a=f.initCall({context:{callID:l,intent:"start or join",invitees:[],existingCall:null},mediaType:"video",nonce:j,joinContext:{linkUrl:k,type:"link"}});c=a[0];a[1];g.startCallIntent(j,{callID:l,callTrigger:"meetup_join",isPopupBlocked:c===null,isVideo:!0,peerID:"MW_PEER_ID",protocol:"mw"});return c}else return null}function i(a){var c=new(g||(g=b("URI")))(a),d=c.getDomain();c=c.stripTrailingSlash().getPath();if(d==="msngr.com")return c.substring(1);if(d==="m.me"&&/^\/v(id)?\//.test(c))return c.replace(/^\/v(id)?\//,"");b("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return null}}),null);
__d("NewVideoChatLinkCall",["regeneratorRuntime","MessengerCreateVideoChatLinkCallMutation","MessengerCreateVideoMeetupLinkMutation","RelayFBEnvironment","StartVideoChatLinkCall","VideoChatLinksUserActionsMultiplexLogger","gkx"],(function(a,b,c,d,e,f){"use strict";f.start=a;function a(a,c,d){var e,f;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:if(b("gkx")("1811099")){j.next=2;break}return j.abrupt("return",null);case 2:h(a,c,d,"meetup_attempt_create_meetup");j.prev=3;j.next=6;return b("regeneratorRuntime").awrap(b("MessengerCreateVideoMeetupLinkMutation")(b("RelayFBEnvironment"),{allowAnonymousGuests:!b("gkx")("1224637"),linkSurface:b("gkx")("1224637")?"WORKPLACE":void 0,visibilityMode:b("gkx")("1224637")?"NONE":"WHITELISTED_PARTICIPANTS"},a));case 6:e=j.sent;f=e.linkUrl;if(!(f!=null)){j.next=11;break}g(a,c,d).setEvent("meetup_create_success").setVideoCallLinkURLRaw(f).log();return j.abrupt("return",b("StartVideoChatLinkCall").startCall(f,!0,!1,a));case 11:j.next=17;break;case 13:j.prev=13;j.t0=j["catch"](3);i(a,c,d,j.t0);throw j.t0;case 17:return j.abrupt("return",null);case 18:case"end":return j.stop()}},null,this,[[3,13]])}function g(a,c,d){return new(b("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(c).setComponent(d)}function h(a,b,c,d){g(a,b,c).setEvent(d).log()}function i(a,b,c,d){h(a,b,c,"meetup_create_failed"),g(a,b,c).setEvent("error").setErrorType("LinkCreationError "+d.name).setErrorDetails(d.description).log()}}),null);
__d("FBRTCCallabilityActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});a=function(){function a(a){this.$1=a}var b=a.prototype;b.callabilityFetched=function(a,b){this.$1.dispatch({type:g.CALLABILITY_FETCHED,userID:a,callability:b})};b.callabilityFetchError=function(a){this.$1.dispatch({type:g.CALLABILITY_FETCH_ERROR,userID:a})};return a}();e.exports=a;a.Types=g}),null);
__d("XRTCCallabilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:!0}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new(b("FBRTCCallabilityActions"))(a)}var c=a.prototype;c.fetchCallability=function(a){var c=this;b("TimeSlice").guard(function(){var d=b("XRTCCallabilityController").getURIBuilder().setFBID("user_id",a).getURI(),e=c.$2.bind(c,a),f=c.$3.bind(c,a);new(b("AsyncRequest"))().setURI(d).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).send()},"Chat Tab RTC Callability Check",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};c.$2=function(a,b){this.$1.callabilityFetched(a,b.payload)};c.$3=function(a,b){this.$1.callabilityFetchError(a)};return a}();e.exports=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.$6=function(c){var d=a.$5;if(d!=null){var e=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(e!=null&&d[e]!=null&&d[e]!=void 0)return d[e]}return a.$2?c.short_name:c.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var c=a.prototype;c.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};c.setIsNewThread=function(a){this.$1=a;return this};c.setNameRenderer=function(a){this.$6=a;return this};c.setUseShortName=function(a){this.$2=a;return this};c.setNickname=function(a){this.$5=a;return this};c.setUseAndSeparator=function(a){this.$3=a;return this};c.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();e.exports=a;function h(a){if(a)return g._("New Message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.displayViewerName,d=a.viewer,e=a.participants;a=a.className;var f=b("MercuryIDs").getParticipantIDFromUserID(d);d=Object.keys(e.toJS());d.length>1&&(d=d.filter(function(a){return a!==f||c}));d=d.map(function(a){return e.get(a)});d=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(d);return g.jsx("span",{className:a,children:d})}}),null);
__d("Cache",["DateConsts","TimeSlice"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var c=a.prototype;c.has=function(a){return this.$1.has(a)};c.get=function(a,b){a=this.__getRaw(a);return!a?b:a.$2};c.getAll=function(a,b){var c=this,d=new Map();a.forEach(function(a){return d.set(a,c.get(a,b))});return d};c["delete"]=function(a){var b=this.__getRaw(a);b&&b.$3&&clearTimeout(b.$3);return this.$1["delete"](a)};c.clear=function(){this.$1.forEach(function(a){a&&a.$3&&clearTimeout(a.$3)}),this.$1.clear()};c.set=function(a,c,d,e){if(!this.shouldUpdate(a,d))return!1;var f=this.__getRaw(a);f||(f=this.__getNewRawObject());delete f.$2;delete f.$4;f.$3&&clearTimeout(f.$3);delete f.$3;f.$2=c;d!=null&&(f.$4=d);e!=null&&e>=0&&(f.$3=setTimeout(b("TimeSlice").guard(this["delete"].bind(this,a),"Cache expiration timeout"),e*b("DateConsts").MS_PER_SEC*b("DateConsts").SEC_PER_MIN));this.__setRaw(a,f);return!0};c.shouldUpdate=function(a,b){a=this.__getRaw(a);return a==null||a.$4==null||b==null||b>a.$4};c.size=function(){return this.$1.size};c.__getRaw=function(a){return this.$1.get(a)};c.__setRaw=function(a,b){this.$1.set(a,b)};c.__getNewRawObject=function(){return{$2:null,$3:null,$4:null,$5:null,$6:null}};c.__keys=function(){return this.$1.keys()};return a}();e.exports=a}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","MercuryThreadInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$RTCCallabilityStore2=new(b("FBRTCCallabilityDataManager"))(c);d.$RTCCallabilityStore1=new(b("Cache"))();return d}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;switch(c){case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:c=a.userID;var d=a.callability;this.$RTCCallabilityStore1.set(c,{callable:d.is_callable,isBlocked:d.is_blocked},null,d.is_callable?i:h);this.__emitChange();break;case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(a.userID,{callable:!1,isBlocked:!1},null,h);this.__emitChange();break}};d.isCallable=function(a,b){b=b?b.message_count>0&&b.folder==="inbox":!1;a=this.fetchUserFromCache(a);return a&&a.callable||b};d.isBlocked=function(a,c){c=c?b("MercuryThreadInfo").canReply(c):!0;a=this.fetchUserFromCache(a);return a&&a.isBlocked||!c};d.fetchUserFromCache=function(a){this.$RTCCallabilityStore1.has(a)||(this.$RTCCallabilityStore2.fetchCallability(a),this.$RTCCallabilityStore1.set(a,{callable:!1,isBlocked:!1},null,h));return this.$RTCCallabilityStore1.get(a)};d.callButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return this.isBlocked(a,d)||c||this.isCallable(a)?g._("Start a video chat with {shortname}",[g._param("shortname",b)]):g._("{shortname} is currently unavailable for video calling",[g._param("shortname",b)])};d.voiceCallButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return this.isBlocked(a,d)||c||this.isCallable(a)?g._("Start a voice call with {shortname}",[g._param("shortname",b)]):g._("{shortname} is currently unavailable for voice calling",[g._param("shortname",b)])};return c}(b("FluxStore"));e.exports=a;a.__moduleID=e.id}),null);
__d("UnicodeBidiDirection",["invariant"],(function(a,b,c,d,e,f,g){"use strict";f.isStrong=j;f.getHTMLDir=k;f.getHTMLDirIfDifferent=a;b="NEUTRAL";f.NEUTRAL=b;var h="LTR";f.LTR=h;var i="RTL";f.RTL=i;function j(a){return a===h||a===i}function k(a){j(a)||g(0,3045);return a===h?"ltr":"rtl"}function a(a,b){j(a)||g(0,3045);j(b)||g(0,3046);return a===b?null:k(a)}}),null);
__d("UnicodeBidiGlobalDirectionCore",["invariant","UnicodeBidiDirection"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){h=a}function a(){i(b("UnicodeBidiDirection").LTR)}function c(){h||this.initDir();h||g(0,548);return h}d={setDir:i,initDir:a,getDir:c};e.exports=d}),null);
__d("UnicodeBidiGlobalDirection",["Locale","UnicodeBidiDirection","UnicodeBidiGlobalDirectionCore"],(function(a,b,c,d,e,f){"use strict";b("UnicodeBidiGlobalDirectionCore").initDir=function(){b("UnicodeBidiGlobalDirectionCore").setDir(b("Locale").isRTL()?b("UnicodeBidiDirection").RTL:b("UnicodeBidiDirection").LTR)},e.exports=b("UnicodeBidiGlobalDirectionCore")}),null);
__d("UnicodeBidi",["invariant","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g){"use strict";f.firstStrongChar=j;f.firstStrongCharDir=k;f.resolveBlockDir=l;f.getDirection=m;f.isDirectionLTR=a;f.isDirectionRTL=c;d={L:"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u02bb-\u02c1\u02d0\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0482\u048a-\u052f\u0531-\u0556\u0559-\u055f\u0561-\u0587\u0589\u0903-\u0939\u093b\u093d-\u0940\u0949-\u094c\u094e-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd-\u09c0\u09c7\u09c8\u09cb\u09cc\u09ce\u09d7\u09dc\u09dd\u09df-\u09e1\u09e6-\u09f1\u09f4-\u09fa\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd-\u0ac0\u0ac9\u0acb\u0acc\u0ad0\u0ae0\u0ae1\u0ae6-\u0af0\u0b02\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0b5c\u0b5d\u0b5f-\u0b61\u0b66-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58\u0c59\u0c60\u0c61\u0c66-\u0c6f\u0c7f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cc4\u0cc6-\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0cde\u0ce0\u0ce1\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60\u0d61\u0d66-\u0d75\u0d79-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df4\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e4f-\u0e5b\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00-\u0f17\u0f1a-\u0f34\u0f36\u0f38\u0f3e-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fda\u1000-\u102c\u1031\u1038\u103b\u103c\u103f-\u1057\u105a-\u105d\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108c\u108e-\u109c\u109e-\u10c5\u10c7\u10cd\u10d0-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u167f\u1681-\u169a\u16a0-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7\u17c8\u17d4-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a16\u1a19\u1a1a\u1a1e-\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aad\u1b04-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b4b\u1b50-\u1b6a\u1b74-\u1b7c\u1b82-\u1ba1\u1ba6\u1ba7\u1baa\u1bae-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1bfc-\u1c2b\u1c34\u1c35\u1c3b-\u1c49\u1c4d-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u302e\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u31ba\u31f0-\u321c\u3220-\u324f\u3260-\u327b\u327f-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua60c\ua610-\ua62b\ua640-\ua66e\ua680-\ua69d\ua6a0-\ua6ef\ua6f2-\ua6f7\ua722-\ua787\ua789-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua824\ua827\ua830-\ua837\ua840-\ua873\ua880-\ua8c3\ua8ce-\ua8d9\ua8f2-\ua8fb\ua900-\ua925\ua92e-\ua946\ua952\ua953\ua95f-\ua97c\ua983-\ua9b2\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9cd\ua9cf-\ua9d9\ua9de-\ua9e4\ua9e6-\ua9fe\uaa00-\uaa28\uaa2f\uaa30\uaa33\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa7b\uaa7d-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaaeb\uaaee-\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5f\uab64\uab65\uabc0-\uabe4\uabe6\uabe7\uabe9-\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",R:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05ff\u07c0-\u07ea\u07f4\u07f5\u07fa-\u0815\u081a\u0824\u0828\u082e-\u0858\u085c-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb4f",AL:"\u0608\u060b\u060d\u061b-\u064a\u066d-\u066f\u0671-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u0710\u0712-\u072f\u074b-\u07a5\u07b1-\u07bf\u08a0-\u08e3\ufb50-\ufd3d\ufd40-\ufdcf\ufdf0-\ufdfc\ufdfe\ufdff\ufe70-\ufefe"};var h=new RegExp("["+d.L+d.R+d.AL+"]"),i=new RegExp("["+d.R+d.AL+"]");function j(a){a=h.exec(a);return a==null?null:a[0]}function k(a){a=j(a);return a==null?b("UnicodeBidiDirection").NEUTRAL:i.exec(a)?b("UnicodeBidiDirection").RTL:b("UnicodeBidiDirection").LTR}function l(a,c){c=c||b("UnicodeBidiDirection").NEUTRAL;if(!a.length)return c;a=k(a);return a===b("UnicodeBidiDirection").NEUTRAL?c:a}function m(a,c){c=c||b("UnicodeBidiGlobalDirection").getDir();b("UnicodeBidiDirection").isStrong(c)||g(0,451);return l(a,c)}function a(a,c){return m(a,c)===b("UnicodeBidiDirection").LTR}function c(a,c){return m(a,c)===b("UnicodeBidiDirection").RTL}}),null);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],(function(a,b,c,d,e,f){e.exports=a;function a(a){return b("UnicodeBidi").getDirection(a)===b("UnicodeBidiDirection").RTL}}),null);
__d("concatMap",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){var c=-1,d=b.length,e=[],f;while(++c<d)f=a(b[c],c,b),Array.isArray(f)?Array.prototype.push.apply(e,f):Array.prototype.push.call(e,f);return e}}),null);
__d("LitestandEllipsis",["BinarySearch","DOMQuery","concatMap","getElementText","isTextNode"],(function(a,b,c,d,e,f){var g,h="\u2026";function i(a,b,c){a=a.slice(0,b).join(" ")+h;c===0&&(a=a.trimLeft());return a}function j(a,b,c){a=a.substr(0,b).trimRight()+h;c===0&&(a=a.trimLeft());return a}a={add:function(a,c,d){d=d||a;b("DOMQuery").scry(a,"br").forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)});var e=d.offsetHeight||0;if(e<=c)return;var f=l(a),g=f.length-1,m=c+1;e=function(){var a=b("getElementText")(f[g]).split(/[\n\s]/g),c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],i(a,b,g));return d.offsetHeight||0},m,0,a.length,function(a,b){return a-b});if(c>0){k(f[g],i(a,c,g));return"break"}c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],j(a[0],b,g));return d.offsetHeight||0},m,0,a[0].length-h.length-2,function(a,b){return a-b});if(c>-1){k(f[g],j(a[0],c,g));return"break"}k(f[g],"");g--};while(g>=0){a=e();if(a==="break")break}}};function k(a,b){g=g||(a.textContent!=null?"textContent":"innerText"),a[g]=b}function l(a){return b("isTextNode")(a)?[a]:b("concatMap")(l,Array.from(a.childNodes))}e.exports=a}),null);
__d("MarketplaceMessengerItemThreadLabel.react",["cx","React","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){return a.threadLabel==null||a.threadLabel===""?null:h.jsx("div",{className:"_9cvv",children:h.jsx(b("XUIText.react"),{className:"_9cvw",color:"secondary",size:"body2",children:a.threadLabel})})}}),null);
__d("MarketplaceThreadLabelCategoryEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD_LABEL:"THREAD_LABEL",STRUCTURED_COMMUNICATION_LABEL:"STRUCTURED_COMMUNICATION_LABEL"});e.exports=a}),null);
__d("MarketplaceThreadLabelTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({CUSTOM_LABEL:"custom_label",PAID:"paid",AWAITING_PAYMENT:"awaiting_payment",SHIPPED:"shipped",NEEDS_SHIPPING:"needs_shipping",CASH_ON_DELIVERY:"cash_on_delivery",COMPLETED:"completed",OFFER_PENDING:"offer_pending",OFFER_ACCEPTED:"offer_accepted",MEETING_PLAN_PENDING:"meeting_plan_pending",MEETING_PLAN_ACCEPTED:"meeting_plan_accepted",HOME_TOUR_SCHEDULED:"home_tour_scheduled",HOME_TOUR_COMPLETED:"home_tour_completed",APPLICATION_RECEIVED:"application_received",DEPOSIT_RECEIVED:"deposit_received",LEASE_SIGNED:"lease_signed",NOT_PURSUING:"not_pursuing",TEST_DRIVE_SCHEDULED:"test_drive_scheduled",TEST_DRIVE_COMPLETED:"test_drive_completed",FOLLOW_UP_SCHEDULED:"follow_up_scheduled",SALE_PENDING:"sale_pending",SOLD:"sold"});e.exports=a}),null);
__d("firstKeyWithValue",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){for(var c in a){var d=c;if(Object.prototype.hasOwnProperty.call(a,d)&&a[d]===b)return d}return null}}),null);
__d("MarketplaceMeasurementUtils",["fbt","MarketplaceThreadLabelCategoryEnum","MarketplaceThreadLabelTypeEnum","firstKeyWithValue"],(function(a,b,c,d,e,f,g){"use strict";f.getLabelGraphQLInputFromIndividualLabel=a;f.getCurrentStatusLabel=c;function a(a){if(a==null)return null;var c=b("firstKeyWithValue")(b("MarketplaceThreadLabelTypeEnum"),a.labelType),d=b("firstKeyWithValue")(b("MarketplaceThreadLabelCategoryEnum"),a.labelCategory);return c!=null?[{label_category:d,label_string:a.labelString.toString(),label_type:c}]:null}d={labelCategory:null,labelString:g._("All"),labelType:null};e=new Map([["awaiting_payment",{labelCategory:null,labelString:g._("Pending Payment"),labelType:"awaiting_payment"}],["paid",{labelCategory:null,labelString:g._("Paid"),labelType:"paid"}],["needs_shipping",{labelCategory:null,labelString:g._("To Be Shipped"),labelType:"needs_shipping"}],["shipped",{labelCategory:null,labelString:g._("Shipped"),labelType:"shipped"}],["cash_on_delivery",{labelCategory:null,labelString:g._("Cash on Delivery"),labelType:"cash_on_delivery"}],["completed",{labelCategory:null,labelString:g._("Completed"),labelType:"completed"}]]);f.MarketplaceInboxSellerLabels=e;a=[d].concat(Array.from(e.values()));f.MarketplaceInboxSellerLabelFilters=a;function c(a){if(a==null||a.length===0)return null;a=a.find(function(a){return a.label_type!=="custom_label"});return a}}),null);
__d("ChatNotificationConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1});e.exports=a}),null);
__d("ChatBehavior",["Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","ChatNotificationConstants","mixin"],(function(a,b,c,d,e,f){var g=b("AvailableList").getWebChatNotification&&b("AvailableList").getWebChatNotification(),h=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ON_CHANGED="changed",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.notifiesUserMessages=function(){return g!==b("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION};d.ignoresRemoteTabRaise=function(){return h};return c}(b("mixin")(b("ArbiterMixin")));var i=new a();function j(){i.inform(i.ON_CHANGED)}b("AvailableList").subscribe&&b("AvailableList").subscribe(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var a=g,c=b("AvailableList").getWebChatNotification();g=c;a!=c&&j()});b("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(a,b){h=!!b,j()});b("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(a,b){!!b,j()});c=i;e.exports=c}),null);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";f.makeRadialGradient=a;f.makeLinearGradient=b;function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function(a,b,c,d,e,f){"use strict";f.getThreadURI=a;f.getThreadURIFromServerID=h;f.getThreadURIFromUserID=c;var g;function a(a,c,d){var e="";b("MercuryIDs").isCanonical(a)?e=b("MercuryIDs").tokenize(a).value:b("requireWeak")("MercuryThreadIDMap",function(b){e=b.get().getServerIDFromClientIDNow(a)});d=h(e||"",d);c&&c(d)}function h(a,c){var d=new(g||(g=b("URI")))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;if(c)switch(c){case b("MessagingTag").OTHER:e+="/filtered";break;case b("MessagingTag").PENDING:e+="/requests";break;case b("MessagingTag").INBOX:break;default:e+="/"+c;break}d.setPath(e+b("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()}function c(a,c){var d=new(g||(g=b("URI")))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(i(e,c)+"/t/"+a);return d.toString()}function i(a,c){c&&c!=b("MessagingTag").INBOX&&(a+="/"+c);return a}}),null);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FantaDispatcher","FBIDCheck","MercuryIDs","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkGalahadSettings","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function j(a,c){var d=a?new(g||(g=b("URI")))(b("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(g||(g=b("URI")))(b("MessengerURIConstants").COMPOSE_SUBPATH);b("ifRequired")("BusinessURI.brands",function(a){return b("goURI")(a(d))},function(){return b("setTimeout")(function(){k.openTab(a,c)},100)})}var k={Types:i,openNewMessageTab:function(a,b,c){k.openTab(a,b,c,!0)},openTab:function(a,c,d,e,f){var g=this;if((h||(h=b("Env"))).isCQuick){var k=b("MercuryIDs").getUserIDFromThreadID(a);b("Bootloader").loadModules(["BlueCompatRouter"],function(a){k!=null&&a.startChat(k,!b("FBIDCheck").isUser_deprecated(k))},"FantaTabActions");return}if(b("CurrentUser").isWorkUser()&&b("WorkGalahadSettings").isGalahadEnabled){var l=b("ifRequired")("WorkGalahadChat_DEPRECATED",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(l)return}b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c,defaultText:d,isNewMessageTab:e,defaultPreview:f}),b("ifRequired")("FantaTabsReactApp",function(b){g._tryLoadSlimApp(a,c)},function(){g._tryLoadSlimApp(a,c,function(){return j(a,c)})})})},openInterstitialTab:function(a,c,d){var e=this;this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d}),b("ifRequired")("FantaTabsReactApp",function(b){e._tryLoadSlimAppWithInterstitialData(a,c,d)},function(){e._tryLoadSlimAppWithInterstitialData(a,c,d)})})},_tryLoadSlimApp:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(d){b("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c})})})},function(){return d&&d(a)})},_tryLoadSlimAppWithInterstitialData:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(e){b("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d})})})})},replaceTab:function(a,c){b("FantaDispatcher").dispatch({type:i.REPLACE_TAB,tabID:a,newTabID:c})},minimizeTab:function(a){b("FantaDispatcher").dispatch({type:i.MINIMIZE_TAB,tabID:a})},minimizeAllTabs:function(){b("FantaDispatcher").dispatch({type:i.MINIMIZE_ALL_TABS})},unminimizeTab:function(a){b("FantaDispatcher").dispatch({type:i.UNMINIMIZE_TAB,tabID:a})},optInOpenTabWithBlockees:function(a){b("FantaDispatcher").dispatch({type:i.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})},closeGroupEntranceWarningDialog:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})},closeTab:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_TAB,tabID:a})},closeAllTabs:function(){b("FantaDispatcher").dispatch({type:i.CLOSE_ALL_TABS})},closeAndTabNext:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_AND_TAB_NEXT,tabID:a})},deleteTab:function(a){b("FantaDispatcher").dispatch({type:i.DELETE_TAB,tabID:a})},focusTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_TAB,tabID:a})},blurTab:function(a){b("FantaDispatcher").dispatch({type:i.BLUR_TAB,tabID:a})},hoveredTab:function(a){b("FantaDispatcher").dispatch({type:i.HOVERED_TAB,tabID:a})},unhoveredTab:function(a){b("FantaDispatcher").dispatch({type:i.UNHOVERED_TAB,tabID:a})},highlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:i.HIGHLIGHT_NEW_MESSAGE,tabId:a})},unhighlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:i.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})},setAllowedRaisedTabs:function(a){b("FantaDispatcher").dispatch({type:i.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})},loadFromData:function(a){if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;this.dispatchOrBootloadGetMessages(function(){a&&b("FantaDispatcher").dispatch({type:i.LOAD_FROM_DATA,tabData:a})})},focusNextTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_NEXT_TAB,event:a})},focusPreviousTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_PREVIOUS_TAB,event:a})},scrollBottomChanged:function(a,c,d){b("FantaDispatcher").dispatch({type:i.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:c,tabID:a,showUnseenMessages:d})},jumpToMessage:function(a,c){b("FantaDispatcher").dispatch({type:i.JUMP_TO_MESSAGE,mid:c,tabID:a})},wipeJumpToMessage:function(a){b("FantaDispatcher").dispatch({type:i.WIPE_JUMP_TO_MESSAGE,tabID:a})},setPageIndicatorDescription:function(a,c){b("FantaDispatcher").dispatch({type:i.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:c})},clearPageIndicatorDescription:function(a){b("FantaDispatcher").dispatch({type:i.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})},showUnseenMessages:function(a){b("FantaDispatcher").dispatch({type:i.SHOW_UNSEEN_MESSAGES,tabID:a})},setPermanentUri:function(a,c){b("FantaDispatcher").dispatch({type:i.SET_PERMANENT_URI,tabID:a,uri:c})},createNewNamedGroupChat:function(a,c){b("FantaDispatcher").dispatch({type:i.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:c})},dispatchOrBootloadGetMessages:function(a){b("ifRequired")("FantaReducersGetMessages",function(){a()},function(){b("ifRequired")("FantaAppStore",function(c){b("Bootloader").loadModules(["FantaReducersGetMessages"],function(b){c.addReducers(b),a()},"FantaTabActions")},function(){a()})})}};e.exports=k}),null);
__d("LineClamp.react",["cx","DOMContainer.react","Locale","React","getElementText","getVendorPrefixedName","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("getVendorPrefixedName")("lineClamp");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={enableTooltip:!1},c.$2=function(a){a instanceof HTMLElement&&(c.innerElement=a,c.$3())},c.$4=function(a){a instanceof HTMLElement&&(c.rootElement=a,c.$3())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a;this.props.lineHeight&&!this.props.customEllipsisDisableGradient&&(a={bottom:this.props.lineHeight+"px"});var c;this.props.customEllipsis&&this.props.customEllipsisDisableGradient?c=b("Locale").isRTL()?"_1osp":"_1osq":c=b("Locale").isRTL()?"_4ik3 _2k5c":"_4ik3"+(this.props.enableCustomizedStyleForEllipsis?" _6q5n":"")+(this.props.enableCustomizedStyleForEllipsis?"":" _2k5d");return h.jsx("div",{style:a,className:c,children:this.props.customEllipsis?this.props.customEllipsis:"\u2026"},"ellipsis")};d.$3=function(){if(!this.props.enableTooltipOnOverflow)return;var a=this.isOverflowing();this.state.enableTooltip!==a&&this.setState({enableTooltip:a})};d.$5=function(){return!!i&&!this.props.disableNative};d.isOverflowing=function(){var a=!1;if(!this.rootElement)return a;var b=this.rootElement;if(this.$5())a=b.scrollHeight>b.offsetHeight;else{if(!this.innerElement)return a;a=this.innerElement.offsetHeight>b.offsetHeight}return a};d.componentDidMount=function(){this.$3()};d.componentDidUpdate=function(){this.$3()};d.render=function(){var a=this.$5(),c=b("joinClasses")(this.props.className,"_4ik4"+(a?" _4ik5":"")+(this.props.width?" _8hwj":"")),d=this.props.hasXHPChildren?h.jsx(b("DOMContainer.react"),{children:this.props.children}):this.props.children,e={};this.props.lineHeight&&(e={lineHeight:this.props.lineHeight+"px"},this.props.fitHeightToShorterText?e=babelHelpers["extends"]({},e,{maxHeight:this.props.lineHeight*this.props.lines}):e=babelHelpers["extends"]({},e,{height:this.props.lineHeight*this.props.lines}));this.props.width&&(e=babelHelpers["extends"]({},e,{width:this.props.width+"px"}));a?e[i]=this.props.lines:(c=b("joinClasses")(c,"clearfix"),this.props.customEllipsisDisableGradient?d=[h.jsx("div",{className:"_1osu"},"spacer"),this.$1(),h.jsx("div",{className:"_1osv",ref:this.$2,children:this.props.children},"inner")]:d=[h.jsx("div",{className:"_4ik6",ref:this.$2,children:d},"inner"),this.$1()]);var f={};this.props.enableTooltipOnOverflow&&(f["data-hover"]="tooltip",this.state.enableTooltip&&(f["data-tooltip-content"]=a?b("getElementText")(this.rootElement):b("getElementText")(this.innerElement),this.props.tooltipDelay!=null&&(f["data-tooltip-delay"]=this.props.tooltipDelay)));return h.jsx("div",babelHelpers["extends"]({},f,{className:c,ref:this.$4,style:e,children:d}))};return c}(h.Component);e.exports=a}),null);
__d("RepliedToMessageContent.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","FBLogger","Image.react","JSResource","LineClamp.react","MessengerMathUtils","MessengerTextWithEntities.react","React","RepliedToMessageStatusForGraphQL","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.$5();if(d.props.repliedToMessageData.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;var a=d.props.threadID;d.props.isMessengerUI?d.props.scrollToRepliedMessage&&d.props.scrollToRepliedMessage(d.props.repliedToMessageData.message.message_id):a!==null&&a!==void 0&&b("FantaTabActions").jumpToMessage(a,d.props.repliedToMessageData.message.message_id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isFromViewer,d=a.isMessengerUI;a=a.repliedToMessageData;var e=a.status===b("RepliedToMessageStatusForGraphQL").VALID;if(e&&!a.message){b("FBLogger")("message_replies").mustfix("invalid message reply: Status is Valid but replied_to_message is missing");return null}e=e?a.message.body:this.$1(a);var f=null;!e&&a.message.attachments&&(f=this.$2(a.message.attachments,c,d),e=this.$3(a.message.attachments));c=null;a=e!=null&&b("MessengerMathUtils").isMathBlock(e);if(a&&e!=null){a=b("MessengerMathUtils").getMathBlockInner(e);var g=b("lazyLoadComponent")(b("JSResource")("MessengerMath.react").__setRef("RepliedToMessageContent.react"));c=j.jsx(j.Suspense,{fallback:j.jsx("div",{children:e}),children:j.jsx(g,{body:a,fallbackBody:e,stripDelimiters:!0,className:"_1e4d"})})}else c=j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:e});g=j.jsx(b("LineClamp.react"),{className:"_4k7e",lines:2,fitHeightToShorterText:!0,children:c});if(!this.props.replyInOneBubble)return j.jsxs("div",{className:(!!f&&d?"_6e7n":"")+(!!f&&!d?" _6e6m":""),children:[g,f]});a=j.jsxs("blockquote",{className:"_pye"+(!!f&&d?" _6e7n":"")+(!!f&&!d?" _6e6m":""),children:[j.jsx("div",{className:"_pyf"}),g,f]});return!this.props.isLinkified?a:j.jsx("a",{className:"_6e6n",href:"#",onClick:this.$4,children:a})};d.$1=function(a){switch(a.status){case b("RepliedToMessageStatusForGraphQL").DELETED:return b("CurrentUser").isWorkUser()?i._("This message was deleted").toString():i._("Message removed").toString();case b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Message is temporarily unavailable").toString()}};d.$2=function(a,c,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":case"sticker":case"third_party_sticker":case"animated_image":return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602383")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("544881")}):j.jsx(b("Image.react"),{className:d,src:g("596859")});case"video":return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602399")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("504242")}):j.jsx(b("Image.react"),{className:d,src:g("596875")});default:return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("562396")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("555222")}):j.jsx(b("Image.react"),{className:d,src:g("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?j.jsx(b("Image.react"),{className:d,src:g("602390")}):c===!0?j.jsx(b("Image.react"),{className:d,src:g("504171")}):j.jsx(b("Image.react"),{className:d,src:g("596866")});else return null};d.$3=function(a){var b=a.length;if(b===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":return i._("Photo").toString();case"video":return i._("Video").toString();case"sticker":case"third_party_sticker":return i._("Sticker").toString();case"animated_image":return i._("GIF").toString();default:return i._("Attachment").toString()}else if(b>1)return i._({"*":"{number of attachments} Attachments","_1":"{number of attachments} Attachment"},[i._param("number of attachments",b),i._plural(b)]).toString();else return null};d.$5=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};return c}(j.Component);e.exports=a}),null);
__d("ChatFlyoutPlaceholder.react",["React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={padding:"30px",textAlign:"center"};function a(){return g.jsx("div",{style:h,children:g.jsx(b("XUISpinner.react"),{size:"large"})})}}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1570574486349284"};b.getQueryID=function(){return"389945858066688"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f){f.open=a;function a(a,c,d,e){var f=[];b("isTruthy")(c)&&f.push("width="+c);b("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&c!=null&&c!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-c)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}}),null);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions"],(function(a,b,c,d,e,f){f.init=c;f._resizeCheck=h;f._getDocumentSize=i;f.open=d;var g={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};f._opts=g;function c(a){Object.assign(g,a),window.setInterval(h,g.timeout)}function h(){var a=b("getViewportDimensions")(),c=i(),d=b("Layer").getTopmostLayer();if(d){d=(d=d.getRoot())==null?void 0:d.firstChild;d||b("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var e=b("DOMDimensions").getElementDimensions(d);e.height+=b("DOMDimensions").measureElementBox(d,"height",!0,!0,!0);e.width+=b("DOMDimensions").measureElementBox(d,"width",!0,!0,!0);c.height=Math.max(c.height,e.height);c.width=Math.max(c.width,e.width)}d=c.height-a.height;e=c.width-a.width;e<0&&b("FlowMigrationUtilsForLegacyFiles").isFalsy(g.widthElement)&&(e=0);e=e>1?e:0;b("FlowMigrationUtilsForLegacyFiles").isFalsy(g.allowShrink)&&d<0&&(d=0);if(d||e)try{window.console&&window.console.firebug,window.resizeBy(e,d),e&&window.moveBy(e/-2,0)}catch(a){}}function i(){var c=b("DOMDimensions").getDocumentDimensions();if(g.strategy==="offsetHeight"){var d=document.body;if(!d)b("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{c.height=(d=d.offsetHeight)!=null?d:0}}if(b("FlowMigrationUtilsForLegacyFiles").isFalsy(g.widthElement)&&typeof g.widthElement==="string"){d=b("DOMQuery").scry(document.body,g.widthElement)[0];d&&(c.width=b("DOMDimensions").getElementDimensions(d).width)}d=a.Dialog;d&&d.max_bottom&&d.max_bottom>c.height&&(c.height=d.max_bottom);return c}function d(a,c,d,e){return b("Popup").open(a,d,c,e)}}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","PopupWindow","XMNCommerceCTAPostProcessController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.process=function(a,c){c===void 0&&(c=null);var d=b("PopupWindow").open("",500,1024);a=b("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return d.location=a.payload}).send()};c.postHandle=function(a,c){a=b("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:c});new(b("AsyncRequest"))().setURI(a).send()};c.logCTAClick=function(a){var c,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(c=a)!=null?c.id:c,action_type:(c=a)!=null?c.action_type:c,action_url:((c=a)!=null?c.action_url:c)||((c=a)!=null?c.action_link:c),click_source:e,page_id:(c=a)!=null?c.page_id:c};new(b("MessengerPlatformClientTypedLogger"))().setClientUserID(b("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();c=new a();e.exports=c}),null);
__d("MNCommerceCallToActionGenericIntentHandler",["cx","fbt","FDSLink.react","MNCommerceCTAProcessor","React","Tooltip","URI","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=function(){function a(){this.fallbackOnClick=function(){},this.onClickHook=function(){},this.threadID=null}var c=a.prototype;c.setFallbackOnClick=function(a){this.fallbackOnClick=a;return this};c.setThreadID=function(a){a&&(this.threadID=a);return this};c.setOnClickHook=function(a){this.onClickHook=a;return this};c.renderForWebLink=function(a,c){var d=this,e=a.onClick||this.fallbackOnClick,f=function(c){d.onClickHook(),e(c),b("MNCommerceCTAProcessor").postHandle(a.id,null)};return j.jsx(b("FDSLink.react"),{display:"block",href:new(i||(i=b("URI")))(a.onClick?"#":a.action_link||a.action_url),onClick:f,target:"_blank",children:j.jsx("div",{className:c,children:a.translated_title||a.title||a.action_title})},a.title+a.id)};c.renderForNativeLink=function(a,c){var d=h._("To use this feature, use the Messenger app.");return j.jsx("div",babelHelpers["extends"]({className:b("joinClasses")("_3cno",c),"data-tooltip-alignh":"center","data-tooltip-position":"above"},b("Tooltip").propsFor(d),{children:a.translated_title||a.title||a.action_title}),a.title)};return a}();e.exports=a}),null);
__d("BuyOnMessengerCallToActionIntentHandler",["Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$BuyOnMessengerCallToActionIntentHandler1(a,b)};d.$BuyOnMessengerCallToActionIntentHandler1=function(a,c){return g.jsx(b("Link.react"),{className:c,onClick:a.onClick,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));c=new a();e.exports=c}),null);
__d("MMeCallToActionIntentHandler",["MNCommerceCallToActionGenericIntentHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.renderForNativeLink=function(a,b){return this.renderForWebLink(a,b)};return b}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MNCommerceCallToActionAsyncIntentHandler",["AsyncRequest","Link.react","MNCommerceCallToActionGenericIntentHandler","React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MNCommerceCallToActionAsyncIntentHandler1(a,b)};d.$MNCommerceCallToActionAsyncIntentHandler1=function(a,c){var d=function(){new(b("AsyncRequest"))(a.action_link).send()};return g.jsx(b("Link.react"),{className:c,onClick:d,children:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("XMessengerAdsBuyerInfoFormController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/messenger_buyer_info_form/",{form_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("MessengerAdsBuyerInfoFormCallToActionIntentHandler",["AsyncRequest","Link.react","MNCommerceCallToActionGenericIntentHandler","React","URI","XMessengerAdsBuyerInfoFormController"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MessengerAdsBuyerInfoFormCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MessengerAdsBuyerInfoFormCallToActionIntentHandler1(a,b)};d.$MessengerAdsBuyerInfoFormCallToActionIntentHandler1=function(a,c){return h.jsx(b("Link.react"),{className:c,onClick:this.$MessengerAdsBuyerInfoFormCallToActionIntentHandler2.bind(this,a),children:a.translated_title||a.title},a.title+a.id)};d.$MessengerAdsBuyerInfoFormCallToActionIntentHandler2=function(a){a=new(g||(g=b("URI")))(a.action_link).getQueryData().form_id;a=b("XMessengerAdsBuyerInfoFormController").getURIBuilder().setFBID("form_id",a).getURI();new(b("AsyncRequest"))(a).send()};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MessengerGamesPlayGameLink.react",["ix","cx","Bootloader","BootloadOnRender.react","JSResource","LazyComponent.react","Link.react","MercuryIDs","MessengerDialogs.bs","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={playerOpen:!1},d.$1=function(a){if(d.props.isCloud){var c="https://www.facebook.com/instantgames/play/";c+=String(d.props.gameID);c+="/?source=fb_gs_game_invite_messenger";window.open(c,"_blank");return}if(d.state.playerOpen)return;d.props.onClick&&d.props.onClick(a);b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(a){b("MessengerDialogs.bs").showDialog(function(){var c=b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID),e=d.props.contextType,f=d.props.contextSourceID;e||(e="THREAD",f=c);return i.jsx(a,{cloudBinaryID:null,initialContextType:e,initialContextSourceID:f,initialEntryPointData:d.props.payload,initialGameID:d.props.gameID,onHide:d.$2,initialSource:d.props.source||"unknown",sourceID:c,threadID:d.props.threadID,invitationID:d.props.invitationID},d.props.gameID)})},"MessengerGamesPlayGameLink.react");d.$3()},d.$2=function(){b("MessengerDialogs.bs").removeAllDialogs(),d.setState({playerOpen:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.onResize()};d.render=function(){return i.jsx("div",{children:i.jsxs(b("Link.react"),{"data-testid":void 0,className:this.props.className,onClick:this.$1,children:[this.props.showGameImage?i.jsx("div",{className:"_46b2",children:i.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("Image.react").__setRef("MessengerGamesPlayGameLink.react"),placeholder:i.jsx("div",{}),component:i.jsx(b("LazyComponent.react"),{className:"_2pih",src:g("529301")})})}):null,this.props.title]})})};d.$3=function(){this.setState({playerOpen:!0})};return c}(i.PureComponent);e.exports=a;a.defaultProps={showGameImage:!1,onResize:b("emptyFunction")}}),null);
__d("MessengerPlayGameCallToActionHelper",["URI"],(function(a,b,c,d,e,f){f.parseMetadata=a;f.parseActionLink=c;var g;function a(a){var b,c,d;d=(d=a)!=null?d.instantgame_gameid:d;if(!d)return null;c=(c=a)!=null?c.instantgame_payload:c;b=(b=a)!=null?b.instantgame_context_type:b;a=(a=a)!=null?a.instantgame_context_id:a;return{contextSourceID:a,contextType:b,gameID:d,payload:c}}function c(a){a=new(g||(g=b("URI")))(a).getQueryData();if(!a)return null;var c=a.game_id;if(!c)return null;var d=a.payload,e=a.context_type,f=a.context_id;a=(a=a)!=null?a.source:a;return{contextSourceID:f,contextType:e,gameID:c,payload:d,source:a}}}),null);
__d("MessengerPlayGameCallToActionIntentHandler",["cx","invariant","MercuryIDs","MessengerGamesPlayGameLink.react","MessengerPlayGameCallToActionHelper","MNCommerceCallToActionGenericIntentHandler","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderForWebLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.renderForNativeLink=function(a,b){return this.$MessengerPlayGameCallToActionIntentHandler1(a,b)};d.$MessengerPlayGameCallToActionIntentHandler1=function(a,c){var d,e,f,g=this.threadID||"";f=(f=a)!=null?f.instantgame_metadata:f;e=(e=a)!=null?e.action_link:e;var j=null;f?j=b("MessengerPlayGameCallToActionHelper").parseMetadata(f):e&&(j=b("MessengerPlayGameCallToActionHelper").parseActionLink(e));if(!j)return i.jsx("div",{});f=j.gameID;f||h(0,3211);e=j.contextSourceID;var k=j.contextType;d=(d=j)!=null?d.source:d;k||(k="THREAD",e=b("MercuryIDs").getThreadFBIDFromThreadID(g));return i.jsx(b("MessengerGamesPlayGameLink.react"),{className:b("joinClasses")(c,"_fy2"),contextSourceID:e,contextType:k,gameID:f,onClick:this.onClickHook,payload:j.payload||void 0,source:d||"call_to_action",threadID:g,title:a.translated_title||a.title},a.title+a.id)};return c}(b("MNCommerceCallToActionGenericIntentHandler"));e.exports=a}),null);
__d("MNCommerceCallToActionHandlerMap",["BuyOnMessengerCallToActionIntentHandler","MessengerAdsBuyerInfoFormCallToActionIntentHandler","MessengerPlayGameCallToActionIntentHandler","MMeCallToActionIntentHandler","MNCommerceCallToActionAsyncIntentHandler","MNCommerceCallToActionGenericIntentHandler","URI"],(function(a,b,c,d,e,f){"use strict";f.getHandler=a;var g,h={"fb-messenger://payments/buy/mc?":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://business/commerce/":b("BuyOnMessengerCallToActionIntentHandler"),"fb-messenger://instant_games/play":b("MessengerPlayGameCallToActionIntentHandler"),"https://m.me/":b("MMeCallToActionIntentHandler"),"https://www.facebook.com/commerce/messenger_monetization/messenger_buyer_info_form/":b("MessengerAdsBuyerInfoFormCallToActionIntentHandler")};function a(a){for(var c in h)if(a.startsWith(c)){var d=h[c];return new d()}return new(g||(g=b("URI")))(a).getQueryData().async?new(b("MNCommerceCallToActionAsyncIntentHandler"))():new(b("MNCommerceCallToActionGenericIntentHandler"))()}}),null);
__d("ChatPageComposerNullState.react",["cx","fbt","Link.react","MNCommerceCallToActionHandlerMap","React","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.cta.action_type){case 1:return this.$1();case 4:default:return this.$2()}};d.$1=function(){var a=b("qex")._("1732549")===!0;return b("MNCommerceCallToActionHandlerMap").getHandler(this.props.cta.action_link).setThreadID(this.props.threadID).setOnClickHook(this.props.onClick).renderForNativeLink(this.props.cta,(a?"":"_9g0s")+(a?" _9g0t":"")+" _2xh6 _2xh7"+(this.props.disabled?" _5vsu":""))};d.$2=function(){var a=b("qex")._("1732549")===!0;return i.jsx(b("Link.react"),{className:(a?"":"_9g0s")+(a?" _9g0t":"")+" _2xh6 _2xh7"+(this.props.disabled?" _5vsu":""),onClick:this.props.onClick,children:h._("{name}",[h._param("name",this.props.cta.title)])})};return c}(i.PureComponent);e.exports=a}),null);
__d("M4IconSVG.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var b=a.size;a=a.children;b=b!==void 0?b:"16px";a=g.Children.toArray(a);return g.jsx("svg",{children:a,className:"svgIcon",height:b,width:b,version:"1.1",viewBox:"0 0 16 16",x:"0px",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",y:"0px"},"svg")}c=a;f.make=c}),null);
__d("M4IconPhoto.bs",["React","M4IconSVG.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.filled;a=a.color;c=c!==void 0?c:!0;a=a!==void 0?a:"blue";var d={fill:"none",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"};return g.jsxs(b("M4IconSVG.bs").make,{children:[c?g.jsxs("g",{children:[g.jsx("path",{d:"M1.3,13.1L2,1.7c0-0.1,0-0.2,0-0.4L1.2,1.4C0.5,1.5,0,2.4,0,3.4l0.6,10.9c0,0.5,0.2,0.9,0.4,1.3C1.4,15.8,1.7,16,1.9,16 c0,0,0.1,0,0.1,0l0.3,0C1.7,15.4,1.2,14.3,1.3,13.1z",fill:a},"bg"),g.jsx("path",{d:"M13,6.2c-0.2-0.2-0.6-0.3-0.8-0.1L9.4,8.5c-0.2,0.1-0.2,0.4,0,0.6L10,9.8c0.2,0.2,0.2,0.6-0.1,0.8c-0.1,0.1-0.2,0.1-0.4,0.1 c-0.2,0-0.3-0.1-0.4-0.2L7.3,8.3C7.1,8.1,6.7,8,6.5,8.2l-2.6,2l-0.4,3.1c0,0.5,0.2,1.6,0.7,1.7l8.8,0.6c0.2,0,0.5,0,0.7-0.2 c0.2-0.2,0.5-0.7,0.6-0.9l0.6-5.9L13,6.2z",fill:a},"hills"),g.jsx("path",{style:d,d:"M12.9,15.5l-8.2-0.7C4,14.7,3.4,14,3.4,13.2l1-11.4C4.5,1,5.2,0.5,6,0.5l8.2,0.7C15,1.3,15.5,2,15.5,2.8 l-1,11.4C14.4,15,13.7,15.6,12.9,15.5z"},"frame")]},"filled"):g.jsxs("g",{children:[g.jsx("path",{d:"M2.1,14.7c-0.1-0.1-0.2-0.3-0.2-0.5l0-0.1c-0.1-0.3-0.1-0.7-0.1-1.1l0-0.1L1,3.3c0-0.5,0.3-0.9,0.8-0.9l1-0.1l0.1-0.7\n              c0-0.1,0-0.2,0.1-0.4L1.7,1.4c-1,0.1-1.8,1-1.7,2l0.9,10.9c0,0.5,0.3,0.9,0.7,1.3C1.9,15.8,2.3,16,2.8,16c0.1,0,0.1,0,0.2,0l0.5,0\n              C2.8,15.7,2.4,15.2,2.1,14.7z",fill:a},"bg"),g.jsx("path",{style:d,d:"M12.9,15.5l-8.3-0.7c-0.8-0.1-1.4-0.8-1.3-1.6l1-11.4C4.3,1,5.1,0.4,5.8,0.5l8.3,0.7C15,1.3,15.5,2,15.5,2.8 l-1,11.4C14.4,15,13.7,15.6,12.9,15.5z"},"frame"),g.jsx("polyline",{style:d,points:"3.5,11 6.9,8.6 9.2,11.3 "},"left-hill"),g.jsx("polyline",{style:d,points:"14.6,9 12.5,6.5 8.3,10 "},"right-hill")]},"outline"),g.jsx("circle",{cx:"7.5",cy:"4.5",fill:a,r:"1.5"},"sun")]})}c=a;f.make=c}),null);
__d("M4IconPhoto.re",["M4IconPhoto.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("M4IconPhoto.bs").make;f.make=a}),null);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return h(void 0);else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("MessengerCustomColorUtils.re",["MessengerCustomColorUtils.bs"],(function(a,b,c,d,e,f){a=b("MessengerCustomColorUtils.bs").defaultColor;f.defaultColor=a;c=b("MessengerCustomColorUtils.bs").customColorOrBlue;f.customColorOrBlue=c}),null);
__d("MessengerDotComAndInboxM4Check.re",["MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f){a=b("MessengerDotComAndInboxM4Check.bs").yes;f.yes=a}),null);
__d("MessengerPaperclipIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M18,31 C13.5815,31 10,27.4185 10,23 L10,11 C10,7.6865 12.6865,5 16,5 C19.3135,5 22,7.6865 22,11 L22,21 C22,23.209 20.209,25 18,25 C15.791,25 14,23.209 14,21 L14,14.5 C14,13.6715 14.6715,13 15.5,13 C16.3285,13 17,13.6715 17,14.5 L17,21 C17,21.552 17.448,22 18,22 C18.552,22 19,21.552 19,21 L19,11 C19,9.3435 17.6565,8 16,8 C14.3435,8 13,9.3435 13,11 L13,23 C13,25.761 15.239,28 18,28 C20.761,28 23,25.761 23,23 L23,14.5 C23,13.6715 23.6715,13 24.5,13 C25.3285,13 26,13.6715 26,14.5 L26,23 C26,27.4185 22.4185,31 18,31",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerPaperclipIconSVGM4React.re",["MessengerPaperclipIconSVGM4React.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("MessengerPaperclipIconSVGM4React.bs").make(a.fill);return a};f.make=a}),null);
__d("MessengerPhotoIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var b=a.size;a=a.fill;b=b!==void 0?b:36;return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M13.5,11 C12.1195,11 11,12.119 11,13.5 C11,14.881 12.1195,16 13.5,16 C14.8805,16 16,14.881 16,13.5 C16,12.119 14.8805,11 13.5,11 M26.638,21.467 L21.2375,18.767 C19.199,17.7485 16.801,17.7485 14.7625,18.767 L9.362,21.467 C9.1955,21.55 9,21.429 9,21.243 L9,11 C9,9.8955 9.8955,9 11,9 L25,9 C26.1045,9 27,9.8955 27,11 L27,21.243 C27,21.429 26.8045,21.55 26.638,21.467 M25,7 L11,7 C8.7905,7 7,8.791 7,11 L7,25 C7,27.209 8.7905,29 11,29 L25,29 C27.209,29 29,27.209 29,25 L29,11 C29,8.791 27.209,7 25,7",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:String(b)+"px",width:String(b)+"px",viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerPhotoIconSVGM4React.re",["MessengerPhotoIconSVGM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoIconSVGM4React.bs").make;f.make=a}),null);
__d("MessengerSurfaceQuickChat.bs",["React","MessengerSurfaceType.bs","MessengerSurfaceContext.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=g.useContext(b("MessengerSurfaceContext.bs").context);return a===b("MessengerSurfaceType.bs").workQuickchat}f.useIsQuickChatSurface=a}),null);
__d("MessengerSurfaceQuickChat.re",["MessengerSurfaceQuickChat.bs"],(function(a,b,c,d,e,f){a=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface;f.useIsQuickChatSurface=a}),null);
__d("ChatPhotoUploaderIcon.react",["ix","fbt","ChatConfig","CurrentUser","Image","M4IconPhoto.re","MessengerCustomColorUtils.re","MessengerDotComAndInboxM4Check.re","MessengerEnvironment","MessengerPaperclipIconSVGM4React.re","MessengerPhotoIconSVGM4React.re","MessengerSurfaceQuickChat.re","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=b("MessengerSurfaceQuickChat.re").useIsQuickChatSurface(),d=a.fill!=null?a.fill:b("MessengerCustomColorUtils.re").defaultColor();if(b("gkx")("1192386"))return i.jsx(b("Image"),{source:g("1180209")});else if(b("MessengerDotComAndInboxM4Check.re").yes)return b("MessengerPhotoIconSVGM4React.re").make({fill:d});else if(!b("MessengerEnvironment").messengerui&&b("ChatConfig").get("single_line_composer"))return i.jsx(b("M4IconPhoto.re").make,{filled:!1,color:a.color==null?void 0:a.color});else if(b("MessengerEnvironment").messengerui&&b("CurrentUser").isWorkUser()&&b("gkx")("1072568")&&!c)return a.imagesOnly?b("MessengerPhotoIconSVGM4React.re").make({fill:d}):b("MessengerPaperclipIconSVGM4React.re").make({fill:d});return i.jsx("i",{className:a.imageClassName,alt:h._("Camera")})}}),null);
__d("ChatPhotoUploader.react",["cssVar","cx","fbt","Promise","Bootloader","ChatConfig","ChatPhotoUploaderIcon.react","Keys","MercuryConfig","MessengerEnvironment","React","ReactDOM","SubscriptionsHandler","TooltipData","emptyFunction","ifRequired","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("Keys").RETURN,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=!1;d.$6=!1;d.$15=function(a,b){d.props.onSubmit&&d.props.onSubmit(a,b),d.$16("show_file_placeholder")};d.$17=function(a,b){d.props.onAllUploadsComplete&&d.props.onAllUploadsComplete(a,b),d.$16("upload_files_complete"),d.$6||d.$11()};d.$18=function(a,b){d.props.onLastUploadFail&&d.props.onLastUploadFail(a,b),d.$6||d.$11()};d.$19=function(a,b){d.props.onLastUploadCancel&&d.props.onLastUploadCancel(a,b),d.$6||d.$11()};d.$20=function(a,b){d.props.onUploadError&&d.props.onUploadError(b),d.$16("upload_file_failed"),d.$6||d.$11()};d.$21=function(){d.$3||(d.$2=!0,d.$3=new(b("Promise"))(function(a){d.$5.addSubscriptions(b("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(c){b("promiseDone")(d.$4,function(e){d.$2=!1;if(!d.$7){a(null);return}e=new c(b("ReactDOM").findDOMNode(d.$7),b("ReactDOM").findDOMNode(d.$9),b("ReactDOM").findDOMNode(d.$10),b("MercuryConfig").msgr_region);e.setAllowCrossPage(d.props.allowCrossPage);d.$5.addSubscriptions(e.subscribe("submit",d.$15),e.subscribe("all-uploads-completed",d.$17),e.subscribe("last-upload-failed",d.$18),e.subscribe("last-upload-canceled",d.$19),e.subscribe("file-upload-error",d.$20));d.$1=e;a(d.$1)})},"ChatPhotoUploader.react"))}));return d.$3};d.$4=new(b("Promise"))(function(a,b){d.$8=a});d.$5=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.actionURI!=this.props.actionURI||a.disabled!==this.props.disabled||a.threadID!==this.props.threadID||a.color!==this.props.color||a.fill!==this.props.fill};d.componentDidMount=function(){this.$6=!0,typeof this.props.onMount==="function"&&this.props.onMount(this),this.$5.addSubscriptions(b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"ChatPhotoUploader.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatPhotoUploader.react"))};d.componentDidUpdate=function(){this.$1&&this.$1.setAllowCrossPage(this.props.allowCrossPage)};d.componentWillUnmount=function(){(!this.isUploading()||!this.props.allowCrossPage)&&this.$11(),this.$6=!1};d.$12=function(a){a.keyCode===j&&this.$9!=null&&this.$9.click()};d.render=function(){var a=this,c=b("ChatConfig").get("single_line_composer")&&!b("MessengerEnvironment").messengerui?i._("Add photos, videos and files"):"",d=this.props.imagesOnly?i._("Add photos"):i._("Add files"),e=b("joinClasses")("_4q61"+(this.props.customUI?"":" _5f0v")+(this.props.customUI?"":" _509v"),this.props.linkClassName),f=this.props.threadID;return k.jsxs("form",babelHelpers["extends"]({action:this.props.actionURI,className:"_vzk _4uld",title:d},b("TooltipData").propsFor(c),{method:"post",onClick:function(b){b.stopPropagation(),a.props.disabled&&b.preventDefault(),a.$13()},ref:function(b){return b&&a.$8(a.$7=b)},children:[k.jsx("input",{type:"hidden",name:"attach_id",ref:function(b){return a.$10=b}}),k.jsx("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),k.jsx("div",{tabIndex:0,onKeyDown:function(b){a.$12(b)},role:"button",className:b("joinClasses")(this.props.className,"_m _6a _4q60 _3rzn"),"data-testid":void 0,children:k.jsxs("span",{className:e,children:[k.jsx(b("ChatPhotoUploaderIcon.react"),{color:this.props.color,fill:this.props.fill,imagesOnly:this.props.imagesOnly===!0,imageClassName:this.props.imageClassName}),k.jsx("input",{disabled:this.props.disabled,type:"file",className:b("joinClasses")(this.props.inputClassname,"_n _2__f _4e5e"),"data-testid":void 0,name:"attachment[]",multiple:!0,accept:this.props.imagesOnly?"image/*":"*",ref:function(b){return a.$9=b},title:d,onChange:function(b){a.$14(b,f)}})]})})]}))};d.$13=function(){var a=this.props.imagesOnly;b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(a?c.CLICK_PHOTO_UPLOADER:c.CLICK_FILE_UPLOADER).log()},"ChatPhotoUploader.react")};d.$14=function(a,c){var d=this,e=a.target.files,f=function(){d.$9&&(d.$9.value="")};b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerActions"],function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},"ChatPhotoUploader.react"))}):b("ifRequired")("FantaMessageActions",function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["FantaMessageActions"],function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},"ChatPhotoUploader.react"))});this.props.focusInput&&this.props.focusInput()};d.$16=function(a){var c=this.props.threadID;if(!c)return;this.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger","MessengerShareFilePreviewFunnelLoggerConstants"],function(d,e){d.appendAction(!b("MessengerEnvironment").messengerui,a,c),a===e.UPLOAD_FILES_COMPLETE&&d.endFunnel(c)},"ChatPhotoUploader.react"))};d.isUploading=function(){return this.$1&&this.$1.isUploading()||!!this.$2};d.uploadFiles=function(a){b("promiseDone")(this.$21(),function(b){b==null?void 0:b.uploadFiles(a)})};d.uploadURL=function(a){b("promiseDone")(this.$21(),function(b){b==null?void 0:b.uploadURL(a)})};d.$11=function(){this.$5.release(),this.$1&&this.$1.destroy()};return c}(k.Component);e.exports=a;a.defaultProps={actionURI:b("MercuryConfig").upload_url,allowCrossPage:!0,customUI:!1,disabled:!1,imageClassName:"_509w",imagesOnly:!0,linkClassName:"",onSubmit:c=b("emptyFunction"),onAllUploadsComplete:c,onLastUploadFail:c,onLastUploadCancel:c,color:"#0084ff"}}),null);
__d("MessengerSharedPhotoReact.bs",["cx","fbt","bs_curry","React","Link.react","CssBackgroundImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={height:"100%"};function a(a){var c=a.className,d=a.fbid,e=a.onClick,f=a.uri;a=a.isSpherical;var g=function(a){a.preventDefault();return b("bs_curry")._1(e,d)},k=h._("photo");if(f===void 0)return i.jsx(b("Link.react"),{"aria-label":k,className:c,onClick:g,role:"button"});a=a?i.jsx("div",{className:"_3603 _64ks"}):null;return i.jsx(b("Link.react"),{"aria-label":k,className:c,href:f,onClick:g,children:i.jsx(b("CssBackgroundImage.react"),{className:c,imageURI:f,backgroundPosition:"center",style:j,children:a})})}c=a;f.style100pct=j;f.make=c}),null);
__d("MessengerSharedPhotoReact.re",["MessengerSharedPhotoReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerSharedPhotoReact.bs").make;f.make=a}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){a=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"});e.exports=a}),null);
__d("ImmutableRecordWithV4Types",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;f.Record=a}),null);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});f.makePhotosphereMetadata=a}),null);
__d("SphericalPhotoPartialLimits",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";f.getPartialLimits=a;f.normalizePhotoRendererViewWithPartialLimits=c;f.normalizeViewWithPartialLimits=d;var g=b("ImmutableRecordWithV4Types").Record({partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null});f.makePartialLimits=g;function a(a){var b=Number(a.croppedAreaImageHeightPixels)||0,c=Number(a.croppedAreaImageWidthPixels)||0,d=Number(a.croppedAreaLeftPixels)||0,e=Number(a.croppedAreaTopPixels)||0,f=Number(a.fullPanoHeightPixels)||0;a=Number(a.fullPanoWidthPixels)||0;var h,i,j,k;if(c!==0&&c!==a&&c+d<=a){c=360*c/a;j=180*(1-2*d/a);k=c-j}b!==0&&b!==f&&b+e<=f&&(e!==0&&(h=90*(1-2*e/f)),e+b!==f&&(i=180*(e+b-f/2)/f));return g({partialTopDegrees:h,partialBottomDegrees:i,partialLeftDegrees:j,partialRightDegrees:k})}function c(a,b){var c=b.partialLeftDegrees,d=b.partialRightDegrees,e=b.partialTopDegrees;b=b.partialBottomDegrees;if(c||c===0){c=-1*c;a.yaw<c&&(a.yaw=c)}if(d||d===0){c=d;a.yaw>c&&(a.yaw=c)}d=e||e===0;c=b||b===0;e=e||0;b=-1*(b||0);d&&(a.pitch>e&&(a.pitch=e));c&&(a.pitch<b&&(a.pitch=b));d&&c&&(e<0&&e<b?a.pitch=b:b>0&&e<b&&(a.pitch=e));return a}function d(a,b){var c=b.partialLeftDegrees,d=b.partialRightDegrees,e=b.partialTopDegrees;b=b.partialBottomDegrees;if(c){c=-1*(c-a.fov/2);a.yaw<c&&(a.yaw=c)}if(d){c=d-a.fov/2;a.yaw>c&&(a.yaw=c)}if(e){d=e-a.fov/2;a.pitch>d&&(a.pitch=d)}if(b){c=-1*(b-a.fov/2);a.pitch<c&&(a.pitch=c)}return a}}),null);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f){"use strict";f.getMetadataFromGraphQLResult=a;f.calculatePartialLimits=c;f.parseNumber=h;f.getThumbnailsFromPhotoEncodings=d;f.photosphereMetadataStringToNumber=e;var g=b("PhotoRendererProjection").PERSPECTIVE;function a(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:g}}function c(a){var c=a.FullPanoHeightPixels,d=a.FullPanoWidthPixels,e=a.CroppedAreaImageWidthPixels,f=a.CroppedAreaImageHeightPixels,g=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;c=h(c);d=h(d);e=h(e);f=h(f);g=h(g);a=h(a);var i,j,k,l;if(e!==0&&e!==d){e=360*e/d;e<350&&(i=180*(1-2*g/d),j=e-i)}f!==0&&f!==c&&(a!==0&&(k=90*(1-2*a/c)),a+f!==c&&(l=180*(a+f-c/2)/c));g=null;d=null;e=null;a=null;k&&k<87.5&&(d=k);l&&l<87.5&&(g=l);i&&(e=i);j&&(a=j);return b("SphericalPhotoPartialLimits").makePartialLimits({partialTopDegrees:d,partialBottomDegrees:g,partialLeftDegrees:e,partialRightDegrees:a})}function h(a){return a?Number(a):0}function d(a){a=a.find(function(a){return a.projection_type===g});var b=null,c=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;c=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:c}}function e(a){var c={};Object.keys(a).forEach(function(b){switch(b){case"ProjectionType":c.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":c.RendererProjectionType=a.RendererProjectionType;break;default:c[b]=parseInt(a[b],10)}});return b("PhotosphereMetadata").makePhotosphereMetadata(c)}}),null);
__d("ChatPhotoViewFooterHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=200,j=74,k=140,l=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={currentPhoto:"",prevScrollLeft:0,scrollLeft:0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.width&&this.props.updateNumberInOneBatch(this.$2(this.props.width)),this.$1=new(b("Animation"))(this.refs.childContainer).to("scrollLeft",0).duration(i).go()};d.UNSAFE_componentWillReceiveProps=function(a){if(a.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==a.sharedPhotos.length){var b=a.width?(a.width-j)/2-k:0,c=a.sharedPhotos.findIndex(function(b){return b.node.id===a.photoID});this.setState({currentPhoto:a.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:c*j-b})}a.width!=this.props.width&&this.props.updateNumberInOneBatch(this.$2(a.width))};d.componentDidUpdate=function(){this.$1&&this.$1.from("scrollLeft",this.state.prevScrollLeft).to("scrollLeft",this.state.scrollLeft).duration(i).go()};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.shouldComponentUpdate=function(a,b){return a.photoID!=this.state.currentPhoto||a.sharedPhotos.length!==this.props.sharedPhotos.length?!0:!1};d.render=function(){var a=this,c=this.props.sharedPhotos;c=c.map(function(c){var d,e=c.node.photo_encodings?c.node.photo_encodings.length!==0:!1;d=(d=c)!=null?(d=d.node)!=null?(d=d.image1)!=null?d.uri:d:d:d;if(e){var f=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(c.node.photo_encodings);f=f.smallThumbnail;d=f||d}return!d?null:h.jsx("div",{className:"_1oyb",children:h.jsx(b("MessengerSharedPhotoReact.re").make,{className:"_1oyc"+(a.state.currentPhoto!==c.node.id?" _1oyd":""),fbid:c.node.legacy_attachment_id,onClick:a.props.onScroll,uri:d,isSpherical:e})},c.node.legacy_attachment_id)});return h.jsx("div",{className:"_1oye",children:h.jsx("div",{className:"_1oyf",ref:"childContainer",children:h.jsx("div",{className:"_1oyh",ref:"scrollable",children:c})})})};d.$2=function(a){return a?Math.ceil((a-k*2)/j):l};return c}(h.Component);e.exports=a;a.propTypes={onScroll:(c=b("prop-types")).func,photoID:c.string,sharedPhotos:c.array,updateNumberInOneBatch:c.func,width:c.number}}),null);
__d("XForwardingNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/forwarding_nux_seen/",{})}),null);
__d("MessagingForwardingButtonNUX.react",["AsyncRequest","ChatConfig","React","XForwardingNUXSeenController","XUIAmbientNUX.react","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNUX:!b("ChatConfig").get("seen_forwarding_nux")},d.$1=function(){if(!d.state.showNUX)return;b("ChatConfig").set("seen_forwarding_nux",!0);new(b("AsyncRequest"))(b("XForwardingNUXSeenController").getURIBuilder().getURI()).send();d.setState({showNUX:!1})},d.close=function(){d.$1()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX,children:this.props.children})};return c}(g.Component);e.exports=a;a.propTypes={contextRef:b("prop-types").func.isRequired}}),null);
__d("MessengerPhotoViewCloseLinkReact.bs",["cx","fbt","bs_curry","React","TooltipLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.onClick;a=i.jsx("span",{children:h._("Press Esc to close")});return i.jsx(b("TooltipLink.react"),{children:i.jsx("div",{className:"_387s"}),className:"_51ok _50-m _51an",onClick:function(a){return b("bs_curry")._1(c,void 0)},tooltip:a})}c=a;f.make=c}),null);
__d("MessengerPhotoViewCloseLinkReact.re",["MessengerPhotoViewCloseLinkReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewCloseLinkReact.bs").make;f.make=a}),null);
__d("SpotlightViewerBottomBarLink",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.className||"_4_8j _4_8k";return h.jsx(b("Link.react"),babelHelpers["extends"]({},this.props,{className:a,children:this.props.children}))};return c}(h.Component);e.exports=a}),null);
__d("ChatPhotoViewHeader.react",["cx","fbt","CurrentUser","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2(),c.props.showForwardDialog&&c.props.showForwardDialog()},c.$4=function(){c.$2(),c.props.showShareDialog&&c.props.showShareDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_51an _50-m _3h_t _5l-3",role:"banner",children:[this.$1(),i.jsx(b("MessengerPhotoViewCloseLinkReact.re").make,{onClick:this.props.onClose})]})};d.$2=function(){this.refs.forwardNUX&&this.refs.forwardNUX.close()};d.$1=function(){var a=this,c,d,e;this.props.disableForward||(c=i.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",onClick:this.$3,ref:"forwardButton",children:[i.jsx("div",{className:"_3h_v _3h_w"}),h._("Forward")]}),d=i.jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("Send this image to other people in separate messages.")}));this.props.enableShareToFB&&(e=i.jsxs("div",{className:"_3h_u",onClick:this.$4,ref:"shareButton",role:"button",tabIndex:"0",children:[i.jsx("div",{className:"_3tth _3h_w"}),this.$5()]}));return i.jsxs("div",{ref:"buttons",children:[i.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",rel:"async",ajaxify:this.props.url,ref:"downloadButton",children:[i.jsx("div",{className:"_3h_x _3h_w"}),h._("Download")]}),c,d,e,i.jsxs("div",{className:"_3h_u",onClick:this.props.openInfo,ref:"moreInfo",role:"link",tabIndex:"0",children:[i.jsx("div",{className:"_3h_y _3h_w"}),h._("Info")]})]},"buttonsContainer")};d.$5=function(){if(b("CurrentUser").isWorkUser())return h._("Share to Workplace");else return h._("Share to Facebook")};return c}(i.PureComponent);e.exports=a;a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClose:c.func,openInfo:c.func,showForwardDialog:c.func,showShareDialog:c.func,url:c.object}}),null);
__d("ChatSpeakingSticker.react",["React","ReactDOM","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("ReactDOM").findDOMNode(d.refs.stickerVideo);a.play()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx("div",{onClick:this.$1,role:"presentation",children:g.jsx("video",{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width,children:g.jsx("source",{src:this.props.videoURI})})})};return c}(g.PureComponent);e.exports=a;a.propTypes={videoURI:(c=b("prop-types")).string.isRequired,videoSize:c.shape({height:c.number,width:c.number}).isRequired}}),null);
__d("MercuryTypingAnimation_DEPRECATED.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:b("joinClasses")("_4a0v _1x3z",this.props.className),children:h.jsxs("div",{className:"_4b0g",children:[h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}}),null);
__d("ReactComponentWithPureRenderMixin",["shallowCompare"],(function(a,b,c,d,e,f){"use strict";a={shouldComponentUpdate:function(a,c){return b("shallowCompare")(this,a,c)}};c=a;e.exports=c}),null);
__d("ChatTypingIndicator.react",["cx","fbt","Image.react","MercuryIDs","MercuryTypingAnimation_DEPRECATED.react","MessengerParticipants.bs","MessengerPersonas.bs","QE2Logger","React","ReactComponentWithPureRenderMixin","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ChatTypingIndicator",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{setBubbleRef:(a=b("prop-types")).func,isOnline:a.bool,userID:a.string,showName:a.bool},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a,c=this.getPersona();this.props.userID&&(a=b("MessengerParticipants.bs").getNow(this.props.userID));return!a&&!c?null:i.jsxs("div",{className:"_4tdt",children:[j(a,c),this._renderBubble()]})},getPersona:function(){var a=this.props.userID;return!a?null:b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(a))},_renderBubble:function(){var a=this.props,c=a.setBubbleRef;a=a.showName;return i.jsx("div",{className:"_4tdv",children:i.jsx("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":""),children:i.jsx("div",{className:"_5wd9 _n4o",children:i.jsx("div",{className:"_5w1r _5wdf _3_om",children:i.jsx(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"_5x7x",ref:c})})})})})}});function j(a,c){var d=c?c.name:a?a.name:null;c=c?c.profile_picture_url:a?a.image_src:null;a=a?a.href:null;d=h._("{name}",[h._param("name",d)]);return i.jsx("div",{className:"_31o4 _3njy",children:i.jsx("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a||"#",ref:"link",children:i.jsx(b("Image.react"),{src:c,ref:"image"})})})}d=c;e.exports=d}),null);
__d("MessengerTypingUtils.bs",["bs_belt_Map","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return b("bs_belt_Map").keysToArray(b("bs_caml_option").valFromOption(a));else return[]}f.getTypingUserIDs=a}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatConfig","ChatTypingIndicator.react","CurrentUser","DOM","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerPersonas.bs","MessengerState.bs","MessengerTypingUtils.bs","React","ReactDOM","TooltipData","emptyFunction"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.bubbleRefs={},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.shouldComponentUpdate=function(a){return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.rootClassName!==this.props.rootClassName||a.typingUserIDs!==this.props.typingUserIDs};d.componentDidUpdate=function(){var a=this,c=b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs);c.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide();b("MessengerParticipants.bs").getMulti(c,function(d){a.$1&&c.forEach(function(c){var e=d[c],f=a.bubbleRefs[c];if(f&&e){c=b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(c));c=c?c.name:e.short_name;b("TooltipData").set(b("ReactDOM").findDOMNode(f),a.renderTooltip(c),"above","left")}})})};d.$2=function(){var a=this,c=b("MercuryIDs").isGroupChat(this.props.threadID);return i.jsx("div",{className:this.props.rootClassName,children:b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs).sort().map(function(b){return a.$3(b,!!c)})})};d.render=function(){if(!b("MercuryIDs").isValid(this.props.threadID))return null;var a=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.threadID);if(a&&!a.is_subscribed)return null;if(b("CurrentUser").isWorkUser()&&a!=null&&a.participants.length===1)return null;a=b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;if(!a&&b("ChatConfig").getBool("chat_tab_has_gradients"))return i.jsx("div",{className:"_4gd0",children:this.$2()});else return this.$2()};d.$3=function(a,b){var c=this,d=this.props.indicatorClass;return i.jsx(d,{setBubbleRef:function(b){c.bubbleRefs[a]=b},showName:b,userID:a},a)};d.renderTooltip=function(a){var c=b("DOM").create("span");b("ReactDOM").render(i.jsx("span",{children:h._("{name} is typing...",[h._param("name",a)])}),c);return c};return c}(i.Component);e.exports=a;a.defaultProps={indicatorClass:b("ChatTypingIndicator.react"),indicatorsDidShow:b("emptyFunction"),indicatorsDidHide:b("emptyFunction")}}),null);
__d("MessengerThreadThemesWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2657173167695729"};b.getQueryID=function(){return"737698543408283"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("CustomizeThreadThemeUtil",["CurrentUser","MessengerThreadThemesWebGraphQLQuery","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.fetchThemesForChat=a;f.fetchThemesForMessenger=c;var g={};function a(a){h(a)}function c(a){h(a)}function h(a){var c=b("CurrentUser").isWorkUser()?"WORKPLACE_VERSION0":"M4_VERSION0_WITH_GKS";g[c]?a(g[c]):b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadThemesWebGraphQLQuery"))({version:c})),function(b){if(b&&b.messenger_thread_themes&&Array.isArray(b.messenger_thread_themes)){var d=[];b.messenger_thread_themes.forEach(function(a){if(!a.id)return;if(!a.fallback_color)return;if(!a.accessibility_label)return;a={id:a.id,fallback_color:a.fallback_color,accessibility_label:a.accessibility_label,gradient_colors:a.gradient_colors,icon_uri:(a=a==null?void 0:(a=a.icon_asset)==null?void 0:(a=a.image)==null?void 0:a.uri)!=null?a:void 0};d.push(a)});g[c]=d;a(d)}})}}),null);
__d("FantaMessageActions",["Bootloader","CurrentUser","FantaDispatcher","MercuryIDs","MercuryLocalIDs","MercuryViewer","MessengerState.bs","MWCount.re","emptyFunction","ifRequired","keyMirror","requireWeak","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_GROUP_PARTICIPANTS:null,ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:null,ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:null,CANCEL_FILE_UPLOAD:null,CANCEL_REPLY_TO_MESSAGE:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,REPLY_TO_MESSAGE:null,SEND_GIF:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,SET_NEW_GROUP_NAME_LOCALLY:null,UPDATE_GROUP_NAME:null,UPDATE_USER_INPUT_REQUESTED:null});function i(a){var c=b("MercuryViewer").getID();if(!a.length)return null;a=a.filter(function(a){return a!==c});var d;if(a.length===0)return null;else a.length===1?d=b("MercuryIDs").getThreadIDFromParticipantID(a[0]):(d=b("MercuryLocalIDs").generateThreadID(),a.unshift(c),b("MessengerState.bs").createNewLocalThread(b("CurrentUser").getID(),d,a));return d}a={Types:h,prepareFilesForSend:function(a,c,d,e){var f={type:h.PREPARE_FILES_FOR_SEND,tabID:a,files:c,composer:d};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(f),e&&e()})},replyToMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.REPLY_TO_MESSAGE,threadID:c,message:a})},cancelReplyToMessage:function(a){b("FantaDispatcher").dispatch({type:h.CANCEL_REPLY_TO_MESSAGE,threadID:a})},cancelFileUpload:function(a,c){var d={type:h.CANCEL_FILE_UPLOAD,tabID:a,uploadID:c};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(d)})},linkPreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LINK_PREVIEW,tabID:a,uri:c})})},loadedShareData:function(a,c,d){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADED_SHARE_DATA,tabID:a,attachmentData:c,composer:d})})},loadingShareData:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADING_SHARE_DATA,composer:c,tabID:a})})},removeSharePreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.REMOVE_SHARE_PREVIEW,tabID:a,composer:c})})},receivedNewMessage:function(a,c){b("MWCount.re").Blue.NewMessage.lift(),b("FantaDispatcher").dispatch({type:h.RECEIVED_NEW_MESSAGE,tabID:a,message:c})},updateGroupName:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_GROUP_NAME,threadID:a,newName:c})})},setNewGroupNameLocally:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.SET_NEW_GROUP_NAME_LOCALLY,threadID:a,newName:c})})},addParticipants:function(a,c){var d=this;b("ifRequired")("FantaAppStore",function(e){e=e.getState().mercury.tabContents.get(a);if(!e)return;var f=e.thread;e=e.typeahead;if(!e||!f)return;var h=b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a);if(f.is_canonical_user||h){h=e.getSelectedParticipantIDs();e=f.participants;e=i(e.concat(h));e?f.is_canonical_user?d.addGroupParticipantsAsOpenTab(e,a,c):d.addGroupParticipantsAsReplaceTab(e,a,c):d.addGroupParticipant(a,c)}else d.addGroupParticipant(a,c)})},addGroupParticipant:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS,threadID:a,onSendSuccess:c})})},addGroupParticipantsAsOpenTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB,fromTabID:c,onSendSuccess:d,tabID:a})})},addGroupParticipantsAsReplaceTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB,newTabID:a,onSendSuccess:d,tabID:c})})},sendMessage:function(a,c,d,e){this.dispatchOrBootloadSendMessages(function(){var f={type:h.SEND_MESSAGE,threadID:a,message:c,composer:d,onSendSuccess:e};b("FantaDispatcher").dispatch(f)})},sendPhoto:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_PHOTO,clearComposerOnSend:!0,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendGif:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_GIF,clearComposerOnSend:!1,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendHotLike:function(a,c,d,e,f){this.dispatchOrBootloadSendMessages(function(){var g={type:h.SEND_HOT_LIKE,emoji:c,onSendSuccess:f,size:d,source:e,threadID:a};b("FantaDispatcher").dispatch(g)})},sendSticker:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_STICKER,threadID:a,stickerID:c,onSendSuccess:d};b("FantaDispatcher").dispatch(e)})},composerTextUpdate:function(a,c,d){var e=this;c.length>0&&b("ifRequired")("FantaReducersSendMessages",b("emptyFunction"),function(){return e.dispatchOrBootloadSendMessages(b("emptyFunction"))});this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.COMPOSER_TEXT_UPDATE,composer:d,message:c,threadID:a})})},dispatchOrBootloadMessages:function(a){b("ifRequired")("FantaReducersMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadSendMessages:function(a){b("ifRequired")("FantaReducersSendMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersSendMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadUploader:function(a){b("ifRequired")("FantaReducersFileUploader",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersFileUploader"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function(a){b("ifRequired")("FantaReducersSharePreview",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersSharePreview"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},updateUserInputRequested:function(a,c,d){this.dispatchOrBootloadMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_USER_INPUT_REQUESTED,isUserInputRequested:a,requestNumResults:c,requestType:d})})}};e.exports=a}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.thread;a=a.threadID;if(c!=null){c=((c=c)!=null?c.is_canonical_neo_user:c)||!1;if(c)return null}else return null;return b("getPageIDFromThreadID")(a)?h.jsx("div",{className:"_7bl4",children:h.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MercuryPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:h.jsx("div",{}),component:h.jsx(b("LazyComponent.react"),{threadID:a})})}):null}}),null);
__d("FantaTypeFileUploader",["immutable"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ANIMATED_IMAGE:"animated_image",AUDIO:"audio",FILE:"file",GENERIC_ATTACHMENT:"generic_attachment",IMAGE:"image",VIDEO:"video"});c={uploadedFiles:b("immutable").Map(),uploadingFiles:b("immutable").Map()};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTypeIDs=function(a){return this.uploadedFiles.reduce(function(b,c){c.type===a&&c.uploadedID&&(b=b.concat(c.uploadedID));return b},[])};return b}(b("immutable").Record(c));e.exports=d;d.fileTypes=a}),null);
__d("WorkBotLandingPageHelper",["immutable"],(function(a,b,c,d,e,f){"use strict";f.shouldShowBotLandingPageArray=a;f.shouldShowBotLandingPage=c;b("immutable").List;function a(a){var b;if(a.length===0)return!0;if(a.length>1)return!1;a=a[a.length-1];b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}function c(a){var b;if(a.size===0)return!0;if(a.size>1)return!1;a=a.last();b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}}),null);
__d("MessengerApprovalQueueUtils",["MercuryIDs","MessengerAdminGroupUtils","MessengerParticipants.re","immutable"],(function(a,b,c,d,e,f){"use strict";f.getApprovalQueueParticipants=a;f._constructApprovalRequestInfo=c;function a(a,c){var d=this;if(!a)return;if(b("MessengerAdminGroupUtils").isAdminRequired(a)){var e=a.group_approval_queue&&a.group_approval_queue.map(function(a){return[b("MercuryIDs").getParticipantIDFromUserID(a.requester.id),a]}),f=e&&new Map(e);f&&b("MessengerParticipants.re").getMulti(Array.from(f.keys()),function(a){a=Object.values(a);a=a;c(b("immutable").Map(a.map(function(a){return[a.id,d._constructApprovalRequestInfo(a,f)]})))})}else a.approval_queue_ids&&b("MessengerParticipants.re").getMulti(a.approval_queue_ids,function(a){c(b("immutable").Map(a))})}function c(a,b){b=b.get(a.id);return{fbid:a.fbid,id:a.id,image_src:a.image_src,is_messenger_user:!!a.is_messenger_user,name:a.name,inviter_id:b&&b.inviter.id,requester_id:b&&b.requester.id,request_source:b&&Number(b.request_source),request_timestamp:b&&b.request_timestamp}}}),null);
__d("EmojiSticker.react",["cx","Image.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};d.render=function(){var a=this.props.emojiImage?this.props.emojiImage:h.jsx(b("Image.react"),{src:this.props.sourceURI});return h.jsx("div",{"aria-label":this.props.emoji,className:b("joinClasses")(this.props.className,"_383m"),tabIndex:"0",children:a})};return c}(h.Component);e.exports=a;a.propTypes={emoji:(c=b("prop-types")).string,emojiImage:c.any,onAttachmentLoad:c.func,sourceURI:c.string.isRequired}}),null);
__d("MercuryShareAttachmentReactShape",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";b("React");c=(a=b("prop-types")).shape({share_id:a.string,description:a.string,media:a.shape({image:a.string,image_size:a.shape({height:a.number,width:a.number}),duration:a.number,playable:a.bool,source:a.string}),source:a.string,style_list:a.arrayOf(a.string),subattachments:a.array,target:a.object,title:a.string,properties:a.object,uri:a.string,action_links:a.array,messaging_attribution:a.shape({attribution_type:a.string,attribution_id:a.string,name:a.string,icon_url:a.string}),messenger_ctas:a.arrayOf(a.shape({id:a.string,page_id:a.string,action_title:a.string,action_url:a.string,action_open_type:a.number,is_high_confidence:a.bool,is_mutable_by_server:a.bool,user_confirmation:a.bool,native_url:a.string,is_disabled:a.bool,nested_ctas:a.array,webview_metadata:a.object}))}).isRequired;d=c;e.exports=d}),null);
__d("MercuryAnimatedShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a GIF."):h._("{sender name} sent a GIF.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryCrisisListingShareSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{children:this.props.isViewerSender?g._("You shared a post."):g._("{sender_name} shared a post.",[g._param("sender_name",this.props.senderName)])})};return b}(h.Component);e.exports=a}),null);
__d("MercuryFallbackShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a link."):a=h._("{sender name} sent a link.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryFormProgressShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.$1=function(){var a;return(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?a.progress:a:a:a};c.render=function(){var a=this.$1(),b;a===null?b=g._("A form was sent."):this.props.isViewerSender?a===100?b=g._("{sender name} submitted a form.",[g._param("sender name",this.props.senderName)]):b=g._("You sent a form."):a===100?b=g._("You submitted a form."):b=g._("{sender name} sent a form.",[g._param("sender name",this.props.senderName)]);return h.jsx("span",{children:b})};return b}(h.Component);e.exports=a}),null);
__d("MercuryFundraiserShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You shared a fundraiser"):h._("{sender name} shared a fundraiser",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("40052")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryInstantGameShareSnippet.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a,b=this.props.isViewerSender?h._("You shared a game."):h._("{sender name} shared a game to you.",[h._param("sender name",this.props.senderName)]),c=this.props.attachment;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;if(a==="instant_games_custom_update"){c=(a=c)!=null?a.title:a;c&&(b=c)}return i.jsx("span",{className:"uiIconText _3l6h",children:b})};return b}(i.Component);e.exports=a}),null);
__d("MercuryLeadFormUserInfoShareAttachmentSnippet.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?i._("You submitted a form."):i._("{sender name} submitted your form.",[i._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:g("404223")}),a]})};return c}(j.Component);e.exports=a}),null);
__d("MercuryMBirthdayReminderShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.attachment.title.split(" ")[0];return g.jsx("span",{children:"Wish "+a+" a happy birthday."})};return b}(g.Component);e.exports=a;a.propTypes={attachment:b("prop-types").object}}),null);
__d("MercuryMessageLiveLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a live location."):a=h._("{sender name} sent a live location.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:this.props.className,children:[j.jsx("span",{className:"_j0r"}),j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("87068")}),a]})]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryMessageLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("You sent a location."):a=h._("{sender name} sent a location.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("87068")}),a]})};return c}(j.Component);e.exports=a}),null);
__d("MercuryMessengerInviteShareAttachmentSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{className:"_3l6h",children:this.props.attachment.title})};return b}(h.Component);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape")}}),null);
__d("MercuryMontageDirectShareSnippet.react",["cx","fbt","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.media)!=null?a.source:a:a:a;var b;this.props.isViewerSender?b=a?h._("You sent a video."):h._("You sent a photo."):b=a?h._("{sender name} sent a video.",[h._param("sender name",this.props.senderName)]):h._("{sender name} sent a photo.",[h._param("sender name",this.props.senderName)]);return i.jsx("span",{className:"uiIconText _3l6h",children:b})};return b}(i.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object]),attachment:c.object}}),null);
__d("MercuryMusicIntegrationAttachmentSnippet.react",["fbt","MercuryFallbackShareAttachmentSnippet.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment.target;if(!c)return h.jsx(b("MercuryFallbackShareAttachmentSnippet.react"),babelHelpers["extends"]({},this.props));var d=c.title;c=c.app_name;this.props.isViewerSender?a=g._("You shared \"{music title}\" from {music servvice}.",[g._param("music title",d),g._param("music servvice",c)]):a=g._("{sender name} shared \"{music title}\" from {music servvice}.",[g._param("sender name",this.props.senderName),g._param("music title",d),g._param("music servvice",c)]);return h.jsx("span",{children:a})};return c}(h.PureComponent);e.exports=a;a.propTypes={attachment:(c=b("prop-types")).object,isViewerSender:c.bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryPaymentPlatformMCOMSnippet.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return null};return b}(a.Component);e.exports=c}),null);
__d("MercuryPaymentPlatformSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?(a=a.payment_snippet)!=null?a.text:a:a:a:a;return!a?null:i.jsxs("span",{className:"uiIconText _3l6h",children:[i.jsx(b("Image.react"),{src:h("86988")}),a]})};return c}(i.Component);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSenderViewer:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryPhotoShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a photo."):h._("{sender name} sent a photo.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryPromotionShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment,d=c&&c.target,e;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;this.props.isViewerSender!=null?e=h._("You sent an attachment."):e=h._("{sender name} sent an attachment.",[h._param("sender name",this.props.senderName)]);a==="instant_games_leaderboard_update"&&(e=c.title);c=(a=d==null?void 0:d.message)!=null?a:e;return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),c]})};return c}(j.Component);e.exports=a}),null);
__d("MercurySaleGroupProductItemShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a listing."):h._("{sender name} sent a listing.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("86988")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryVideoShareSnippet.react",["cx","fbt","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("You sent a video."):h._("{sender name} sent a video.",[h._param("sender name",this.props.senderName)]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("82423")}),a]})};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object])}}),null);
__d("MercuryWECAttachmentSnippet.react",["cx","fbt","ix","Image.react","MercuryShareAttachmentReactShape","React","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.attachment.subattachments.length===0||this.props.attachment.subattachments[0].target===null||this.props.attachment.subattachments[0].target===void 0)return null;var a=this.props.attachment.subattachments[0].target.attach_type;if(a=="photo"){a=this.props.isViewerSender?h._({"*":"You sent {number} photos .","_1":"You sent 1 photo ."},[h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]):h._({"*":"{sender name} sent {number} photos.","_1":"{sender name} sent 1 photo."},[h._param("sender name",this.props.senderName),h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]);return j.jsxs("span",{className:"uiIconText _3l6h",children:[j.jsx(b("Image.react"),{src:i("81849")}),a]})}return null};return c}(j.Component);e.exports=a;a.propTypes={isViewerSender:(c=b("prop-types")).bool,senderName:c.oneOfType([c.string,c.object]),attachment:b("MercuryShareAttachmentReactShape")}}),null);
__d("MessengerLightweightActionSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{className:"_3l6h",children:this.props.attachment.title})};return b}(h.PureComponent);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape")}}),null);
__d("MessengerMomentsAppSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment;return!a||!a.target?null:i.jsxs("span",{className:"uiIconText _3l6h",children:[i.jsx(b("Image.react"),{src:h("86988")}),a.target.snippet]})};return c}(i.Component);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape")}}),null);
__d("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.isViewerSender?g._("You sent a contact request."):g._("{sender name} sent a contact request.",[g._param("sender name",this.props.senderName)]);return h.jsx("span",{children:a})};return b}(h.Component);e.exports=a}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});c=a;e.exports=c}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";f.renderText=a;function a(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}}),null);
__d("MessengerLightweightActionUtils",[],(function(a,b,c,d,e,f){"use strict";f.isLWAAttachment=g;f.isLWAMessage=a;f.getCollapsedLWAText=b;f.getLWASnippetText=c;function g(a){return!!(a&&a.attach_type==="share"&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function b(a){return a.attachments[0].share.title}function c(a){return a[0].share.title}}),null);
__d("P2PSnippetStringUtils",["fbt"],(function(a,b,c,d,e,f,g){f.getRequestCanceledSnippet=a;f.getRequestDeclinedSnippet=b;f.getRequestSentSnippet=c;f.getRequestSnippetByStatus=d;f.getTransferCanceledSnippet=e;f.getTransferDeclinedSnippet=h;f.getTransferSentSnippet=i;f.getTransferSnippetByStatus=j;function a(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])}function b(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])}function c(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])}function d(a,b,c,d,e,f){a=a||1;b=[b,c,d,e,f];switch(a){case 2:return this.getRequestDeclinedSnippet.apply(this,b);case 5:case 6:return this.getRequestCanceledSnippet.apply(this,b)}return this.getRequestSentSnippet.apply(this,b)}function e(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])}function h(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])}function i(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])}function j(a,b,c,d,e,f){b=[b,c,d,e,f];c=a||15;switch(c){case 5:return this.getTransferDeclinedSnippet.apply(this,b);case 3:case 10:case 11:case 12:case 16:return this.getTransferCanceledSnippet.apply(this,b)}return this.getTransferSentSnippet.apply(this,b)}}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";a={getAttachmentSnippetType:function(a){if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}if(e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0]))return b("MessengerLightweightActionUtils").getLWASnippetText(e);return e&&e.length===1&&this._isGloballyRemovedMessageAttachment(e[0])?e[0].share.description:c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").MIXED:return c?g._("You sent some attachments."):g._("{sender name} sent some attachments.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_isGloballyRemovedMessageAttachment:function(a){return a.share&&a.share.style_list&&a.share.style_list.includes("globally_deleted_message_placeholder")},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type==="third_party_sticker"},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type==="video"},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,"business_message_items")},_hasSticker:function(a){return a.length===1&&a[0].attach_type==="sticker"},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_location")},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_live_location")},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,"montage_direct")},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion")},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion_request")},_hasSingleShareAttachmentOfStyle:function(a,b){return a.length===1&&a[0].attach_type==="share"&&a[0].share&&a[0].share.style_list.indexOf(b)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type==="share"},_hasError:function(a){return a.length===1&&a[0].attach_type==="error"},_hasGift:function(a){return a.length===1&&a[0].attach_type==="gift"},_hasFile:function(a){return a.length===1&&a[0].attach_type==="file"},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="photo"})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="animated_image"})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("P2PMercuryAttachmentSnippetRendererBase.react",["cx","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("span",{className:"uiIconText _3l6h _3_io",children:[i.jsx(b("Image.react"),{height:12,src:h("94348"),width:12}),this.props.text]})};return c}(i.Component);e.exports=a;a.propTypes={text:b("prop-types").node}}),null);
__d("P2PMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentSnippetText(b("CurrentUser").getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,b("CurrentUser").getID()===this.props.receiver.id,this.props.receiver.name);return g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(g.Component);a.propTypes={amountWithSymbol:(c=b("prop-types")).string,receiver:c.object,sender:c.object,status:c.number};a.defaultProps={sender:{},receiver:{}};e.exports=a}),null);
__d("P2PMercuryShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","P2PMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment?this.props.attachment.target:{};return g.jsx(b("P2PMercuryAttachmentSnippet.react"),babelHelpers["extends"]({},a))};return c}(g.Component);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape")}}),null);
__d("P2PPaymentRequestMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,b("CurrentUser").getID()===this.props.requestee.id,this.props.requestee.name);return g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(g.Component);e.exports=a;a.propTypes={formattedAmount:(c=b("prop-types")).string.isRequired,requestee:c.object.isRequired,requester:c.object.isRequired,status:c.number.isRequired}}),null);
__d("P2PPaymentRequestMercuryShareAttachmentSnippet.react",["P2PMercuryAttachmentSnippetRendererBase.react","P2PPaymentRequestMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment,c=a.target;return!c?g.jsx(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a.title}):g.jsx(b("P2PPaymentRequestMercuryAttachmentSnippet.react"),{formattedAmount:c.amountWithSymbol,requestee:c.requestee,requester:c.requester,status:c.currentStatus})};return c}(g.Component);e.exports=a}),null);
__d("ServicesGenericAdminTextAttachmentSnippet.react",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx("span",{})}}),null);
__d("MercuryShareStyleMap",["cx","CurrentUser","JSResource","MercuryShareAttachmentRenderLocations","emptyFunction","gkx","requireCond","cr:1030824","MercuryFallbackShareAttachmentSnippet.react","P2PMercuryShareAttachmentSnippet.react","P2PPaymentRequestMercuryShareAttachmentSnippet.react","MercuryPhotoShareSnippet.react","NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react","MercuryInstantGameShareSnippet.react","MercuryPromotionShareAttachmentSnippet.react","MessengerMomentsAppSnippet.react","MercuryVideoShareSnippet.react","MercuryMessageLocationShareAttachmentSnippet.react","MercuryMessageLiveLocationShareAttachmentSnippet.react","MercuryAnimatedShareSnippet.react","MercurySaleGroupProductItemShareSnippet.react","MercuryPaymentPlatformMCOMSnippet.react","MercuryPaymentPlatformSnippet.react","MercuryMusicIntegrationAttachmentSnippet.react","MercuryFundraiserShareSnippet.react","MercuryCrisisListingShareSnippet.react","MercuryMessengerInviteShareAttachmentSnippet.react","MessengerLightweightActionSnippet.react","MercuryLeadFormUserInfoShareAttachmentSnippet.react","MercuryWECAttachmentSnippet.react","MercuryMBirthdayReminderShareAttachmentSnippet.react","MercuryFormProgressShareAttachmentSnippet.react","ServicesGenericAdminTextAttachmentSnippet.react","MercuryMontageDirectShareSnippet.react"],(function(a,b,c,d,e,f,g){"use strict";f.getStyleFactory=a;f._getStyleMapEntry=c;var h=new Map();h.set("fallback",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});b("CurrentUser").isWorkUser()?h.set("event",{componentName:"MercuryWorkEventShareAttachment.react",componentLoader:b("JSResource")("MercuryWorkEventShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set("event",{componentName:"MercuryEventShareAttachment.react",componentLoader:b("JSResource")("MercuryEventShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});d={componentName:"P2PMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set("event_attendance_confirmation",{componentName:"MercuryEventAttendanceConfirmationAttachment.react",componentLoader:b("JSResource")("MercuryEventAttendanceConfirmationAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7jp4"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set("orion",d);if(b("gkx")("678645")){e={componentName:"P2PServerDrivenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PServerDrivenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set("PAYMENT_BUBBLE_VIEW",e);h.set("p2p_server_bubble",e)}h.set("orion_request",{componentName:"P2PPaymentRequestMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PPaymentRequestMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PPaymentRequestMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])});h.set("insights_chart",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("retail_receipt",{componentName:"MNCommerceReceiptMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceReceiptMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("neo_draw_and_guess_game_request",{componentName:"NeoDrawAndGuessRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoDrawAndGuessRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _4p_r _5i_d"]])});h.set("NEO_INVITATION",{componentName:"NeoInvitationMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoInvitationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("parent_approved_plain_text_bot_message",{componentName:"ParentApprovedPlainTextBotMessageMercuryShareAttachment.react",componentLoader:b("JSResource")("ParentApprovedPlainTextBotMessageMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("NEO_KID_INITIATE_FRIENDING",{componentName:"NeoKidInitiateFriendingMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoKidInitiateFriendingMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react")}});h.set("retail_cancellation",{componentName:"MNCommerceCancelationMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceCancelationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_shipment",{componentName:"MNCommerceRetailShipmentShareAttachment.react",componentLoader:b("JSResource")("MNCommerceRetailShipmentShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_shipment_tracking_event",{componentName:"MNCommerceShipmentTrackingEventShareAttachment.react",componentLoader:b("JSResource")("MNCommerceShipmentTrackingEventShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_now_in_stock",{componentName:"MNCommerceProductSubscriptionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceProductSubscriptionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("retail_promotion",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});b("gkx")("678262")&&(h.set("instant_games_share_message",{componentName:"MessengerGamesShareAttachment.react",componentLoader:b("JSResource")("MessengerGamesShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set("instant_games_share_score_message",{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set("instant_games_custom_update",{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}));h.set("games_service_player_invite_message",{componentName:"GamesServiceGameRequestAttachment.react",componentLoader:b("JSResource")("GamesServiceGameRequestAttachment.react").__setRef("MercuryShareStyleMap")});h.set("mobile_game_thread_share",{componentName:"MessengerMobileGameThreadShareMessage.react",componentLoader:b("JSResource")("MessengerMobileGameThreadShareMessage.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")}});h.set("retail_item",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set("business_message_items",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set("in_thread_multiphoto_carousel",{componentName:"InThreadMultiphotoCarouselItemShareAttachment.react",componentLoader:b("JSResource")("InThreadMultiphotoCarouselItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]]),overrideWidthInHScroll:240});h.set("messenger_platform_media_attachment",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg _4jj7"]])});h.set("h_scroll",{componentName:"MNCommerceHScrollMessageAttachment.react",componentLoader:b("JSResource")("MNCommerceHScrollMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8ka"]])});h.set("messenger_platform_compact_item",{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("messenger_platform_cover_item",{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("messenger_platform_button_list",{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set("vertical_attachment_list",{componentName:"MessengerPlatformVerticalListAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _5i_d _28rg"]])});h.set("ride_ordered",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("living_room",{componentName:"MercuryLivingRoomShareAttachment.react",componentLoader:b("JSResource")("MercuryLivingRoomShareAttachment.react").__setRef("MercuryShareStyleMap"),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("ride_receipt",{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("airline_update",{componentName:"MNAirlineUpdateMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineUpdateMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_itinerary",{componentName:"MNAirlineItineraryMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineItineraryMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_checkin_reminder",{componentName:"MNAirlineCheckInMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineCheckInMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set("airline_boarding_pass",{componentName:"MNAirlineBoardingPassMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineBoardingPassMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});g={componentName:"MessengerMomentsAppShareAttachment.react",componentLoader:b("JSResource")("MessengerMomentsAppShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerMomentsAppSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])};h.set("moments_app_invitation",g);h.set("moments_app_photo_request",g);h.set("genie_message",{componentName:"GenieMessageShareAttachment.react",componentLoader:b("JSResource")("GenieMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_2wrf"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set("movie_bot_movie_list",{componentName:"MovieBotMovieListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("movie_bot_movie_showtime_list",{componentName:"MovieBotMovieShowtimeListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieShowtimeListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("share_large_image",{componentName:"MercuryShareLargeImageAttachment.react",componentLoader:b("JSResource")("MercuryShareLargeImageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});b("CurrentUser").isWorkUser()?h.set("image_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")}}):h.set("image_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});b("CurrentUser").isWorkUser()?(h.set("photo_link_share",{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")}}),h.set("video",{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")})):h.set("video",{componentName:"MercuryVideoShareAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryVideoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("message_location",{componentName:"MercuryMessageLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("message_live_location",{componentName:"MercuryMessageLiveLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLiveLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLiveLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("animated_image_share",{componentName:"MercuryAnimatedShareAttachment.react",componentLoader:b("JSResource")("MercuryAnimatedShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryAnimatedShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsFalse});h.set("group_sell_product_item",{componentName:"MercurySaleGroupProductItemShareAttachment.react",componentLoader:b("JSResource")("MercurySaleGroupProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercurySaleGroupProductItemShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("commerce_attachment",{componentName:"MercurySaleGroupProductItemShareAttachment.react",componentLoader:b("JSResource")("MercurySaleGroupProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercurySaleGroupProductItemShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("commerce_product_item",{componentName:"MercuryCommerceProductItemShareAttachment.react",componentLoader:b("JSResource")("MercuryCommerceProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("payment_platform_redesigned",{componentName:"MercuryPaymentPlatformMCOMAttachment.react",componentLoader:b("JSResource")("MercuryPaymentPlatformMCOMAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPaymentPlatformMCOMSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _9bjq _9bjr"],[b("MercuryShareAttachmentRenderLocations").CHAT,"_9bjq _9bjs"]])});h.set("payment_platform",{componentName:"MercuryPaymentPlatformShareAttachment.react",componentLoader:b("JSResource")("MercuryPaymentPlatformShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPaymentPlatformSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("financial_bill_payment_request",{componentName:"MNBillPaymentRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("MNBillPaymentRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set("music_aggregation",{componentName:"MercuryMusicAttachment.react",componentLoader:b("JSResource")("MercuryMusicAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMusicIntegrationAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4p_r"]])});h.set("video_share_youtube",{componentName:"MercuryVideoShareYoutubeAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareYoutubeAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("rtc_call_log",{componentName:"MercuryRTCShareAttachment.react",componentLoader:b("JSResource")("MercuryRTCShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("fundraiser_person_for_person",{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set("fundraiser_person_to_charity",{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set("crisis_listing",{componentName:"MercuryCrisisListingAttachment.react",componentLoader:b("JSResource")("MercuryCrisisListingAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryCrisisListingShareSnippet.react")}});h.set("messenger_team_bot_share",{componentName:"MessengerTeamBotShareAttachment.react",componentLoader:b("JSResource")("MessengerTeamBotShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("messenger_invite",{componentName:"MercuryMessengerInviteShareAttachment.react",componentLoader:b("JSResource")("MercuryMessengerInviteShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3thf"]]),getSnippetComponent:function(){return b("MercuryMessengerInviteShareAttachmentSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("high_school_community_invite",{componentName:"MercuryHighSchoolCommunityInviteAttachment.react",componentLoader:b("JSResource")("MercuryHighSchoolCommunityInviteAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3y64"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("pages_platform_booking_message",{componentName:"PagesPlatformBookingMessageAttachment.react",componentLoader:b("JSResource")("PagesPlatformBookingMessageAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3fk6"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("friend_request",{componentName:"MercuryMessengerFriendRequestAttachment.react",componentLoader:b("JSResource")("MercuryMessengerFriendRequestAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("cultural_moment_holiday_card",{componentName:"MercuryCulturalMomentHolidayCardAttachment.react",componentLoader:b("JSResource")("MercuryCulturalMomentHolidayCardAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("pages_platform_lead_gen",{componentName:"PagesPlatformLeadGenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("PagesPlatformLeadGenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_b4_"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("lightweight_action",{componentName:"MessengerLightweightActionAttachment.react",componentLoader:b("JSResource")("MessengerLightweightActionAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerLightweightActionSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("job_search_job_application",{componentName:"JobApplicationMessageBubbleWrapperContainer.react",componentLoader:b("JSResource")("JobApplicationMessageBubbleWrapperContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _1zrz"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("page_messenger_attachment",{componentName:"PageMessengerShareAttachment.react",componentLoader:b("JSResource")("PageMessengerShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("lead_form_user_info",{componentName:"MercuryLeadFormUserInfoShareAttachment.react",componentLoader:b("JSResource")("MercuryLeadFormUserInfoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryLeadFormUserInfoShareAttachmentSnippet.react")}});h.set("ICE_BREAKER",{componentName:"MercuryIceBreakerMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryIceBreakerMessageShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("wec_message",{componentName:"MercuryWECMessageAttachment.react",componentLoader:b("JSResource")("MercuryWECMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryWECAttachmentSnippet.react")}});h.set("m_birthday_reminder",{componentName:"MercuryMBirthdayReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMBirthdayReminderShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMBirthdayReminderShareAttachmentSnippet.react")}});h.set("personal_reminder",{componentName:"MercuryMPersonalReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalReminderShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("personal_reminder_list",{componentName:"MercuryMPersonalRemindersListShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalRemindersListShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("article_message",{componentName:"MercuryArticleMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryArticleMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("messenger_form_progress_attachment",{componentName:"MercuryFormProgressShareAttachment.react",componentLoader:b("JSResource")("MercuryFormProgressShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFormProgressShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set("services_generic_admin_text",{componentName:"ServicesGenericAdminTextAttachment.react",componentLoader:b("JSResource")("ServicesGenericAdminTextAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("ServicesGenericAdminTextAttachmentSnippet.react")}});h.set("fbpay_offer",{componentName:"MecuryMessageOfferShareAttachment.react",componentLoader:b("JSResource")("MecuryMessageOfferShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("application_share_referral",{componentName:"MecuryMessageShareReferralAttachment.react",componentLoader:b("JSResource")("MecuryMessageShareReferralAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set("joinable_call",{componentName:"WorkChatCallAttachment.react",componentLoader:b("JSResource")("WorkChatCallAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set("workplace_approvals",{componentName:"WorkChatApprovalHeaderAttachment.react",componentLoader:b("JSResource")("WorkChatApprovalHeaderAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&(b("gkx")("1237084")?h.set("attached_story",{componentName:"WorkChatStoryShareAttachment.react",componentLoader:b("JSResource")("WorkChatStoryShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set("attached_story",{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")}));b("CurrentUser").isWorkUser()&&h.set("avatar",{componentName:"MercuryAvatarShareAttachment.react",componentLoader:b("JSResource")("MercuryAvatarShareAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set("unavailable",{componentName:"MercuryUnavailableShareAttachment.react",componentLoader:b("JSResource")("MercuryUnavailableShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("montage_direct",{componentName:"MontageDirectAttachment.react",componentLoader:b("JSResource")("MontageDirectAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMontageDirectShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_1ti9"]])});h.set("mentorship_curriculum_step",{componentName:"MentorshipCurriculumStepShareAttachment.react",componentLoader:b("JSResource")("MentorshipCurriculumStepShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set("marketplace_generic_admin_text",{componentName:"MarketplaceGenericAdminTextAttachment.react",componentLoader:b("JSResource")("MarketplaceGenericAdminTextAttachment.react").__setRef("MercuryShareStyleMap")});h.set("mentorship_discussion_topic_set",{componentName:"MentorshipDiscussionTopicSetAttachment.react",componentLoader:b("JSResource")("MentorshipDiscussionTopicSetAttachment.react").__setRef("MercuryShareStyleMap")});h.set("mentorship_h_scroll",{componentName:"MentorshipHScrollAttachment.react",componentLoader:b("JSResource")("MentorshipHScrollAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7qm8 _7qmd"]])});h.set("mentorship_xma",{componentName:"MentorshipGenericXMAShareAttachment.react",componentLoader:b("JSResource")("MentorshipGenericXMAShareAttachment.react").__setRef("MercuryShareStyleMap")});b("gkx")("1462436")&&h.set("rooms_speakeasy_xma",{componentName:"MercuryRTCRoomsRingbackAttachment.react",componentLoader:b("JSResource")("MercuryRTCRoomsRingbackAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&b("gkx")("990297")&&h.set("file_upload",{componentName:"MercuryWorkContentAppShareAttachment.react",componentLoader:b("JSResource")("MercuryWorkContentAppShareAttachment.react").__setRef("MercuryShareStyleMap")});b("cr:1030824")!==null&&h.set("montage_share",b("cr:1030824"));h.set("shop_product_item",{componentName:"MercuryShopProductItemShareAttachment.react",componentLoader:b("JSResource")("MercuryShopProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _99al"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue,overrideWidthInHScroll:242});h.set("shop_order_updates",{componentName:"MercuryShopOrderUpdatesAttachment.react",componentLoader:b("JSResource")("MercuryShopOrderUpdatesAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _9ehl"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set("shop_order_updates_collapsed",{componentName:"MercuryShopOrderUpdatesCollapsedAttachment.react",componentLoader:b("JSResource")("MercuryShopOrderUpdatesCollapsedAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _9ezf"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});b("gkx")("1711579")&&h.set("messenger_generic_template",{componentName:"GenericXmaTemplateAttachment.react",componentLoader:b("JSResource")("GenericXmaTemplateAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _9h8l"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue,overrideWidthInHScroll:242});function a(a){if(!a||!a.style_list)return null;if(a.style_list[0]==="attached_story"){var b=a.subattachments,c=b&&b.length?b[0].style_list:[],d=c.length?this._getStyleMapEntry(c):null,e=b[0];if(Array.isArray(c)&&c.find(function(a){return a==="video"})){c={video_title:a.title,description:a.description,source:a.source};e=Object.assign({},b[0],c)}if(d&&d.unwrapInStory&&d.unwrapInStory())return{attachment:e,factory:d}}b=this._getStyleMapEntry(a.style_list);a.style_list[0]==="payment_platform"&&a.target.should_show_new_xma&&(b=this._getStyleMapEntry(["payment_platform_redesigned","fallback"]));return!b?null:{attachment:a,factory:b}}function c(a){for(var b=0;b<a.length;b++){var c=h.get(a[b]);if(c)return c}return null}}),null);
__d("MessengerErrorBoundary.react",["cx","fbt","ChatReliabilityInstrumentation","ErrorBoundary.react","LogHistory","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("LogHistory").getInstance("messenger_error_boundary"),k=function(a){return h._({"conversation list":"Could not display conversation list.","conversation":"Could not display conversation.","composer":"Could not display composer.","conversation information":"Could not display conversation information.","attachment":"Could not display attachment.","pinned conversation list":"Could not display pinned conversation list.","video":"Could not display video."},[h._enum(a,{"conversation list":"conversation list",conversation:"conversation",composer:"composer","conversation information":"conversation information",attachment:"attachment","pinned conversation list":"pinned conversation list",video:"video"})])},l=function(a,c){return function(){return i.jsx("div",{className:b("joinClasses")("_5jpt",c),children:a})}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e="React error in "+c+" got "+a.message;j.error(e,JSON.stringify(a));b("ChatReliabilityInstrumentation").logERROR(e);d.props.onHandleError&&d.props.onHandleError(a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className;a=a.component;return i.jsx(b("ErrorBoundary.react"),{fallback:l(k(a),c),onError:this.$1,children:this.props.children})};return c}(i.Component);e.exports=a}),null);
__d("WorkChatRedesignedMessageListCheck.bs",["gkx","CurrentUser","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("895574")&&b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;f.enabled=a}),null);
__d("WorkChatRedesignedMessageListCheck.re",["WorkChatRedesignedMessageListCheck.bs"],(function(a,b,c,d,e,f){a=b("WorkChatRedesignedMessageListCheck.bs").enabled;f.enabled=a}),null);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","FlexLayout.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","React","ReactDOM","WorkChatRedesignedMessageListCheck.re","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){d.$1(a),b("DOM").scry(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){d.$1(a.height),c.remove()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$2=function(a,c){this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(c=b("joinClasses")((b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _2poz _ui9","_4skb",c));return h.jsxs("div",{className:c,children:[a,this.props.afterDecorators!=null&&this.props.afterDecorators.length>1?h.jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:this.props.afterDecorators}):this.props.afterDecorators]})};d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var c=a.attachment;a=a.factory;return this.$2(h.jsx(b("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment",children:h.createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:c,bootloadLoader:a.componentLoader,bootloadPlaceholder:h.jsx("div",{}),key:(c=this)!=null?(c=c.props)!=null?(c=c.attachment)!=null?c.share_id:c:c:c,module:a.componentName,onComponentLoad:this.$3}))})),a.cx&&a.cx.get(this.props.location))};d.$1=function(a){this.props.onComponentLoaded(a)};return c}(h.Component);e.exports=a;a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isFromViewer:(c=b("prop-types")).bool,isPageMessage:c.bool,isSponsored:c.bool,isSubattachment:c.bool,isVisible:c.bool,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:c.string,onComponentLoaded:c.func.isRequired,onSelect:c.func,pageID:c.string,threadID:c.string.isRequired,afterDecorators:c.array,timestamp:c.number,author:c.string,thread:c.object};a.defaultProps={onComponentLoaded:b("emptyFunction")}}),null);
__d("MessengerErrorAttachment.react",["cx","fbt","CurrentUser","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment.error_msg||h._("This attachment could not be loaded.");return i.jsx("div",{className:"_1o12 _52mr",children:i.jsxs("div",{className:"_1o13",children:[a,this.$1()]})})};d.$1=function(){return!this.props.attachment.error_msg&&b("CurrentUser").isEmployee()&&b("CurrentUser").hasWorkUser()&&!b("CurrentUser").isWorkUser()?i.jsx("div",{children:h._("It was probably meant for your \u0040workplace account.")}):null};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerFileAttachment.bs",["cx","React","Link.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.attachment;var c=a.name;c=c==null?null:c;a=a.url;if(a==null)return null;else return h.jsxs(b("Link.react"),{className:"_4pcn _2uf4",href:a.toString(),target:"_blank",children:[h.jsx("div",{className:"_2uf5"}),c]})}c=a;f.make=c}),null);
__d("MessengerFileAttachment.re",["MessengerFileAttachment.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerFileAttachment.bs").make;f.make=a}),null);
__d("MessengerFromViewerUtils",["CurrentUser","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";f.isFromViewer=a;function a(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}}),null);
__d("HotLikeSound",["MercurySoundsConfig","SoundPlayer","StickerConstants"],(function(a,b,c,d,e,f){"use strict";f.setCheckSoundEnabledFunc=a;f.start=c;f.stop=d;f.pop=e;f.snap=m;f._play=n;var g=[(a=b("MercurySoundsConfig")).hot_like_grow_mp3_url,a.hot_like_grow_ogg_url],h=[a.hot_like_pop_mp3_url,a.hot_like_pop_ogg_url],i=[a.hot_like_outgoing_small_mp3_url,a.hot_like_outgoing_small_ogg_url],j=[a.hot_like_outgoing_medium_mp3_url,a.hot_like_outgoing_medium_ogg_url],k=[a.hot_like_outgoing_large_mp3_url,a.hot_like_outgoing_large_ogg_url],l=function(){return!1};function a(a){l=a}function c(){this._play(g)}function d(){b("SoundPlayer").stop(g)}function e(){this.stop(),this._play(h)}function m(a){this.stop(),a===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID&&this._play(i),a===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID&&this._play(j),a===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID&&this._play(k)}function n(a){l()&&b("SoundPlayer").play(a)}}),null);
__d("ReactStyle.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d={};d[b]=c;return Object.assign({},a,d)}f.unsafeAddProp=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","React","gkx","uniqueID","ReactStyle.bs","CurrentUser","MessengerColors","MessengerEnvironment","MessengerCustomColorUtils.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){return h.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}function a(a){a=a.color;a=i(a);if(b("MessengerEnvironment").messengerui&&!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))return h.jsx("svg",{children:a,className:"_7oal",height:"36px",width:"36px",viewBox:"0 1 36 36"});else return h.jsx("svg",{children:a,height:"32px",width:"32px",viewBox:"0 0 36 36"})}function c(a){var c;a=a.thread;var d=h.useState(function(){return b("uniqueID")()});d=d[0];var e=i("black");c=(c=b("ReactStyle.bs")).unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(c.unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(void 0)),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return h.jsxs(h.Fragment,{children:[h.jsxs("svg",{children:[h.jsxs("mask",{children:[h.jsx("rect",{height:"100%",width:"100%",fill:"white",x:"0",y:"0"}),e],id:d}),h.jsx("rect",{className:"_8rsr",height:"100%",width:"100%",fill:"white",mask:"url(#"+d+")"})],style:{height:"100%",position:"absolute",width:"100%"},viewBox:"0 0 36 36"}),h.jsx("div",{style:c})]})}d=a;e=c;f.pathHotLike=i;f.make=d;f.makeWithGradient=e}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};b("mixInEventEmitter")(a,{start:!0,stop:!0,stop_emoji:!0,pop:!0,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});e.exports=a}),null);
__d("MessengerHotLikeSVGReact.bs",["cx","fbt","cssVar","React","bs_belt_Option","CurrentUser","joinClasses","MWLikeSvgIcon.bs","MessengerEnvironment"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h._("Thumbs Up Sign");function a(a){var c=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:d,size:"100%",title:k}),className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return j.jsx("div",a)}c="transparent";d=a;f.cTRANSPARENT=c;f.label=k;f.make=d}),null);
__d("MessengerHotLikeSVGReact.re",["MessengerHotLikeSVGReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerHotLikeSVGReact.bs").make;f.make=a}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f){"use strict";f.getStickerIDForTime=a;f.getEmojiSizeForTime=c;f.getMetadataForHotLike=d;f.getPreviewURI=e;f.getURIWithID=g;f.getCustomEmojiFromThread=h;a={small:1e3,medium:2e3,large:3e3};f.SizeTimes=a;function a(a){var c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:c=b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:c=b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return c}function c(a){var c=b("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?c=b("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?c=b("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(c=b("EmojiLikeConstants").size.LARGE);return c}function d(a){var c;switch(a){case b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:c=120;break;case b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:c=84;break;case b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:c=35;break;case b("EmojiLikeConstants").size.LARGE:c=64;break;case b("EmojiLikeConstants").size.MEDIUM:c=64;break;case b("EmojiLikeConstants").size.SMALL:c=32;break}return c?{height:c,width:c}:void 0}function e(){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function g(a){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function h(a){return a&&a.custom_like_icon}}),null);
__d("MessengerHotLikePreview.react",["cx","Animation","ChatConfig","CurrentUser","EmojiLikeConstants","HotLikeSound","MercuryShareAttachmentRenderLocations","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikePreviewEvents","MessengerHotLikeSVGReact.re","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","ReactDOM","StickerConstants","SubscriptionsHandler","gkx","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,i=b("MessengerHotLikeSVGReact.re").make,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.$6=new(b("Animation"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))),(!b("ChatConfig").getBool("chat_tab_has_gradients")||d.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(d.$7(-2,2,150,1e3),d.$7(-4,4,100,1e3),d.$7(-10,10,75,1e3)),d.$6.go()},d.$2=function(a,c){var e=c?b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:b("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(d.$8)return;d.$8=!0;c=Date.now()-d.props.since;var f=null;d.props.customLike&&(f=b("MessengerHotLikeUtils").getEmojiSizeForTime(c));var g=b("MessengerHotLikeUtils").getStickerIDForTime(c);b("HotLikeSound").snap(g);c=b("MessengerHotLikeUtils").getMetadataForHotLike(f||g);d.$6.stop();var h=30,i=-10;(g===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||b("ChatConfig").getBool("chat_tab_has_gradients"))&&(h=0,i=0);d.$4.stop().to("width",c.width*1.2).to("height",c.height*1.2).to("rotateZ",h).duration(100).checkpoint().to("width",c.width*.9).to("height",c.height*.9).to("rotateZ",i).duration(100).checkpoint().to("width",c.width).to("height",c.height).to("rotateZ",0).duration(100).ondone(function(){d.props.forGameChat||b("MessengerHotLikePreviewEvents").emit(e,a,g,f)}).go()},d.$3=function(a){b("HotLikeSound").pop(),d.$4.stop().to("width",0).to("height",0).duration(100).ondone(function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").REMOVE,a)}).go()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((a=b("MessengerHotLikePreviewEvents")).addListener(a.STOP,this.$2),a.addListener(a.STOP_EMOJI,this.$2),a.addListener(a.POP,this.$3));b("HotLikeSound").start();this.$4=new(b("Animation"))(b("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go();this.$5()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){if(this.props.customLike){var a=this.props.customLike,c=b("MessengerSupportedEmojiUtils").getNewEmojiData(a.emoji,b("EmojiLikeConstants").size.LARGE);c=c?c.url:this.props.customLike.large;a.uri&&(c=a.uri);return j.jsx("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+c+")"}})}a=(b("gkx")("1072568")||!b("CurrentUser").isWorkUser())&&this.props.thread!=null?j.jsx(h,{thread:this.props.thread}):j.jsx(i,{color:this.props.customColor});return j.jsx("div",{className:"_4a9g _576q",children:a})};d.$7=function(a,b,c,d){d=Math.floor(d/c);var e;for(var f=0;f<d;f++)e=f%2?a:b,this.$6.to("rotateZ",e).duration(c).checkpoint()};return c}(j.Component);a.propTypes={customLike:b("prop-types").object,forGameChat:b("prop-types").bool,since:b("prop-types").number};e.exports=a}),null);
__d("ChatSpeakingStickerReact.bs",["ReasonReact.bs","ChatSpeakingSticker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSpeakingSticker.react"),{videoURI:a,videoSize:c},d)}f.make=a}),null);
__d("MercuryAttachmentPayload.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c!==void 0?b("bs_caml_option").valFromOption(c):null;return{app_attribution:null,attach_type:a,blurred_image_uri:null,deduplication_key:null,description:null,icon_type:null,key:c,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,message_file_fbid:null,name:null,photo_encodings:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,upload_id:null,uri:null,url:d,video_title:null}}f.create=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"});e.exports=a}),null);
__d("PhotoStoreCore",[],(function(a,b,c,d,e,f){var g={actions:{UPDATE:"update"},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(a){if(!this._photoCache[a])throw new Error("Photo cache requested for unknown set ID");return this._photoCache[a]},hasBeenCreated:function(a){return!!this._photoCache[a]},clearSetCache:function(a){delete this._photoCache[a],delete this._postCreateCallbacks[a]},getByIndex:function(a,b,c){this.getPhotoCache(a).getItemAtIndex(b,c)},getByIndexImmediate:function(a,b){return this._photoCache[a]?this._photoCache[a].getItemAtIndexImmediate(b):void 0},getItemsInAvailableRange:function(a){var b=this.getAvailableRange(a),c=[];for(var d=b.offset;d<b.length;d++)c.push(this.getByIndexImmediate(a,d));return c},getItemsAfterIndex:function(a,b,c,d){b=this.getCursorByIndexImmediate(a,b);this.fetchForward(a,b,c,d)},getAllByIDImmediate:function(a){var b=this,c=Object.keys(this._photoCache);return c.map(function(c){return b.getByIndexImmediate(c,b.getIndexForID(c,a))}).filter(function(a){return!!a})},getIndexForID:function(a,b){return this._photoCache[a]?this._photoCache[a].getIndexForID(b):void 0},getEndIndex:function(a){a=this.getAvailableRange(a);return a.offset+a.length-1},getCursorByIndexImmediate:function(a,b){b=this.getByIndexImmediate(a,b);return b?this._photoCache[a].getCursorForID(b.id):void 0},hasNextPage:function(a){var b=this.getCursorByIndexImmediate(a,this.getEndIndex(a));return this.getPhotoCache(a).hasNextPage(b)},getAvailableRange:function(a){return this.getPhotoCache(a).getAvailableRange()},hasLooped:function(a){return this.getPhotoCache(a).hasLooped()},fetchForward:function(a,b,c,d){this.getPhotoCache(a).getItemsAfterCursor(b,c,d)},fetchBackward:function(a,b,c,d){this.getPhotoCache(a).getItemsBeforeCursor(b,c,d)},executePostCreate:function(a,b){this._photoCache[a]?b&&b():this._postCreateCallbacks[a]=b},runPostCreateCallback:function(a){var b=this._postCreateCallbacks[a];b&&(b(),delete this._postCreateCallbacks[a])},setPreFetchCallback:function(a,b){this.getPhotoCache(a).setPreFetchCallback(b)},updateData:function(a){var b=a.set_id;!this._photoCache[b]?(this._photoCache[b]=new a.cache_class(a),this.runPostCreateCallback(b)):a.query_metadata.action==g.actions.UPDATE?this._photoCache[b].updateData(a):this._photoCache[b].addData(a)},updateFeedbackData:function(a){var b=Object.keys(a);b.forEach(function(b){return g.getAllByIDImmediate(b).forEach(function(c){c.feedback=a[b].feedback})})},reset:function(){var a=this;Object.keys(this._photoCache).forEach(function(b){return a.clearSetCache(b)})}};e.exports=g}),null);
__d("PhotoStore",["Arbiter","PhotoStoreCore"],(function(a,b,c,d,e,f){b("Arbiter").subscribe("update-photos",function(a,c){b("PhotoStoreCore").updateData(c)});a=b("PhotoStoreCore");e.exports=a}),null);
__d("MessagesViewer",["AsyncRequest","DOM","PhotoStore","React","ReactDOM","ge"],(function(a,b,c,d,e,f){var g=b("React");a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f="messages");h(g.jsx(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){h(a)}};function h(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MessengerAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function(a,b,c,d,e,f){"use strict";f.renderVideo=a;f.bootstrapWithConfig=c;f.preload=d;var g=b("React");function a(a){b("Bootloader").loadModules(["MessagingVideoViewer.react","MessengerForwardAttachmentDialogReact.bs"],function(c,d){d=d.jsComponent;b("MessagesViewer").renderVideo(g.jsx(c,babelHelpers["extends"]({},a,{forwardDialogComponent:d})))},"MessengerAttachmentViewer")}function c(a,c){b("Bootloader").loadModules(["SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],function(d,e){e=e.jsComponent;b("MessagesViewer").renderSpotlight(a,c,d,e)},"MessengerAttachmentViewer")}function d(){b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],b("emptyFunction"),"MessengerAttachmentViewer")})}}),null);
__d("MessengerBusinessHideImageBootloaded.react",["cx","CssBackgroundImage.react","ErrorBoundary.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerBusinessHideImage.react").__setRef("MessengerBusinessHideImageBootloaded.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ErrorBoundary.react"),{children:h.jsx(h.Suspense,{fallback:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:this.props.thumbnail,className:"_3v3t"}),children:h.jsx(i,{fbid:this.props.fbid,renderSmall:this.props.renderSmall})})})};return c}(h.Component);e.exports=a}),null);
__d("MessengerBusinessHideImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerBusinessHideImageBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerBusinessHideImageBootloaded.react"),{fbid:b("bs_js_null_undefined").fromOption(a),renderSmall:d,thumbnail:b("bs_js_null_undefined").fromOption(c)},e)}f.make=a}),null);
__d("MercuryTriodeSourceUtil",["MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";f.getMercuryTriodeSource=a;function a(){return b("MessengerEnvironment").messengerdotcom?"source:messenger:web":"source:titan:web"}}),null);
__d("MessengerSourceContext.bs",["React","MercuryTriodeSourceUtil"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=b("MercuryTriodeSourceUtil").getMercuryTriodeSource();d=a.createContext(c);f.defaultContextValue=c;f.context=d}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type==="perspective"}),c=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;c=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||c||this.props.thumbnail;return h.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=c||d||this.props.thumbnail;return h.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:h.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};return c}(h.Component);e.exports=a}),null);
__d("MessengerSphericalPhotoReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","SphericalPhotoViewerInMessengerThreadBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){var k;return b("ReasonReact.bs").wrapJsForReason(b("SphericalPhotoViewerInMessengerThreadBootloaded.react"),{height:(k=b("bs_js_null_undefined")).fromOption(a),width:k.fromOption(c),fbid:k.fromOption(d),thumbnail:k.fromOption(e),photoEncodings:k.fromOption(f),isVisible:b("Utils.bs").optionBoolToBool(g),onClickHandler:h,useRenderer:i},j)}f.make=a}),null);
__d("MessengerPhotoReact.bs",["cx","fbt","bs_curry","Image.bs","React","Utils.bs","gkx","bs_caml_array","cssURL","Link.react","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","MercurySourceType","MercuryAttachmentType","MessengerSpinnerReact.bs","MessengerSourceContext.bs","MessengerSurfaceQuickChat.bs","MessengerSphericalPhotoReact.bs","MessengerBusinessHideImageReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){var d=a.metadata;if(d==null)return null;else if(a.attach_type===b("MercuryAttachmentType").VIDEO)if(c&&!(d.large_preview==null))return d.large_preview;else return d.inbox_preview;else if(c)return a.large_preview_url;else return a.preview_url}function k(a){if(a==null)return[null,null];else return[a.width,a.height]}function l(a){var c=window.screen.width>1800;if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=function(a,b){if(a==null)return b;else return a};if(c&&!(a.large_preview_url==null))return{width:d(a.large_preview_width,480),height:d(a.large_preview_height,480),src:a.large_preview_url,renderLargePreview:c};else return{width:d(a.preview_width,280),height:d(a.preview_height,280),src:a.preview_url,renderLargePreview:c}}d=j(a,c);var e=!(d==null),f=a.metadata;if(e&&!(f==null)){e=c&&!(f.large_size==null)?f.large_size:f.inbox_size;f=k(e);return{width:f[0],height:f[1],src:d,renderLargePreview:c}}if(!(a.preview_url==null))if(c&&!(a.large_preview_url==null))return{width:a.large_preview_width,height:a.large_preview_height,src:a.large_preview_url,renderLargePreview:c};else return{width:a.preview_width,height:a.preview_height,src:a.preview_url,renderLargePreview:c};e=a.media;if(e==null)return;if(!(e.playable==null)&&!(e.animated_image==null)){f=k(e.animated_image_size);return{width:f[0],height:f[1],src:e.animated_image,renderLargePreview:c}}d=k(e.image_size);return{width:d[0],height:d[1],src:e.image,renderLargePreview:c}}function m(a){if(b("Utils.bs").isTruthy(a.preview_uploading)){var c=a.preview_url==null?280:0;return""+c}var d=function(a){var b=a[1];a=a[0];if(!(a==null)&&!(b==null))return[a,b]};c=function(a){if(a!==void 0)return d([a.width,a.height])};c=a.media==null?d([a.preview_width,a.preview_height]):c(l(a));if(c===void 0)return;a=b("bs_caml_primitive").caml_float_min(c[1]*b("bs_caml_primitive").caml_float_min(1,450/c[0]),450);return""+a}function n(a,b){if(b>480)return[a*480/b,480];else return[a,b]}function o(a){var c=a.metadata,d=a.isAnimated,e=a.className,f=a.attachment;a=a.isSingle;var g=i.useContext(b("MessengerSourceContext.bs").context);g=g===b("MercurySourceType").MESSENGER_ROOM_INCALL_CHAT||g===b("MercurySourceType").WORK_ROOM_INCALL_CHAT;var h=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(void 0);b("Utils.bs").isTruthy(f.preview_uploading);var j=c.src;if(j==null)return null;if(!a)return null;a=c.renderLargePreview?window.screen.height*.7:window.screen.height*.65;c=h||g?{maxHeight:""+a,maxWidth:"160px",width:"100%"}:{maxHeight:""+a,maxWidth:"100%",width:"100%"};var k;if(h||g)k={maxWidth:"160px"};else{a=f.preview_width;h=f.preview_height;g=b("gkx")("1709618");if(a==null)k=c;else{f=0;if(h==null||!g)f=1;else{h=n(a,h);k={height:b("bs_caml_array").get(h,1).toString()+"px",maxHeight:480..toString()+"px",maxWidth:"100%",width:b("bs_caml_array").get(h,0).toString()+"px"}}f===1&&(k=g?c:{maxWidth:"100%",width:a.toString()+"px"})}}return i.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(e,d?"":"_5pf5"),"",void 0,void 0,j,void 0,void 0,void 0,b("bs_caml_option").some(c),[])),style:k})}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.isVisible,g=a.onAttachmentLoad,j=a.onClick;a=a.children;c=c!==void 0?c:"";i.useEffect(function(){g!==void 0&&b("bs_curry")._1(g,void 0)},[]);var k=l(d);if(k!==void 0){var n=d.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE,p=!(d.app_attribution==null),q=d.photo_encodings;q=q==null?!1:q.length!==0;var r=d.blurred_image_uri;r=!(r==null);if((!n||!e)&&!q){var s=k.src;s=s==null?void 0:b("cssURL")(s);var t=e?m(d):void 0;s=[s,t]}else s=[void 0,void 0];t={};var u=s[0];u!==void 0&&(t.backgroundImage=b("bs_caml_option").valFromOption(u));u=s[1];u!==void 0&&(t.minHeight=b("bs_caml_option").valFromOption(u));s=t;u=b("Utils.bs").isTruthy(d.preview_uploading)?i.jsx("span",{children:i.createElement(b("MessengerSpinnerReact.bs").make,{}),className:"_7atr"}):null;t=n?b("MercuryAttachmentType").ANIMATED_IMAGE:void 0;var v=function(a){if(j!==void 0)return b("bs_curry")._1(j,d)},w=function(a){a.preventDefault();return v(void 0)};if(q){var x=k.src,y=d.metadata,z;if(y==null)z=void 0;else{y=y.fbid;z=y==null?void 0:b("bs_caml_option").some(y)}y=d.photo_encodings;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerSphericalPhotoReact.bs").make(400,400,z,x==null?void 0:b("bs_caml_option").some(x),y==null?void 0:b("bs_caml_option").some(y),f,v,e,[]))}else if(r){x=d.metadata;if(x==null)y=void 0;else{f=x.fbid;y=f==null?void 0:b("bs_caml_option").some(f)}x=k.src;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerBusinessHideImageReact.bs").make(y,x==null?void 0:b("bs_caml_option").some(x),!1,[]))}else z=i.createElement(o,{metadata:k,isAnimated:e&&n,className:(p?"_mxz":"")+(e&&!p?" _52mr":"")+(e&&!p?" _1byr":""),attachment:d,isSingle:e});if(r)f=null;else{y={"aria-label":h._("Open Photo"),className:"_4tsl",children:a};x=b("bs_caml_option").nullable_to_opt(k.src);x!==void 0&&(y.href=b("bs_caml_option").valFromOption(x));f=i.createElement(b("Link.react"),y)}return i.cloneElement(i.jsxs("div",{children:[i.jsx("div",{className:q&&!e?"_64ks":""}),f,z,u],className:b("joinClasses")(c,"_4tsk"+(p?" _mxz":"")+(e&&!p?" _52mr":"")+(e&&!p?" _1byr":"")+(b("Utils.bs").isTruthy(d.preview_uploading)&&k.src==null?" _3etv":"")+(q&&!e?" _3603":"")),role:"presentation",style:s,onClick:w}),{"data-testid":t})}return null}c=280;d=480;e=1800;g=450;var p=o;a=a;f.preview_thumbnail_size=c;f.preview_large_size=d;f.large_window_width=e;f.max_photo_width=g;f.getSrcFromAttachment=j;f.sizeToWidthHeight=k;f.extractPreviewMetadata=l;f.getMinHeightForAttachment=m;f.computeDimensions=n;f.getImageFromMetadata=p;f.make=a}),null);
__d("FluxContainerInstrumentation",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a,b,c){c=c||b;var d=!1;if(typeof b.getDependencyStores==="function"){var e=b.getDependencyStores();for(var f=0;f<e.length;f++)e[f].hasChanged()&&(d=d||i(a,e[f],c))}d||(a.push(b.__moduleID||"unnamed_store"),d=!0);return d}var j=null,k={updateTracking:null,inject:function(a){h==null||g(0,1394),h=a,a.updateTracking&&(k.updateTracking=a.updateTracking)},getContainer:function(){return j},setContainer:function(a){j=a},hasInstrumentation:function(){return Boolean(h)},onInit:function(a){h&&h.init(a)},onCalculateStateStart:function(a){return h?h.calculateStateStart(a):null},onDidUpdate:function(a,b,c,d,e,f){h&&h.didUpdate(a,b,c,d,e,f)},addStoreDependencies:i};e.exports=k}),null);
__d("FluxContainerNameUtils",[],(function(a,b,c,d,e,f){"use strict";f.nameContainer=a;function a(a,b){if(a&&b)try{Object.defineProperty(a,"name",{value:b})}catch(a){}return a}}),null);
__d("getUniformDispatcher",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function a(a){a&&a.length||g(0,18238);a=a[0].getDispatcher();return a}}),null);
__d("shallowArrayEqual",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}}),null);
__d("FluxContainerSubscriptions",["expectationViolation","getUniformDispatcher","nullthrows","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=[],this.$4=a!=null?a:this.constructor.name,this.$5=b}var c=a.prototype;c.setStores=function(a){var c=this;if(this.$3&&b("shallowArrayEqual")(this.$3,a))return;this.$3=a;this.$8();this.$9();if(a.length===0){b("expectationViolation")("there should be at least 1 store in a flux subscription");return}var d=!1,e=[],f=function(){d&&(c.$1.forEach(function(a){return a()}),d=!1)},g=b("getUniformDispatcher")(a);e=function(){if(g.registerContainer!=null)c.$7=g.registerContainer(function(a){f()},c.$4);else{var b=a.map(function(a){return a.getDispatchToken()});c.$7=g.register(function(a){g.waitFor(b),f()},c.$4,null,c.$4)}g.explicitlyRegisterStore&&g.explicitlyRegisterStore(c)};this.$2=a.map(function(a){return a.addListener(function(){d=!0,c.$5!=null&&c.$5(a)})});e();this.$6=g};c.addListener=function(a){this.$1.push(a)};c.reset=function(){this.$8(),this.$9(),this.$10(),this.$11()};c.$8=function(){this.$2&&(this.$2.forEach(function(a){return a.remove()}),this.$2=null)};c.$9=function(){this.$6&&this.$7!=null&&this.$6.unregister(this.$7),this.$6=null,this.$7=null};c.$11=function(){this.$3=null};c.$10=function(){this.$1=[]};c.getDispatchToken=function(){return b("nullthrows")(this.$7,"dispatchToken must be set")};return a}();e.exports=a}),null);
__d("getModuleNameFromFluxContainer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a==null)return null;var b=a.match(/.* \[from (.*?)\]/);if(!b)return a;a=b[1];b=a.indexOf(".");return b>0?a.substr(0,b):a}}),null);
__d("FluxContainer",["FluxContainerInstrumentation","FluxContainerNameUtils","FluxContainerSubscriptions","React","getModuleNameFromFluxContainer","shallowEqual","warning"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.Component,h=c.PureComponent,i={pure:!0,pureProps:!1,withProps:!1,withContext:!1};function j(a,c){var d=babelHelpers["extends"]({},i,c||{}),e,f=d.name,g=function(){f=f||b("getModuleNameFromFluxContainer")(e?e.displayName||e.name:null)||"FluxContainer(unknown)";return f},j=function(c,e,f,h){b("FluxContainerInstrumentation").setContainer(c);c=d.withProps?f:void 0;f=d.withContext?h:void 0;h=b("FluxContainerInstrumentation").onCalculateStateStart(g());e=a.calculateState(e,c,f);h&&h();b("FluxContainerInstrumentation").setContainer(null);return e},l=function(b,c){b=d.withProps?b:void 0;c=d.withContext?c:void 0;return a.getStores(b,c)};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var f;f=a.call(this,c,d)||this;f.$BasicContainer2=null;e||(e=f.constructor);f.$BasicContainer1=new(b("FluxContainerSubscriptions"))(e.displayName||e.name,b("FluxContainerInstrumentation").hasInstrumentation()?function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.shouldRecord()&&(f.$BasicContainer2=f.$BasicContainer2||[],b("FluxContainerInstrumentation").addStoreDependencies(f.$BasicContainer2,a))}:null);f.$BasicContainer3(c,d);c=j(babelHelpers.assertThisInitialized(f),void 0,c,d);b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.initialState(babelHelpers.assertThisInitialized(f),g());f.state=babelHelpers["extends"]({},f.state||{},c);return f}var f=c.prototype;f.UNSAFE_componentWillReceiveProps=function(c,e){var f=this;a.prototype.UNSAFE_componentWillReceiveProps&&a.prototype.UNSAFE_componentWillReceiveProps.call(this,c,e);var h=!d.withProps||d.pureProps&&b("shallowEqual")(c,this.props),i=!d.withContext||d.pureProps&&b("shallowEqual")(e,this.context);if(i&&h)return;this.$BasicContainer1.setStores(l(c,e));var k=b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.getCurrentDispatch();this.setState(function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.receiveProps(f,g(),k);return j(f,a,c,e)})};f.componentDidMount=function(){a.prototype.componentDidMount&&a.prototype.componentDidMount.call(this)};f.componentWillUnmount=function(){a.prototype.componentWillUnmount&&a.prototype.componentWillUnmount.call(this),this.$BasicContainer1.reset()};f.$BasicContainer3=function(a,c){var d=this;this.$BasicContainer1.setStores(l(a,c));this.$BasicContainer1.addListener(function(){var a=d.$BasicContainer2;d.$BasicContainer2=null;var e=b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.getCurrentDispatch();d.setState(function(f,h){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.storeEmitChange(d,g(),a||[],e);return j(d,f,h,c)})})};return c}(a);c=d.pure&&!(a.prototype instanceof h)?k(c):c;if(b("FluxContainerInstrumentation").hasInstrumentation()){var m=!1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;m||(b("FluxContainerInstrumentation").onInit(c.constructor),m=!0);return c}var d=c.prototype;d.componentDidUpdate=function(c,d){a.prototype.componentDidUpdate&&a.prototype.componentDidUpdate.call(this,c,d),b("FluxContainerInstrumentation").onDidUpdate(this,g(),c,this.props,d,this.state)};return c}(c)}b("FluxContainerNameUtils").nameContainer(c,d.name||a.displayName||a.name);return c}function k(a){a=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.isPureFluxContainer=!0,a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.shouldComponentUpdate=function(a,c){return!b("shallowEqual")(this.props,a)||!b("shallowEqual")(this.state,c)};return a}(a);return a}function a(a,b,c,d){var e=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}d.getStores=function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,c){return b(a,c)});d.calculateState=function(b){function a(a,c,d){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,b,d){return c(a,b,d)});var f=d.prototype;f.render=function(){return a(this.state)};return d}(g);return j(e,d)}d={create:j,createFunctional:a};e.exports=d}),null);
__d("ExplicitRegistrationReactDispatcher",["ExplicitRegistrationDispatcher","ReactDOMComet"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.dispatch=function(c){var d=this;b("ReactDOMComet").unstable_batchedUpdates(function(){a.prototype.dispatch.call(d,c)})};return c}(b("ExplicitRegistrationDispatcher"));e.exports=a}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationReactDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.currentLoaded=a;f.deletePhotos=c;f.loadCurrent=d;f.loadMorePrevious=e;f.loadMoreLatest=i;f.previousLoaded=j;f.latestLoaded=k;var g=b("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null});f.Types=g;var h="MessengerSharedMedia";f.Namespace=h;function a(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.CURRENT_LOADED,namespace:h,data:a})}function c(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.DELETE_PHOTOS,namespace:h,threadFBID:a,photoFBIDs:c})}function d(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_CURRENT,namespace:h,threadFBID:a,photoID:c})}function e(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_PREVIOUS,namespace:h,threadFBID:a,afterCursor:c,first:d})}function i(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_LATEST,namespace:h,threadFBID:a,beforeCursor:c,last:d})}function j(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.PREVIOUS_LOADED,namespace:h,data:a})}function k(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.LATEST_LOADED,namespace:h,data:a})}}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1668947383157276"};b.getQueryID=function(){return"515216185516880"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1712143858865110"};b.getQueryID=function(){return"1694317194012102"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1933185426727404"};b.getQueryID=function(){return"237087923629184"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSharedMediaReducer",["MessengerSharedMediaActions","MessengerThreadSharedMediaHelper"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerSharedMediaActions").Types;function a(a,c){switch(c.type){case g.LOAD_CURRENT:var d=a.get("sharedMedia").get(c.threadFBID);if(d){d=d.edges.find(function(a){return a.node.legacy_attachment_id===c.photoID});if(d)return a}d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.curr)return a;d=l(a,c.threadFBID,"curr",!0);b("MessengerThreadSharedMediaHelper").search(c.threadFBID,c.photoID,function(a){return b("MessengerSharedMediaActions").currentLoaded(a)});return d}return a}function c(a,c){switch(c.type){case g.LOAD_MORE_PREVIOUS:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.prev)return a;d=l(a,c.threadFBID,"prev",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMorePrevious(c.threadFBID,c.afterCursor,c.first,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});return d}return a}function d(a,c){switch(c.type){case g.LOAD_MORE_LATEST:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.latest)return a;d=l(a,c.threadFBID,"latest",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMoreLatest(c.threadFBID,c.beforeCursor,c.last,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)});return d}return a}function f(a,c){var d;switch(c.type){case g.CURRENT_LOADED:c=c.data;var e=Object.keys(c)[0];c=(c=c[e])!=null?c.message_shared_media:c;d=(d=c)!=null?(d=d.edges)!=null?d.length:d:d;var f=l(a,e,"curr",!1);if(d!==0&&c){d=k(a.get("sharedMedia").get(e),c,0);d=a.get("sharedMedia").set(e,d);f=f.set("sharedMedia",d);d=c.edges[0];b("MessengerThreadSharedMediaHelper").loadMorePrevious(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});b("MessengerThreadSharedMediaHelper").loadMoreLatest(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)})}return f}return a}function h(a,b){switch(b.type){case g.PREVIOUS_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"prev",!1);b=k(a.get("sharedMedia").get(c),b,1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function i(a,b){switch(b.type){case g.LATEST_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"latest",!1);b=k(a.get("sharedMedia").get(c),b,-1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function j(a,b){switch(b.type){case g.DELETE_PHOTOS:var c=b.threadFBID;b=b.photoFBIDs;var d=a.get("sharedMedia").get(c);if(!d||!d.edges)break;var e=new Set(b.map(function(a){return a.toString()}));d.edges=d.edges.filter(function(a){return!e.has(a.node.legacy_attachment_id)});b=a.get("sharedMedia").set(c,d);c=a.set("sharedMedia",b);return c}return a}function k(a,b,c){var d={};d.count=b.count;if(c===1&&a){var e=a.edges;d.has_previous_page=a.has_previous_page;d.has_next_page=b.page_info.has_next_page;b.edges.length>0?d.edges=e.concat(b.edges):d.edges=e}else if(c===-1&&a){e=a.edges;d.has_previous_page=b.page_info.has_previous_page;d.has_next_page=a.has_next_page;b.edges.length>0?d.edges=b.edges.concat(e):d.edges=e}else d.has_previous_page=b.page_info.has_previous_page,d.has_next_page=b.page_info.has_next_page,b.edges.length>0&&(d.edges=b.edges);return d}function l(a,b,c,d){var e=a.get("isLoading").get(b);e===void 0?(e={},e[c]=d):e[c]=d;c=a.set("isLoading",a.get("isLoading").set(b,e));return c}f={currentLoaded:f,deletePhotos:j,latestLoaded:i,loadCurrent:a,loadMoreLatest:d,loadMorePrevious:c,previousLoaded:h};j=f;e.exports=j}),null);
__d("MessengerSharedMediaState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={sharedMedia:b("immutable").Map({}),isLoading:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f){"use strict";var g=Object.keys(b("MessengerSharedMediaReducer"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("MessengerSharedMediaState"))()};d.reduce=function(a,c){if(c.namespace!==b("MessengerSharedMediaActions").Namespace)return a;g.forEach(function(d){a=b("MessengerSharedMediaReducer")[d](a,c)});return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("MessengerFluxReduceDispatcher"));e.exports=c}),null);
__d("MessengerSharedPhotosAlbumViewPhotoReact.bs",["fbt","bs_curry","React","cssURL","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=h.forwardRef(function(a,c){var d=a.className,e=a.fbid,f=a.onClick,i=a.uri;a=a.children;a={children:a,"aria-label":g._("Photo"),className:d,style:{backgroundImage:b("cssURL")(i)},href:"#",onClick:function(a){return b("bs_curry")._1(f,e)}};d=b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a});d!==void 0&&(a.ref=b("bs_caml_option").valFromOption(d));return h.jsx("a",a)});f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewVScrollReact.bs",["cx","FBID.bs","bs_curry","React","bs_string","ReactDOM","Animation","bs_caml_array","bs_caml_option","setInterval","clearInterval","MessengerSharedMediaActions","MessengerSharedPhotosAlbumViewPhotoReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);return(a.scrollTop+a.clientHeight|0)>=(a.scrollHeight-20|0)}throw{RE_EXN_ID:"Not_found",Error:new Error()}}function j(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).scrollTop<=20;throw{RE_EXN_ID:"Not_found",Error:new Error()}}function k(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).clientHeight;throw{RE_EXN_ID:"Not_found",Error:new Error()}}function l(a,c){if(a!==void 0){new(b("Animation"))(b("bs_caml_option").valFromOption(a)).to("scrollTop",c).duration(200).go();return}}function m(a){var c=a.child;if(c!==void 0)return l(a.childContainer,b("ReactDOM").findDOMNode(b("bs_caml_option").valFromOption(c)).offsetTop-70|0)}function n(a){a=a.interval;if(a!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(a));return}}function a(a){var c=a.isLoading,d=a.onClick,e=a.sharedPhotos,f=a.threadID,g=a.totalCount,l=a.viewedPhoto,o=h.useRef({interval:void 0,childContainer:void 0,child:void 0,scrollable:void 0}),p=function(a){a=e.length;if(i(o.current.childContainer))if(a<g&&!c.prev){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").get(e,e.length-1|0).cursor,48);return}else return;else if(j(o.current.childContainer)&&!c.latest){b("MessengerSharedMediaActions").loadMoreLatest(f,b("bs_caml_array").get(e,0).cursor,48);return}else return},q=function(a){a=e.length;if(a<48){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").get(e,e.length-1|0).cursor,48);return}},r=function(a){var c=a.childContainer;c=c!==void 0?(b("bs_caml_option").valFromOption(c).addEventListener("scroll",p),function(c){c=a.childContainer;if(c!==void 0)return b("bs_caml_option").valFromOption(c).removeEventListener("scroll",p)}):function(a){};q(void 0);var d=function(c){if(k(a.scrollable)<=0)return;m(a);c=a.interval;if(c!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(c));a.interval=void 0;return}};a.interval=b("bs_caml_option").some(b("setInterval")(d,200));return c};a=function(a){o.current.childContainer=a==null?void 0:b("bs_caml_option").some(a)};var s=function(a){o.current.scrollable=a==null?void 0:b("bs_caml_option").some(a)},t=function(a){o.current.child=a==null?void 0:b("bs_caml_option").some(a)};h.useEffect(function(){var a=r(o.current);return function(c){n(o.current);return b("bs_curry")._1(a,void 0)}},[]);return h.jsx("div",{children:h.jsx("div",{children:e.map(function(a){a=a.node;var c=a.photo_encodings;c=c==null?!1:c.length!==0;var e=a.photo_encodings,f,g=0;if(c&&!(e==null)){e=e.find(function(a){return a.projection_type==="perspective"});if(e!==void 0){e=e.thumbnails;if(e.length!==0)f=e[0].uri;else{e=a.image1;f=e==null?void 0:e.uri}}else{e=a.image1;f=e==null?void 0:e.uri}}else g=1;if(g===1){e=a.image1;f=e==null?void 0:e.uri}if(f===void 0)return null;g={className:"_3bly"+(c?" _3603":""),fbid:b("FBID.bs").ofStringExn(a.legacy_attachment_id),onClick:d,uri:f,children:h.jsx("div",{className:c?"_64ks":""},b("bs_string").concat("_",{hd:a.legacy_attachment_id,tl:{hd:"spherical_gradient",tl:0}}))};e=a.legacy_attachment_id===l?t:void 0;e!==void 0&&(g.ref=b("bs_caml_option").valFromOption(e));return h.jsx(b("MessengerSharedPhotosAlbumViewPhotoReact.bs").make,g,a.legacy_attachment_id)}),ref:s,className:"_3xoa"}),ref:a,className:"_3xo8",onScroll:p})}c=200;d=48;e=6;g=20;var o=70,p=a;a=a;f.animationDuration=c;f.imagesToLoad=d;f.photosPerRow=e;f.scrollToEdgeTolerance=g;f.headerHeight=o;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.getScrollHeight=k;f.scrollTo=l;f.autoScrollWhenLoaded=m;f.willUnmount=n;f.make=p;f.jsComponent=a}),null);
__d("MessengerSharedPhotosAlbumView.react",["cx","fbt","MessengerPhotoViewCloseLinkReact.re","MessengerSharedPhotosAlbumViewVScrollReact.bs","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.viewedPhoto)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_3bl- _5l-3",ref:"window",children:[this.$1(),i.jsx(b("MessengerSharedPhotosAlbumViewVScrollReact.bs").jsComponent,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto})]})};d.$1=function(){return i.jsxs("div",{className:"_3bm0 _5l-3",ref:"header",children:[i.jsxs(b("ShimButton.react"),{className:"_3bm2",onClick:this.$2,children:[i.jsx("div",{className:"_3bm3"}),h._("Back to photo")]}),i.jsx("div",{className:"_3bm4",children:h._("Shared Photos")}),i.jsx(b("MessengerPhotoViewCloseLinkReact.re").make,{onClick:this.props.onCloseSharedPhotos})]})};return c}(i.Component);e.exports=a;a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,sharedPhotos:c.arrayOf(c.object).isRequired,totalCount:c.number.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string.isRequired,isLoading:c.object.isRequired}}),null);
__d("MessengerSharedPhotosAlbumViewContainer.react",["FluxContainer","MessengerSharedMediaStore","MessengerSharedPhotosAlbumView.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edges:[],count:0,isLoading:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia;return{edges:d.get(c.threadID).edges,count:d.get(c.threadID).count,isLoading:a.isLoading.get(c.threadID)}};var d=c.prototype;d.render=function(){return this.state.edges.length===0?null:g.jsx(b("MessengerSharedPhotosAlbumView.react"),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};return c}(g.PureComponent);a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string};d=b("FluxContainer").create(a,{withProps:!0});e.exports=d}),null);
__d("MessageShareType",[],(function(a,b,c,d,e,f){a=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"});e.exports=a}),null);
__d("MessengerSecondarySearchFunnelConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"});b=Object.freeze({ABANDON:"abandon",CREATE_GROUP:"create_group",ENTER_THREAD:"enter_thread",RESULT_SELECTED:"result_selected",SEND:"send",SINGLE_RESULT_SELECTED:"single_result_selected"});c=Object.freeze({ACTION:"action"});d=Object.freeze({EXISTING_TAB:"existing_tab",JEWEL:"jewel",SIDEBAR:"sidebar",COMPOSER:"composer"});f=Object.freeze({END:"end",IMPRESSIONS:"impressions",MICRO_SESSION_ENDED:"micro_session_ended",MICRO_SESSION_STARTED:"micro_session_started",QUERY_CHANGED:"query_changed",RESULT_SELECTED:"result_selected",REENTER_OMNIPICKER:"reentered_omnipicker",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start",TOKEN_REMOVED:"token_removed",CLICK_OTHER_THREAD:"clicked_on_other_thread"});var g=Object.freeze({BROADCAST:"broadcast",GROUP_CREATION:"group_creation",OMNIPICKER:"omnipicker",SHARE:"share"}),h=Object.freeze({DIRECT_SEND:"direct_send",ADD:"add"}),i=Object.freeze({FINISHED:"finished",FAILED:"failed"}),j=Object.freeze({BROADCAST:9500,GROUP_CREATE:9501,M_APP_COMPOSER:9502}),k=Object.freeze({QUERY:"query",NO_QUERY:"no_query"}),l=Object.freeze({BOOTSTRAP:"bootstrap",LOCAL:"local",LOCAL_AND_SERVER:"local_and_server",LOCAL_CONTACTS:"local_contacts",ORDERED_GCF_FRIENDLIST:"local_ordered_gcf_friendlist",QUERY_CACHE:"query_cache",SERVER:"server",SHORT_PROFILES:"local_short_profiles",SUGGESTED_RECIPIENTS:"local_suggested_recipients"});e.exports={FUNNEL_NAME:"MESSENGER_SECONDARY_SEARCH_FUNNEL",CLIENTS:a,END_ACTIONS:b,END_REASONS:c,ENTRY_SURFACES:d,EVENTS:f,SEARCH_SURFACES:g,SELECTION_TYPES:h,SOURCE_STATUSES:i,LOGGING_IDS:j,MICRO_SESSION_TYPES:k,SOURCES:l}}),null);
__d("MessengerBootloadedSecondarySearchLogger",["Bootloader","MessengerSecondarySearchFunnelConstants","gkx"],(function(a,b,c,d,e,f){"use strict";var g=[],h="",i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]},j=!1,k=!1;d=(c=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var l=d.CLICK_OTHER_THREAD,m=d.END,n=d.IMPRESSIONS,o=d.START,p=d.QUERY_CHANGED,q=d.RESULT_SELECTED,r=d.SOURCE_ENDED,s=d.SOURCE_STARTED,t=d.TOKEN_REMOVED;f=c.END_ACTIONS;var u=f.ABANDON,v=f.SINGLE_RESULT_SELECTED;d=c.SOURCES;var w=d.SERVER,x=d.SHORT_PROFILES,y=d.SUGGESTED_RECIPIENTS,z=d.LOCAL_CONTACTS,A=d.LOCAL_AND_SERVER,B=d.ORDERED_GCF_FRIENDLIST,C=c.ENTRY_SURFACES.COMPOSER;function D(a){if(i.SUGGESTED_RECIPIENTS.includes(a))return y;else if(i.ORDERED_GCF_FRIENDLIST.includes(a))return B;else if(i.SHORT_PROFILES.includes(a))return x;else if(i.LOCAL_CONTACTS.includes(a))return z;else return w}function a(a){if(!b("gkx")("678592"))return;b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(c){switch(a.name){case o:if(a.surface===C&&k===!0){c.reenterSearch(a.loggingID);break}j=!1;i={LOCAL_CONTACTS:[],ORDERED_GCF_FRIENDLIST:[],SHORT_PROFILES:[],SUGGESTED_RECIPIENTS:[]};c.startFunnel(a.client,a.surface,a.surface,null,a.loggingID);a.surface===C&&(k=!0);break;case m:var d=a.end_reason;a.surface===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST&&(d=j?v:u);c.endFunnel(b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION,d,a.loggingID,a.threadID,a.isNewThread);k=!1;break;case n:d=a.entries.map(function(a){a.data_source=[D(a.result_fbid)];return a});g=a.entries.map(function(a){return a.result_fbid});c.impressions(a.query,d,A,a.loggingID);break;case p:h=a.query;c.queryChanged(a.query,a.loggingID);break;case q:j=!0;d=D(a.id);var e=g.indexOf(a.id);c.resultSelected(a.id,e,a.type,a.query?a.query:h,d,a.surface,a.loggingID,a.selectionType);break;case r:e=!a.query||a.query===h;switch(a.source){case z:i.LOCAL_CONTACTS=a.ids?a.ids:[];break;case y:i.SUGGESTED_RECIPIENTS=a.ids?a.ids:[];break;case x:i.SHORT_PROFILES=a.ids?a.ids:[];e=!0;break;case B:i.ORDERED_GCF_FRIENDLIST=a.ids?a.ids:[];e=!0;break;default:break}c.sourceEnded(a.query,a.numResults,a.source,a.status,e,a.loggingID);break;case s:c.sourceStarted(a.query,a.source,a.loggingID);break;case t:c.tokenRemoved(a.deletedIDs,a.clearedAll,a.loggingID);break;case l:c.unfocusSearch(a.loggingID);break}},"MessengerBootloadedSecondarySearchLogger")}e.exports={logSearchEvent:a}}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){a="bnp:trigger:";f.ATTRIBUTION_TAGS_PREFIX=a;b="customer_chat_plugin";f.CUSTOMER_CHAT_PLUGIN=b;c="messengerdotcom";f.MESSENGERDOTCOM=c;d="messenger_web";f.MESSENGER_WEB=d;e="messenger_web_search";f.MESSENGER_WEB_SEARCH=e;a="m_dot_me";f.M_DOT_ME=a}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("MessengerDispatcher").register(this.__onDispatch.bind(this))}var c=a.prototype;c.getDispatchToken=function(){return this.$1};c.emitChange=function(){this.emit("change")};c.destroy=function(){b("MessengerDispatcher").unregister(this.$1)};return a}();b("mixInEventEmitter")(a,{change:!0});e.exports=a}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerAttributionTagsStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return c}(b("MessengerStore"));c=new a();e.exports=c}),null);
__d("MessengerDiscoveryEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({UFI:"UFI",UFI_SEND_MESSAGE_BUTTON:"UFI:send_message_button",UFI_REACTIONS_AUXILIARY_REPLY_ACTION_NEWS_FEED:"UFI:reactions_auxiliary_reply_action_news_feed",UFI_REACTIONS_AUXILIARY_REPLY_ACTION_PHOTO_STORY:"UFI:reactions_auxiliary_reply_action_photo_story",UFI_REACTIONS_AUXILIARY_REPLY_ACTION_GROUPS:"UFI:reactions_auxiliary_reply_action_groups",UFI_REACTIONS_AUXILIARY_REPLY_ACTION_TIMELINE:"UFI:reactions_auxiliary_reply_action_timeline",UFI_REACTIONS_AUXILIARY_REPLY_ACTION_PHOTO_VIEWER:"UFI:reactions_auxiliary_reply_action_photo_viewer",ADMIN_MESSAGES:"admin_messages",ANONYMOUS_MESSAGING:"anonymous_messaging",APP_INSIGHTS:"app_insights",BEGIN_SHARE_FLOW:"begin_share_flow",BRANDED_CAMERA:"branded_camera",BROADCAST:"broadcast",BROWSER_PROFILE_ICON:"browser_profile_icon",BUSINESS_ON_MESSENGER:"business_on_messenger",BUSINESS_TAB_M4:"business_tab_m4",BUSINESS_TAB_M4_BUSINESS_INBOX:"business_tab_m4:business_inbox",BUSINESS_TAB_M4_RECOMMENDATION_CARD:"business_tab_m4:recommendation_card",BUSINESS_TAB_M4_RECOMMENDATION_DETAILS:"business_tab_m4:recommendation_details",BYMM_NULL_STATE:"bymm_null_state",CAMPUS:"campus",CAMPUS_COMPOSER:"campus:composer",CHECKBOX_PLUGIN:"checkbox_plugin",CLICK_TO_MESSENGER_AD:"click_to_messenger_ad",CLICK_TO_MESSENGER_AD_MESSENGER_DEEPLINK_ADS:"click_to_messenger_ad:messenger_deeplink_ads",CLICK_TO_MESSENGER_AD_ADS_WELCOME_ADMIN:"click_to_messenger_ad:ads_welcome_admin",CLICK_TO_MESSENGER_AD_USER_SENT:"click_to_messenger_ad:user_sent",CLICK_TO_MESSENGER_AD_PARTIAL_AUTOMATED:"click_to_messenger_ad:partial_automated",CLICK_TO_MESSENGER_AD_FB_P2B_DEEPLINK:"click_to_messenger_ad:fb_p2b_deeplink",CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:"click_to_messenger_ad:send_message_cta",CLICK_TO_MESSENGER_AD_ON_FEED_MESSAGES_REGULAR_MESSAGE:"click_to_messenger_ad:on_feed_messages_regular_message",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:"customer_chat_plugin:mobile_redirect",CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:"customer_chat_plugin:upgrade_flow",CUSTOMER_MATCHING:"customer_matching",CUSTOMER_MATCHING_PHONE_NUMBER:"customer_matching:phone_number",DEPRECATED:"deprecated",DEPRECATED_BUSINESS_ON_MESSENGER:"deprecated:business_on_messenger",DEPRECATED_ADMIN_MESSAGES:"deprecated:admin_messages",DEPRECATED_PIXEL_EVENT:"deprecated:pixel_event",DEPRECATED_NULL_STATE_CTA:"deprecated:null_state_cta",DEPRECATED_SUBSCRIPTIONS:"deprecated:subscriptions",DISCOVER_TAB:"discover_tab",DISCOVER_TAB_M4:"discover_tab:m4",DISCOVER_TAB_M3:"discover_tab:m3",DONOR_SUPPORT:"donor_support",DONOR_SUPPORT_REACTIVE_MORE_MENU:"donor_support:reactive_more_menu",DONOR_SUPPORT_REACTIVE_FAQ:"donor_support:reactive_faq",DONOR_SUPPORT_PROACTIVE:"donor_support:proactive",DONOR_SUPPORT_CHECKLIST:"donor_support:checklist",DYNAMIC_LOCAL_ADS:"dynamic_local_ads",FACEBOOKPAY_SUPPORT:"facebookpay_support",FACEBOOKPAY_SUPPORT_PAYMENT_HISTORY:"facebookpay_support:payment_history",FB_BIRTHDAY_CENTER:"fb_birthday_center",FB_BIRTHDAY_CENTER_SEND_MESSAGE_BUTTON:"fb_birthday_center:send_message_button",FB_BROADCAST_FLOW_VIEW:"fb_broadcast_flow_view ",FB_EVENT:"fb_event",FB_EVENT_MESSAGE_HOST:"fb_event:message_host",FB_FEED:"fb_feed",FB_FEED_PYMM_RHC:"fb_feed:pymm_rhc",FB_FEED_PAGE_HOVER_CARD:"fb_feed:page_hover_card",FB_FEED_ADMIN:"fb_feed:admin",FB_FEED_ORGANIC_POST:"fb_feed:organic_post",FB_FEED_BCF:"fb_feed:bcf",FB_FEED_BCF_OPEN_CHAT_BUTTON:"fb_feed:bcf_open_chat_button",FB_FEED_COMMENT_PIVOT_VIEW_BUTTON:"fb_feed:comment_pivot_view_button",FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:"fb_feed:reactors_list_message_button",FB_FEED_POST_HEADER_MESSAGE_BUTTON:"fb_feed:post_header_message_button",FB_FEED_POST_MESSAGE_SELLER_BUTTON:"fb_feed:post_message_seller_button",FB_FEED_COMMENT_UFI:"fb_feed:comment_ufi",FB_FEED_REPLY_TO_POST:"fb_feed:reply_to_post",FB_FEED_GO_TO_CHAT:"fb_feed:go_to_chat",FB_FEED_SEND_IN_UFI:"fb_feed:send_in_ufi",FB_FEED_SHARESHEET:"fb_feed:sharesheet",FB_FEED_VIEW_AND_MESSAGE:"fb_feed:view_and_message",FB_GROUPS:"fb_groups",FB_GROUPS_PICKER_EXISTING_CHAT:"fb_groups:picker_existing_chat",FB_GROUPS_PICKER_JOIN_CHAT:"fb_groups:picker_join_chat",FB_GROUPS_PICKER_CREATE_CHAT:"fb_groups:picker_create_chat",FB_GROUPS_MALL_CHATS_TAB:"fb_groups:mall_chats_tab",FB_GROUPS_ADMIN_REPORT:"fb_groups:admin_report",FB_GROUPS_CREATION:"fb_groups:creation",FB_GROUPS_INBOX:"fb_groups:inbox",FB_GROUPS_PUSH_NOTIFICATION:"fb_groups:push_notification",FB_GROUPS_JEWEL_NOTIFICATION:"fb_groups:jewel_notification",FB_GROUPS_MALL_CHATS_ROOMS_TRAY:"fb_groups:mall_chats_rooms_tray",FB_GROUPS_MALL_CHATS_ROOMS_PROMO_QP:"fb_groups:mall_chats_rooms_promo_qp",FB_GROUPS_SUGGESTION_QP:"fb_groups:suggestion_qp",FB_GROUPS_NULLSTATE_INBOX:"fb_groups:nullstate_inbox",FB_GROUPS_CROSS_GROUP_INBOX:"fb_groups:cross_group_inbox",FB_GROUPS_CROSS_GROUP_NULLSTATE_INBOX:"fb_groups:cross_group_nullstate_inbox",FB_GROUPS_CROSS_GROUP_NULLSTATE_ROOM_ONLY_INBOX:"fb_groups:cross_group_nullstate_room_only_inbox",FB_GROUPS_CROSS_GROUP_NULLSTATE_CHAT_ONLY_INBOX:"fb_groups:cross_group_nullstate_chat_only_inbox",FB_GROUPS_CROSS_GROUP_NULLSTATE_DISABLED_INBOX:"fb_groups:cross_group_nullstate_disabled_inbox",FB_GROUPS_INBOX_SUGGESTION:"fb_groups:inbox_suggestion",FB_GROUPS_COMPOSER:"fb_groups:composer",FB_GROUPS_UNKNOWN:"fb_groups:unknown",FB_HEADER_DOCK:"fb_header_dock",FB_HEADER_DOCK_LOADED_FROM_BROWSER_COOKIE:"fb_header_dock:loaded_from_browser_cookie",FB_HEADER_DOCK_JEWEL_THREAD:"fb_header_dock:jewel_thread",FB_HEADER_DOCK_JEWEL_SEE_ALL_MESSAGES:"fb_header_dock:jewel_see_all_messages",FB_INLINE_SHARE_SHEET_SEND_BUTTON:"fb_inline_share_sheet_send_button",FB_JOB:"fb_job",FB_JOB_JOB_APPLICATION:"fb_job:job_application",FB_JOINABLE_VIDEO_CHATS:"fb_joinable_video_chats",FB_JOINABLE_VIDEO_CHATS_SEND_INVITE_BUTTON:"fb_joinable_video_chats:send_invite_button",FB_LOGIN_ALERTS:"fb_login_alerts",FB_NOTIFICATIONS:"fb_notifications",FB_NOTIFICATIONS_NAVBAR:"fb_notifications_navbar",FB_NOTIFICATIONS_NAVBAR_CUSTOM_ACTION:"fb_notifications_navbar:custom_action",FB_NOTIFICATIONS_NAVBAR_GLOBAL_ICON:"fb_notifications_navbar:global_icon",FB_OFFER:"fb_offer",FB_OFFER_OFFER_DETAILS_VIEW:"fb_offer:offer_details_view",FB_PAGE:"fb_page",FB_PAGE_ICEBREAKER_RHC:"fb_page:icebreaker_rhc",FB_PAGE_SEND_AND_POST_FROM_COMPOSER:"fb_page:send_and_post_from_composer",FB_PAGE_ADMIN_TEST_LINK:"fb_page:admin_test_link",FB_PAGE_SHOP_PDP:"fb_page:shop_pdp",FB_PAGE_FREQUENTLY_ASKED_QUESTION_CARD:"fb_page:frequently_asked_question_card",FB_PAGE_ABOUT_CARD_DETAIL_VIEW:"fb_page:about_card_detail_view",FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:"fb_page:responsiveness_context_card",FB_PAGE_ABOUT_CARD:"fb_page:about_card",FB_PAGE_ABOUT_CARD_PQI_MESSAGE_UPSELL:"fb_page:about_card_pqi_message_upsell",FB_PAGE_PAGE_HEADER:"fb_page:page_header",FB_PAGE_PRIMARY_MESSAGE_BUTTON:"fb_page:primary_message_button",FB_PAGE_SECONDARY_MESSAGE_BUTTON:"fb_page:secondary_message_button",FB_PAGE_FB_PAGE_CTA_PAGES_ACTIONS_UNIT:"fb_page:fb_page_cta_pages_actions_unit",FB_PAGE_JEWEL_THREAD:"fb_page:jewel_thread",FB_PAGE_USER_MESSAGE_PROMPT:"fb_page:user_message_prompt",FB_PAGE_PAGES_INFO:"fb_page:pages_info",FB_PAGE_LOADED_FROM_DATA:"fb_page:loaded_from_data",FB_PAGE_CHAT_SIDEBAR_TYPEAHEAD:"fb_page:chat_sidebar_typeahead",FB_PAGE_DYNAMICHOVERCARD:"fb_page:dynamicHoverCard",FB_PAGE_ABOUT_ROW:"fb_page:about_row",FB_PAGE_PYMM_RHC:"fb_page:pymm_rhc",FB_PAGE_GROUPS_RHC:"fb_page:groups_rhc",FB_PAGE_CONTEXT_CARD:"fb_page:context_card",FB_PAGE_CONTEXTUAL_RECOMMENDATIONS:"fb_page:contextual_recommendations",FB_PAGE_SEARCHENTITYCARD:"fb_page:searchEntityCard",FB_PAGE_MESSAGE_RECEIVED:"fb_page:message_received",FB_PAGE_PAGE_HOVERCARD:"fb_page:page_hovercard",FB_PAGE_QUESTION_TRIGGERED_CONVO:"fb_page:question_triggered_convo",FB_PAGE_DEFAULT_NATIVE_TEMPLATES_CTA:"fb_page:default_native_templates_cta",FB_PAGE_LAUNCHPAD_MORE_DRAWER:"fb_page:launchpad_more_drawer",FB_PAGE_LAUNCHPAD_HEADER:"fb_page:launchpad_header",FB_PAGE_LAUNCHPAD_FOOTER:"fb_page:launchpad_footer",FB_PAGE_REPLY_TRIGGERED_CONVO:"fb_page:reply_triggered_convo",FB_PAGE_LOCATIONS_CHILD_PAGE_MESSAGE_CTA:"fb_page:locations_child_page_message_cta",FB_PAGE_SHOP_PDP_P2B_MESSAGE_BUTTON:"fb_page:shop_pdp_p2b_message_button",FB_PLATFORM_LOGIN:"fb_platform_login",FB_PROFILE:"fb_profile",FB_PROFILE_MESSAGE_BUTTON:"fb_profile:message_button",FB_PROFILE_FRIEND_REQUEST_OPEN_MESSENGER_BUTTON:"fb_profile:friend_request_open_messenger_button",FB_PROFILE_AUDIO_CALL_BUTTON:"fb_profile:audio_call_button",FB_PROFILE_VIDEO_CALL_BUTTON:"fb_profile:video_call_button",FB_PROFILE_PROFILE_HEADER_COMPOSER:"fb_profile:profile_header_composer",FB_SEARCH:"fb_search",FB_SEARCH_CHAT_SIDEBAR_TYPEAHEAD:"fb_search:chat_sidebar_typeahead",FB_SEARCH_SEARCH_ENTITY_CARD:"fb_search:search_entity_card",FB_SEARCH_HIGH_CONFIDENCE_CARD:"fb_search:high_confidence_card",FB_SHORTS:"fb_shorts",FB_SHORTS_PROFILE:"fb_shorts:profile",FB_STORY:"fb_story",FB_STORY_VIEWER_SHEET_ROW:"fb_story:viewer_sheet_row",FB_STORY_VIEWER_SHEET_MENU:"fb_story:viewer_sheet_menu",FB_STORY_THREAD_VIEW_HEADER:"fb_story:thread_view_header",FB_STORY_THREAD_VIEW_FOOTER:"fb_story:thread_view_footer",FB_STORY_SHARESHEET:"fb_story:sharesheet",FB_STORY_STORIES_PUSH_NOTIFICATION:"fb_story:stories_push_notification",FB_STORY_STORIES_JEWEL_NOTIFICATION:"fb_story:stories_jewel_notification",FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:"fb_story:stories_viewer_consumer_reply",FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:"fb_story:stories_viewer_consumer_artifact",FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:"fb_story:stories_page_story_conversations",FB_STORY_STORIES_PAGE_STORY_ADMIN_CONVERSATIONS:"fb_story:stories_page_story_admin_conversations",FB_STORY_QUESTION_TRIGGERED_MENTION_UPSELL:"fb_story:question_triggered_mention_upsell",FB_STORY_PAGE_STORIES_COMMENT_STICKER_CONVERSATIONS:"fb_story:page_stories_comment_sticker_conversations",FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:"fb_story:social_context_conversations",FB_STORY_STORIES_MULTI_AUTHOR_STORY_CONVERSATIONS:"fb_story:stories_multi_author_story_conversations",FB_STORY_STORIES_COLLABORATIVE_STORY_MESSENGER_SUGGESTED_GROUP_CONVERSATION:"fb_story:stories_collaborative_story_messenger_suggested_group_conversation",FB_STORY_SELF_STORY_SEND:"fb_story:self_story_send",FB_TOP_OF_FEED_UNIT:"fb_top_of_feed_unit",FIRST_PARTY_BOT:"first_party_bot",FIRST_PARTY_BOT_RECRUITING_BOT:"first_party_bot:recruiting_bot",FIRST_PARTY_BOT_MESSENGER_BOT:"first_party_bot:messenger_bot",FIRST_PARTY_BOT_WORKPLACE_APP:"first_party_bot:workplace_app",FIRST_PARTY_BOT_REPORT_SPAM:"first_party_bot:report_spam",FIRST_PARTY_BOT_MOBILE_BUILDS_BOT:"first_party_bot:mobile_builds_bot",FIRST_PARTY_BOT_FB_TEST_PAGE:"first_party_bot:fb_test_page",FIRST_PARTY_BOT_CALENDAR_BOT:"first_party_bot:calendar_bot",FIRST_PARTY_BOT_ORDER_FOOD:"first_party_bot:order_food",FIRST_PARTY_BOT_BUSINESS_ASSISTANT:"first_party_bot:business_assistant",FIRST_PARTY_BOT_MOBILE_FINANCIAL_SERVICE:"first_party_bot:mobile_financial_service",FIRST_PARTY_BOT_FACEBOOK_BUSINESS:"first_party_bot:facebook_business",FIRST_PARTY_BOT_LEAD_GEN:"first_party_bot:lead_gen",FIRST_PARTY_BOT_MARKETPLACE:"first_party_bot:marketplace",FIRST_PARTY_BOT_INSTANT_EXPERIENCES:"first_party_bot:instant_experiences",FIRST_PARTY_BOT_PRODUCT_SUPPORT_TOOL:"first_party_bot:product_support_tool",FIRST_PARTY_BOT_CTA_ADS:"first_party_bot:cta_ads",FIRST_PARTY_BOT_FB_LOGIN_ALERTS:"first_party_bot:fb_login_alerts",FIRST_PARTY_BOT_M:"first_party_bot:m",FIRST_PARTY_BOT_TOGETHER:"first_party_bot:together",FIRST_PARTY_BOT_MPP_SUPPORT:"first_party_bot:mpp_support",FRIENDS_HOME:"friends_home",FRIENDS_HOME_ACTIVE_NOW:"friends_home:active_now",FRIENDS_HOME_POST_ACCEPT_MESSAGING:"friends_home:post_accept_messaging",FRIENDS_HOME_MESSAGE_NEW_FRIENDS:"friends_home:message_new_friends",FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:"friends_home:sender_post_accept_wave",FUNDRAISER_SUPPORT:"fundraiser_support",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_PROACTIVE:"fundraiser_support:proactive",FUNDRAISER_SUPPORT_CHECKLIST:"fundraiser_support:checklist",FUNDRAISER_SUPPORT_FACEBOOK_PAY_HANDOVER:"fundraiser_support:facebook_pay_handover",GEMSTONE:"gemstone",GEMSTONE_MESSAGE_INBOX:"gemstone:message_inbox",IG_FEED:"ig_feed",IG_FEED_ORGANIC_POST:"ig_feed:organic_post",IN_APP_BROWSER:"in_app_browser",IN_APP_BROWSER_SEND_MESSAGE_CTA:"in_app_browser:send_message_cta",INSTANT_ARTICLE:"instant_article",INSTANT_ARTICLE_CTA:"instant_article:cta",INSTANT_ARTICLE_OVERFLOW_MENU:"instant_article:overflow_menu",INSTANT_ARTICLE_TOOLKIT_DISCUSS:"instant_article:toolkit_discuss",INSTANT_GAMES:"instant_games",INSTANT_GAMES_ADMIN_INTRO:"instant_games:admin_intro",JOBS_ATS:"jobs_ats",LEAD_GEN_MESSAGING:"lead_gen_messaging",LEAD_GEN_MESSAGING_PRE_SUBMISSION:"lead_gen_messaging:pre_submission",LEAD_GEN_MESSAGING_POST_SUBMISSION:"lead_gen_messaging:post_submission",LIVE_VIDEO:"live_video",LIVE_VIDEO_FORECAST_SHARESHEET:"live_video:forecast_sharesheet",LOCAL_COMMUNITIES:"local_communities",LOCAL_COMMUNITIES_FEED:"local_communities:feed",LOCAL_COMMUNITIES_NEIGHBORHOOD_INBOX:"local_communities:neighborhood_inbox",LOCAL_COMMUNITIES_PERSONAL_INBOX:"local_communities:personal_inbox",LOCAL_COMMUNITIES_NOTIFICATION:"local_communities:notification",LOCAL_DEV_PLATFORM:"local_dev_platform",LOCAL_DEV_PLATFORM_SEND_AVAILABILITY:"local_dev_platform:send_availability",M:"m",MARKETPLACE:"marketplace",MARKETPLACE_BSG_POST_MESSAGE_SELLER_BUTTON:"marketplace:bsg_post_message_seller_button",MARKETPLACE_INBOX:"marketplace_inbox",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PDP_INLINE_MESSAGING:"marketplace_pdp:inline_messaging",MDOTME:"mdotme",MEET_NEW_FRIENDS:"meet_new_friends",MESSAGING_IN_BLUE:"messaging_in_blue",MESSAGING_IN_BLUE_THREAD_DETAILS_VIEW:"messaging_in_blue:thread_details_view",MESSAGING_IN_BLUE_THREAD_VIEW_HEADER:"messaging_in_blue:thread_view_header",MESSAGING_IN_BLUE_GROUPS_CHAT_THREAD_VIEW_HEADER:"messaging_in_blue:groups_chat_thread_view_header",MESSAGING_INBOX_IN_BLUE:"messaging_inbox_in_blue",MESSAGING_INBOX_IN_BLUE_THREAD_LIST:"messaging_inbox_in_blue:thread_list",MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:"messaging_inbox_in_blue:people_picker",MESSAGING_INBOX_IN_BLUE_INBOX_ICON:"messaging_inbox_in_blue:inbox_icon",MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:"messaging_inbox_in_blue:swipe_from_right",MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:"messaging_inbox_in_blue:mib_notification",MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:"messaging_inbox_in_blue:active_now",MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:"messaging_inbox_in_blue:suggested_chats",MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:"messaging_inbox_in_blue:chat_preview_banner",MESSAGING_INBOX_IN_BLUE_INBOX_QP:"messaging_inbox_in_blue:inbox_qp",MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:"messaging_inbox_in_blue:thread_view_core_null_state",MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:"messaging_inbox_in_blue:message_requests",MESSAGING_INBOX_IN_BLUE_SPAM:"messaging_inbox_in_blue:spam",MESSENGER_BUSINESS_SOLUTIONS:"messenger_business_solutions",MESSENGER_INBOX:"messenger_inbox",MESSENGER_INBOX_THREAD_LIST:"messenger_inbox:thread_list",MESSENGER_INBOX_IN_THREAD:"messenger_inbox:in_thread",MESSENGER_INBOX_NESTED_FOLDER:"messenger_inbox:nested_folder",MESSENGER_RTC:"messenger_rtc",MESSENGER_RTC_PHOTO_CAPTURE:"messenger_rtc:photo_capture",MESSENGER_SEARCH:"messenger_search",MESSENGER_SEARCH_HOME:"messenger_search:home",MESSENGER_SEARCH_PEOPLE:"messenger_search:people",MESSENGER_SEARCH_GAMES:"messenger_search:games",MESSENGER_SEARCH_DISCOVER:"messenger_search:discover",MESSENGER_SEARCH_NULL_STATE:"messenger_search:null_state",MESSENGER_SEARCH_M3:"messenger_search:m3",MESSENGER_SEARCH_M4:"messenger_search:m4",MESSENGER_SHOPS:"messenger_shops",MESSENGER_SHOPS_PDP:"messenger_shops:pdp",MESSENGER_SHOPS_ORDER_UPDATE_XMA:"messenger_shops:order_update_xma",MESSENGERDOTCOM:"messengerdotcom",MESSENGERDOTCOM_WEB_SEARCH:"messengerdotcom:web_search",MESSENGERDOTCOM_PAGES_PLUGIN:"messengerdotcom:pages_plugin",MIB_NOTIFICATION:"mib_notification",MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:"mib_notification:direct_push_notif",MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:"mib_notification:direct_jewel_notif",MIB_NOTIFICATION_SUBSEQUENT_PUSH_NOTIF:"mib_notification:subsequent_push_notif",MIB_NOTIFICATION_SUBSEQUENT_JEWEL_NOTIF:"mib_notification:subsequent_jewel_notif",NEARBY__HOME:"nearby__home",NEARBY__HOME_DASH_LIST:"nearby__home:dash_list",NEARBY__HOME_DASH_MAP:"nearby__home:dash_map",NEARBY__HOME_DASH_WAVE:"nearby__home:dash_wave",NEARBY__HOME_WAVE_INT:"nearby__home:wave_int",NEARBY__HOME_FEED:"nearby__home:feed",NEARBY__HOME_SHARE_LIVE_LOC:"nearby__home:share_live_loc",NEARBY_FRIENDS:"nearby_friends",NEARBY_FRIENDS_DASH_LIST:"nearby_friends:dash_list",NEARBY_FRIENDS_DASH_MAP:"nearby_friends:dash_map",NEARBY_FRIENDS_DASH_WAVE:"nearby_friends:dash_wave",NEARBY_FRIENDS_WAVE_INT:"nearby_friends:wave_int",NEARBY_FRIENDS_FEED:"nearby_friends:feed",NEARBY_FRIENDS_SHARE_LIVE_LOC:"nearby_friends:share_live_loc",NONPROFIT_SUPPORT:"nonprofit_support",NONPROFIT_SUPPORT_REACTIVE_MORE_MENU:"nonprofit_support:reactive_more_menu",NONPROFIT_SUPPORT_REACTIVE_FAQ:"nonprofit_support:reactive_faq",NONPROFIT_SUPPORT_PROACTIVE:"nonprofit_support:proactive",NONPROFIT_SUPPORT_CHECKLIST:"nonprofit_support:checklist",NPX_ICE_BREAKER:"npx_ice_breaker",NULL_STATE_CTA:"null_state_cta",ONE_TIME_NOTIF:"one_time_notif",PAGES_COMMS_AUTOMATED_RESPONSES:"pages_comms_automated_responses",PAGES_COMMS_AUTOMATED_RESPONSES_PREVIEW:"pages_comms_automated_responses:preview",PAGES_COMMS_AUTOMATED_RESPONSES_RECOMMENDATIONS:"pages_comms_automated_responses:recommendations",PAGES_COMMS_AUTOMATED_RESPONSES_JOB_APPLICATION:"pages_comms_automated_responses:job_application",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_LOCATION:"pages_comms_automated_responses:smart_reply_location",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_CONTACT:"pages_comms_automated_responses:smart_reply_contact",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_HOURS:"pages_comms_automated_responses:smart_reply_hours",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_POSITIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_positive_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_NEGATIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_negative_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_INSTANT_REPLIES:"pages_comms_automated_responses:instant_replies",PAGES_COMMS_AUTOMATED_RESPONSES_AWAY_MESSAGE:"pages_comms_automated_responses:away_message",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_REMINDER:"pages_comms_automated_responses:appointment_reminder",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_FOLLOWUP:"pages_comms_automated_responses:appointment_followup",PAGES_COMMS_AUTOMATED_RESPONSES_ORGANIC_INTAKE_FORM:"pages_comms_automated_responses:organic_intake_form",PAGES_COMMS_AUTOMATED_RESPONSES_WELCOME_MESSAGE:"pages_comms_automated_responses:welcome_message",PAGES_COMMS_AUTOMATED_RESPONSES_COMMENT_TO_INBOX:"pages_comms_automated_responses:comment_to_inbox",PAGES_MANAGER_APP:"pages_manager_app",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_TEXT:"pages_manager_app:notification_direct_reply_text",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_LIKE:"pages_manager_app:notification_direct_reply_like",PAGES_MANAGER_APP_CRM_SCHEDULED_MESSAGES:"pages_manager_app:crm_scheduled_messages",PAGES_PLUGIN:"pages_plugin",PAGES_PLUGIN_MESSAGE_TAB:"pages_plugin:message_tab",PRIVATE_REPLY:"private_reply",PRIVATE_REPLY_ADMIN:"private_reply:admin",PRIVATE_REPLY_RICH_POST_REPLY:"private_reply:rich_post_reply",PRIVATE_REPLY_RICH_COMMENT_REPLY:"private_reply:rich_comment_reply",PRIVATE_REPLY_RICH_VIDEO_TEXT_QUESTION_RESPONSE_REPLY:"private_reply:rich_video_text_question_response_reply",PROFILE_PLUS:"profile_plus",PROFILE_PLUS_PPM_PUSH_NOTIF:"profile_plus:ppm_push_notif",SAMPLE_BOTS:"sample_bots",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin",SHARESHEET:"sharesheet",SHARESHEET_SHOP_COLLECTION_P2P_SHARE:"sharesheet:shop_collection_p2p_share",SHARESHEET_SHOP_STOREFRONT_P2P_SHARE:"sharesheet:shop_storefront_p2p_share",SHARESHEET_FBPAY_OFFER:"sharesheet:fbpay_offer",SPONSORED_MESSAGES_ADS:"sponsored_messages_ads",UNKNOWN:"unknown",UNKNOWN_BNP_PSID:"unknown:bnp_psid",UNKNOWN_ORGANIC_POST:"unknown:organic_post",VERSE:"verse",VERTICAL_SERVICES:"vertical_services",VERTICAL_SERVICES_GET_QUOTE:"vertical_services:get_quote",WATCH_SHARESHEET:"watch_sharesheet",WATCH_SHARESHEET_SEE_CHAT_BUTTON:"watch_sharesheet:see_chat_button",WORK_CHAT:"work_chat",WORK_CHAT_WORK_IDS:"work_chat:work_ids",WORK_CHAT_EMAIL:"work_chat:email"});e.exports=a}),null);
__d("MessengerDiscoveryEntryPointsLoggingHelper",["MessengerDiscoveryEntryPoint"],(function(a,b,c,d,e,f){"use strict";f.getEntryPointsLoggingTagStr=a;function a(a){if(a.length==0||Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(a[0])==-1)throw new Error("Please use enums in MessengerDiscoveryEntryPoints class");return"entrypoint:"+a.join(":")}}),null);
__d("MNPlatformTagsDataManager",["MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";f.getTags=a;f.updateThreadTabAfterSelectThread=c;f.hasThreadTags=d;f.getThreadTags=e;function a(a){a===void 0&&(a=null);var c=null,d=null;switch(a){case"source:pages:message_shortlink":c=b("MNPlatformAttributionTags").M_DOT_ME;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["mdotme"]);break;case"source:messenger:web":c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case"source:messenger:web_search":c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:web_search"]);break;case"source:discovery:customer_chat_plugin":c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case"source:pages:page_plugin_message":c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:pages_plugin"]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a}function c(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)}function d(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)}function e(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}),null);
__d("MessengerContentSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BROWSE_MESSAGE_IN_THREAD:"browse_message_in_thread",CHANGE_QUERY:"change_query",END_CONTENT_SEARCH:"end_content_search",INITIATE_CONTENT_SEARCH:"initiate_content_search",LOAD_MORE_THREADS:"load_more_threads",NUM_BROWSE_ACTIONS_WITHIN_THREAD:"num_browse_actions_within_thread",SELECT_THREAD:"select_thread",THREAD_IMPRESSIONS:"thread_impressions",LOAD_MESSAGE_IN_THREAD:"load_message_in_thread",BROWSE_CONTEXT:"browse_context"});b=Object.freeze({SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH:"search_from_integrated_message_search",SEARCH_WITHIN_THREAD:"search_within_thread",SEARCH_ALL_THREADS:"search_all_threads"});c=Object.freeze(babelHelpers["extends"]({},b,{END_WITH_DONE_BUTTON:"end_with_done_button",END_WITH_X_BUTTON:"end_with_x_button",END_WITH_BACK_BUTTON:"end_with_back_button",END_BY_CHANGING_THREADS:"end_by_changing_threads"}));e.exports={FUNNEL_NAME:"WWW_MESSENGER_CONTENT_SEARCH_FUNNEL",FUNNEL_LOGGER_EVENTS:a,FUNNEL_LOGGER_TAGS:c,ENTRY_SURFACES:b}}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","SearchableEntry","WorkForeignEntityType"],(function(a,b,c,d,e,f,g){"use strict";f.convertWorkChatProfileToEntry=a;f.convertProfileToEntry=c;f.convertIGMessagingUserToEntry=d;f.convertPageToEntry=e;f.convertGameToEntry=k;f.convertMessageToEntry=l;f.convertGroupToEntry=m;f.convertMSQGroupToEntry=n;f.getValidatedMatchesRanges=o;f.getParticipantsText=p;function h(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function i(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function j(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=i(a):b&&a.is_viewer_friend===!1&&(c=b);return c}function a(a,c){var d;if(!a||!a.id||!a.name)return null;var e="non_friend";d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)==="NOT_FOREIGN";a.is_work_user&&d&&(e="fb4c");return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:c,photo:a.profile_picture&&a.profile_picture.uri,auxiliaryData:{isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info},order:-a.viewer_affinity})}function c(a,c){var d,e;if(!a||!a.id||!a.name)return null;var f="non_friend";e=a.is_viewer_coworker||((e=a.work_foreign_entity_info)!=null?e.type:e)==="NOT_FOREIGN";d=((d=a.work_foreign_entity_info)!=null?d.type:d)==="LIMITED";a.is_work_user&&d?f="guest":a.is_work_user&&e?f="fb4c":(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||e&&a.viewer_affinity>0)&&(f="friend");d=j(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:f,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isActiveAccount:a.work_info&&a.work_info.is_active_account,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})}function d(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"friend",subtitle:"Instagram",photo:a.profile_picture&&a.profile_picture.uri,uri:null,auxiliaryData:{},order:0})}function e(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:a.is_verified,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})}function k(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:"game",photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})}function l(a){var c,d;c=a==null?void 0:(c=a.message_thread)==null?void 0:c.thread;d=a==null?void 0:(d=a.matched_message)==null?void 0:d.message;var e=a==null?void 0:a.thread_id,f=a==null?void 0:a.matched_message;a=Number(a==null?void 0:(a=a.message_thread)==null?void 0:a.approx_count);if(c==null||d==null||e==null||f==null||a==null)return null;var i="message:"+e,j=d.snippet,k=g._("{number of messages} matched messages",[g._param("number of messages",a)]);k=a>1?k:j;j=d.timestamp;typeof j==="number"&&a===1?j*=1e3:j=void 0;a=a==1?(d=f)!=null?(d=d.search_result_context)!=null?d.match_ranges:d:d:null;f={matchRanges:a,timestamp:j,thread_id:e,messageResultType:"1on1Conversation"};d="";a=null;if(c.image!==void 0){c.thread_name&&(d=c.thread_name);c.image&&(a=c.image.uri);if(c.all_participants&&c.all_participants.nodes&&c.all_participants.count){if(d==""){j=c.all_participants.count;var l=c.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);d=p(!0,l,j)}l=c.all_participants.nodes.map(function(a){a=h(a.messaging_actor.id);return{id:a}});f=babelHelpers["extends"]({},f,{messageResultType:"groupConversation",participantsToRender:l,thread:{thread_id:e,image_src:a,participants:l.map(function(a){return a.id})}})}}else if(c.all_participants&&c.all_participants.nodes[0]&&c.all_participants.nodes[0].messaging_actor){j=c.all_participants.nodes[0].messaging_actor;j.name&&(d=j.name);j.profile_picture&&(a=j.profile_picture.uri);typeof j.is_memorialized==="boolean"&&(f.isMemorializedUser=j.is_memorialized);typeof j.is_messenger_user==="boolean"&&(f.isMessengerUser=j.is_messenger_user);typeof j.is_work_user==="boolean"&&(f.isWorkUser=j.is_work_user);typeof j.is_verified==="boolean"&&(j.__typename==="User"||j.__typename==="Page"?f.isVerified=j.is_verified:f.isVerified=!1);typeof j.username==="string"&&(f.alias=j.username);j.work_foreign_entity_info&&(f.workForeignEntityInfo=j.work_foreign_entity_info)}return new(b("SearchableEntry"))({uniqueID:i,title:d,subtitle:k,type:"message",photo:a,uri:null,order:0,auxiliaryData:f})}function m(a,c){var d;if(!a||!a.thread_key||!a.is_group_thread)return null;var e=a.thread_key.thread_fbid;if(!e)return null;var f=a.image&&a.image.uri;d=a==null?void 0:(d=a.other_participants)==null?void 0:d.edges;if(d==null)return null;d=d.map(function(a){return a.node.messaging_actor.name});d=p(!1,d,a.other_participants.count);var g=a.name,i=null;!g?g=d:i=d;if(!g)return null;d={};d.thread={thread_id:e,other_user_fbid:null,image_src:f,participants:a.other_participants.edges.map(function(a){return h(a.node.messaging_actor.id)})};d.participantsToRender=a.other_participants.edges.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:f,title:g,subtitle:i,type:"thread",auxiliaryData:d})}function n(a,c,d){var e,f;if(!a||!a.thread_key)return null;e=a==null?void 0:(e=a.thread_key)==null?void 0:e.thread_fbid;if(!e)return null;var g=a.image&&a.image.uri;f=a==null?void 0:(f=a.all_participants)==null?void 0:f.edges;if(f==null)return null;f=f.filter(function(a){return a.node.id!==d});var i=f.map(function(a){return a.node.messaging_actor.name});i=p(!0,i,a.all_participants.count);a=a.thread_name;var j=null;!a?a=i:j=i;if(!a)return null;i={};i.thread={thread_id:e,other_user_fbid:null,image_src:g,participants:f.map(function(a){return h(a.node.messaging_actor.id)})};i.participantsToRender=f.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:e,order:c,photo:g,title:a,subtitle:j,type:"thread",auxiliaryData:i})}function o(a,b){if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c}function p(a,b,c,d){d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} and {number of other participants} more",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])}}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2339215389425518"};b.getQueryID=function(){return"339708329890231"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a="ACTIVE";f.ACTIVE=a;b="COMPLETE";f.COMPLETE=b}),null);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$9=a.parseFn,typeof this.$9==="function"||g(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||g(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||h,this.$4=a.exclusions||{},this.reset()}var c=a.prototype;c.search=function(a,b){var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};c.$13=function(a,c){var d=this,e=this.$14(a),f=!!this.$5[a];if(!e.length){c([],a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f}e=e.map(function(a){return d.$3[a]});c(e,a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f};c.$15=function(){var a=this.$10;this.$10=[];a.forEach(this.$16,this)};c.$16=function(a){var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};c.reset=function(){this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};c.addLocalEntries=function(a){var b=this;a.forEach(function(a){var c=a.getUniqueID(),d=b.$6(a);b.$3[c]=a;b.$12[c]=d;a=b.$9(d);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(b.$7,a)||(b.$7[a]={}),b.$7[a][c]=!0})});this.$15()};c.addQueryEntries=function(a,c,d){var e=this;d===b("SearchSourceQueryStatus").COMPLETE&&this.setQueryStringAsExhausted(c);d=this.$14(c);var f=this.$9(c).flatValue;this.$11[f]=b("createObjectFrom")(d,!0);a.forEach(function(a){var b=a.getUniqueID();e.$3[b]=a;e.$12[b]=e.$6(a);e.$11[f][b]=!0});this.$15()};c.unsubscribe=function(a){delete this.$1[a]};c.removeEntry=function(a){delete this.$3[a]};c.getAllEntriesMap=function(){return this.$3};c.setQueryStringAsExhausted=function(a){this.$5[a]=!0};c.unsetQueryStringAsExhausted=function(a){delete this.$5[a]};c.$14=function(a){var b=this,c=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));c=c.concat(a);var d={},e=[];c.forEach(function(a){d[a]==null&&b.$3[a]!=null&&b.$4[a]==null&&(e.push(a),d[a]=!0)});return e};c.$17=function(a,b){var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};c.$20=function(a,b){var c=this,d={};b.forEach(function(b){d[b]=c.$8(a,c.$12[b])});return d};c.$18=function(a){var c=this,d=this.$9(a,this.$2),e=this.$2?b("nullthrows")(d.sortedTokens):d.tokens,f=e.length,g=d.isPrefixQuery?f-1:null,h={},i={},j={};d=!1;var k={},l=0;e.forEach(function(a,b){if(Object.prototype.hasOwnProperty.call(k,a))return;l++;k[a]=!0;for(var e in c.$7){var f=e===a&&!Object.prototype.hasOwnProperty.call(h,e),m=!1;f||(m=(c.$2||g===b)&&e.indexOf(a)===0);if(!f&&!m){Object.prototype.hasOwnProperty.call(h,e)||(d=!0);continue}e===a?(Object.prototype.hasOwnProperty.call(i,e)&&(d=!0),h[e]=!0):((Object.prototype.hasOwnProperty.call(h,e)||Object.prototype.hasOwnProperty.call(i,e))&&(d=!0),i[e]=!0);for(var n in c.$7[e])(b===0||Object.prototype.hasOwnProperty.call(j,n)&&j[n]==l-1)&&(j[n]=l)}});e=Object.keys(j).filter(function(a){return j[a]==l});(d||l<f)&&(e=this.$21(a,e));return e};c.$19=function(a){var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};c.$22=function(a){var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){a.indexOf(d)===0&&d.length>b&&(b=d.length,c=d)});return c&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};c.$21=function(a,b){var c=this;return b.filter(function(b){return c.$8(a,c.$12[b])})};return a}();e.exports=a;function h(a){return[a.getTitle(),a.getKeywordString()].join(" ")}}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){var c=this;if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var d=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;d=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:d,count:50});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var d=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(d);c.orderedFriendEntries=d;d=(d=a)!=null?(d=d.viewer)!=null?(d=d.messenger_contextual_ranked_users)!=null?(d=d.page_info)!=null?d.has_next_page:d:d:d:d;d&&(c.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.orderedFriendEntries),c.loadMoreFriends(),c.shouldRefetch=!1},b("emptyFunction"))};c.loadMoreFriends=function(){var a=this;if(this.cursor==null)return;var c=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:c})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(c){a.callbackManager.addLocalEntries(c.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};c.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};c.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};c.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};return a}();a=function(){a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};b.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};b.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};return a}();e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1959479940789272"};b.getQueryID=function(){return"2171073576453933"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.onEntriesLoaded=j;f.search=a;f.isBootstrapped=c;var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null;function j(a){if(i){a(i);return}if(!h){var c=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){var c=a.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(c);i=c;a.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){a(i)},b("emptyFunction"))}function a(a,b){j(function(){g.search(a,function(c){b(c,a)})})}function c(){return i!==null}}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2046569042080039"};b.getQueryID=function(){return"2118248735074331"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){var c=this;if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var d=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(a);c.audienceEntries=a})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.audienceEntries,!0)},b("emptyFunction"))};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.isBootstrapped=function(){return this.audienceEntries!==null};return a}();a=function(){a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};b.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};b.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};return a}();e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("MessengerSearchQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2268911786543136"};b.getQueryID=function(){return"604329370331165"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchSeeAllQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2778926592129629"};b.getQueryID=function(){return"509156833039109"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2950938174931326"};b.getQueryID=function(){return"666334973823993"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2706854202719826"};b.getQueryID=function(){return"332444434106998"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2230378867058421"};b.getQueryID=function(){return"419711615545533"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2530922320303835"};b.getQueryID=function(){return"1187203711467179"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239687859487185"};b.getQueryID=function(){return"398906294161848"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["CurrentUser","MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerMessageSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery","gkx"],(function(a,b,c,d,e,f){"use strict";f.formSearchRequests=a;f.formMSQMessageSearchRequest=c;function a(a,c,d){var e={profiles:[],pages:[],rooms:[],messages:[]},f=b("CurrentUser").isWorkUser()&&b("gkx")("903262")?"workchat":"web_messenger_composer";a.forEach(function(a){switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs,context:f}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs,context:f}));break;case"messages":e.messages.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.messageLimit,exclude_ids:[],context:f}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1,context:f}));d.shouldQueryInternalBot===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!0,vc_endpoint:!1,context:f}));d.shouldQueryVCEndpoint===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!1,vc_endpoint:!0,context:f}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e}function c(a,c){var d=[];d.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:a,result_limit:c,exclude_ids:[],context:"web_messenger_composer"}));return d}}),null);
__d("MessengerUniversalSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={END:"end",IMPRESSIONS:"impressions",QUERY_CHANGED:"query_changed",REENTERED:"reentered",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start"};b={FIRST:"first",SEE_ALL:"see_all"};c={USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",COWORKER:"coworker",MESSAGE:"message",OTHER:"other"};d={MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"};f=Object.freeze({INBOX:"inbox",SIDEBAR:"sidebar"});var g={NULL_STATE:"null_state",TYPEAHEAD:"typeahead"},h={LOCAL:"local",SERVER:"server",SERVER_XCONTROLLER:"server_xcontroller",LOCAL_AND_SERVER:"local_and_server",SERVER_USERS_GROUPS:"server_users_groups",SERVER_PAGES:"server_pages",SERVER_ROOMS:"server_rooms"},i={FAILED:"failed",FINISHED:"finished"},j={LOCAL:"local",SERVER:"server"},k={END_ACTION:"end_action"},l=Object.freeze({ABANDON:"abandon",RESULT_SELECTED:"result_selected",MESSAGE_SEARCH:"message_search",ENTER_INTEGRATED_MESSAGE_SEARCH:"enter_integrated_message_search",SEND:"send",CALL:"call"});e.exports={NAME:"MESSENGER_UNIVERSAL_SEARCH_FUNNEL",TYPE:"UNIVERSAL",END_ACTIONS:l,END_REASONS:k,ENTRY_SURFACES:f,EVENTS:a,INTERFACES:d,QUERY_PROGRESS:i,RESULT_PAGES:b,RESULT_SURFACES:g,RESULT_TYPES:c,SOURCES:h,UI_SECTIONS:j}}),null);
__d("PromiseUtil",["Promise","nullthrows","promiseDone"],(function(a,b,c,d,e,f){f.allSettled=a;f.allSettledInSeries=c;f.exponentialBackoff=d;f.forEach=e;f.forEachError=g;f.iterateUntil=h;f.pollUntilImpl=i;f.pollUntil=j;f.rateLimit=k;f.rateLimitWithLastResult=l;f.repeatUntil=m;f.repeatWhileErrorUntil=n;f.series=o;f.wait=p;f.waitAtMost=q;f.waitOrElse=r;function a(a){var c=b("Promise").all(a);return b("Promise").all(a.map(function(a){return b("Promise").resolve(a).then(void 0,function(a){return void 0})})).then(function(){return c})}function c(a){var c=[];return a.reduce(function(a,b){return a.then(b).then(function(){return void 0},function(a){c.push(a);return void 0})},b("Promise").resolve()).then(function(){if(c.length)throw c[0]})}function d(a,b,c){b===void 0&&(b=Math.sqrt(2));c===void 0&&(c=1);var d=c;c=function(){var a=d;d*=b;return a};return k(a,c)}function e(a,c){return a.then(function(a){return b("Promise").resolve(c(a)).then(function(){return a})})}function g(a,c){return a.then(void 0,function(a){return b("Promise").resolve(c(a)).then(function(){throw a})})}function h(a,c){var d=function d(e){return c(e)?b("Promise").resolve(e):b("Promise").resolve(a(e)).then(d)};return d}function i(a,c){var d,e=new(b("Promise"))(function(b,e){var f=function(){try{var c=a();c&&b(c.value)}catch(a){e(a)}};d=setInterval(f,1e3*c)});return e["finally"](function(){return clearInterval(b("nullthrows")(d))})}function j(a,b){b===void 0&&(b=1);return i(function(){var b=a();return b?{value:b}:void 0},b)}function k(a,b){var c=[],d=void 0,e=0;return function(){var f=b();for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];c=h;d||(d=p(e+f-Date.now()/1e3).then(function(){e=Date.now()/1e3;d=void 0;return a.apply(void 0,c)}));return d}}function l(a,c){var d=!1,e=void 0;return function(){d||(b("promiseDone")(p(c()),function(){return d=!1}),e=a.apply(void 0,arguments),d=!0);return e}}function m(a,c){var d=function d(){return b("Promise").resolve(a()).then(function(a){return c(a)?b("Promise").resolve(a):d()})};return d}function n(a,c,d){var e=function e(){return b("Promise").resolve(a()).then(function(a){c(a);return b("Promise").resolve(a)},function(a){return d(a)?e():b("Promise").reject(a)})};return e}function o(a,c){c=c;return a.reduce(function(a,b){return a.then(b)},b("Promise").resolve(c))}function p(a){return 0<a?new(b("Promise"))(function(b,c){return setTimeout(b,1e3*a)}):b("Promise").resolve()}function q(a,b){return r(a,b,function(){throw new Error("Promise timed out")})}function r(a,c,d){var e=!1;return b("Promise").race([a.then(function(a){e=!0;return a},function(a){e=!0;throw a}),p(c).then(function(){return e?void 0:d()})])}}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","Bootloader","CurrentUser","MercuryConfig","MessengerBootloadedSecondarySearchLogger","MessengerGraphQLTypeaheadAdapter","MessengerSearchQueryWebGraphQLQuery","MessengerSearchSeeAllQueryWebGraphQLQuery","MessengerSearchWebGraphQLFetcherUtils","MessengerSecondarySearchFunnelConstants","MessengerUniversalSearchFunnelLoggerConstants","PromiseUtil","WebGraphQL","compactArray","gkx","requireCond","cr:998965"],(function(a,b,c,d,e,f){var g=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,h=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,i=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:2,j=5,k=3;a=function(){function a(a,b){this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$7="",this.$1=0,this.$2=0,this.$5=0,this.$6=a,this.$7=b}var c=a.prototype;c.fetchEntries=function(a,c,d,e,f){var g=this;c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var h=c.pages,i=c.profiles,j=c.rooms,k=c.messages;if(h.length>0){this.$8("pages",a);this.$2=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return g.$9(b,a,e)},function(b){return g.$10(b,a,f)})()}if(i.length>0){this.$8("users_groups",a);this.$1=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){g.$11(b,a,e)},function(b){return g.$12(b,a,f)})()}if(j.length>0){this.$8("rooms",a);this.$5=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$13(b,a,e)},function(b){return g.$14(b,a,f)})()}c=b("gkx")("975043");if(k.length>0&&c){this.$8("messages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$15(b,a,e)},function(b){return g.$16(b,a,f)})()}};c.fetchMSQEntries=function(a,c,d,e,f,g,h){var i=this;if(c>0){this.$3=0;var j=b("MessengerSearchWebGraphQLFetcherUtils").formMSQMessageSearchRequest(a,c);this.$8("messages",a);c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){i.$15(b,a,g)},function(b){return i.$16(b,a,h)})()}this.$4=0;var k=[];k.push(new(b("MessengerSearchQueryWebGraphQLQuery"))({query:a,num_users:d,num_groups:e,num_pages:f}));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return i.$17(b,a,g)},function(b){return i.$18(b,a,h)})()};c.fetchMSSAQEntries=function(a,c,d,e,f,g){var h=this;g===void 0&&(g=[]);this.$4=0;var i=[];switch(c){case"friend":case"non_friend":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"USER",limit:d}]}));break;case"thread":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"GROUP",limit:d}]}));break;case"page":i.push(new(b("MessengerSearchSeeAllQueryWebGraphQLQuery"))({query:a,exclude_ids:g,supported_types:[{result_type:"PAGE",limit:d}]}));break}c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return h.$17(b,a,e)},function(b){return h.$18(b,a,f)})()};c.$17=function(a,c,d){var e=this;if(this.$6()!==c)return;a=a[0];a=a==null?void 0:(a=a.messenger_search)==null?void 0:(a=a.result_modules)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:(a=a.search_results)==null?void 0:a.edges;var f=[],g=0;a!=null&&a.forEach(function(a){if(a.node&&a.node.__typename){var c=a.node.__typename;if(c==="User"){var d=b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,null);d&&f.push(d)}else if(c==="InstagramMessagingUser")f.push(b("MessengerGraphQLTypeaheadAdapter").convertIGMessagingUserToEntry(a.node));else if(c==="NeoApprovedUser"){d=b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,null);d&&f.push(d)}else if(c==="MessengerViewerGroupThread"){d=b("CurrentUser").getID();d=b("MessengerGraphQLTypeaheadAdapter").convertMSQGroupToEntry(a.node,g,d);d&&f.push(d);g++}else if(c==="Page"){d=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,e.$19(a.node));d&&f.push(d)}}});d(f,"singleServerQuery");this.$20("single_server_query",c,f)};c.fetchWorkChatSingleQueryEntries=function(a,c,d,e){var f=this;if(b("cr:998965")==null)return;var g=[];g.push(b("cr:998965").formSearchRequests(a,c));c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){return f.$21(b,a,d)},function(b){return f.$22(b,a,e)})()};c.$21=function(a,c,d){var e,f=this;a=a[0];if(this.$6()!==c)return;e=a==null?void 0:(e=a.entities_named)==null?void 0:e.user_group_results;var g=[],h=!1;h=!0;if(e!=null&&(e==null?void 0:e.edges)!=null&&(e==null?void 0:e.edges.length)>0){e=e.edges;e.map(function(a,c){var d=a.node;if(d!=null&&d.is_group_thread!=null){c=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(d,c);c&&g.push(c)}else{c=b("MessengerGraphQLTypeaheadAdapter").convertWorkChatProfileToEntry(d,h?a.subtext:null);c&&g.push(c)}})}e=a==null?void 0:(e=a.entities_named)==null?void 0:e.bot_results;if(e!=null&&(e==null?void 0:e.edges)!=null&&(e==null?void 0:e.edges.length)>0){e=e==null?void 0:e.edges;e.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,f.$19(a.node));c&&g.push(c)})}a=a==null?void 0:(e=a.entities_named)==null?void 0:e.vc_results;if(a!=null&&(a==null?void 0:a.edges)!=null&&(a==null?void 0:a.edges.length)>0){e=a==null?void 0:a.edges;e.map(function(a,c){c=b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,f.$19(a.node));c&&g.push(c)})}d(g,"singleServerQuery");this.$20("wc_single_server_query",c,g)};c.$15=function(a,c,d){a=a[0];if(this.$6()!==c)return;a=a==null?void 0:(a=a.entities_named)==null?void 0:(a=a.search_results)==null?void 0:a.edges;var e=[];a!=null&&a.forEach(function(a){a=b("MessengerGraphQLTypeaheadAdapter").convertMessageToEntry(a.node);a&&e.push(a)});d(e,"messages");this.$20("messages",c,e)};c.$13=function(a,c,d){if(this.$6()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$20("rooms",c,a)}};c.$11=function(a,c,d){if(this.$6()!==c)return;var e=[],f=[],g=!1;g=!0;for(var h=0;h<a.length;h++){var i=a[h];i=(i=i)!=null?(i=i.entities_named)!=null?(i=i.search_results)!=null?i.edges:i:i:i;i&&i.length>0&&i[0].node&&(i[0].node.is_group_thread!=null?e=i.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):i[0].node.is_messenger_user!=null&&(f=i.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g===!0?a.subtext:null)}),f=this.$23(b("compactArray")(f))))}i=b("compactArray")(f.concat(e));d(i,"usersGroups");this.$20("users_groups",c,i)};c.$23=function(a){var b=[],c=[],d=[],e=[];for(var f=0;f<a.length;f++){var g=a[f];if(!g)continue;g.getType()==="friend"&&b.length<j?b.push(g):g.getType()==="non_friend"&&e.length<i?e.push(g):g.getType()==="fb4c"&&c.length<8?c.push(g):g.getType()==="guest"&&d.length<6&&d.push(g)}return b.concat(c,d,e)};c.$9=function(a,c,d){var e=this;if(this.$6()!==c)return;var f=[];for(var g=0;g<a.length;g++){var h=a[g];h=(h=h)!=null?(h=h.entities_named)!=null?(h=h.search_results)!=null?h.edges:h:h:h;h=h?h.map(function(a){a=a.node;return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a,e.$19(a))}):[];f=f.concat(b("compactArray")(h.slice(0,5)))}d(f,"pages");this.$20("pages",c,f)};c.$19=function(a){if(!a||!a.category_type)return"page";if(a.category_type==="WORKPLACE_BOT")return"internal_bot_page";else if(a.category_type==="MEETING_ROOM")return"meeting_room_page";return"page"};c.$12=function(a,b,c){if(b===this.$6()){if(this.$1<k){this.$1+=1;return!0}c(a,"usersGroups")}return!1};c.$10=function(a,b,c){if(b===this.$6()){if(this.$2<k){this.$2+=1;return!0}c(a,"pages")}return!1};c.$16=function(a,b,c){if(b===this.$6()){if(this.$3<k){this.$3+=1;return!0}c(a,"messages")}return!1};c.$14=function(a,b,c){if(b===this.$6()){if(this.$5<k){this.$5+=1;return!0}c(a,"rooms")}return!1};c.$18=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$22=function(a,b,c){if(b===this.$6()){if(this.$4<k){this.$4+=1;return!0}c(a,"singleServerQuery")}return!1};c.$24=function(a){var c="";switch(a){case"users_groups":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_PAGES;break;case"rooms":c=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_ROOMS;break;default:c=""}return c};c.$8=function(a,c){var d=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(e){var b=d.$24(a);e.logSourceStarted(c,b)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var e=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_STARTED,query:c,source:e,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};c.$20=function(a,c,d){var e=this;if(this.$7===g)b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(g){var f=e.$24(a);g.logSourceEnded(c,f,d.length,b("MessengerUniversalSearchFunnelLoggerConstants").QUERY_PROGRESS.FINISHED,e.$6()===c)},"MessengerSearchWebGraphQLFetcher"),b("Bootloader").loadModules(["WorkChatSearchFunnelLogger"],function(b){b.logImpressions(c,a,d)},"MessengerSearchWebGraphQLFetcher");else if(this.$7===h){var f=this.$24(a);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,query:c,source:f,ids:d.map(function(a){return a.getUniqueID()}),status:b("MessengerSecondarySearchFunnelConstants").SOURCE_STATUSES.FINISHED,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})}};return a}();e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1720594534660350"};b.getQueryID=function(){return"1852062858177546"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1978892428852690"};b.getQueryID=function(){return"127838424757019"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","FBLogger","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))},function(a){b("FBLogger")("messenger_search").warn("Error while fetching more friends: "+a.errorDescription)})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){b("FBLogger")("messenger_search").warn("Error while fetching entries: "+a.errorDescription)})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};a=m;e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","immutable"],(function(a,b,c,d,e,f){f.fromSearchableEntry=a;f.fromMercuryParticipant=c;function a(a){var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c=="message"&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);c==="message"&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=c==="message"&&e.messageResultType==="groupConversation";c==="thread"||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)}function c(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}}),null);
__d("MercuryThreadTimestampReact.bs",["cx","React","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.time,d=a.title,e=a.text;a=a.className;a=a!==void 0?a:"";if(c===void 0)return h.jsx("abbr",{});var f=new Date(c);d=d!==void 0?d:f.toLocaleDateString();e=e!==void 0?e:b("formatDate")(f,"g:ia");return h.cloneElement(h.jsxs(h.Fragment,{children:[h.jsx("span",{children:d,className:"accessible_elem"}),h.jsx("abbr",{children:e,"aria-hidden":!0,className:b("joinClasses")(a,"timestamp"),title:d})]}),{"data-utime":c/1e3})}c=a;f.make=c}),null);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,this.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("Today").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),null);
__d("MessengerContactActions.bs",[],(function(a,b,c,d,e,f){"use strict";a={ADD_OWNER:"ADD_OWNER",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT",REPORT_GROUP_CHAT_USER:"REPORT_GROUP_CHAT_USER"};f.actions=a}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.className;a=a.participantTimeZone;if(a===void 0)return null;a=a-new Date().getTimezoneOffset()*-60;if(a===0)return null;a=new Date(Date.now()+a*1e3);var d=a.getHours();d=d<6||d>22;c=b("joinClasses")("_10rk",c);return i.jsx("span",{children:i.jsxs("span",{children:["(",i.jsx(b("MercuryThreadTimestampReact.bs").make,{time:a.getTime()})," ",h._("local time"),")"],className:d?"_2f3x":""}),className:c})}c=22;d=6;e=a;f.nightStartHour=c;f.nightEndHour=d;f.make=e}),null);
__d("SplitImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.srcs,d=this.props.border,e=this.props.className,f=this.props.halfView;if(c.length===0)return null;var g=null;c.length===1?g=this.$1(c[0],a):c.length===2?g=this.$2(c,a,d):g=this.$3(c,a,d,f);return h.jsx("div",{className:b("joinClasses")(e,"_55lt"),style:{width:a,height:a},children:g})};d.$1=function(a,c){return h.jsx(b("Image.react"),{src:a,width:c,height:c,alt:""})};d.$2=function(a,c,d){var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return h.jsxs("div",{children:[h.jsx("div",{className:"_55lu",style:{width:e},children:h.jsx(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})}),h.jsx("div",{className:d,style:{width:e},children:h.jsx(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})})]})};d.$3=function(a,c,d,e){e=e===!0?Math.floor(c/3*1.5)+1:Math.floor(c/3*2);var f=-Math.floor((c-e)/2),g=Math.floor(c/2),i=c-e,j=-Math.floor((g-i)/2),k="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return h.jsxs("div",{children:[h.jsx("div",{className:k,style:{width:e},children:h.jsx(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})}),h.jsx("div",{className:d,style:{width:i,height:g},children:h.jsx(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:j},alt:""})}),h.jsx("div",{className:"_55lu",style:{width:i,height:g},children:h.jsx(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:j},alt:""})})]})};return c}(h.Component);e.exports=a}),null);
__d("MercuryParticipantsImage.react",["cssVar","MessengerParticipantsImages.re","React","SplitImage.react","filterNulls","gkx","requireCond","cr:1425118"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var c=a.className,d=a.halfView,e=a.participants,f=a.partiesProfileImages;a=a.size;var g=h.useState([]),i=g[0],j=g[1];h.useLayoutEffect(function(){var a,c=!0;e!=null&&e.length?a=b("MessengerParticipantsImages.re").getOrderedBigImageMulti(b("filterNulls")(e),function(a){if(!c)return;a=f?a.concat(f):a;j(b("filterNulls")(a))}):j([]);return function(){c=!1,a&&a.remove()}},[e,f]);if(b("gkx")("1425119")){if(b("cr:1425118")!=null&&i.length>1)return h.jsx(b("cr:1425118"),{participantImages:i,size:a});if(i.length>0)return h.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.05)"},children:h.jsx(b("SplitImage.react"),{border:!0,className:c||"",halfView:d,srcs:i,size:Number(a)},e?e.join("-"):"")})}return i.length>0?h.jsx(b("SplitImage.react"),{border:!0,className:c||"",halfView:d,srcs:i,size:Number(a)},e?e.join("-"):""):null}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx(i,babelHelpers["extends"]({},this.props))};return b}(h.Component);e.exports=a}),null);
__d("MercuryThreadImage.react",["cssVar","cx","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","Pixelz.react","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=i.useMemo;function a(a){var c,d=a.thread,e=a.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,f=(c=d.square_image_src)!=null?c:d.image_src,g=b("MercuryIDs").isCanonical(d.thread_id),h=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);c=j(function(){var a=[];d.participants&&(d.participants.length===1&&d.participants[0]===h?a=[].concat(d.participants):(a=d.participants.filter(function(a){return a!==h}),g||(a=a.slice(0,3))));return a},[d.participants,h,g]);var k=j(function(){return f!=null&&f!==""&&a.useBackground===!0?i.jsx("div",{style:{height:e,backgroundImage:"url("+f+")",backgroundColor:b("gkx")("1425119")?"rgba(0, 0, 0, 0.05)":void 0,backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:e}}):i.jsx(b("Pixelz.react"),{alt:"",height:e,resizeMode:"cover",src:f,width:e})},[f,a.useBackground,e]);if(f!=null&&f!=="")return k;if(d.thread_type===3){k={};k.height=e+"px";k.width=e+"px";d.solid_color!=null&&d.solid_color!==""&&(k.background=d.solid_color);return i.jsx("span",{className:"_asv _asw",style:k,children:d.name[0]})}return i.jsx(b("MercuryParticipantsImage.react"),{className:a.className,halfView:a.halfView,participants:c,size:e})}e.exports=a}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_curry","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_caml_option").valFromOption(a)===b("bs_caml_option").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","MercuryIDs","OptionType.bs","bs_caml_option","ReasonReact.bs","WorkForeignEntityInfo.bs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a,c){var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null)return!1;if(!a)return!1;if(e===0)return!1;a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}function a(a){var c=a.className,d=a.isPresenceForWork,e=a.isDoNotDisturb,f=a.useRectBorder,g=a.showBadge,j=a.size,k=a.participants,l=a.thread;a=a.viewer;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;var m=!b("WorkForeignEntityInfo.bs").areAllCoworkers(k);e=m?void 0:e?b("bs_caml_option").some(h.jsx("div",{className:"_466z"})):d?b("bs_caml_option").some(h.jsx("div",{className:"_4670"})):void 0;d={useRectBorder:f,isMessengerUser:i(l,k),isMultiCompany:m,showBadge:g&&b("MercuryIDs").isCanonical(l.thread_id)||m,children:b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(j,l,!0,a,[]))};e!==void 0&&(d.customBadge=b("bs_caml_option").valFromOption(e));f=b("bs_caml_option").nullable_to_opt(l.solid_color);f!==void 0&&(d.threadColor=b("bs_caml_option").valFromOption(f));k=b("bs_caml_option").nullable_to_opt(l.thread_type);k!==void 0&&(d.threadType=b("bs_caml_option").valFromOption(k));j!==void 0&&(d.size=b("bs_caml_option").valFromOption(j));g={children:h.createElement(b("MessengerProfileImageWrapperReact.bs").make,d)};c!==void 0&&(g.className=b("bs_caml_option").valFromOption(c));return h.jsx("div",g)}var j=h.memo(a,function(a,c){if(a.className===c.className&&a.showBadge===c.showBadge&&b("OptionType.bs").equalsReference(a.size,c.size)&&i(a.thread,a.participants)===i(c.thread,c.participants)&&b("WorkForeignEntityInfo.bs").areAllCoworkers(a.participants)===b("WorkForeignEntityInfo.bs").areAllCoworkers(c.participants)&&a.isPresenceForWork===c.isPresenceForWork&&a.isDoNotDisturb===c.isDoNotDisturb&&a.useRectBorder===c.useRectBorder&&a.thread===c.thread)return a.viewer===c.viewer;else return!1});function c(a){var c={participants:a.participants,thread:a.thread,viewer:a.viewer};a.className!==void 0&&(c.className=b("bs_caml_option").valFromOption(a.className));a.isPresenceForWork!==void 0&&(c.isPresenceForWork=b("bs_caml_option").valFromOption(a.isPresenceForWork));a.isDoNotDisturb!==void 0&&(c.isDoNotDisturb=b("bs_caml_option").valFromOption(a.isDoNotDisturb));a.useRectBorder!==void 0&&(c.useRectBorder=b("bs_caml_option").valFromOption(a.useRectBorder));a.showBadge!==void 0&&(c.showBadge=b("bs_caml_option").valFromOption(a.showBadge));a.size!==void 0&&(c.size=b("bs_caml_option").valFromOption(a.size));return h.createElement(j,c)}f.getIsMessengerUser=i;f.make=j;f.jsComponent=c}),null);
__d("VideoCallWebDriverIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCEPT_ESCALATION_CALL_BUTTON:"acceptEscalationButton",ADD_GROUP_MEMBERS_BUTTON:"addGroupMembersButton",VIEW_CALL_MEMBERS_BUTTON:"viewCallMembersButton",ANSWER_CALL_BUTTON:"answerCallButton",DOMINANT_SPEAKER_SWITCH_BUTTON:"dominantSpeakerSwitchButton",END_CALL_BUTTON:"endCallButton",ESCALATE_CALL_BUTTON:"escalateCallButton",FULL_SCREEN_BUTTON:"fullScreenButton",GRID_SWITCH_BUTTON:"gridSwitchButton",COWATCH_BUTTON:"cowatchButton",COWATCH_END_SESSION_BUTTON:"cowatchEndSessionButton",COWATCH_SIDE_PANEL:"cowatchSidePanel",COWATCH_SIDE_PANEL_TABS:"cowatchSidePanelTabs",COWATCH_SIDE_PANEL_TABS_SUGGESTED:"cowatchSidePanelTabsSuggested",COWATCH_SIDE_PANEL_TABS_TV_AND_MOVIES:"cowatchSidePanelTabsTvAndMovies",COWATCH_SIDE_PANEL_TABS_WATCHED:"cowatchSidePanelTabsWatched",COWATCH_SIDE_PANEL_SEARCH_UI:"cowatchSidePanelSearchUI",COWATCH_SIDE_PANEL_VIDEO_THUMBNAIL:"cowatchSidePanelVideoThumbnail",COWATCH_SIDE_PANEL_GRID_ITEM:"cowatchSidePanelGridItem",COWATCH_ROOT_CONTAINER:"cowatchRootContainer",COWATCH_VIDEO_PLAYER:"cowatchVideoPlayer",COWATCH_COMPOSER_DIALOG_CANCEL_BUTTON:"cowatchComposerDialogCancelButton",COWATCH_CHICLET_VIDEO:"cowatchChicletVideo",COWATCH_CHICLET_FALLBACK_IMAGE:"cowatchChicletFallbackImage",COWATCH_VIDEO_ACTION_BAR_VISIBLE:"cowatchVideoActionBarVisible",COWATCH_VIDEO_ACTION_BAR_HIDDEN:"cowatchVideoActionBarHidden",COWATCH_VIDEO_DESCRIPTION:"cowatchVideoDescription",COWATCH_ROOT_CONTAINER_CONTENT:"cowatchRootContainerContent",COWATCH_VIDEO_PRIMARY_TEXT:"cowatchVideoPrimaryText",COWATCH_VIDEO_SECONDARY_TEXT:"cowatchVideoSecondaryText",COWATCH_VIDEO_COUNTDOWN_TIMER:"cowatchVideoCountdownTimer",COWATCH_VIDEO_DEFAULT_CONTROLS:"cowatchVideoDefaultControls",COWATCH_COUNTDOWN_PROGRSES_RING:"cowatchCountdownProgressRing",COWATCH_COUNTDOWN_TIMER_SECONDS:"cowatchCountdownTimerSeconds",GRID_VIEW_UNIT:"gridViewUnit",IGNORE_CALL_BUTTON:"ignoreCallButton",INCALL_VIDEO_CONTAINER:"incallVideoContainer",REDIAL_BUTTON:"rediallButton",REJECT_CALL_BUTTON:"rejectCallButton",REMOTE_VIEW_THUMBNAIL:"remoteViewThumbnail",RTC_APP_VIEW_START_CALL_BUTTON:"RTCAppViewStartCallButton",RTC_INCALL_VIDEO:"RTCIncallVideo",RTC_PICKER_DIALOG_CALL_BUTTON:"RTCPickerDialogCallButton",RTC_PICKER_DIALOG_CANCEL_BUTTON:"RTCPickerDialogCancelButton",RTC_PICKER_DIALOG_CONTACT_LIST_ITEM:"RTCPickerDialogContactListItem",RTC_PICKER_DIALOG_RING_BUTTON:"RTCPickerDialogRingButton",STAR_RATING_VIEW:"starRatingView",STAR_RATING_NOT_NOW_BUTTON:"starRatingNotNowButton",START_VIDEO_CALL:"startVideoCall",START_VOICE_CALL:"startVoiceCall",TOGGLE_AUDIO_BUTTON:"toggleAudioButton",TOGGLE_VIDEO_BUTTON:"toggleVideoButton",TOGGLE_CHAT_BUTTON:"toggleChatButton",TOGGLE_CAMERA_BUTTON:"toggleCameraButton",CLOSE_CHAT_BUTTON:"closeChatButton",SETTINGS_BUTTON:"settingsButton",SAVE_SETTINGS_BUTTON:"saveSettingsButton",CLOSE_CALL_WINDOW_BUTTON:"closeCallWindowButton",CHAT_TAB_VIDEO_BUTTON:"chatTabVideoButton",CHAT_TAB_VOICE_BUTTON:"chatTabVoiceButton",PROFILE_DROPDOWN_MENU:"profileDropdownMenu",RTC_CALL_ACTION_LINK:"RTCCallActionLink",STAR_RATING_SUBMIT_BUTTON:"submitStarRatingButton",DECLINE_ESCALATION_CALL_BUTTON:"declineEscalationButton",VIDEO_LAYOUT_SWITCH_BUTTON:"videoLayoutSwitchButton",HEADER_VIEW:"headerView",POPOUT_SCREEN_CONTENT:"popoutScreenContent",CREATE_VIDEO_CHAT_LINK_BUTTON:"createVideoChatLinkButton",CALL_TIMER:"callTimer",CALL_CONTROLS:"CallControls",FOOTER_VIEW:"footerView",CONTENT_VIEW:"contentView",CHAT_PANEL:"chatPanel",POPOVER_MENU_BUTTON:"show-menu-button",VIDEO_CALL_PEER_TAG:"video-call-peerTag",UPGRADE_BROWSER:"upgrade-browser",ROOMS_CHROME_EXTENSION_UPSELL_BUTTON:"rooms-chrome-extension-upsell-button",SELF_VIEW_ROOT:"SelfView",RTC_SELF_VIEW:"RTCSelfView",SELF_VIEW_CAMERA_VIDEO:"SelfViewCameraVideo",SELF_VIEW_SCREEN_TILE:"SelfViewScreenTile",SELF_VIEW_SCREEN_VIDEO:"SelfViewScreenVideo",SELF_VIEW_SCREEN_BUTTON:"SelfViewScreenButton",SELF_VIEW_DARKEN_OVERLAY:"SelfViewDarkenOverlay",ADD_PARTICIPANTS_DIALOG_CANCEL_BUTTON:"AddParticipantsDialogCancelButton",ADD_PARTICIPANTS_DIALOG_RING_BUTTON:"AddParticipantsDialogRingButton",VIEW_PARTICIPANTS_DIALOG_CLOSE_BUTTON:"ViewParticipantsDialogCloseButton",VIEW_PARTICIPANTS_DIALOG_PEOPLE_TAB_BUTTON:"view_participants_dialog_people_tab_button",VIEW_PARTICIPANTS_DIALOG_SETTINGS_TAB_BUTTON:"view_participants_dialog_settings_tab_button",VIEW_PARTICIPANTS_DIALOG_SETTINGS_END_CALL_BUTTON:"view_participants_dialog_settings_end_call_button",REMOVE_GUEST_DIALOG_CANCEL_BUTTON:"RemoveGuestDialogCancelButton",REMOVE_GUEST_DIALOG_CANCEL_HEADER_BUTTON:"RemoveGuestDialogCancelHeaderButton",REMOVE_GUEST_DIALOG_CANCEL_FOOTER_BUTTON:"RemoveGuestDialogCancelFooterButton",REMOVE_GUEST_DIALOG_CONFIRM_BUTTON:"RemoveGuestDialogConfirmButton",REMOVE_GUEST_DIALOG_ONE_GUEST_LINK:"RemoveGuestDialogOneGuestLink",REMOVE_GUEST_DIALOG_ALL_GUESTS_LINK:"RemoveGuestDialogAllGuestsLink",TRANSITION_ESCALATIONS_DIALOG_CANCEL_BUTTON:"TransitionsEscalationsDialogCancelButton",TRANSITION_ESCALATIONS_DIALOG_CONFIRM_BUTTON:"TransitionsEscalationsDialogConfirmButton",TRANSITION_ESCALATIONS_DIALOG_X_BUTTON:"TransitionsEscalationsDialogXButton",BLOCK_CALLS_PERMANENT:"BlockCallsPermanent",BLOCK_CALLS_ONE_HOUR:"BlockCallsOneHour",BLOCK_CALLS_EIGHT_AM:"BlockCallsEightAm",BLOCK_CALLS_BUTTON:"BlockCallsButton",MEETUP_LINK_LOCK_UNLOCK:"meetup_lock_unlock",LOCK_ROOM_DIALOG_CLOSE_BUTTON:"lock_room_dialog_close_button",LOCK_ROOM_DIALOG_CANCEL_BUTTON:"lock_room_dialog_cancel_button",LOCK_ROOM_DIALOG_CONFIRM_BUTTON:"lock_room_dialog_confirm_button",LEAVE_ROOM_DIALOG_CANCEL_BUTTON:"leave_room_dialog_cancel_button",LEAVE_ROOM_DIALOG_CONFIRM_BUTTON:"leave_room_dialog_confirm_button",LOCK_SCREEN_SHARING_CLOSE_BUTTON:"lock_screen_sharing_close_button",LOCK_SCREEN_SHARING_CANCEL_BUTTON:"lock_screen_sharing_cancel_button",LOCK_SCREEN_SHARING_CONFIRM_BUTTON:"lock_screen_sharing_confirm_button",STATS_OVERLAY_ELEMENT:"stats_overlay_element",AUDIO_STATS_OVERLAY_ELEMENT:"audio_stats_overlay_element",VIDEO_OUTGOING_BITRATE:"video_outgoing_bitrate",AUDIO_OUTGOING_BITRATE:"audio_outgoing_bitrate",VIDEO_INCOMING_BITRATE:"video_incoming_bitrate",AUDIO_INCOMING_BITRATE:"audio_incoming_bitrate",AUDIO_INCOMING_PACKETS:"audio_incoming_packets",VIDEO_INCOMING_PACKETS:"video_incoming_packets",AUDIO_INCOMING_LEVEL:"audio_incoming_level",ACCEPT_JOIN_REQUEST_BUTTON:"ACCEPT_JOIN_REQUEST_BUTTON",DECLINE_JOIN_REQUEST_BUTTON:"DECLINE_JOIN_REQUEST_BUTTON",MOBILE_CONFIRM_DIALOG_OK:"mobile_confirm_dialog_ok",WHITEBOARD_START_DIALOG_CLOSE_BUTTON:"whiteboard_start_dialog_close_button",WHITEBOARD_START_DIALOG_CANCEL_BUTTON:"whiteboard_start_dialog_cancel_button",WHITEBOARD_START_DIALOG_START_BUTTON:"whiteboard_start_dialog_start_button"});e.exports=a}),null);
__d("WorkUserEmojiWithTooltipBootloader.react",["JSResource","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResource")("WorkUserEmojiWithTooltip.react").__setRef("WorkUserEmojiWithTooltipBootloader.react")),j=b("lazyLoadComponent")(b("JSResource")("ChatLSGeminiUserEmojiWithTooltip.react").__setRef("WorkUserEmojiWithTooltipBootloader.react"));function a(a){return h.jsx(h.Suspense,{fallback:null,children:b("gkx")("1630108")?h.jsx(j,babelHelpers["extends"]({},a)):h.jsx(i,babelHelpers["extends"]({},a))})}}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_curry","React","Utils.bs","gkx","bs_caml_obj","Link.react","MercuryIDs","Badge.react","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","TooltipData","joinClasses","MessengerState.bs","PresenceStatus","ImageBlock.react","MercuryTimestamp","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MercuryThreadTimestampReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerTextWithEntities.react","MessengerGraphQLTypeaheadAdapter","MercuryIgnoredBlockedParticipants.bs","WorkUserEmojiWithTooltipBootloader.react","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a).contains(c);else return!1}function l(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD||d.type===b("MercuryParticipantTypes").MESSAGE,h=d.photo,i,k,l;c!==void 0?f==null||!g?i=1:(k=b("bs_caml_option").valFromOption(c),l=f,i=2):e==null||f==null||!g?i=1:(k=e,l=f,i=2);switch(i){case 1:if(h==null)return j.jsx("div",{className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":"")});c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);g={className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":"")+" _5rmm",size:32,src:h,isMultiCompany:c};e=b("bs_caml_option").nullable_to_opt(d.isMessengerUser);e!==void 0&&(g.isMessengerUser=b("bs_caml_option").valFromOption(e));return j.createElement(b("MessengerContactImageReact.bs").make,g);case 2:return j.jsx(b("MessengerThreadImageReact.bs").make,{className:"_5l39"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _85_s":""),size:32,participants:l,thread:k,viewer:a})}}function m(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return j.jsx(b("Badge.react"),{size:"medium",type:"bot"});else return null}function n(a){a=a.isVerified;a=a==null?!1:a;if(a)return j.jsx(b("Badge.react"),{size:"medium",type:"verified"});else return null}function o(a,b){var c=[],d={contents:0};b.forEach(function(b){var e=b.offset;b=b.offset+b.length|0;if(d.contents<e){var f=a.substring(d.contents,e);c.push(f)}f=j.jsx("span",{children:a.substring(e,b),className:"_7u0a"});c.push(f);d.contents=b});b=a.substring(d.contents,a.length);c.push(b);return c}function p(a){var c=b("CurrentUser").isWorkUser(),d=b("gkx")("1222861"),e=b("MercuryIDs").isValid(a.uid),f=a.type;if(c&&d)if(e)if(f==null||f!==b("MercuryParticipantTypes").USER)c=void 0;else try{c=b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.uid))}catch(a){c=void 0}else c=f==null||f!==b("MercuryParticipantTypes").USER?void 0:b("FBID.bs").ofString(a.uid);else c=void 0;if(c!==void 0)return j.createElement(b("WorkUserEmojiWithTooltipBootloader.react"),{userID:b("bs_caml_option").valFromOption(c),withSpace:!0});else return null}function q(a,c){return j.jsxs("div",{children:[j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.title}),p(a),m(a),n(a)],className:(c?"":"_3q34")+(c?" _9d22":"")})}function r(a,c){var d=a.subtitle;if(!(d==null)&&d!==""){var e=b("MessengerGraphQLTypeaheadAdapter").getValidatedMatchesRanges(a.matchRanges,d);d=o(d,e);e=b("bs_caml_obj").caml_equal(a.type,b("MercuryParticipantTypes").MESSAGE);var f=a.timestamp;if(e&&!(f==null)){e=f;return j.jsxs("div",{children:[q(a,c),j.jsxs("div",{children:[j.jsx("span",{children:d,className:"_3q35 _7s4c"}),j.jsx("span",{children:"\xb7",className:"_7s4d"}),j.createElement(b("MercuryThreadTimestampReact.bs").make,{time:e,title:b("MercuryTimestamp").getAbsoluteTimestamp(e),text:b("MercuryTimestamp").getRelativeTimestamp(e),className:"_7s4e"})],className:"_5l-3"})]})}f=2;if(f===2)return j.jsxs("div",{children:[q(a,c),j.jsx("div",{children:d,className:(c?"":"_3q35")+(c?" _9d23":"")})]})}e={className:"_5ywd"};f=b("bs_caml_option").nullable_to_opt(a.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return j.jsxs("div",{children:[a.title,j.createElement(b("MessengerLocalTimeReact.bs").make,e),p(a),m(a),n(a)],className:(c?"":"_8slc")+(c?" _8sld":"")})}function s(a,c,d,e){if(!b("gkx")("818495"))return r(a,c);var f={contents:!1},g=b("FBID.bs").ofString(a.uid);if(g!==void 0&&e!==void 0){var h=b("bs_caml_option").valFromOption(e);b("MessengerState.bs").compute(d,function(a){f.contents=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(d,a.blocked_ids,h)})}if(f.contents)return j.jsxs("div",{children:[q(a,c),j.jsx("div",{children:i._("Blocked"),className:(c?"":"_3q35")+(c?" _9d23":"")})]});else return r(a,c)}function t(a){var c=a.subtitle;if(!(c==null)&&c!=="")return j.jsxs("div",{children:[c,j.jsx("span",{children:j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.title.substring(c.length+3|0,a.title.length)}),className:"_7l-p"})],className:"_364g"});c={className:"_5ywd"};var d=b("bs_caml_option").nullable_to_opt(a.timezone);d!==void 0&&(c.participantTimeZone=b("bs_caml_option").valFromOption(d));return j.jsxs("div",{children:[a.title.substring(3,a.title.length),j.createElement(b("MessengerLocalTimeReact.bs").make,c)],className:"_364g _7l-p"})}function u(a,c){var d=c.type;if(a===void 0)return!1;if(!a)return!1;if(d==null)return!1;if(!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))return!1;a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}function v(a){return j.jsx("span",{children:i._("Added"),className:"_5rh4"+(a?" _9aea":"")})}var w=j.jsx("span",{children:i._("Invited"),className:"_5rh4"}),x=j.jsx(b("Image.react"),{className:"_1kqm",src:h("86852")});function y(a,c){c.state.thisRef.contents=a==null?void 0:b("bs_caml_option").some(a)}function z(a){a=a.state;var c=a.isHighlighted,d=a.onScrollIntoView,e=a.thisRef.contents;if(c===void 0)return;if(!c)return;if(d===void 0)return;if(e===void 0)return;c=b("bs_caml_option").valFromOption(e);b("bs_curry")._1(d,c);e=a.onRenderHighlight;if(e!==void 0)return b("bs_curry")._1(e,c)}function A(a){var c=a.newSelf,d=c.state.isHighlighted;a=a.oldSelf.state.onScrollIntoView;var e=c.state.thisRef.contents;if(d===void 0)return;if(!d)return;if(a===void 0)return;if(e===void 0)return;d=b("bs_caml_option").valFromOption(e);b("bs_curry")._1(a,d);e=c.state.onRenderHighlight;if(e!==void 0)return b("bs_curry")._1(e,d)}function a(a){var c=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),d=function(a,d,e,f,g,h,m,n,o,p,q,r,B,C,D,E,F,G,H,I,J,K,L,M){var N=E!==void 0?E:"",O=function(a){if(h!==void 0)return;else{a.stopPropagation();a.preventDefault();return}},P=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return f(d,c);else return;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return},Q=function(a){a=p===!0;if(a&&e!==void 0)return b("bs_curry")._1(e,d)},R=function(a){a.stopPropagation();return P(b("MessengerContactActions.bs").actions.SELECT,a)},S=function(a){var c=a.send;a=a.state;if(F!==void 0){var d=b("bs_caml_option").valFromOption(F).get(a.contact.uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(k(D,a.contact.uid))return v(L);if(k(q,a.contact.uid))return w;if(k(G,a.contact.uid))return x;if(d[1])return d[0];if(u(H,a.contact))return j.jsx("div",{className:"_jg2"});d=b("bs_js_null_undefined").fromOption(m);var e=a.contact.thread;e=I!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_caml_option").valFromOption(I)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a.contact.thread,g,l=0,n;I!==void 0?(n=b("bs_caml_option").valFromOption(I),l=1):f==null?g=!1:(n=f,l=1);if(l===1){f=b("MercuryIDs").isValid(a.contact.uid);l=f?b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.contact.uid)):b("FBID.bs").ofString(a.contact.uid);f=l!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_caml_option").valFromOption(l)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,n)}l=g?j.jsx("span",{children:i._("Admin"),className:"_5qsj"}):null;if(h!==void 0)return j.jsxs("div",{children:[l,j.createElement(b("bs_caml_option").valFromOption(h),{className:"_rwo",admins:d,contact:a.contact,extrasEnabled:o,isAdminRequired:e,isOpen:a.isActionsOpen,onAction:P,onToggle:function(a){return b("bs_curry")._1(c,{_0:a})},viewer:K})]});else return l};return{debugName:c.debugName,reactClassInternal:c.reactClassInternal,handedOffState:c.handedOffState,getDerivedStateFromProps:function(c){if(d===c.rawContact)return c;else return{contact:b("bs_curry")._1(a,d),isActionsOpen:c.isActionsOpen,thisRef:c.thisRef,rawContact:d,isHighlighted:c.isHighlighted,onScrollIntoView:c.onScrollIntoView,onRenderHighlight:c.onRenderHighlight}},didMount:z,didUpdate:A,willUnmount:c.willUnmount,shouldUpdate:c.shouldUpdate,render:function(a){var c=a.state,d=b("joinClasses")(N,"_5l37"+(b("Utils.bs").optionBoolToBool(r)?" _1k1p":"")+(c.isActionsOpen?" _rwn":"")),e=J!==void 0?b("TooltipData").propsFor(J,"left"):{},f=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM,g=c.contact.type===b("MercuryParticipantTypes").ASSISTANT_TYPEAHEAD;g=g?t(c.contact):s(c.contact,L,K,I);g=j.createElement(b("Link.react"),{onClick:R,onMouseDown:O,onMouseEnter:Q,tabIndex:0,children:j.jsxs(b("ImageBlock.react"),{contentClassName:"_5l38",spacing:"medium",children:[l(K,I,c.contact),g,S(a)]})});g=j.cloneElement(g,{"data-testid":f+c.contact.uid});if(n===!0)return j.jsx("li",{children:g,ref:b("bs_curry")._1(a.handle,y),className:d});else return j.cloneElement(j.jsx("li",{children:g,ref:b("bs_curry")._1(a.handle,y),"aria-selected":!1,className:d,role:"option"}),e)},initialState:function(c){return{contact:b("bs_curry")._1(a,d),isActionsOpen:!1,thisRef:{contents:void 0},rawContact:d,isHighlighted:r,onScrollIntoView:C,onRenderHighlight:B}},retainedProps:c.retainedProps,reducer:function(a,b){return{TAG:0,_0:{contact:b.contact,isActionsOpen:a._0,thisRef:b.thisRef,rawContact:b.rawContact,isHighlighted:b.isHighlighted,onScrollIntoView:b.onScrollIntoView,onRenderHighlight:b.onRenderHighlight}}},jsElementWrapped:c.jsElementWrapped}};a=b("ReasonReact.bs").wrapReasonForJs(c,function(a){var c;return d(a.contactAdapter,a.rawContact,(c=b("bs_caml_option")).nullable_to_opt(a.onHighlight),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.onAction),c.nullable_to_opt(a.actionsClass),c.nullable_to_opt(a.admins),c.nullable_to_opt(a.disableRole),a.extraActionsEnabled,c.nullable_to_opt(a.hasHoverState),c.nullable_to_opt(a.invitedEntryIDs),c.nullable_to_opt(a.isHighlighted),c.nullable_to_opt(a.onRenderHighlight),c.nullable_to_opt(a.onScrollIntoView),c.nullable_to_opt(a.originalEntryIDs),c.nullable_to_opt(a.rowClassName),c.nullable_to_opt(a.rowElements),c.nullable_to_opt(a.selectedEntryIDs),c.nullable_to_opt(a.showPresence),c.nullable_to_opt(a.thread),c.nullable_to_opt(a.tooltipContent),a.viewer,a.useDarkTheme,[])});return[a,d]}c=32;d=3;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.assistantTypeaheadPrefixLength=d;f.idsContain=k;f.renderContactImage=l;f.renderBotBadge=m;f.renderVerifiedBadge=n;f.renderSnippet=o;f.renderMaybeEmojiStatus=p;f.renderContactTitle=q;f.renderRegularContact=r;f.renderContactText=s;f.renderAssistantTypeaheadText=t;f.getPresenceStatus=u;f.isOriginal=v;f.isInvited=w;f.isSelected=x;f.setThisRef=y;f.didMount=z;f.didUpdate=A;f.createMake=a}),null);
__d("MessengerSearchActions",["MessengerDispatcher","MessengerURISerializer","MessengerView","URI","goURI","keyMirror","qex"],(function(a,b,c,d,e,f){"use strict";f.changeQuery=a;f.changeQuerySeeAll=j;f.changeQueryAll=k;f.searchForMessagesInAThread=c;f.loadMoreResults=d;f.enterUniversalSearch=e;f.enterMessageSearch=l;f.enterSeeAllSearch=m;f.exitMessageSearch=n;f.exitSeeAllSearch=o;var g,h=b("keyMirror")({ENTER_UNIVERSAL_SEARCH:null,ENTER_MESSAGE_SEARCH:null,ENTER_SEE_ALL_SEARCH:null,EXIT_MESSAGE_SEARCH:null,EXIT_SEE_ALL_SEARCH:null,LOAD_MORE_RESULTS:null});f.Types=h;var i=b("qex")._("1097094")?b("MessengerView").MASTER.SEARCH_MESSAGES:b("MessengerView").MASTER.SEARCH;function a(a){q(function(b){return b.query!==a?{query:a}:null})}function j(a,c){q(function(d){if(d.queryAll!==a)switch(c){case"message":return{query:a,masterView:i};case"friend":case"non_friend":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_PEOPLE,seeAllType:c};case"page":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_PAGES,seeAllType:c};case"thread":return{query:a,masterView:b("MessengerView").MASTER.SEE_ALL_GROUPS,seeAllType:c}}return null})}function k(a){q(function(b){return b.queryAll!==a?{query:a,masterView:i}:null})}function c(a,b){var c={query:b,serverThreadID:a,activeThreadID:a,masterView:i};q(function(a){return c})}function d(){b("MessengerDispatcher").dispatch({type:h.LOAD_MORE_RESULTS})}function e(){b("MessengerDispatcher").dispatch({type:h.ENTER_UNIVERSAL_SEARCH}),q(function(a){return{masterView:b("MessengerView").MASTER.SEARCH}})}function l(){b("MessengerDispatcher").dispatch({type:h.ENTER_MESSAGE_SEARCH})}function m(){b("MessengerDispatcher").dispatch({type:h.ENTER_SEE_ALL_SEARCH})}function n(){k(""),b("MessengerDispatcher").dispatch({type:h.EXIT_MESSAGE_SEARCH})}function o(){j(null,null),b("MessengerDispatcher").dispatch({type:h.EXIT_SEE_ALL_SEARCH})}function p(a,b){return a.detailView==null}function q(a){var c=b("MessengerURISerializer").deserialize(new(g||(g=b("URI")))(window.location.href));a=a(c);var d=p(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}}),null);
__d("MessengerTypeaheadUtils",["ix","fbt","MessengerEnvironment","ReactDOM","SearchableEntry","asset","gkx","immutable","mapObject","qex"],(function(a,b,c,d,e,f,g,h){"use strict";f.sortEntries=a;f.sortEntriesWithoutPages=c;f.sortEntriesWithoutGroupsOrViewer=d;f.getEntryOrder=e;f.orderEntries=q;f.buildSingleSection=r;f.buildListSections=s;f.buildCustomSection=t;f.areSectionsEqual=u;f.scrollEntryIntoView=v;f.getMessageSearchEntry=w;f.isMessageSearchEntry=x;var i,j=b("immutable").OrderedMap,k=500,l=100,m="__special_search_entry__",n=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","non_friend","page","game"],o=["search","friend","fb4c","message","thread","meeting_room_page","internal_bot_page","page","non_friend","game"],p=(a={},a.search={header:""},a.friend={header:h._("Contacts")},a.fb4c={header:h._("Coworkers")},a.message={header:h._("Messages")},a.thread={header:h._("Group Conversations")},a.page={header:h._("Businesses")},a.meeting_room_page={header:h._("Meeting Rooms")},a.internal_bot_page={header:h._("Bots")},a.non_friend={header:h._("More People")},a.game={header:h._("Games")},a);function a(a,c){var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];a.forEach(function(a){switch(a.getType()){case"friend":e.push(a);break;case"fb4c":f.push(a);break;case"guest":g.push(a);break;case"message":h.push(a);break;case"thread":i.push(a);break;case"page":case"commerce_page":k.push(a);break;case"non_friend":j.push(a);break;case"meeting_room_page":l.push(a);break;case"internal_bot_page":m.push(a);break;case"search":d.push(a);break;case"game":n.push(a);break}});if(b("qex")._("882163")){c=b("qex")._("899030");a=c===2||c===3?k.slice(0,c):k;return d.concat(e,f,g,h,i,l,m,a,j,n)}return d.concat(e,f,g,h,i,l,m,j,k,n)}function c(a){var b=[],c=[],d=[],e=[];a.forEach(function(a){switch(a.getType()){case"friend":b.push(a);break;case"fb4c":c.push(a);break;case"thread":d.push(a);break;case"non_friend":e.push(a);break}});return b.concat(c,d,e)}function d(a,b){var c=[],d=[],e=[];a.forEach(function(a){if(a.getUniqueID()===b)return;switch(a.getType()){case"friend":c.push(a);break;case"fb4c":d.push(a);break;case"non_friend":e.push(a);break}});return c.concat(d,e)}function e(a,c){if(c==null)if(b("qex")._("882163"))return o;else return n;else return c}function q(a,b){var c=this,d=[];this.getEntryOrder(b).filter(function(a){return a!=="search"}).concat("search").forEach(function(b){return d.push.apply(d,a.filter(function(a){return c.areSectionsEqual(a.getType(),b)}))});return d}function r(a){return j([[[""],a]])}function s(a,c,d){if(!a.length)return j();d=this.getEntryOrder(c,d);var e=(i||(i=b("mapObject")))(p,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e.commerce_page=e.page;var f=b("qex")._("861958");c===""&&f===!0&&(e.friend.header=h._("Suggested"));a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return j(d.filter(function(a){return e[a].entries.length}).map(function(a){return[[e[a].header,a],e[a].entries]}))}function t(a,b){var c;return c={},c[a]=b,c}function u(a,b){return a==="commerce_page"?b==="commerce_page"||b==="page":a===b}function v(a,c){var d=b("ReactDOM").findDOMNode(c),e=c.getScrollTop(),f=a.offsetTop-e;d=d.offsetHeight-a.offsetHeight;a=Math.abs(d-f);f>=d&&a<=l?c.scrollToPosition(e+f-d,!0,{duration:k}):f<0&&a<=d+l&&c.scrollToPosition(e+f,!0,{duration:k})}function w(a){return b("gkx")("860320")||!b("MessengerEnvironment").messengerui||a.length<2?null:new(b("SearchableEntry"))({uniqueID:m,title:h._("Search Messages for \"{queryString}\"",[h._param("queryString",a)]),photo:g("465522"),type:"search"})}function x(a){return a.getUniqueID()===m}}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","Link.react","MercuryIDs","MessengerDotComAndInboxM4Check.bs","MessengerSearchActions","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","React","prop-types","gkx","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("MessengerContactListRowReact.bs").createMake();var i=a[0];a[1];var j=b("React"),k=b("gkx")("818495");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=c[0];c=c[1];var f=d.props.rowComponent||i;return j.jsxs("div",{className:"_29hk",children:[d.$5(e,c,(c=d.props.useDarkTheme)!=null?c:!1),j.jsx("ul",{id:d.props.controlleeID,role:d.props.disableRole?void 0:"listbox",className:"_29hl",children:a.map(function(a,c){c=c===0?b("joinClasses")(d.props.rowClassName,"_3h3c"):d.props.rowClassName;var e=a.id||a.getUniqueID(),g=d.props.thread;if(k&&e&&!g){var h=b("MercuryIDs").getThreadIDFromUserID(e);g=b("MessengerState.bs").getThreadMetaNow(d.props.viewer,h);g||b("MessengerState.bs").getThreadMeta(d.props.viewer,h,function(a){g=a})}return j.jsx(f,{actionsClass:d.props.actionsClass,admins:d.props.admins,contactAdapter:d.props.contactAdapter,disableRole:d.props.disableRole,extraActionsEnabled:!!d.props.extraActionsEnabled,hasHoverState:d.props.hasHoverState,invitedEntryIDs:d.props.invitedEntryIDs,isHighlighted:d.props.highlightedEntry&&d.props.highlightedEntry.getUniqueID()===a.getUniqueID(),onAction:d.props.onAction,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,onScrollIntoView:d.props.onScrollIntoView,onSelect:d.props.onSelect,originalEntryIDs:d.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:d.props.rowElements,selectedEntryIDs:d.props.selectedEntryIDs,showPresence:d.props.showPresence,thread:g,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,useDarkTheme:(h=d.props.useDarkTheme)!=null?h:!1,viewer:d.props.viewer},e)})})]},e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:this.props.className,children:[this.props.listSections.map(this.$1).toArray(),this.props.showLoadMore?this.$2():this.$3(),this.$4()]})};d.$5=function(a,c,d){var e=this;if(!a)return null;d=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl"+(d?" _8slb":""):"_225b"+(d?" _8slb":"");return this.props.showSeeAll?j.jsxs("div",{className:d,children:[a,j.jsx("a",{className:"_87n7",onMouseDown:function(a){e.props.onSeeAllSelect&&c!==null&&e.props.onSeeAllSelect(c,a)},children:h._("See All")})]}):j.jsx("div",{className:d,children:a})};d.$2=function(){return this.props.isLoading?this.$3():j.jsx("div",{className:"_8a02",children:j.jsx(b("Link.react"),{href:"#",onClick:b("MessengerSearchActions").loadMoreResults,tabIndex:-1,children:h._("Load More")})})};d.$3=function(){return!this.props.isLoading?null:j.jsxs(b("ImageBlock.react"),{className:"_225c"+(this.props.useDarkTheme?" _8tm0":""),spacing:"medium",children:[j.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),j.jsx("div",{className:"_4g0h"+(this.props.useDarkTheme?" _8tm1":""),children:h._("Searching...")})]})};d.$4=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)if(b("MessengerDotComAndInboxM4Check.bs").yes)return j.jsxs("div",{className:"_8b0j",children:[j.jsx("span",{className:"_8b0k",children:this.props.seeAllType?h._("No {seeAllType} Found",[h._param("seeAllType",this.props.seeAllType)]):h._("Nothing Found")}),j.jsx("span",{className:"_8b0l",children:h._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[h._param("query",this.props.queryString)])})]});else return j.jsx("div",{className:"_3xcx"+(this.props.useDarkTheme?" _8tm2":""),children:h._("No results found")})}return null};return c}(j.PureComponent);e.exports=c;c.propTypes={actionsClass:(d=b("prop-types")).func,admins:d.object,controlleeID:d.string,contactAdapter:d.func.isRequired,disableRole:d.bool,extraActionsEnabled:d.bool,hasHoverState:d.bool,highlightedEntry:d.object,invitedEntryIDs:d.instanceOf((f=b("immutable")).Set),isLoading:d.bool,listSections:d.instanceOf(f.OrderedMap).isRequired,onAction:d.func,onHighlight:d.func,onRenderHighlight:d.func,onScrollIntoView:d.func,onSeeAllSelect:d.func,onSelect:d.func,originalEntryIDs:d.instanceOf(f.Set),queryString:d.string,rowClassName:d.string,rowElements:d.instanceOf(f.Map),selectedEntryIDs:d.instanceOf(f.Set),showLoadMore:d.bool,showPresence:d.bool,thread:d.instanceOf(b("ImmutableObject")),useDarkTheme:d.bool,viewer:d.string.isRequired}}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";f.getNextHighlightedEntry=a;function a(a,c,d,e){var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()==="search"&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerSecondarySearchFunnelConstants","MessengerTypeaheadUtils","React","SearchableEntry","immutable","joinClasses","prop-types","qex","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=50;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}if(!d.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.$1,d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$3=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.$1})};d.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a=this.$1;if(!a)return null;var c=["search","friend","fb4c","message","thread","page","non_friend","meeting_room_page","internal_bot_page","game"];a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);c=!1;this.props.isTokenizer!==null&&(c=b("qex")._("1063079")&&!this.props.isTokenizer&&this.props.queryString.length>1);return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,showSeeAll:(a=c)!=null?a:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(c=this.props.useDarkTheme)!=null?c:!1})};d.$2=function(a){var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i);this.$5(a.queryString,f,a.localEntryIDs);return f};d.$4=function(a,b){var c=a.customResultFilterFn||function(){return!0};return a.serverResults.filter(function(a){return a&&!b[a.getUniqueID()]&&c(a)})};d.$5=function(a,c,d){this.props.isTokenizer?b("Bootloader").loadModules(["MessengerBootloadedSecondarySearchLogger","MessengerSearchLoggerUtil"],function(d,e){var f=c.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});d.logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:a,entries:f,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})},"MessengerTypeaheadResultView.react"):b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID(),c=b.split(":").pop();a={result_fbid:c,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(c)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};return c}(h.Component);e.exports=a;a.propTypes={controlleeID:(c=b("prop-types")).string.isRequired,canViewerSendMoneyFilter:c.bool,className:c.string.isRequired,localEntries:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:c.arrayOf(c.string.isRequired).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onMount:c.func.isRequired,onNextHighlighted:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSeeAllSelect:c.func,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,serverResults:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryPages:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,viewer:c.string.isRequired,forGroup:c.bool,rowComponent:c.func,customResultFilterFn:c.func,useDarkTheme:c.bool};a.defaultProps={controlleeID:"",className:"",customResultFilterFn:function(){return!0}}}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","prop-types","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.props.entries.toArray(),d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$1=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.props.entries.toArray()})};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a;return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})};return c}(h.Component);e.exports=a;a.propTypes={controlleeID:(c=b("prop-types")).string.isRequired,className:c.string.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onNextHighlighted:c.func.isRequired,onMount:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,viewer:c.string.isRequired,rowComponent:c.func,useDarkTheme:c.bool};a.defaultProps={controlleeID:"",className:""}}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MercuryMessagingLightswitch","MessengerBootloadedSecondarySearchLogger","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSecondarySearchFunnelConstants","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","React","createCancelableFunction","debounce","gkx","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.OMNIPICKER,k=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,l=8,m=10;a=100;var n=3,o=10,p=8,q=5;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!1,pages:!1},serverResults:[],highlightedEntry:null},d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$5=!0,d.$6=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),d.$7=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),d.$8=!1,d.$9=null,d.$10=0,d.$13=function(a,c,e,f,g,h){if(d.props.queryString.length<2)return;d.$5&&d.setState({serverResults:[]});c=d.state.localEntries.toArray().filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var i=[];e||i.push("groups");f||i.push("pages");d.props.enableMessageSearch&&i.push("messages");g===null?i.push("users"):i.push("rooms");h={userLimit:m,messageLimit:n,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:d.$12,canViewerSendMoneyFilter:h,localEntryIDs:c,threadFBID:g,shouldQueryInternalBot:d.props.shouldQueryInternalBot,shouldQueryVCEndpoint:d.props.shouldQueryVCEndpoint};c=b("CurrentUser").isWorkUser()&&b("gkx")("991794");!b("CurrentUser").isWorkUser()&&d.$9!==null?d.$9.fetchMSQEntries(a,d.props.isTokenizer?0:h.messageLimit,o,e?0:p,f?0:q,d.$29,d.$30):c&&d.$9!=null?d.$9.fetchWorkChatSingleQueryEntries(a,h,d.$29,d.$30):d.$9!==null&&d.$9.fetchEntries(a,i,h,d.$29,d.$30)},d.$29=function(a,b){if(d.$5){d.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:b==="singleServerQuery"?Object.assign({},c.queryCompleteStatus,{usersGroups:!0},{pages:!0}):Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}},d.$30=function(a,b){d.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})},d.$12=function(){return d.props.queryString},d.$20=function(a,b){d.$3=a,d.$4=b,d.$14()},d.$23=function(){d.$3=null,d.$4=null},d.$21=function(a){d.setState({highlightedEntry:a})},d.$22=function(a){d.state.highlightedEntry&&d.props.onSelect(d.state.highlightedEntry,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$10=l;this.$11();var c=this.props.isTokenizer?j:k;this.$9=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return a.$12()},c);this.$2=b("debounce")(this.$13,150,this,!0)};d.componentDidUpdate=function(a){this.props!==a&&(this.props.queryString!==a.queryString&&this.$14())};d.$14=function(){this.setState({highlightedEntry:null})};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;if(!a.queryString)this.setState({highlightedEntry:null}),this.$11();else if(a.queryString!==this.props.queryString){this.$8=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});var d=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$2&&this.$2(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,d===0?a.threadFBID:null,a.canViewerSendMoneyFilter);if(d===0){this.$15(a);return}if(this.props.canViewerSendMoneyFilter){this.$16(a);return}if(this.props.includeExistingParticipantIDs){this.$17(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);var f=c.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(e):null;f&&d.unshift(f);f=b("immutable").List(d).filter(function(a){if(c.props.excludeGroups&&a.getType()==="thread")return!1;return c.props.excludePages&&a.getType()==="page"?!1:!0});c.$18(f,e);c.$19(f,e);c.setState({localEntries:f})}})}};d.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.highlightedEntry!==this.state.highlightedEntry};d.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$2&&this.$2.reset(),this.$5=!1};d.render=function(){if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$6.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$7.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return i.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[i.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),i.jsx("div",{className:"_4g0h",children:h._("Searching...")})]});else return null;if(!this.props.queryString){var a;return i.jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})}a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);var c=this.props.queryString.length<2;return i.jsxs("div",{children:[this.state.queryCompleteStatus.usersGroups||c?this.$24():this.$25(),this.state.queryCompleteStatus.usersGroups&&!a?this.$26():null]})};d.$25=function(){var a=this.state.localEntries.slice(0,this.$10);return i.jsx(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$27(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$21,onMount:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1})};d.$26=function(){return i.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[i.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),i.jsx("div",{className:"_4g0h",children:h._("Searching...")})]})};d.$24=function(a){var c=this.$28(),d=this.state.localEntries.slice(0,this.$10);return i.jsx(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,isTokenizer:this.props.isTokenizer,localEntries:d.toArray(),onMount:this.$20,onNextHighlighted:this.$21,onScrollIntoView:this.props.onScrollIntoView,onSeeAllSelect:this.props.onSeeAllSelect,onSelect:this.props.onSelect,onSelectHighlighted:this.$22,onUnmount:this.$23,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(a=this.props.useDarkTheme)!=null?a:!1},c))};d.$27=function(a,b){var c=this;b=a.filter(function(a){return!c.props.selectedEntryIDs.contains(a.getUniqueID())});return b};d.onKeyDown=function(a,b){this.$3&&this.$3(a,b)};d.$15=function(a){var c=this;this.$6.search(a.threadFBID,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$31=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){c=c.slice(0,30);a.setState({localEntries:b("immutable").List(c)})});this.$6.onEntriesLoaded(this.props.threadFBID,function(b){a.$1&&a.$1(b),a.$1=null})};d.$17=function(a){var c=this;this.$7.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$32=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c.slice(0,50))})});this.$7.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(b){a.$1&&a.$1(b),a.$1=null})};d.$16=function(a){var c=this;b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(d,e){if(c.$5&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$33=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c)})});b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(b){a.$1&&a.$1(b),a.$1=null})};d.$11=function(){var a=this,c=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(c===0){this.$31();return}if(this.props.canViewerSendMoneyFilter){this.$33();return}if(this.props.includeExistingParticipantIDs){this.$32();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c,d,e){c=c.slice(0,50);a.props.excludeGroups||(c=c.concat(d));if(!e||!a.props.queryString){d=a.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(a.props.queryString):null;d&&c.unshift(d);a.props.queryString===""&&a.$34(c);a.setState({localEntries:b("immutable").List(c)})}});b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(b,c,d){a.$1&&a.$1(b,c,d),a.$1=null})};d.$28=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!=="search"}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===0;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!1,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,l=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,m=e,n=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:l,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:m,threadFBID:n,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup}};d.$19=function(a,c){var d=this;this.props.isTokenizer?b("Bootloader").loadModules(["MessengerSearchLoggerUtil"],function(e){if(d.props.queryString===c){var f=a.map(function(a){return{result_fbid:a.getUniqueID(),result_type:e.getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:"",loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,entries:f})}},"MessengerGraphQLTypeaheadView.react"):b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){if(d.props.queryString===c){var g=b("immutable").OrderedMap();a.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};g=g.set(c,a)});b("MercuryMessagingLightswitch").guard(function(){e.logImpressions(g,c)})}},"MessengerGraphQLTypeaheadView.react")};d.$34=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(c){b("MercuryMessagingLightswitch").guard(function(){c.logNullStateImpressions(a,a.length)})},"MessengerGraphQLTypeaheadView.react")};d.$18=function(a,c){var d=this;if(this.props.isTokenizer){var e;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(e=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,query:c,ids:a.map(function(a){return a.getUniqueID()}),source:e.SOURCES.LOCAL_CONTACTS,numResults:a.size,status:e.SOURCE_STATUSES.FINISHED,loggingID:e.LOGGING_IDS.M_APP_COMPOSER})}else b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerSearchLoggerUtil"],function(e,f){var g=a;if(d.props.queryString===c){var h=b("immutable").OrderedMap();g.forEach(function(a){var c=a.getUniqueID();a={result_fbid:c,result_type:f.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]};h=h.set(c,a)});b("MercuryMessagingLightswitch").guard(function(){e.logImpressions(h,c)})}},"MessengerGraphQLTypeaheadView.react")};return c}(i.Component);e.exports=c;c.propTypes={includeExistingParticipantIDs:(d=b("prop-types")).bool,canViewerSendMoneyFilter:d.bool,enableMessageSearch:d.bool.isRequired,excludeGroups:d.bool.isRequired,excludePages:d.bool.isRequired,forGroup:d.bool,isFocused:d.bool.isRequired,hasHoverState:d.bool.isRequired,maxEntries:d.number.isRequired,onScrollIntoView:d.func.isRequired,onSeeAllSelect:d.func,onSelect:d.func.isRequired,originalEntryIDs:d.instanceOf(b("immutable").Set).isRequired,queryString:d.string.isRequired,roomAssociatedObject:d.object,selectedEntryIDs:d.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:d.bool.isRequired,shouldQueryVCEndpoint:d.bool.isRequired,threadFBID:d.string,typeaheadViewClassName:d.string.isRequired,viewer:d.string.isRequired,rowComponent:d.func,customResultFilterFn:d.func,useDarkTheme:d.bool};c.defaultProps={maxEntries:a,typeaheadViewClassName:""}}),null);
__d("MessengerScrollableArea.react",["cx","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","gkx","joinClasses","setImmediate","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=20,j=b("gkx")("1094116");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=null;d.$5=function(){if(d.$1){var a;d.props.onScroll&&(a=d.props).onScroll.apply(a,arguments)}};d.$6=function(){if(!b("UserAgent").isBrowser("IE"))return;if(j)return;if(!d.refs||!d.$4.current)return;var a=d.$4.current.refs.wrap,c=d.$4.current.refs.body;if(!c||!a)return;c=b("ReactDOM").findDOMNode(c);a=b("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&b("Style").set(c,"margin-right",-a+"px")};d.$3=b("throttle")(d.$5,50);d.$4=h.createRef();return d}var d=c.prototype;d.componentDidMount=function(){this.$2=b("setImmediate")(this.$6),this.$1=!0};d.componentWillUnmount=function(){b("clearImmediate")(this.$2),this.$1=!1};d.render=function(){var a=this.props.needsFastScrollHandler?this.$5:this.$3;return h.jsx(b("ScrollableArea.react"),{className:b("joinClasses")("_5f0v",this.props.className),height:this.props.height,onClick:this.props.onClick,onScroll:a,persistent:!0,ref:this.$4,shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width,children:this.props.children})};d.getArea=function(){if(this.$4.current)return this.$4.current.getArea()};d.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};d.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};d.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};d.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};d.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-i};d.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=i};d.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};return c}(h.Component);e.exports=a}),null);
__d("ReactLayeredComponentMixin_DEPRECATED",["ExecutionEnvironment","React","ReactDOM","ReactFragment"],(function(a,b,c,d,e,f){"use strict";f.UNSAFE_componentWillMount=a;f.componentDidMount=c;f.componentDidUpdate=d;f.componentWillUnmount=e;f._renderLayersIntoContainer=h;var g=b("React");function a(){b("ExecutionEnvironment").canUseDOM&&(this._layersContainer=document.createElement("div"))}function c(){this._renderLayersIntoContainer()}function d(){this._renderLayersIntoContainer()}function e(){b("ReactDOM").unmountComponentAtNode(this._layersContainer)}function h(){var a=this.renderLayers();a&&!Array.isArray(a)&&!g.isValidElement(a)&&(a=b("ReactFragment").create(a));b("ReactDOM").unstable_renderSubtreeIntoContainer(this,g.jsx("div",{children:a}),this._layersContainer)}}),null);
__d("MessengerGraphQLSearchTypeahead.react",["ix","fbt","cx","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","JSResource","Keys","LazyComponent.react","MercuryIDs","MercuryMessagingLightswitch","MercuryThreadIDMap","MessengerContentSearchFunnelLoggerConstants","MessengerSearchActions","MessengerUniversalSearchFunnelLoggerConstants","gkx","immutable","MercuryVanityIDMap.bs","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","React","createReactClass_DEPRECATED","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","asset","clearImmediate","emptyFunction","joinClasses","qex","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MercuryThreadIDMap").get(),k=b("React"),l=30,m=100;c=b("createReactClass_DEPRECATED")({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:(a=b("prop-types")).bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,customResultFilterFn:a.func,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,isMessageSearchMode:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number,rowComponent:a.func,searchInputPortalRef:a.instanceOf(HTMLDivElement),useDarkTheme:a.bool},refs_scrollable:null,getInitialState:function(){return{gameID:null}},getDefaultProps:function(){var a;return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:a=b("emptyFunction"),onChange:a,onClear:a,onClick:a,onScrollIntoView:a,originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1,useDarkTheme:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){var a=this;if(!this.props.useLayer)return{};var c=null,d=null;this.props.context?c=this.props.context:d=function(){return a._input};return{typeaheadView:k.jsx(b("ContextualLayer.react"),{context:c,contextRef:d,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1,children:this._renderView()})}},render:function(){var a=this.props.useLayer?null:this._renderView();return k.jsxs("div",{className:(this.props.isTokenizer?"":"_1nq2")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vup":"")+(this.props.isTokenizer?" _3mkz":""),children:[k.jsxs("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.isMessageSearchMode?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null,children:[this._renderInput(),a]}),k.jsx(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:g("489953")}),k.jsx("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true",children:this.props.queryString||this.props.placeholder}),this._renderGame()]})},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this.props.isMessageSearchMode&&this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderInput:function(){var a=this,c=b("CurrentUser").isWorkUser()&&this.props.searchInputPortalRef!=null?this.props.searchInputPortalRef:null,d=b("CurrentUser").isWorkUser()&&this.props.isMessageSearchMode?k.jsx(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _8tx7",src:g("489953")}):null;d=k.jsxs(k.Fragment,{children:[k.jsx("label",{className:"_58ak",children:k.jsx("input",{autoComplete:"off",className:"_58al _7tpc"+(this.props.useDarkTheme?" _8tnl":""),onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:function(b){return a.props.onFocus()},onKeyDown:function(b){return a._handleKeyDown(b)},placeholder:this.props.placeholder,ref:function(b){return a._input=b},spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?h._("Search Workchat"):h._("Search Messenger")})}),d]});if(c!=null)return b("ReactDOM").createPortal(d,c);else return d},_renderGame:function(){return!this.state.gameID?null:k.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:k.jsx(b("MessengerSpinner.react"),{}),component:k.jsx(b("LazyComponent.react"),{initialContextType:"SOLO",initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:"messenger_search",sourceID:null})})},_renderView:function(){var a=this;if(!this.props.isFocused)return null;if(!this.props.queryString){var c=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(c)return null}c=this.props.isTokenizer?l:m;c=k.jsx(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup,isFocused:this.props.isFocused,isTokenizer:this.props.isTokenizer,hasHoverState:this.props.hasHoverState,maxEntries:c,onScrollIntoView:this._handleScrollIntoView,onSeeAllSelect:this._handleSeeAllSelect,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(b){return a._view=b},roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer,rowComponent:this.props.rowComponent,useDarkTheme:(c=this.props.useDarkTheme)!=null?c:!1});if(this.props.isTokenizer)return k.jsx(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:function(b){return a.refs_scrollable=b},width:this.props.width,children:c});else return c},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs_scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs_scrollable)},_getThreadID:function(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a),function(a){return c(a.thread_id)})},_handleSeeAllSelect:function(a,c){c&&c.preventDefault();if(b("qex")._("1097094")){c=this.props.queryString;a==="message"?(this._endSearchFunnelStartContentSearchFunnel(c,"search",!0),b("MessengerSearchActions").changeQueryAll(c),b("MessengerSearchActions").enterMessageSearch()):(b("MessengerSearchActions").changeQuerySeeAll(c,a),b("MessengerSearchActions").enterSeeAllSearch())}},_handleSelect:function(a,c){c&&c.preventDefault();c=this.props.queryString;var d=a.getType(),e=a.getUniqueID().split(":").pop(),f=a.getAuxiliaryData().alias;if(f){var g=b("MercuryIDs").getParticipantIDFromUserID(e);b("MercuryVanityIDMap.bs").set(f,g)}switch(d){case"game":this.setState({gameID:e});return;case"search":b("qex")._("1097094")&&b("MessengerSearchActions").enterMessageSearch();this._endSearchFunnelStartContentSearchFunnel(c,d);b("MessengerSearchActions").changeQueryAll(c);return;case"message":this._updateToThread(e,a);this._endSearchFunnelStartContentSearchFunnel(c,d);break;default:this._updateToThread(e,a)}b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",e)},_updateToThread:function(a,b){var c=this,d=function(a){return c.props.onSelect(a,b.getType(),b)};b.getType()==="thread"||b.getAuxiliaryData().messageResultType==="groupConversation"?j.getClientIDFromServerID(a,d):this._getThreadID(a,d)},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?this.props.isMessageSearchMode&&c===b("Keys").RETURN?this.props.queryString!==""&&b("MessengerSearchActions").changeQueryAll(this.props.queryString):this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=this,c=null,d=b("Event").listen(window,"blur",function(){d.remove(),b("clearImmediate")(c)});c=b("setImmediate")(function(){d.remove(),a.props.onBlur()})},_logClearContentSearch:function(){b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(a){return a&&a.endFunnel(b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")})},_endSearchFunnelStartContentSearchFunnel:function(a,c,d){var e=this;d===void 0&&(d=!1);!d&&c!=="search"?(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"",c,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.ENTER_INTEGRATED_MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.FIRST)},"MessengerGraphQLSearchTypeahead.react")):(!d&&c==="search"||d&&c==="message")&&(b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logResultSelected(e.state.query,e.props.threadFBID||"","message",b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.MESSAGE_SEARCH,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.SEE_ALL)},"MessengerGraphQLSearchTypeahead.react"));b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(d){return d.startFunnel(a,c==="search"?b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_ALL_THREADS:b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH)},"MessengerGraphQLSearchTypeahead.react")})}});d=c;e.exports=d}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.keyCode===b("Keys").BACKSPACE&&(a.preventDefault(),d.props.onRemove&&d.props.entry!=void 0&&d.props.onRemove(d.props.entry))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option","aria-selected":!1,tabIndex:this.props.index+i,children:h.jsx("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9",children:this.props.label})})};d.$1=function(a){a.stopPropagation()};return c}(h.Component);e.exports=a}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerBootloadedSecondarySearchLogger","MessengerGraphQLSearchTypeahead.react","MessengerSecondarySearchFunnelConstants","MessengerTokenizerToken.react","React","immutable","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!0,d.state={focused:d.props.autoFocus,queryString:""},d.focusInput=function(){d.refs.typeahead&&d.refs.typeahead.focusInput()},d.$4=function(){if(!d.$1)return;d.setState({focused:!1})},d.$8=function(){if(!d.$1)return;d.setState({focused:!0})},d.$5=function(a){if(d.state.queryString||d.props.entries.size===0)return;d.$10(d.props.entries.last());a.preventDefault();b("setImmediate")(d.focusInput)},d.$6=function(a){if(!d.$1)return;a.target instanceof HTMLInputElement||h(0,1185);a=a.target.value;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:a,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:a})},d.$7=function(){if(!d.$1)return;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:null,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:""});d.props.onClear&&d.props.onClear()},d.$9=function(a,c,e){if(!d.$1)return;a=d.props.entries;var f=e.getUniqueID();if(d.props.originalEntryIDs.contains(f))return;else if(a.some(function(a){return a.getUniqueID()===f})){d.$10(e);return}d.props.onAddEntryAttempt(e);b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:"",loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});d.setState({queryString:""})},d.$10=function(a){d.props.onRemoveEntryAttempt(a)},d.$3=function(a){d.focusInput()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this,c=this.props.entries.map(function(b,c){return a.$2(b,c)}),d=c.size>0?i.jsx("div",{role:"listbox",children:c}):null;c=c.size>0?"":this.props.placeholder;var e=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return i.jsxs("div",{children:[i.jsx("div",{className:b("joinClasses")(this.props.className,"_14-7"+(this.props.useDarkTheme?" _8tnm":"")),children:i.jsxs("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3,children:[d,i.jsx(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,customResultFilterFn:this.props.customResultFilterFn,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:e,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:c,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width,useDarkTheme:(d=this.props.useDarkTheme)!=null?d:!1})]})}),(this.state.queryString===""||!!this.props.alwaysShowDefaultEntriesOnBlur)&&!this.state.focused?this.props.defaultEntries:null]})};d.$2=function(a,c){return i.jsx(b("MessengerTokenizerToken.react"),{className:"_2ei6",label:a.getTitle(),entry:a,index:c,onRemove:this.$10},a.getUniqueID())};return c}(i.PureComponent);e.exports=a;a.propTypes={alwaysShowDefaultEntriesOnBlur:(c=b("prop-types")).bool,autoFocus:c.bool.isRequired,canViewerSendMoneyFilter:c.bool,includeExistingParticipantIDs:c.bool,className:c.string.isRequired,context:c.object,defaultEntries:c.element,enableMessageSearch:c.bool.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,forceHideClearButton:c.bool,hasHoverState:c.bool.isRequired,customResultFilterFn:c.func,onAddEntryAttempt:c.func.isRequired,onClear:c.func,onRemoveEntryAttempt:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,placeholder:c.node.isRequired,roomAssociatedObject:c.object,scrollableViewClassName:c.string.isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,tabIndex:c.number,threadFBID:c.string,useLayer:c.bool.isRequired,viewer:c.string.isRequired,width:c.number.isRequired,useDarkTheme:c.bool}}),null);
__d("MessengerTabIndices",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NEW_MESSAGE_TOKENIZER:9998,GROUP_NAME_INPUT:9999,COMPOSER_INPUT:1e4});e.exports=a}),null);
__d("MessengerComposeViewHeader.react",["cx","fbt","ImmutableObject","MessengerButtonReact.re","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTokenizer.react","MessengerTabIndices","React","clearImmediate","gkx","immutable","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=320;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tokenizerContext:null,excludeGroups:!1,excludePages:!1,forGroup:!1},d.$1=null,d.$2=function(){d.$1=b("setImmediate")(function(){d.refs.tokenizer&&d.refs.tokenizer.focusInput()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(),this.setState({tokenizerContext:this.refs.tokenizerContext})};d.componentDidUpdate=function(a){this.props.recipients!==a.recipients&&this.props.onResize()};d.UNSAFE_componentWillReceiveProps=function(a){a.recipients!==this.props.recipients&&(a.recipients.size===0?this.setState({excludeGroups:!1,excludePages:!1,forGroup:!1}):a.isWorkUser?this.setState({excludeGroups:!0,excludePages:!1,forGroup:!0}):this.setState({excludeGroups:!0,excludePages:!0,forGroup:!0}))};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.render=function(){var a={enableMessageSearch:!1,hasHoverState:!0,originalEntryIDs:b("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!1,width:j,customResultFilterFn:this.props.isWorkUser?function(a){return a.getAuxiliaryData().isWorkUser===!0&&a.getAuxiliaryData().isActiveAccount===!1?!1:!0}:function(){return!0}};return i.jsxs("div",{className:b("joinClasses")("_2y8y"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zw0":"")+" _5l-3",this.props.className),onClick:this.$2,role:"presentation",children:[i.jsx("div",{className:"_2y8z",ref:b("gkx")("678607")?"tokenizerContext":"",children:h._("To:")}),i.jsxs("div",{className:"_66s6",children:[i.jsx(b("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:!0,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.props.excludeGroups||this.state.excludeGroups,excludePages:this.props.excludePages||this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:h._("Type the name of a person or group"),ref:"tokenizer",tabIndex:this.props.tabIndex==null?b("MessengerTabIndices").NEW_MESSAGE_TOKENIZER:this.props.tabIndex,useLayer:!0,viewer:this.props.viewer},a)),b("gkx")("678607")?null:i.jsx("div",{ref:"tokenizerContext"})]}),this.$3()]})};d.$3=function(){return this.props.shouldShowCreateGroupButton?i.jsx(b("MessengerButtonReact.re").make,{className:"_6wh5",label:h._("Create New Chat"),dataTestID:"create_new_chat_button",onClick:this.props.onCreateGroupButtonClicked,role:"button",tabIndex:0,type:"primary"}):null};return c}(i.PureComponent);e.exports=a;a.propTypes={forceHideClearButton:(c=b("prop-types")).bool.isRequired,onAddRecipient:c.func.isRequired,onClear:c.func,onRemoveRecipient:c.func.isRequired,onResize:c.func.isRequired,recipients:c.instanceOf(b("immutable").List).isRequired,thread:c.instanceOf(b("ImmutableObject")),viewer:c.string.isRequired,isWorkUser:c.bool.isRequired,shouldShowCreateGroupButton:c.bool,onCreateGroupButtonClicked:c.func,excludePages:c.bool,excludeGroups:c.bool,tabIndex:c.number};a.defaultProps={shouldShowCreateGroupButton:!1,isWorkUser:!1,excludeGroups:!1,excludePages:!1}}),null);
__d("MessengerComposeViewHeaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerComposeViewHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l){return b("ReasonReact.bs").wrapJsForReason(b("MessengerComposeViewHeader.react"),{className:b("bs_js_null_undefined").fromOption(a),forceHideClearButton:c,onClear:b("bs_js_null_undefined").fromOption(d),onAddRecipient:e,onRemoveRecipient:f,onResize:g,recipients:h,viewer:i,isWorkUser:j,tabIndex:b("bs_js_null_undefined").fromOption(k)},l)}f.make=a}),null);
__d("MessengerDialogBodyReact.bs",["cx","React","bs_caml_option","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var c=a.className;a=a.children;c=c!==void 0?c:"";return h.jsx("div",{children:a,className:b("joinClasses")("_4eb-",c)})}function a(a){var c={children:a.children};a=b("bs_caml_option").nullable_to_opt(a.className);a!==void 0&&(c.className=b("bs_caml_option").valFromOption(a));return i(c)}c=i;f.make=c;f.jsComponent=a}),null);
__d("MessengerDialogReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a===void 0)return;switch(a){case 0:return"cancel";case 1:return"button";case 2:return"confirm"}}function h(a){if(a!==void 0)if(a)return"secondary";else return"primary"}function a(a,c,d,e,f,g,h,i,j,k,l){var m;return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialog.react"),{className:(m=b("bs_js_null_undefined")).fromOption(a),label:m.fromOption(c),onToggle:m.fromOption(d),repositionOnUpdate:m.fromOption(e),shown:m.fromOption(f),titleID:m.fromOption(g),type:m.fromOption(h),width:m.fromOption(i),removeDialogOnToggle:m.fromOption(j),causalElement:m.fromOption(k)},l)}a={make:a};var i={};function c(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogFooter.react"),{className:b("bs_js_null_undefined").fromOption(a),leftContent:b("bs_js_null_undefined").fromOption(c)},d)}c={make:c};var j={};function d(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogCancelButton.react"),{onClick:b("bs_js_null_undefined").fromOption(a)},c)}d={make:d};var k={};function e(a,c,d,e,f,i,j,k,l,m){var n;return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogButton.react"),{action:(n=b("bs_js_null_undefined")).fromOption(g(a)),label:n.fromOption(c),disabled:n.fromOption(d),use:n.fromOption(e),onClick:n.fromOption(f),type:n.fromOption(h(i)),className:n.fromOption(j),leftContent:n.fromOption(k),ariaLabel:n.fromOption(l)},m)}e={make:e};var l={},m={},n,o,p;f.stringOfButtonAction=g;f.stringOfButtonType=h;f.Dialog=a;f.Dialog2=i;f.Header=n;f.Title=o;f.Footer=c;f.Footer2=j;f.CancelButton=d;f.CancelButtonJsx3=k;f.Button=e;f.ButtonJsx3=l;f.Body=p;f.Body2=m}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/forward/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/share/",{})}),null);
__d("MessengerForwardAttachmentDialogReact.bs",["ix","cx","fbt","bs_curry","Image.bs","React","immutable","bs_caml_option","CurrentUser","fbglyph","ReasonReact.bs","AsyncRequest","MercuryLocalIDs","MessageShareType","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerSpinnerReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerComposeViewHeaderReact.bs","XMessengerPlatformShareCTAController","XMessagingForwardAttachmentController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("Send"),l=b("ReasonReact.bs").reducerComponent("MessengerForwardAttachmentDialogReact");function m(a,c,d){new(b("AsyncRequest"))(a.getURIBuilder().getURI()).setMethod("POST").setHandler(d).setData(c).send()}function n(a,c,d,e,f,h,n){var o=function(a){if(!a){b("MessengerDialogs.bs").removeDialog(void 0,void 0);return b("bs_curry")._1(c,void 0)}},p=function(c,e){var f=e.send;c=function(a){if(a.payload.success)return b("bs_curry")._1(f,2);else return b("bs_curry")._1(f,{TAG:2,_0:b("bs_caml_option").nullable_to_opt(a.payload.error)})};var g={};e.state.recipients.forEach(function(c,a,d){g[String(b("MercuryLocalIDs").generateOfflineThreadingID(void 0))]=c.getUniqueID();return!0});var i=0;h!==void 0&&d!==void 0&&b("bs_caml_option").valFromOption(h)===b("MessageShareType").PLATFORM_SHARE_CTA?m(b("XMessengerPlatformShareCTAController"),{cta_id:a,message_id:b("bs_caml_option").valFromOption(d),recipient_map:g},c):i=1;i===1&&m(b("XMessagingForwardAttachmentController"),{attachment_id:a,recipient_map:g},c);return b("bs_curry")._1(e.send,1)};return{debugName:l.debugName,reactClassInternal:l.reactClassInternal,handedOffState:l.handedOffState,getDerivedStateFromProps:l.getDerivedStateFromProps,didMount:l.didMount,didUpdate:l.didUpdate,willUnmount:l.willUnmount,shouldUpdate:l.shouldUpdate,render:function(a){var c=a.state,d=c.sending,h=c.sendError;if(d)d=j.jsxs("div",{children:[j.createElement(b("MessengerSpinnerReact.bs").make,{}),j.jsx("span",{children:i._("Sending"),className:"_1e1n _3-99"})]});else if(h!==void 0){var l=g("141787");d=j.jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,l,void 0,void 0,void 0,void 0,[])),j.jsx("span",{children:h,className:"_3-99"})],className:"_1e1n"})}else d=null;l=c.recipients.isEmpty()||c.sending;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,o,void 0,e,void 0,void 0,560,void 0,void 0,[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j.createElement(b("MessengerDialogTitleReact.bs").make,{children:f})}),j.createElement(b("MessengerDialogBodyReact.bs").make,{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerComposeViewHeaderReact.bs").make("_1e1o",!1,function(c){return b("bs_curry")._1(a.send,0)},function(c){return b("bs_curry")._1(a.send,{TAG:0,_0:c})},function(c){return b("bs_curry")._1(a.send,{TAG:1,_0:c})},function(a){},c.recipients,b("CurrentUser").getID(),b("CurrentUser").isWorkUser(),0,[]))}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,b("bs_caml_option").some(d),[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(2,k,l,void 0,b("bs_curry")._1(a.handle,p),0,void 0,void 0,l?i._("Disabled send button"):k,[]))]))]))},initialState:function(a){return{recipients:b("immutable").List([]),sendError:void 0,sending:!1}},retainedProps:l.retainedProps,reducer:function(a){if(typeof a==="number")switch(a){case 0:return function(a){return{TAG:0,_0:{recipients:b("immutable").List([]),sendError:a.sendError,sending:a.sending}}};case 1:return function(a){return{TAG:0,_0:{recipients:a.recipients,sendError:void 0,sending:!0}}};case 2:b("bs_curry")._1(c,void 0);return function(a){return{TAG:0,_0:{recipients:b("immutable").List([]),sendError:void 0,sending:!1}}}}else switch(a.TAG|0){case 0:var d=a._0;return function(a){return{TAG:0,_0:{recipients:a.recipients.push(d),sendError:a.sendError,sending:a.sending}}};case 1:var e=a._0;return function(a){return{TAG:0,_0:{recipients:a.recipients.filter(function(a){return a!==e}),sendError:a.sendError,sending:a.sending}}};case 2:var f=a._0;return function(a){return{TAG:0,_0:{recipients:a.recipients,sendError:f,sending:!1}}}}},jsElementWrapped:l.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return n(a.attachmentID,a.onClose,b("bs_caml_option").nullable_to_opt(a.messageID),a.shown,a.title,b("bs_caml_option").nullable_to_opt(a.shareType),[])});f.sendButtonLabel=k;f.component=l;f.sendData=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerPhotoViewBottomBarReact.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.children;return h.jsx("div",{children:a,className:"_51an _50-m _16zz"})}c=a;f.make=c}),null);
__d("MessengerPhotoViewBottomBarReact.re",["MessengerPhotoViewBottomBarReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewBottomBarReact.bs").make;f.make=a}),null);
__d("MessengerPhotoViewHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=200,j=80;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.stop(),this.$1=null};d.render=function(){var a=this,c=this.props.sharedPhotos;c=c.reduce(function(c,d){var e=d.node.image1===null?d.node.image:d.node.image1,f=d.node.photo_encodings?d.node.photo_encodings.length!==0:!1;if(e){e=e.uri;if(f){var g=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(d.node.photo_encodings);g=g.smallThumbnail;e=g||e}c.push(h.jsx("div",{className:"_4dy9",children:h.jsx(b("MessengerSharedPhotoReact.re").make,{className:"_42rl"+(a.props.photoID!==d.node.legacy_attachment_id?" _q1a":""),fbid:d.node.legacy_attachment_id,onClick:a.props.onScroll,uri:e,isSpherical:f})},d.node.legacy_attachment_id))}return c},[]);var d=(this.props.width-j)/2;return h.jsx("div",{className:(this.props.blurSupported?"":"_99ro")+" _463g",children:h.jsx("div",{className:"_463h",ref:"childContainer",children:h.jsx("div",{className:"_463j",style:{paddingLeft:d,paddingRight:d},ref:"scrollable",children:c})})})};d.$2=function(){var a=this,c=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,d=this.props.sharedPhotos.findIndex(function(b){return b.node.legacy_attachment_id===a.props.photoID});d=d*j;this.$1||(this.$1=new(b("Animation"))(this.refs.childContainer));this.$1.from("scrollLeft",c).to("scrollLeft",d).duration(i).go()};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.refs.forwardNUX&&c.refs.forwardNUX.close(),c.props.showForwardDialog&&c.props.showForwardDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_51an _50-m _3c1i _5l-3",role:"banner",children:[this.$1(),this.$2()]})};d.$2=function(){var a;return i.jsx(b("MessengerPhotoViewCloseLinkReact.re").make,{onClick:(a=this.props.onClose)!=null?a:b("emptyFunction")})};d.$1=function(){var a=this,c,d;this.props.disableForward!==!0&&(c=i.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",onClick:this.$3,ref:"forwardButton",children:[i.jsx("div",{className:"_2msr _3oo2"}),h._("Forward")]}),d=i.jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("Send this image to other people in separate messages.")}));return i.jsxs("div",{ref:"buttons",className:"_99rn",children:[i.jsxs(b("SpotlightViewerBottomBarLink"),{ajaxify:this.props.url,className:"_3c1o",rel:"async",children:[i.jsx("div",{className:"_3ooo _2msr"}),h._("Download")]}),c,d,i.jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",href:"#",onClick:this.props.openInfo,ref:"moreInfo",children:[i.jsx("div",{className:"_3c1k _2msr"}),h._("Info")]})]},"buttonsContainer")};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getReason=function(){return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};return a}();e.exports=a}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/video/",{video_id:{type:"String",required:!0},video_container_id:{type:"String",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0},start_muted:{type:"Bool",defaultValue:!1},no_fullscreen:{type:"Bool",defaultValue:!1},load_player_controller:{type:"Bool",defaultValue:!1},hide_controls_on_finish:{type:"Bool",defaultValue:!1},hide_url_menu_option:{type:"Bool",defaultValue:!1},is_share:{type:"Bool",defaultValue:!1},render_play_button:{type:"Bool",defaultValue:!1},start_timestamp:{type:"Int",defaultValue:0},native_thumbnail:{type:"Bool",defaultValue:!1}})}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("MessengerVideoPlayer.react",["cx","ActorURI","AsyncRequest","BackgroundImage.react","Event","FullScreen","MessengerSpinner.react","React","ShimButton.react","SpotlightMercurySharedMediaViewer.react","SubscriptionsHandler","Vector","VideoPlayerReasonTransitionHelper","XMessagingVideoAttachmentController","cssURL","getFullScreenElement","guid","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_ox1",j="_27db";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e;e=a.call(this,c)||this;e.$2=!0;e.$3=[];e.$4=-1;e.$5=!1;e.$6=!1;e.state={playerAPI:null,forcePause:!!((d=e.props.videoData)==null?void 0:d.disableAutoplay),loaded:!1};e.$10=function(a){if(e.isVideoControlClicked(a)){a.preventDefault();a.stopPropagation();return}if(!e.isVideoClicked(a))return;a.preventDefault();e.props.isOnStage?(a.stopPropagation(),e.isState("playing")?e.pause("user_initiated"):e.play("user_initiated")):(e.pause("user_initiated"),e.props.onClick&&e.props.onClick())};e.$11=function(a){if(!e.isRightClick(a))return;a.stopPropagation();a.preventDefault();b("setImmediate")(function(){e.props.onSelect&&e.props.onSelect()})};e.$8=function(){if(!e.$2||e.state.forcePause)return;e.$6&&(e.play(new(b("VideoPlayerReasonTransitionHelper"))("page_visibility_initiated")),e.$6=!1)};e.$7=function(){if(!e.$2||e.state.forcePause||!(e.state.playerAPI&&e.state.playerAPI.isMuted()))return;e.$6=!!e.state.playerAPI&&e.state.playerAPI.isState("playing");e.pause()};e.$1=b("guid")();e.$2=!((d=c.videoData)==null?void 0:d.disableAutoplay);e.props.isInThread&&(e.listeners=new(b("SubscriptionsHandler"))(),e.listeners.addSubscriptions(b("Event").listen(window,"blur",e.$7),b("Event").listen(window,"focus",e.$8)));return e}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=document.getElementById(this.$1.toString()),d=b("FullScreen").isFullScreen();if(c!=null&&d&&c.children[0].children[0]===b("getFullScreenElement")())return!1;d=!!(a.stageDimensions&&a.stageDimensions!==this.props.stageDimensions);d&&(this.$4=this.getCurrentTimePosition(),this.$5=!this.isState("playing"));return!this.props.videoData||a.videoData.id!==this.props.videoData.id||d};d.UNSAFE_componentWillReceiveProps=function(a){if(!this.$2)return;this.props.isInThread&&a.isVisible!==this.props.isVisible&&(a.isVisible&&!this.state.forcePause?this.play(new(b("VideoPlayerReasonTransitionHelper"))("video_visibility_initiated")):this.pause())};d.componentDidMount=function(){this.props.videoData&&this.$9()};d.componentDidUpdate=function(){this.$3.forEach(function(a){return a.abandon()}),this.$3=[],this.props.videoData&&this.$9()};d.componentWillUnmount=function(){this.pause("unloaded"),this.seek(0),this.$3.forEach(function(a){return a.abandon()}),this.listeners&&this.listeners.release(),this.state.playerAPI&&this.state.playerAPI.detachRootNode(),this.state.playerAPI&&this.state.playerAPI.destroy&&this.state.playerAPI.destroy()};d.isVideoLoaded=function(){var a=!!this.state.playerAPI;!a;return this.isState("fallback")?!1:a};d.isVideoClicked=function(a){return a.target instanceof HTMLElement?a.target.classList.contains(i):!1};d.isVideoControlClicked=function(a){var b=document.getElementsByClassName(j);for(var c=0;c<b.length;c++){var d=a.target;if(b[c].contains(d))return!0}return!1};d.isRightClick=function(a){a=a||window.event;return a.button===2};d.play=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.play(a)};d.pause=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.pause(a)};d.seek=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.seek(a)};d.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};d.render=function(){var a=this.props.videoData,c=h.jsx("div",{ref:"placeholder",children:h.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),d={};if(a&&a.url){var e=a.original_dimensions;d.backgroundImage=this.state.loaded?b("cssURL")(a.url):"none";c=h.jsx("div",{ref:"placeholder",children:h.jsx(b("BackgroundImage.react"),{className:this.props.className,width:e.x,height:e.y,loadingIndicatorStyle:"large",backgroundSize:"cover",ref:"placeholder",style:d,src:a.url})})}return h.jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_4-od"),id:this.$1,onClick:this.$10,onMouseDown:this.$11,style:d,children:c})};d.$9=function(){var a=this,c=this.props.videoData;if(c){var d=c.original_dimensions;this.props.stageDimensions&&(d=b("SpotlightMercurySharedMediaViewer.react").getImageDimensionsForStage(new(b("Vector"))(c.original_dimensions.x,c.original_dimensions.y),this.props.stageDimensions));d=b("XMessagingVideoAttachmentController").getURIBuilder().setString("video_id",c.legacy_attachment_id).setString("video_container_id",this.$1).setInt("width",d.x).setInt("height",d.y).setInt("start_timestamp",this.$4>0?Math.round(this.$4):0).setBool("start_muted",c.start_muted).setBool("no_fullscreen",c.no_fullscreen).setBool("load_player_controller",!0).setBool("hide_controls_on_finish",c.hide_controls_on_finish).setBool("native_thumbnail",c.disableAutoplay).setBool("hide_url_menu_option",Boolean(c.hide_url_menu_option)).setBool("is_share",c.is_share).setBool("render_play_button",this.props.isInThread).getURI();c=this.props.attachment;c&&c.metadata&&c.metadata.pageid&&(d=b("ActorURI").create(d,c.metadata.pageid));var e=new(b("AsyncRequest"))();this.$3.push(e);e.setMethod("GET").setStatusElement(this.refs.placeholder).setURI(d).setRelativeTo(this).setReadOnly(!0).setHandler(function(b){a.$3=a.$3.filter(function(a){return a!==e})}).send()}};d.$12=function(){this.props.isVisible&&this.isState("finished")?(this.seek(0),this.play("loop_initiated")):this.props.isVisible&&this.isState("paused")&&!this.$6?this.setState({forcePause:!0}):this.isState("playing")&&this.setState({forcePause:!1})};d.onVideoLoaded=function(){var a=this;if(!this.$2)return;this.state.playerAPI&&this.state.playerAPI.addListener("stateChange",function(){return a.$12()});this.props.isVisible&&!this.$5&&!this.state.forcePause?this.play("autoplay_initiated"):this.pause();this.$4=-1;this.$5=!1};d.isState=function(a){return!!(this.state.playerAPI&&this.state.playerAPI.isState(a))};return c}(h.Component);e.exports=a;a.propTypes={attachment:(c=b("prop-types")).object,className:c.string,isInThread:c.bool,isVisible:c.bool,isOnStage:c.bool,stageDimensions:c.instanceOf(b("Vector")),videoData:c.object,onClick:c.func,onSelect:c.func};a.invokeVideoLoaded=function(a,b,c){a.$2=c,b.setAllowCrossPageTransition(!0),b.isState("loading")?a.stateChangeListener=b.addListener("stateChange",function(){if(!b.isState("loading")){if(a.state&&a.state.playerAPI)return;a.setState({playerAPI:b},a.onVideoLoaded);a.stateChangeListener&&a.stateChangeListener.remove()}}):a.setState({playerAPI:b,loaded:!0},a.onVideoLoaded)}}),null);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("PhotoUtils",["Event","URI"],(function(a,b,c,d,e,f){var g,h={getImagesFromData:function(a){var b=[];for(var c in a)c.indexOf("image")===0&&b.push(a[c]);return b},getFBIDFromData:function(a){return a&&a.id},getOriginalImageFromData:function(a){return a.original||a.download_image},getDownloadURLFromData:function(a){a=this.getOriginalImageFromData(a);if(!a)return null;a=new(g||(g=b("URI")))(a.uri);a.addQueryData({dl:1});return a},getPermalinkFromData:function(a){return a.permalink},canViewerMakeCoverPhoto:function(a){return!!a.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function(a){return new(g||(g=b("URI")))("/profile.php").addQueryData({preview_cover:h.getFBIDFromData(a)})},preload:function(a,c,d){var e=a.getDimensions();for(var f=0;f<c.length;++f){var g=e.getBestFitImageFromPhoto(c[f],e.getMaxStageDimensions()),h=new Image();d&&b("Event").listen(h,"load",d.bind(null,c[f]));a.getLogger().log(g.uri);h.src=g.uri}}};e.exports=h}),null);
__d("SpotlightMessagesViewerPagers.react",["cx","fbt","LeftRight.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){return i.jsxs(b("LeftRight.react"),{children:[i.jsx(b("Link.react"),{"aria-disabled":a.disablePrevArrow,"aria-label":h._("Previous"),className:"_322u"+(a.disablePrevArrow?"":" _2bbb")+" _50-m",children:i.jsx("div",{className:(a.disablePrevArrow?"":"_4ksl")+(a.disablePrevArrow?"":" _4ksm")})}),i.jsx(b("Link.react"),{"aria-disabled":a.disableNextArrow,"aria-label":h._("Next"),className:"_322u"+(a.disableNextArrow?"":" _2bbc")+" _50-m",children:i.jsx("div",{className:(a.disableNextArrow?"":"_4ksl")+(a.disableNextArrow?"":" _4kso")})})]})}}),null);
__d("SpotlightViewer",["cx","React","Spotlight.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.open)return null;var a="_n3";this.props.className!=null&&(a+=" "+this.props.className);return h.jsx(b("Spotlight.react"),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,wash:this.props.wash,children:h.jsx("div",{className:a,onClick:this.props.onClick,role:"presentation",children:this.props.children})},"photoLayer")};return c}(h.Component);e.exports=a}),null);
__d("SpotlightViewerImage",["cx","Image.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={loading:!0};c.$3=function(){c.setState({loading:!1})};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.src!==this.props.src&&this.setState({loading:!0})};d.render=function(){return h.jsxs("div",{className:"_4-od",children:[this.$1(),this.$2()]})};d.$1=function(){return!this.state.loading?null:h.jsx(b("XUISpinner.react"),{className:"_enh",size:"large"})};d.$2=function(){return h.jsx("div",{className:this.state.loading?"_eni":"",children:h.jsx(b("Image.react"),{onLoad:this.$3,src:this.props.src,style:{width:this.props.dimensions.x||"",height:this.props.dimensions.y||""}})})};return c}(h.Component);e.exports=a}),null);
__d("SpotlightViewport",["csx","cx","Locale","Parent","React","ReactDOM","Vector","clearTimeout","joinClasses","setTimeout"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=.2,k={NONE:null,FORWARD:1,BACKWARD:2};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentActiveSection:k.NONE,active:!0},d.$2=function(a){var c=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));a=b("Vector").getEventPosition(a.nativeEvent);d.props.fadeInNOut===!0&&(d.$3(a)?b("clearTimeout")(d.timer):d.$1());var e=null;if(c instanceof HTMLElement){var f=b("Vector").getElementPosition(c);c=d.props.useWidth===!0?d.props.stageDimensions.x:b("Vector").getElementDimensions(c).x;a=a.x-f.x;f=a/c;b("Locale").isRTL()?e=f>1-j:e=f<j}e===!0?d.setState({currentActiveSection:k.BACKWARD}):d.setState({currentActiveSection:k.FORWARD})},d.$4=function(a){var c=d.state.currentActiveSection==k.FORWARD;a=a.target;b("Parent").bySelector(a,"._51an")||d.props.onClick&&d.props.onClick(c)},d.$1=function(){d.setState({active:!0}),d.props.fadeInNOut===!0&&(b("clearTimeout")(d.timer),d.timer=b("setTimeout")(d.$5,1e3))},d.$5=function(){d.setState({active:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentWillUnmount=function(){this.props.fadeInNOut===!0&&b("clearTimeout")(this.timer)};d.$3=function(a){return a.y<70||a.y>this.props.stageDimensions.y-70};d.makeActive=function(){this.$1()};d.render=function(){var a="_4-of"+(!this.state.active&&!this.props.active?" _50-l":"")+(this.state.currentActiveSection===k.BACKWARD?" _516a":"")+(this.state.currentActiveSection===k.FORWARD?" _516b":"")+(this.props.showLoadingIndicator?" _51jp":"");this.props.className!=null&&this.props.className!==""&&(a=b("joinClasses")(a,this.props.className));var c={};this.props.stageDimensions&&(c.height=this.props.stageDimensions.y,this.props.useWidth===!0&&(c.width=this.props.stageDimensions.x));return i.jsxs("div",{className:a,onClick:this.$4,onMouseEnter:this.$1,onMouseLeave:this.$5,onMouseMove:this.$2,role:"presentation",style:c,children:[this.props.children,i.jsxs("div",{className:"_4-og",children:[i.jsx("span",{className:"_4-oh"}),this.props.media,i.jsx("div",{className:"_4-oi"})]})]})};return c}(i.Component);e.exports=a}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/photo/",{photo_id:{type:"String",required:!0}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/share/dialog/",{__asyncDialog:{type:"Int"},privacy_mutation_token:{type:"String"}})}),null);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","React","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","XMessagingShareAttachmentDialogController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=88,m=30,n="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",o="_4-og";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:m,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$11=function(){return!d.state.photoData?null:k.jsx(b("ChatPhotoViewFooterHScroll.react"),{onScroll:d.$18,photoID:d.state.photoData.node.id,sharedPhotos:d.state.mediaData,updateNumberInOneBatch:d.$19,width:d.state.stageDimensions.x})},d.$19=function(a){d.setState({numberInOneBatch:a})},d.$18=function(a){if(!d.state.mediaData||d.state.isLoading)return;var b=d.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.state.mediaData[b];d.setState({photoData:c});d.$22(b)},d.$5=function(a,c){if(d.state.photoData==null||d.state.isLoading)return;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===o&&d.$10();c=d.state.mediaData.findIndex(function(a){d.state.photoData!=null||j(0,1033);return a.node.legacy_attachment_id===d.state.photoData.node.legacy_attachment_id});if(c<0||c===d.state.mediaData.length-1&&!d.state.hasNextPage&&a)return;if(c===0&&!a){d.setState({isLoading:!0},function(){return d.$7(d.state.photoData,1,function(b){if(b===0)return;d.$5(a)})});return}var e=a?d.state.mediaData[c+1]:d.state.mediaData[c-1];d.setState({photoData:e});d.$22(c)},d.$10=function(){if(d.props.photoID===null)return;d.setState({photoData:null});d.props.onClosePhotoView()},d.$16=function(){d.setState({showForward:!0})},d.$20=function(){d.setState({showForward:!1})},d.$15=function(){d.setState({showInfo:!0})},d.$21=function(){d.setState({showInfo:!1})},d.$17=function(){d.setState({showForward:!1,showInfo:!1});b("FunnelLogger").appendAction(n,"click");var a=d.state.photoData;if(!d.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var c=b("XMessagingShareAttachmentDialogController").getURIBuilder().getURI();c=new(b("AsyncRequest"))(c).setData({attachment_id:a}).setMethod("POST");b("AsyncDialog").send(c)},d.$23=function(a,b,c){var e=Object.keys(a)[0];a=a[e].message_shared_media;e=a.page_info;var f=a.edges.length;if(f!==0){var g=d.state.mediaData;switch(b){case 0:d.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:g=g.concat(a.edges);d.setState({hasNextPage:e.has_next_page,mediaData:g});break;case-1:g=a.edges;g=g.concat(d.state.mediaData);d.setState({mediaData:g,hasPrevPage:e.has_previous_page});break}}d.setState({isLoading:!1});c(f)},d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-l);return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{enableShareToFB:!1}};d.componentDidMount=function(){var a=this;this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return a.$4(a.props.photoID)});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$5(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$5(!0);return!1}));this.props.enableShareToFB&&b("FunnelLogger").startFunnel(n)};d.UNSAFE_componentWillUpdate=function(a,b){var c=this;b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){c.$6(b.photoData,b.numberInOneBatch,function(){}),c.$7(b.photoData,b.numberInOneBatch,function(){})});b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return c.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$8(),d=this.state.stageDimensions,e=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.state.mediaData.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=k.jsxs("div",{children:[this.$9(),this.props.disablepaging?null:k.jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&f>=this.state.mediaData.length-1})]});return k.jsxs("span",{children:[k.jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,children:[k.jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$5,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,children:f}),this.$11()]}),this.$12(),this.$13()]})};d.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return k.jsx(b("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};d.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=i._("Forward");return k.jsx(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};d.$13=function(){return this.state.showInfo?k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(p,{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):k.jsx("xhp",{})};d.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};d.$22=function(a){var b=this,c=this.state.numberInOneBatch,d=this.state.mediaData;a<=c/2?this.setState({isLoading:!0},function(){return b.$7(d[0],c,function(){})}):a>=d.length-c/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return b.$6(d[d.length-1],c,function(){})})};d.$4=function(a){var c=this;a=b("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return c.$23(a,0,function(){})});this.$2.push(a)};d.$6=function(a,c,d){var e=this;a=b("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,c||1,function(a){return e.$23(a,1,d)});this.$2.push(a)};d.$7=function(a,c,d){var e=this;a=a?a.cursor:null;a=b("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,c||1,function(a){return e.$23(a,-1,d)});this.$2.push(a)};d.$8=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var d=this.state.stageDimensions,e=this.$25(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$27(e,a)}else return null};d.$24=function(){return this.state.photoData?k.jsx(b("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$27=function(a,c){return k.jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$26=function(a,c,d,e){return k.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:k.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$25=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};return c}(k.Component);e.exports=a;a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClosePhotoView:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var p=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMercurySharedMediaViewer.react"))}),null);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoViewBottomBarReact.re","MessengerPhotoViewHeader.react","MessengerPhotoViewHScroll.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","React","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Tooltip.react","Vector","XMessagingPhotoDownloadController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=88,m=80,n=30,o="_4-og",p=function(){var a=document.createElement("a");a.style.cssText="backdrop-filter:blur(2px);";return!!a.style.length}();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$14=function(a){if(!d.props.sharedMedia)return;var b=d.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.props.sharedMedia[b];d.setState({photoData:c});d.$17(b)},d.$4=function(a,c){if(d.state.photoData==null)return;var e=d.state.photoData;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===o&&d.$7();c=d.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===e.node.legacy_attachment_id});if(c<0||c===d.props.sharedMedia.length-1&&!d.props.hasNextPage&&a)return;if(c===0&&!a){b("MessengerSharedMediaActions").loadMoreLatest(d.props.threadID,d.props.sharedMedia[0].cursor,n);return}a=a?d.props.sharedMedia[c+1]:d.props.sharedMedia[c-1];d.setState({photoData:a});d.$17(c)},d.$7=function(){if(d.props.photoID===null)return;b("ScriptPath").closeOverlayView("spotlight_media_view");d.setState({photoData:null});d.props.onClosePhotoView()},d.$12=function(){d.setState({showForward:!0})},d.$15=function(){d.setState({showForward:!1})},d.$11=function(){d.setState({showInfo:!0})},d.$16=function(){d.setState({showInfo:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.sharedMedia.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});this.setState({photoData:c,stageDimensions:this.$3()});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$4(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$4(!0);return!1}));b("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$5(),d=this.state.stageDimensions,e=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.props.sharedMedia.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=k.jsxs("div",{children:[this.$6(),this.props.disablepaging?null:k.jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&f>=this.props.sharedMedia.length-1})]});return k.jsxs("span",{children:[k.jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,wash:p?"blur":"dark",children:[k.jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$4,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,className:"_9ahm"+(p?" _99rm":""),children:f}),this.$8()]}),this.$9(),this.$10()]})};d.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return k.jsx(b("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};d.$13=function(a){return a?Math.ceil(a/m):n};d.$8=function(){var a=this;if(!this.state.photoData)return null;var c=this.state.photoData,d=k.jsx("button",{className:"_2n5b",onClick:function(){return a.props.openAlbum(c.node.legacy_attachment_id)},type:"button",children:k.jsx(b("Tooltip.react"),{tooltip:"View Gallery",children:k.jsx("div",{"aria-label":i._("Full-screen photo gallery"),className:"_3por"})})});return k.jsxs(b("MessengerPhotoViewBottomBarReact.re").make,{children:[k.jsx(b("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:c.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x,blurSupported:p}),d]})};d.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=i._("Forward");return k.jsx(b("MessengerForwardAttachmentDialogReact.bs").jsComponent,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};d.$10=function(){return this.state.showInfo?k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(q,{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):null};d.$17=function(a){var c=this.$13(this.state.stageDimensions.x),d=this.props.sharedMedia;a<=c/2?(b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,d[0].cursor,c),d.length<c&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)):a>=d.length-c/2&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)};d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-l);return a};d.$5=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var d=this.state.stageDimensions,e=this.$19(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$21(e,a)}else return null};d.$18=function(){return this.state.photoData?k.jsx(b("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$21=function(a,c){return k.jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$20=function(a,c,d,e){return k.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:k.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$19=function(a,c){c=b("PhotoUtils").getImagesFromData(a);return c[c.length-1]};return c}(k.Component);e.exports=a;a.propTypes={disableForward:(c=b("prop-types")).bool,hasPrevPage:c.bool,hasNextPage:c.bool,onClosePhotoView:c.func,openAlbum:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string,sharedMedia:c.arrayOf(c.object)};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var q=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMessengerSharedMediaViewer.react"))}),null);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","React","SpotlightMessengerSharedMediaViewer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(c.threadID);a=a.isLoading.get(c.threadID);return{sharedMedia:d,isLoading:a}};var d=c.prototype;d.componentDidMount=function(){b("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};d.render=function(){var a=this;if(!this.state.sharedMedia)return null;var c=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});return!c?null:g.jsx(b("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};return c}(g.PureComponent);c=b("FluxContainer").create(a,{withProps:!0});e.exports=c}),null);
__d("MessengerThreadSharedPhotos.react",["cx","MessengerSharedPhotosAlbumViewContainer.react","React","SpotlightMessengerSharedMediaViewerContainer.react","SpotlightViewer","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={photoView:c.props.findFBID,albumView:""},c.$3=function(a){c.setState({albumView:a,photoView:""})},c.$4=function(){c.setState({albumView:""})},c.$5=function(a){c.setState({albumView:"",photoView:a})},c.$6=function(){c.setState({photoView:""})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};d.render=function(){var a=this.state.photoView?this.$1():null,b=this.state.albumView?this.$2():null;return h.jsxs("div",{children:[b,a]})};d.$1=function(){return h.jsx(b("SpotlightMessengerSharedMediaViewerContainer.react"),{disableForward:!1,onClosePhotoView:this.$6,openAlbum:this.$3,photoID:this.state.photoView,rootClassName:"",threadID:this.props.threadFBID})};d.$2=function(){return h.jsx(b("SpotlightViewer"),{className:"_3ode",onHide:this.$4,open:!0,ref:"spotlightViewer",children:h.jsx(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:this.$5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})})};return c}(h.Component);e.exports=a;a.propTypes={findFBID:b("prop-types").string,onCloseSharedPhotos:b("prop-types").func,threadFBID:b("prop-types").string}}),null);
__d("MessengerThreadSharedPhotosReact.bs",["ReasonReact.bs","MessengerThreadSharedPhotos.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadSharedPhotos.react"),{findFBID:a,onCloseSharedPhotos:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerVideoPlayerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerVideoPlayer.react"),{attachment:(l=b("bs_js_null_undefined")).fromOption(a),className:l.fromOption(c),isInThread:l.fromOption(d),isVisible:l.fromOption(e),isOnStage:l.fromOption(f),stageDimensions:l.fromOption(g),videoData:h,onClick:l.fromOption(i),onSelect:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoReact.bs",["cx","ix","bs_curry","Image.bs","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerPhotoReact.bs","MessengerVideoPlayerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=a.metadata;if(!(a==null)&&!(a.fbid==null)){var b=window.screen.width>1800&&!(a.large_size==null)&&!(a.large_preview==null),c=a.fbid,d=b?a.large_size:a.inbox_size;d=d==null?{x:0,y:0}:{x:d.width,y:d.height};b=b?a.large_preview:a.inbox_preview;return{legacy_attachment_id:c,original_dimensions:d,start_muted:!0,hide_controls_on_finish:!0,url:b,is_share:!1}}return{legacy_attachment_id:null,original_dimensions:null,start_muted:!0,hide_controls_on_finish:!0,url:null,is_share:!1}}function k(a){var b=a%60;return String(a/60|0)+(":"+((b<10?"0":"")+String(b)))}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.onAttachmentLoad,g=a.isVisible,l=a.onClick,m=a.onSelect,n=c!==void 0?c:"";a=function(a){a=d.metadata;var c=d.media;c=a==null?c==null?void 0:b("bs_caml_option").nullable_to_opt(c.duration):b("bs_caml_option").nullable_to_opt(a.duration);if(c!==void 0)return k(c);else return null};var o=function(a){if(l!==void 0)return b("bs_curry")._1(l,d)};c=function(a){var c=a.legacy_attachment_id;if(c==null)return;else return b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(n,"_ccq","_4tsk","_3o67",e?"_52mr":"",e?"_1byr":""),!0,g,void 0,void 0,a,o,m,[])))};var p=j(d);c=c(p);if(c!==void 0)return b("bs_caml_option").valFromOption(c);p={className:b("joinClasses")(n,"_ccq"),attachment:d,isSingle:e,children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_ccr",void 0,void 0,void 0,h("27983"),void 0,void 0,void 0,void 0,[])),i.jsx("span",{children:a(void 0),className:"_ccs"})]};f!==void 0&&(p.onAttachmentLoad=b("bs_caml_option").valFromOption(f));l!==void 0&&(p.onClick=b("bs_caml_option").valFromOption(l));return i.createElement(b("MessengerPhotoReact.bs").make,p)}c=1800;d=a;f.large_window_width=c;f.constructVideoData=j;f.formatDuration=k;f.make=d}),null);
__d("MessengerXMATextBlock.react",["cx","LineClamp.react","React","ShimButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=26;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url!=null&&c.props.url!=""&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.props)return h.jsx("div",{className:"__6j"});var a=this.props.width!=null?{maxWidth:this.props.width-i,textAlign:"left"}:{textAlign:"left"},c={textDecoration:"none"};return h.jsx("div",{className:b("joinClasses")(this.props.className,"__6j _43kk _6ude"),style:a,children:h.jsxs(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c,children:[this.renderTitle(),this.renderDescription(),this.renderSource()]})})};d.renderTitle=function(){return this.props.title==null?null:h.jsx("div",{className:"__6k",children:h.jsx(b("LineClamp.react"),{lines:2,lineHeight:16,children:this.props.title})})};d.renderDescription=function(){if(this.props.description==null)return null;var a=this.props.width!=null?{maxWidth:this.props.width-i}:{};return h.jsx("div",{className:"__6l",style:a,children:h.jsx(b("LineClamp.react"),{lines:2,lineHeight:15,children:this.props.description})})};d.renderSource=function(){return this.props.source==null?null:h.jsx("div",{className:"__6m",children:h.jsx(b("LineClamp.react"),{lines:1,lineHeight:14,children:this.props.source})})};return c}(h.Component);e.exports=a;a.propTypes={className:(c=b("prop-types")).string,description:c.string,source:c.string,title:c.string,url:c.string,width:c.number,isFromViewer:c.bool,attachment:c.object}}),null);
__d("MessengerXMATextBlockReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerXMATextBlock.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerXMATextBlock.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),description:l.fromOption(c),source:l.fromOption(d),title:l.fromOption(e),url:l.fromOption(f),width:l.fromOption(g),threadID:l.fromOption(h),isFromViewer:l.fromOption(i),attachment:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoXMAReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerVideoPlayerReact.bs","MessengerXMATextBlockReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){if(a==null)return null;var b=a.width>a.height?a.width:a.height,c=window.screen.width>1800?640:450;if(b<=c)return{x:a.width,y:a.height};c=c/b;b=a.width*c|0;a=a.height*c|0;return{x:b,y:a}}function j(a){var b=a.media;a=a.target;if(b==null)return;if(a==null)return;if(b.image_size==null||a.video_id==null)return;var c=b.image_size;return{legacy_attachment_id:a.video_id,original_dimensions:i(c),start_muted:!0,hide_controls_on_finish:!0,url:b.image,is_share:!0}}function a(a){var c=a.className,d=a.attachment,e=a.isVisible,f=a.onSelect,g=a.threadID,i=a.isFromViewer,k=c!==void 0?c:"";a=function(a){if(a!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(k,"_ccq","_4tsk","_3o67","_52mr","_1byr"),!0,e,void 0,void 0,b("bs_caml_option").valFromOption(a),void 0,f,[]));else return null};c=function(a){var c;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerXMATextBlockReact.bs").make("_2f5n _4br2 _29ew _3dug",(c=b("bs_caml_option")).nullable_to_opt(d.description),c.nullable_to_opt(d.source),c.nullable_to_opt(d.video_title),c.nullable_to_opt(d.uri),a!==void 0?b("bs_caml_option").valFromOption(a).x:void 0,g,i,b("bs_caml_option").some(d),[]))};var l=j(d);a=a(l);return h.jsxs("div",{children:[a,c(l!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(l).original_dimensions):void 0)],className:"_3duc"})}c=640;d=450;e=1800;g=a;f.large_preview_dim=c;f.thumbinail_inbox_dim=d;f.large_window_width=e;f.adjustSize=i;f.constructVideoData=j;f.make=g}),null);
__d("MessengerPhotosGroupReact.bs",["cx","URI","bs_curry","React","Utils.bs","ActorURI","bs_belt_Array","LogHistory","MercuryIDs","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","bs_js_null_undefined","MessagesViewerSetID","MessengerPhotoReact.bs","MessengerVideoReact.bs","MercuryAttachmentType","getPageIDFromThreadID","MessengerVideoXMAReact.bs","ChatSpeakingStickerReact.bs","MercuryAttachmentPayload.bs","MessengerAttachmentViewer","MessengerThreadSharedPhotosReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j="empty-spacer";a=b("LogHistory").getInstance("messenger_photo_group");var k=b("ReasonReact.bs").reducerComponent("MessengerPhotosGroup");function l(a,c,d,e,f,g,l,m,n,o,p,q,r,s){var t=d!==void 0?d:"",u=function(a){a=a.length;var c=a===2||a===4;return b("joinClasses")(t,"_2n8h",a===1?"_2n8i":"",c?"_4ksk":"",a>1&&!c?"_2n8k":"","_5fk1")},v=function(a){if(m===void 0)return null;a=b("bs_caml_option").valFromOption(m);var c=a.thread_fbid;if(!(c==null)&&b("bs_caml_primitive").caml_string_compare(c,"")!==0)return c;else return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},w=function(a,c){var d=v(void 0);c=c.metadata;c=c==null?null:c.fbid;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadSharedPhotosReact.bs").make(c,function(c){return b("bs_curry")._1(a.send,0)},d,[]))},x=function(d,k,m,s){var t=k.deduplication_key,u=k.metadata;if(t==null)if(u==null){var w=k.upload_id;w=w==null?"":w}else{u=u.fbid;w=u==null?"":u}else w=t;var x;if(m||f===!0)if(k.large_preview_url==null)x=void 0;else{var y=k.large_preview_url;x=function(a){return window.open(y)}}else{var z=k.metadata;u=0;z==null||z.fbid==null?u=1:x=k.app_attribution==null?function(a){return b("bs_curry")._1(d.send,{_0:a})}:function(c){if(b("Utils.bs").isTruthy(c.preview_uploading))return;if(c.attach_type===b("MercuryAttachmentType").VIDEO){var d=z.dimensions;d=d==null?{x:null,y:null}:{x:d.width,y:d.height};var f=c.url;b("MessengerAttachmentViewer").renderVideo({pageID:b("bs_js_null_undefined").fromOption(p),rootClassName:"_1j1h",videoID:z.fbid,videoSize:d,videoURI:f==null?new(h||(h=b("URI")))(""):f});return}if(!(c.attach_type===b("MercuryAttachmentType").PHOTO||c.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER||c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE))if(!(c.uri==null))return window.open(c.uri);else return;d=a.length===1;f=c.url;f=f==null?new(h||(h=b("URI")))(""):f;if(g!==!0&&c.attach_type===b("MercuryAttachmentType").PHOTO&&e!==void 0){var i=v(void 0),j=e===1;i=new(h||(h=b("URI")))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:i,image_id:z.fbid});i=p!==void 0?new(b("ActorURI").create)(i,b("bs_caml_option").valFromOption(p)):i;i=[b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,i,j]}else i=[null,f,d];b("MessengerAttachmentViewer").bootstrapWithConfig({actorid:b("bs_js_null_undefined").fromOption(p),dimensions:z.dimensions,disableForward:p!==void 0,disablePaging:i[2],endpoint:i[1],fbid:z.fbid,rootClassName:"_1j1h",setID:i[0],snapToPhoto:!0,src:c.preview_url})};if(u===1)if(k.uri==null)x=void 0;else{var A=k.uri;x=function(a){return window.open(A)}}}t=b("bs_belt_Option").getWithDefault(c,k.attach_type);if(t===b("MercuryAttachmentType").PHOTO||t===b("MercuryAttachmentType").ANIMATED_IMAGE||t===b("MercuryAttachmentType").THIRDPARTYSTICKER){m={attachment:k,isSingle:s,children:[]};l!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(l));n!==void 0&&(m.onAttachmentLoad=b("bs_caml_option").valFromOption(n));x!==void 0&&(m.onClick=b("bs_caml_option").valFromOption(x));return i.jsx(b("MessengerPhotoReact.bs").make,m,w)}if(t===b("MercuryAttachmentType").VIDEO){u=k.metadata;if(!(u==null)&&b("Utils.bs").isTruthy(u.render_as_sticker)){m=u.dimensions;u=m==null?{height:null,width:null}:{height:m.height,width:m.width};m=k.url;m=m==null?new(h||(h=b("URI")))(""):m;return b("ReasonReact.bs").element(void 0,void 0,b("ChatSpeakingStickerReact.bs").make(m,u,[]))}if(g===!0){m={attachment:k};l!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(l));o!==void 0&&(m.onSelect=b("bs_caml_option").valFromOption(o));q!==void 0&&(m.threadID=b("bs_caml_option").valFromOption(q));r!==void 0&&(m.isFromViewer=b("bs_caml_option").valFromOption(r));return i.jsx(b("MessengerVideoXMAReact.bs").make,m,w)}u={attachment:k,isSingle:s};n!==void 0&&(u.onAttachmentLoad=b("bs_caml_option").valFromOption(n));l!==void 0&&(u.isVisible=b("bs_caml_option").valFromOption(l));x!==void 0&&(u.onClick=b("bs_caml_option").valFromOption(x));o!==void 0&&(u.onSelect=b("bs_caml_option").valFromOption(o));return i.jsx(b("MessengerVideoReact.bs").make,u,w)}if(t===j){m={className:"_4tsk _4rf-"};s=b("bs_caml_option").nullable_to_opt(k.key);s!==void 0&&(m.key=b("bs_caml_option").valFromOption(s));return i.jsx("div",m)}throw{RE_EXN_ID:"Invalid_argument",_1:t+" is not handled by MessengerPhotosGroup",Error:new Error()}},y=function(c,a,d){if(a.length!==1){var e=a.length===2||a.length===4?2:3,f=[],g={contents:0},k=a.length;while(g.contents<k){var l=b("bs_caml_primitive").caml_int_min(e,k-g.contents|0);l=b("bs_belt_Array").makeBy(e,function(f){return function(i){if(i<f)return x(c,a[g.contents+i|0],d,!1);i="ghost"+String(e-i|0);i=b("MercuryAttachmentPayload.bs").create(j,b("bs_caml_option").some(i),new(h||(h=b("URI")))(""));return x(c,i,d,!1)}}(l));f.push(i.jsx("div",{children:l,className:"_2n8g"},String(g.contents)));g.contents=g.contents+e|0}return f}l=a[0];return x(c,l,d,!0)};return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:k.getDerivedStateFromProps,didMount:function(a){b("MessengerAttachmentViewer").preload()},didUpdate:k.didUpdate,willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(c){var d=m!==void 0?!(b("getPageIDFromThreadID")(b("bs_caml_option").valFromOption(m).thread_id)==null):!1;d=y(c,a,d);var e=c.state.findID;c=e!==void 0?w(c,b("bs_caml_option").valFromOption(e)):null;return i.jsxs("div",{children:[c,d],className:u(a),tabIndex:0})},initialState:function(a){return{findID:void 0}},retainedProps:k.retainedProps,reducer:function(a,c){if(a)return{TAG:0,_0:{findID:b("bs_caml_option").some(a._0)}};else return{TAG:0,_0:{findID:void 0}}},jsElementWrapped:k.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(k,function(a){var c;return l(a.attachments,(c=b("bs_caml_option")).nullable_to_opt(a.attachType),c.nullable_to_opt(a.className),c.nullable_to_opt(a.count),c.nullable_to_opt(a.isPageMessage),c.nullable_to_opt(a.isXMA),c.nullable_to_opt(a.isVisible),c.nullable_to_opt(a.message),c.nullable_to_opt(a.onAttachmentLoad),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.pageID),c.nullable_to_opt(a.threadID),c.nullable_to_opt(a.isFromViewer),[])});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.empty_spacer_type=j;f.history=a;f.component=k;f.make=l;f.jsComponent=c}),null);
__d("MessengerPhotosGroup.react",["MessengerPhotosGroupReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerPhotosGroupReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerStickerUtils",[],(function(a,b,c,d,e,f){"use strict";f.isStickerAttachment=g;f.isStickerMessage=h;f.isStickerMessageGroup=a;function g(a){return!!(a&&a.attach_type==="sticker")}function h(a){var b=a.attachments;return!!(a.is_like_preview||a.sticker_id||b&&b.length===1&&g(b[0]))}function a(a){return a.size===1&&h(a.first())}}),null);
__d("MercuryShareAttachmentRenderLocations.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return a===1;else return!1}function b(a){switch(a){case 0:return"chat";case 1:return"chat_preview";case 2:return"messenger";case 3:return"pages_inbox"}}f.isPreview=a;f.getValue=b}),null);
__d("MessengerVoiceClipAttachmentReact.bs",["cx","cssVar","React","ReactStyle.bs","bs_caml_option","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MercuryAttachmentAudioClip.react","WorkChatRedesignedMessageListCheck.bs","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.attachment,d=a.customColor,e=a.message;a=a.thread;var f=c.metadata,g;if(f==null)g=0;else{f=f.duration;g=f==null?0:f/1e3}f=c.app_attribution!==null;var h=d!==void 0;e="audio:"+e.message_id;c=c.url;var j;if(c==null)j=null;else{c={src:c.toString(),duration:g,location:b("MercuryShareAttachmentRenderLocations.bs").getValue(2),rootClassName:"_3czg"+(f?" _4yjw":"")+" _2poz _ui9",showHelp:!1,width:200};d!==void 0&&(c.customColor=b("bs_caml_option").valFromOption(d));j=i.jsx(b("MercuryAttachmentAudioClip.react"),c,e)}return i.jsx("div",{children:j,className:(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":" _s1-")+(h?" _5sxi":"")+(f?"":" _52mr")+(f?" _mxz":"")+" _1fz8"+(f?" _1-wa":"")+" _1nqp",style:d!==void 0?b("MessengerDotComAndInboxM4Check.bs").yes?b("ReactStyle.bs").unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(void 0)),"backgroundAttachment","fixed"):{backgroundColor:d}:b("WorkChatRedesignedMessageListCheck.bs").enabled?{backgroundColor:"#ece9e7"}:{}})}c=a;f.make=c}),null);
__d("MessengerVoiceClipAttachmentReact.re",["MessengerVoiceClipAttachmentReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerVoiceClipAttachmentReact.bs").make;f.make=a}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","React","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=83;a=5e3;var k=10,l={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=i.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===l.LOAD_AND_HOVER||this.props.animationTrigger===l.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var a=b("Arbiter").subscribe(this.props.subscribedThreadID,function(a,b){this.isScrolledIntoView(b.scrollTop,b.viewHeight,b.top)}.bind(this));this.setState({unsubscribeID:a})}};d.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&b("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&b("clearInterval")(this.__stopIntervalID)};d.isAnimating=function(){return!!this.__stopIntervalID};d.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};d.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};d.preloadSprite=function(){var a=new window.Image();a.onload=function(){this.$1&&!this.state.hasAnimated&&(this.setState({hasAnimated:!0}),this.__stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))}.bind(this);b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?a.src=this.props.paddedSpriteURI:a.src=this.props.spriteURI};d.isScrolledIntoView=function(a,c,d){var e=b("getElementPosition")(this.$2.current);d=a+e.y-d;c=a+c;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-k<=c&&d+k>=a&&this.startAnimation()};d.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};d.stopAnimation=function(){this.setState({index:0}),b("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};d.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===l.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:j;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===l.CLICK?!0:!this.state.isHovered};d.getStyle=function(){var a,c=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);c=Math.floor(parseInt(b("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+c*2)+c:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+c*2)+c:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===l.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+c*2)*this.props.framesPerRow+"px "+(e+c*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};d.$3=function(a){return a&&a!=b("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=b("StickerConstants").GRAVEYARD_PACK_ID};d.getAriaLabel=function(){var a;return h._("{pack name} {sticker name} sticker",[h._param("pack name",(a=this.props.packName)!=null?a:""),h._param("sticker name",this.props.accessibilityLabel)])};d.render=function(){var a,c;this.props.animationTrigger===l.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===l.HOVER||this.props.animationTrigger===l.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(c=!0);var d=a?this.toggleAnimation:null;this.props.packID&&(d=this.onStickerClick);var e=this.props.className,f=null;this.$4()&&(e=b("joinClasses")(e,"_576q"),(!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))&&this.props.thread!=null?f=i.jsx(b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):f=i.jsx(b("MessengerHotLikeSVGReact.re").make,{color:this.props.customColor}));return i.jsx("div",{"aria-label":this.getAriaLabel(),className:e,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:d,onFocus:this.tabFocusSelected,onMouseEnter:c?this.mouseEntered:null,onMouseLeave:c?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:f})};d.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return c}(i.Component);e.exports=c;c.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:j,onStickerClick:b("emptyFunction"),packID:null,packName:"",tabIndex:0}}),null);
__d("StickerUtils",[],(function(a,b,c,d,e,f){a={getScaledDimensions:function(a,b,c){var d=b>a?b:a;if(d===0)return{height:0,width:0};c=c/d;return{height:Math.round(a*c),width:Math.round(b*c)}},capitalizeWords:function(a){a=a.split(" ");for(var b=0;b<a.length;b++){var c=a[b].charAt(0).toUpperCase();a[b]=c+a[b].substr(1)}return a.join(" ")}};b=a;e.exports=b}),null);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationDispatcher"))({strict:!1});e.exports=a}),null);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_CUSTOM_STICKER_PACK:null,LOAD_RECENT_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null});a={Types:g,addRecentSticker:function(a){b("StickersDispatcher").dispatch({type:g.ADD_RECENT_STICKER,sticker:a})},hideStickerFlyout:function(){b("StickersDispatcher").dispatch({type:g.HIDE_FLYOUT})},loadCustomStickerPack:function(a,c){b("StickersDispatcher").dispatch({type:g.LOAD_CUSTOM_STICKER_PACK,pack:a,nuxContent:c})},loadRecentStickers:function(a){b("StickersDispatcher").dispatch({type:g.LOAD_RECENT_STICKERS,stickers:a})},selectStorePack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_STORE_PACK,packID:a})},selectTrayPack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_TRAY_PACK,packID:a})},showStickerFlyout:function(a){b("StickersDispatcher").dispatch({type:g.SHOW_FLYOUT,threadID:a})},trayLoaded:function(){b("StickersDispatcher").dispatch({type:g.TRAY_LOADED})}};e.exports=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTrayQuery",["Promise","AsyncRequest","RelayFBEnvironment","RelayModern","XStickerInTrayController","StickersPackInTrayQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("StickersPackInTrayQuery.graphql");a={onIsPackInTray:function(a,c,d){return h(b("RelayFBEnvironment"),i,{stickerInterface:c}).then(function(c){c=c&&c.length>0?c[0]:null;var e=c==null?void 0:(c=c.sticker_store)==null?void 0:(c=c.tray_packs)==null?void 0:c.edges;if(e)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)})}};e.exports=a}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHeightProperty=function(){return"height"};return b}(b("AbstractDialogFitHeight"));e.exports=a}),null);
__d("FluxMixinLegacyInstrumentation",["FluxContainerInstrumentation"],(function(a,b,c,d,e,f){"use strict";f.addInstrumentation=a;function g(a){return a.constructor.displayName||a.constructor.name||"FluxMixinLegacy(unknown)"}var h={_callCalculateState:function(){var a=b("FluxContainerInstrumentation").onCalculateStateStart(g(this)),c=this._FluxMixinLegacyInstrumentationCalculateStateCaller.apply(this,arguments);a&&a();return c},UNSAFE_componentWillMount:function(){this.constructor._FluxMixinLegacyInstrumentationOnInitCalled||(b("FluxContainerInstrumentation").onInit(this.constructor),this.constructor._FluxMixinLegacyInstrumentationOnInitCalled=!0)},_FluxMixinLegacyInstrumentationEmittedChangeStores:null,_getCurrentDispatchForInstrumentation:function(){return b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.getCurrentDispatch()},_onInitialStateForInstrumentation:function(){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.initialState(this,g(this))},_onReceivePropsForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.receiveProps(this,g(this),a)},_addStoreEmitForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.shouldRecord()&&(this._FluxMixinLegacyInstrumentationEmittedChangeStores=this._FluxMixinLegacyInstrumentationEmittedChangeStores||[],b("FluxContainerInstrumentation").addStoreDependencies(this._FluxMixinLegacyInstrumentationEmittedChangeStores,a))},_collectStoreEmitsForInstrumentation:function(){var a=this._FluxMixinLegacyInstrumentationEmittedChangeStores;this._FluxMixinLegacyInstrumentationEmittedChangeStores=null;return a},_logStoreEmitsForInstrumentation:function(a,c){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.storeEmitChange(this,g(this),a||[],c)},componentDidUpdate:function(a,c){b("FluxContainerInstrumentation").onDidUpdate(this,g(this),a,this.props,c,this.state)}};function a(a){b("FluxContainerInstrumentation").hasInstrumentation()&&(a.mixins=a.mixins||[],a.mixins.push(h),a._FluxMixinLegacyInstrumentationCalculateStateCaller=a._callCalculateState,delete a._callCalculateState);return a}}),null);
__d("StoreBasedStateMixinHelper",["invariant","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.subscribeCallback=function(a,b){var c=this.$1.map(function(c){var d=b!=null?function(d){b&&b(c);return a(d)}:a;if(c.hasChanged&&c.getDispatchToken&&c.addListener)return c.addListener(d);else if(c.subscribe)return c.subscribe("change",d);else if(c.addListener)return c.addListener("change",d);else g(0,574)});this.$1.length>0&&this.$2.addSubscriptions.apply(this.$2,c)};c.release=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("PureStoreBasedStateMixin",["invariant","FluxMixinLegacyInstrumentation","StoreBasedStateMixinHelper","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";a=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("FluxMixinLegacyInstrumentation").addInstrumentation({_callCalculateState:function(){return this.constructor.calculateState()},getInitialState:function(){this._onInitialStateForInstrumentation&&this._onInitialStateForInstrumentation();return this._callCalculateState()},UNSAFE_componentWillMount:function(){var a=this;this.constructor.calculateState||g(0,2396);this._recalculateStateID=null;var d=function(){if(a.isMounted()){var b=a._collectStoreEmitsForInstrumentation?a._collectStoreEmitsForInstrumentation():null,c=a._callCalculateState();a.setState(a._logStoreEmitsForInstrumentation!=null?function(){b!=null&&a._logStoreEmitsForInstrumentation&&a._logStoreEmitsForInstrumentation(b);return c}:c)}a._recalculateStateID=null};this._mixin=new(b("StoreBasedStateMixinHelper"))(c);this._mixin.subscribeCallback(function(){a._recalculateStateID===null&&(a._recalculateStateID=b("setImmediate")(d))},this._addStoreEmitForInstrumentation)},componentWillUnmount:function(){this._mixin.release(),this._mixin=null}})};e.exports=a}),null);
__d("StickersStateStore",["FluxReduceStore","StickersActions","StickersConfig","StickersDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({customPack:null,customPackLoaded:!1,customPackNuxContent:null,recentStickers:[],recentStickersLoaded:!1,showFlyout:!1,storePackID:null,threadID:null,trayLoaded:!1,trayPackID:null})};d.reduce=function(a,c){var d=c;c=b("StickersActions").Types;switch(d.type){case c.ADD_RECENT_STICKER:var e=[d.sticker];a.get("recentStickers").forEach(function(a){if(a.id===d.sticker.id)return;e.push(a)});return a.set("recentStickers",e.splice(0,b("StickersConfig").max_mru_stickers));case c.HIDE_FLYOUT:return a.set("showFlyout",!1);case c.LOAD_CUSTOM_STICKER_PACK:return a.set("customPack",d.pack).set("customPackLoaded",!0).set("customPackNuxContent",d.nuxContent);case c.LOAD_RECENT_STICKERS:return a.set("recentStickersLoaded",!0).set("recentStickers",d.stickers);case c.SELECT_STORE_PACK:return a.set("storePackID",d.packID);case c.SELECT_TRAY_PACK:return a.set("trayPackID",d.packID).set("trayLoaded",!0);case c.SHOW_FLYOUT:return a.set("showFlyout",!0).set("threadID",d.threadID);case c.TRAY_LOADED:return a.set("trayLoaded",!0);default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("StickersDispatcher"));e.exports=c}),null);
__d("StickersStoreDialog.react",["cx","DialogFitHeight","FDSSpinner.react","JSResource","LayerAutoFocus","LayerFadeOnHide","LayerHideOnEscape","LayerRefocusOnHide","PureStoreBasedStateMixin","React","RelayFBEnvironment","RelayModern","StickersActions","StickersDispatcher","StickersStateStore","XUIDialog.react","XUIDialogBody.react","createReactClass_DEPRECATED","lazyLoadComponent","prop-types","requireDeferred","isSocialPlugin","requestAnimationFrame","StickersStoreDialogStoreQuery.graphql","StickersStoreDialogPackDetailQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React"),k=b("requireDeferred")("StickerStoreFalcoEvent"),l=b("lazyLoadComponent")(b("JSResource")("StickersStoreView.react").__setRef("StickersStoreDialog.react")),m=b("lazyLoadComponent")(b("JSResource")("StickersStoreDetailView.react").__setRef("StickersStoreDialog.react")),n=688,o=320;a=window.devicePixelRatio||1;var p=Math.ceil(40*(window.devicePixelRatio||1)),q=Math.ceil(88*a),r=Math.ceil(608*a);c=b("createReactClass_DEPRECATED")({displayName:"StickersStoreDialog",mixins:[b("PureStoreBasedStateMixin")(b("StickersStateStore"))],propTypes:{isComposer:b("prop-types").bool,onToggle:b("prop-types").func.isRequired,shown:b("prop-types").bool.isRequired,causalElement:b("prop-types").instanceOf(Element)},getDefaultProps:function(){return{isComposer:!1}},statics:{calculateState:function(){return{packID:b("StickersStateStore").getState().get("storePackID")}}},UNSAFE_componentWillMount:function(){b("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},shouldComponentUpdate:function(a){return!!a.shown},componentDidUpdate:function(a){!a.shown&&this.props.shown?this._logOpen():a.shown&&!this.props.shown&&this._logClose()},_logOpen:function(){k.onReady(function(a){a.log(function(){return{event:"open_store"}})})},_logClose:function(){k.onReady(function(a){a.log(function(){return{event:"close_store"}})})},_renderLoadingStore:function(){return j.jsx("div",{className:"_5r5e",children:j.jsx(b("FDSSpinner.react"),{size:"large"})})},_renderStoreView:function(){var a=this;return j.jsx(b("RelayModern").QueryRenderer,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("StickersStoreDialogStoreQuery.graphql"),variables:{count:20,size:p},render:function(b){var c=b.error;b=b.props;if(c)return null;else if(b){c=a._getDialogWidth();return j.jsx(j.Suspense,{fallback:a._renderLoadingStore(),children:j.jsx(l,{dialogWidth:c,isComposer:a.props.isComposer,packList:b.viewer,shown:a.props.shown})})}return a._renderLoadingStore()}})},_renderStoreDetailView:function(a){var c=this;return j.jsx(b("RelayModern").QueryRenderer,{environment:b("RelayFBEnvironment"),query:i!==void 0?i:i=b("StickersStoreDialogPackDetailQuery.graphql"),variables:{packID:a,profileSize:q,previewWidth:r},render:function(a){var d=a.error;a=a.props;if(d)return null;else if(a){d=a.node;if(d.is_ghost_pack){b("StickersActions").selectStorePack(null);return null}d=c._getDialogWidth();return j.jsx(j.Suspense,{fallback:c._renderLoadingStore(),children:j.jsx(m,{dialogWidth:d,shown:c.props.shown,stickerPack:a.node})})}return c._renderLoadingStore()}})},_onToggle:function(a){var c=this;b("requestAnimationFrame")(function(){return c.props.onToggle(a,c.props.causalElement)})},_getDialogWidth:function(){return b("isSocialPlugin")()&&document.body.offsetWidth<n?o:n},render:function(){var a=this._getDialogWidth(),c=this.state.packID;return j.jsx(b("XUIDialog.react"),{behaviors:{DialogFitHeight:b("DialogFitHeight"),LayerAutoFocus:b("LayerAutoFocus"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerRefocusOnHide:b("LayerRefocusOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},onToggle:this._onToggle,shown:this.props.shown,label:"Stickers Store Dialog",width:a,causalElement:this.props.causalElement,children:j.jsxs(b("XUIDialogBody.react"),{className:"_5rq- autofocus",children:[j.jsx("div",{className:c!=null?"_7vw3":"",children:this._renderStoreView()}),c!=null?this._renderStoreDetailView(c):null]})})}});d=c;e.exports=d}),null);
__d("StickersStoreController",["DOM","React","ReactDOM","StickersActions","StickersStoreDialog.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=null,i=function(a,c){h||(h=b("DOM").create("div"),b("DOM").appendContent(document.body,h)),b("ReactDOM").render(g.jsx(b("StickersStoreDialog.react"),{isComposer:a,onToggle:k,causalElement:c===null?void 0:c,shown:!0}),h)},j=function(){if(!h)return;b("ReactDOM").render(g.jsx(b("StickersStoreDialog.react"),{shown:!1,onToggle:k}),h)},k=function(a,b){a?i(!1,b):j()};a={showStore:function(a,c,d){b("StickersActions").selectStorePack(a),i(!!c,d)}};e.exports=a}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";a=function(){return(window.devicePixelRatio||1)>1};e.exports=a}),null);
__d("MessengerAttachmentRenderer",["cx","CurrentUser","EmojiSticker.react","JSResource","MercuryAttachment","MercuryAudioType","MercuryIDs","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerErrorAttachment.react","MessengerFileAttachment.re","MessengerFromViewerUtils","MessengerHotLikePreview.react","MessengerHotLikeUtils","MessengerPhotosGroup.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerVoiceClipAttachmentReact.re","React","Sticker.react","StickerConstants","StickersActions","StickersPackInTrayQuery","StickersStoreController","StickerUtils","lazyLoadComponent","XStickerAssetController","gkx","isRetina"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerFileAttachment.re").make,i=b("MessengerVoiceClipAttachmentReact.re").make,j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("WorkChatFileAttachment.react").__setRef("MessengerAttachmentRenderer")),l=700,m="sticker:",n="share:",o="_1c_u",p="_3o6m",q=function(a){return a===Object(a)};a={getAttachmentsInsideBubble:function(a,c){var d=this,e=b("MercuryAttachment").get(a).filter(q).filter(function(a){return!d.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(e,a,c)},getAttachmentsOutsideBubble:function(a,c,d,e,f){var g=this,h=b("MercuryAttachment").get(a).filter(q).filter(function(a){return g.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(h,a,c,d,e,f)},_getAttachmentComponents:function(a,c,d,e,f,g){var h=this,i=this._getPhotosGroup(a.filter(b("MercuryAttachment").isPhotoGroupAttachment),c,d,e);a=a.filter(function(a){return!b("MercuryAttachment").isPhotoGroupAttachment(a)}).map(function(a){return h._getAttachmentComponent(a,c,d,e,f,g)});i&&a.push(i);return a},_getAttachmentComponent:function(a,c,d,e,f,g){var h=e&&e.customColor,i=e&&e.onUnwrap,j=e&&e.isVisible,k=e&&e.isFromViewer,l=e&&e.isPageMessage;e=e&&e.onSelect;if(b("MessengerStickerUtils").isStickerAttachment(a))return this._getStickerComponent(a,c,h,i,g);if(this.isEmojiLikeAttachment(a))return this._getEmojiLikeAttachment(a,c,i);if(this.isVoiceClip(a))return this._getVoiceClip(a,c,h,i,g);if(this.isFileAttachment(a))return this._getFileComponent(a,c);if(this.isP2P(a)||this.isShareAttachment(a))return this._getShareAttachment(a,c,d,j,k,l,e,f,g);return this.isErrorAttachment(a)?this._getErrorAttachment(a,c):null},_getStickerComponent:function(a,c,d,e,f){if(c.is_like_preview)return j.jsx(b("MessengerHotLikePreview.react"),{customColor:d,customLike:c.customLike,since:c.like_preview_since,thread:f,location:b("MercuryShareAttachmentRenderLocations").MESSENGER},"hlp:"+c.like_preview_since);e=a.metadata;if(!e){e=b("MessengerHotLikeUtils").getMetadataForHotLike(c.sticker_id);if(!e){e={};a=b("StickerUtils").getScaledDimensions(b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE);var g=a.height;a=a.width;e.height=g;e.width=a}e.stickerID=c.sticker_id}g=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",e.stickerID);a=null;var h=null;b("isRetina")()?(a=e.paddedSpriteURI2x,h=e.spriteURI2x):(a=e.paddedSpriteURI,h=e.spriteURI);var i=e.stickerID.toString();d=j.jsx(b("Sticker.react"),{accessibilityLabel:e.accessibilityLabel,className:"_2poz _ui9",animationTrigger:"hover",customColor:(d=d)!=null?d:void 0,frameCount:e.frameCount||1,frameRate:e.frameRate||b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:e.framesPerCol||1,framesPerRow:e.framesPerRow||1,onStickerClick:function(d,a){if(d==null)return;b("StickersPackInTrayQuery").onIsPackInTray(d,"messages",function(a){a.in_sticker_tray?(b("StickersActions").selectTrayPack(d),b("StickersActions").showStickerFlyout(c.thread_id)):b("StickersStoreController").showStore(d)})},packID:e.packID&&e.packID.toString(),paddedSpriteURI:a,sourceHeight:e.height,sourceURI:g.setEnum("image_type","BestEffortImage").getURI().toString(),sourceWidth:e.width,spriteURI:h,stickerID:i,testID:"sticker",thread:f},m+c.message_id);return d},_getEmojiLikeAttachment:function(a,c,d){d=b("MessengerSupportedEmojiUtils").transferSize(a.size);d=b("MessengerSupportedEmojiUtils").getHotLikeEmojiData(c.body,d)||b("MessengerSupportedEmojiUtils").getHotLikeEmojiDataTransition(c.body,d);if(!d)return this._getErrorAttachment(a,c);a=d.emoji;d=j.jsx(b("EmojiSticker.react"),{className:"_2poz _ui9",emoji:c.body,emojiImage:a,sourceURI:""},m+c.message_id);return d},_getShareAttachment:function(a,c,d,e,f,g,h,i,k){var m,o,p=null;c&&c.platform_xmd&&(p=JSON.parse(c.platform_xmd));o=(o=a)!=null?(o=o.share)!=null?(o=o.messenger_ctas)!=null?(o=o[0])!=null?o.page_id:o:o:o:o;m=(m=a)!=null?(m=m.share)!=null?(m=m.target)!=null?(m=m.items)!=null?(m=m[0])!=null?(m=m.call_to_actions)!=null?(m=m[0])!=null?m.page_id:m:m:m:m:m:m:m;o=o||m;m=o?b("MercuryIDs").getParticipantIDFromUserID(o):c.author;return j.jsx(b("MercuryShareAttachment.react"),{attachment:a.share,isFromViewer:f,isPageMessage:g,isSponsored:c.is_sponsored,isVisible:!!e,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,maxWidth:l,messageID:c.message_id,mnMessageType:p&&p.template_type,onComponentLoaded:d,onSelect:h,pageID:m,threadID:c.thread_id,afterDecorators:i,timestamp:c.timestamp,author:c.author,thread:k},n+c.message_id)},_getVoiceClip:function(a,c,d,e,f){d=b("MessengerFromViewerUtils").isFromViewer(c)?d||void 0:void 0;return j.jsx(i,{thread:f,attachment:a,customColor:d,message:c},"audio:"+c.message_id)},_getErrorAttachment:function(a,c){return j.jsx(b("MessengerErrorAttachment.react"),{attachment:a},"error:"+c.message_id)},_getPhotosGroup:function(a,c,d,e){if(!a.length)return null;var f=e&&e.onUnwrap,g=e&&e.isVisible,h=e&&e.onSelect,i=e&&e.isPageMessage;e=e&&e.pageID;return j.jsx(b("MessengerPhotosGroup.react"),{attachments:a,className:"_2poz _52mr _ui9",count:a.length,isPageMessage:i,isVisible:!!g,message:c,onSelect:h,onUnwrap:function(){f&&f()},pageID:e,onAttachmentLoad:d},"photos:"+c.message_id)},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(o);return a&&a.length?a[0]:b},getSphericalPhotoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(p);return a&&a.length?a[0]:b},_rendersWithoutAttribution:function(a){return a.length!=1||!b("MercuryAttachment").hasAttribution(a[0])},_getFileComponent:function(a,c){return b("CurrentUser").isWorkUser()&&b("gkx")("1817319")?j.jsx(j.Suspense,{fallback:null,children:j.jsx(k,{attachment:a,message:c})},"file:"+a.url):j.jsx(h,{attachment:a},"file:"+a.url)},attachmentShouldAppearOutsideBubble:function(a){return b("MessengerStickerUtils").isStickerAttachment(a)||b("MercuryAttachment").isPhotoGroupAttachment(a)||this.isShareAttachment(a)||this.isP2P(a)||this.isVoiceClip(a)||this.isErrorAttachment(a)||this.isEmojiLikeAttachment(a)||this.isWorkFileAttachment(a)},isPhotosGroupAttachment:function(a){a=a.props.attachments;return!!a&&a.length>1&&a.some(function(a){return!!a&&b("MercuryAttachment").isPhotoGroupAttachment(a)})},isRenderedShareAttachment:function(a){return!!(a.key&&a.key.startsWith(n))},isFileAttachment:function(a){return a.attach_type==="file"},isShareAttachment:function(a){return!!(this._isStoryBased(a)&&!this.isP2P(a)&&(a.share.style_list.indexOf("share")>-1||a.share.style_list.indexOf("fallback")>-1))},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isP2P:function(a){return!!(this._isStoryBased(a)&&a.share.style_list.indexOf("orion")>-1)},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isWorkFileAttachment:function(a){return this.isFileAttachment(a)&&b("CurrentUser").isWorkUser()&&b("gkx")("1817319")},isVoiceClip:function(a){a=a.metadata;return!!a&&(!!a.isAudio||a.type===b("MercuryAudioType").AudioClip||a.type===b("MercuryAudioType").VoiceMessageWithTranscript)},isVoiceClipAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return c.isVoiceClip(a)});return!!a.length},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return q(a)&&c.isP2P(a)});return!!a.length},isSingleVideoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return b("MercuryAttachment").isVideoAttachment(a)});return a.length===1},isSharedVideoAttachmentMessage:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(q).filter(function(a){return c.isSharedVideoAttachment(a)||c.isGenieSharedVideoAttachment(a)});return a.length===1},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSingleSphericalPhotoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(q);if(a.length!==1)return!1;a=a.filter(function(a){return a.photo_encodings&&a.photo_encodings.length!==0}).length===1;return a},isErrorAttachment:function(a){return a.attach_type==="error"}};e.exports=a}),null);
__d("XMessengerDotComSettingsEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/edit/",{})}),null);
__d("MessengerSettingsActions",["AsyncRequest","CurrentEnvironment","MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","MessengerDispatcher","MessengerURIConstants","XMessengerDotComSettingsEditController","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.changeSettings=a;f.changeDesktopNotifs=c;var g=b("keyMirror")({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null});f.Types=g;function a(a){var c=b("XMessengerDotComSettingsEditController").getURIBuilder().getURI();b("CurrentEnvironment").facebookdotcom&&c.setPath(b("MessengerURIConstants").FACEBOOK_PREFIX+c.getPath());new(b("AsyncRequest"))().setData({settings:a}).setURI(c).send();b("MessengerDispatcher").dispatch({type:g.CHANGE_SETTINGS,newSettings:a})}function c(a,c){a&&!b("MessengerDesktopNotifications").isGranted()?b("MessengerDesktopNotifications").requestPermission(function(d){if(d!==b("MessengerDesktopNotificationPermissions").GRANTED){b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED&&(c&&c());return}b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}):b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}}),null);
__d("XMessengerDotComNUXLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logging/promotion/",{promotion_id:{type:"Int",required:!0},instance_log_data:{type:"StringToStringMap",defaultValue:{}}})}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:!0},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"},privacy_mutation_token:{type:"String"}})}),null);
__d("MessengerNotificationBanner.react",["cx","ix","AsyncRequest","Bootloader","CurrentUser","Image.react","MessengerButtonReact.re","MessengerDotComPromotionActionURL","MessengerSettingsActions","MessengerSignals.re","React","XMessengerDotComNUXLoggingController","XQuickPromotionSimpleLoggingController","goURI","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h("86832"),k=h("86833"),l=h("600634");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bannerClosed:!1},d.$5=function(){d.$6(),d.props.promotionID!=null?(new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action","primary").setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send(),d.props.primaryActionURI===b("MessengerDotComPromotionActionURL").turn_on_notification?b("MessengerSettingsActions").changeDesktopNotifs(!0):d.props.primaryActionType==="dialog_url"?b("Bootloader").loadModules(["AsyncDialog"],function(a){a.send(new(b("AsyncRequest"))().setURI(b("nullthrows")(d.props.primaryActionURI)))},"MessengerNotificationBanner.react"):window.open(d.props.primaryActionURI)):d.props.primaryActionURI!=null?b("goURI")(d.props.primaryActionURI,!0):d.props.primaryActionCallback&&d.props.primaryActionCallback()},d.$2=function(){d.$6(),d.props.promotionID!=null&&new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action","dismiss").setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.promotionID==null&&this.setState({bannerClosed:!1})};d.componentDidMount=function(){if(this.$1()||this.props.promotionID==null||b("CurrentUser").isWorkUser())return;new(b("AsyncRequest"))().setURI(b("XMessengerDotComNUXLoggingController").getURIBuilder().setInt("promotion_id",this.props.promotionID).setStringToStringMap("instance_log_data",this.props.instanceLogData).getURI()).send()};d.componentDidUpdate=function(){window.dispatchEvent(new Event("resize"))};d.render=function(){return this.$1()?null:i.jsxs("div",{className:"_2cij",children:[i.jsx(b("Image.react"),{className:"_2cik",onClick:this.$2,src:j}),i.jsx(b("Image.react"),{className:"_2cil",src:this.$3()}),this.props.promotionContent," ",this.$4()]})};d.$1=function(){return this.state.bannerClosed};d.$3=function(){return(this.props.primaryActionURI||"").indexOf("/privacy/response")>-1?l:k};d.$4=function(){return i.jsx(b("MessengerButtonReact.re").make,{className:"_2cim",label:this.props.primaryActionTitle,onClick:this.$5,type:"primary"})};d.$6=function(){this.setState({bannerClosed:!0},function(){b("MessengerSignals.re").resize()})};return c}(i.Component);e.exports=a}),null);
__d("MessengerPromotionDataDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{strict:!0})||this}return b}(b("ExplicitRegistrationReactDispatcher"));c=new a();e.exports=c}),null);
__d("MessengerPromotionDataStore",["FluxStore","MessengerPromotionDataDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerPromotionDataDispatcher"))||this;c.$MessengerPromotionDataStore1=null;c.$MessengerPromotionDataStore2=null;c.$MessengerPromotionDataStore3=null;return c}var d=c.prototype;d.getPromotionData=function(){return this.$MessengerPromotionDataStore1};d.getThreadlistPromotionData=function(){return this.$MessengerPromotionDataStore2};d.getInterstitialPromotionData=function(){return this.$MessengerPromotionDataStore3};d.__onDispatch=function(a){switch(a.type){case"SET_PROMOTION_DATA":this.$MessengerPromotionDataStore1!==a.promotionData&&(this.$MessengerPromotionDataStore1=a.promotionData,this.__emitChange());break;case"SET_THREADLIST_PROMOTION_DATA":this.$MessengerPromotionDataStore2!==a.promotionData&&(this.$MessengerPromotionDataStore2=a.promotionData,this.__emitChange());break;case"SET_INTERSTITIAL_PROMOTION_DATA":this.$MessengerPromotionDataStore3!==a.promotionData&&(this.$MessengerPromotionDataStore3=a.promotionData,this.__emitChange());break}};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("MessengerPromotionDataActions",["MessengerPromotionDataDispatcher"],(function(a,b,c,d,e,f){"use strict";f.setPromotionData=a;f.setThreadlistPromotionData=c;f.setInterstitialPromotionData=d;function a(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_PROMOTION_DATA",promotionData:a})}function c(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_THREADLIST_PROMOTION_DATA",promotionData:a})}function d(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_INTERSTITIAL_PROMOTION_DATA",promotionData:a})}}),null);
__d("MessengerRefreshPrompt",["fbt","CurrentUser","MessengerPromotionDataActions","Visibility","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){e.exports=a;var h=1e3*60*60,i=1e3*60*60*24*3;function a(){var a=Date.now();b("setIntervalAcrossTransitions")(function(){var c=b("CurrentUser").isWorkUser()?g._("A new version of Workplace Chat is available."):g._("A new version of Messenger is available.");Date.now()-a>i&&b("Visibility").once(b("Visibility").VISIBLE,function(){b("MessengerPromotionDataActions").setPromotionData({promotionID:null,promotionContent:c,primaryActionTitle:g._("Refresh"),instanceLogData:{},primaryActionURI:window.location.href}),a=Date.now()})},h)}}),null);
__d("WorkOnboardingLogAction",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT_THREAD_CREATED_WITH_INVITER:"CHAT_THREAD_CREATED_WITH_INVITER",CLICKED_HOWTO_GUIDE:"CLICKED_HOWTO_GUIDE",CREATE_SECRET_GROUP:"CREATE_SECRET_GROUP",CREATE_SECRET_GROUP_FAILED:"CREATE_SECRET_GROUP_FAILED",LANDED_IN_GROUP_START_AFTER_SIGNUP:"LANDED_IN_GROUP_START_AFTER_SIGNUP",NEW_USER_CREATED:"NEW_USER_CREATED",SHOWN_HOWTO_RHC:"SHOWN_HOWTO_RHC",SURVEY_COMPLETED:"SURVEY_COMPLETED",SURVEY_SHOWN:"SURVEY_SHOWN",SURVEY_SKIPPED:"SURVEY_SKIPPED",SURVEY_JOB_TITLE_COMPLETED:"SURVEY_JOB_TITLE_COMPLETED",SURVEY_COMPANY_SIZE_COMPLETED:"SURVEY_COMPANY_SIZE_COMPLETED",SURVEY_ROLLOUT_COMPLETED:"SURVEY_ROLLOUT_COMPLETED",GROUP_BOT_RESPONSE:"GROUP_BOT_RESPONSE",ADD_FEEDBACK_TO_GROUP_NUX_DISSMISSED:"ADD_FEEDBACK_TO_GROUP_NUX_DISSMISSED",ADD_FEEDBACK_TO_GROUP_NUX_SHOWN:"ADD_FEEDBACK_TO_GROUP_NUX_SHOWN",ADD_NEW_MEMBER_NUX_SHOWN:"ADD_NEW_MEMBER_NUX_SHOWN",ADD_NEW_MEMBER_NUX_DISMISSED:"ADD_NEW_MEMBER_NUX_DISMISSED",CREATE_GROUP_NUX_SHOWN:"CREATE_GROUP_NUX_SHOWN",CREATE_GROUP_NUX_DISMISSED:"CREATE_GROUP_NUX_DISMISSED",DEMO_GROUP_NUX_SHOWN:"DEMO_GROUP_NUX_SHOWN",DEMO_GROUP_NUX_DISMISSED:"DEMO_GROUP_NUX_DISMISSED",GROUP_EMPTY_POST_NUX_SHOWN:"GROUP_EMPTY_POST_NUX_SHOWN",GROUP_EMPTY_POST_NUX_DISMISSED:"GROUP_EMPTY_POST_NUX_DISMISSED",LANDING_NUX_SHOWN:"LANDING_NUX_SHOWN",LANDING_NUX_DISSMISSED:"LANDING_NUX_DISSMISSED",POST_TO_GROUP_NUX_DISSMISSED:"POST_TO_GROUP_NUX_DISSMISSED",POST_TO_GROUP_NUX_SHOWN:"POST_TO_GROUP_NUX_SHOWN",GROUP_MODAL_NUX_SHOWN:"GROUP_MODAL_NUX_SHOWN",GROUP_MODAL_NUX_DISMISSED:"GROUP_MODAL_NUX_DISMISSED",CHAT_APP_UPSELL_BANNER_SHOWN:"CHAT_APP_UPSELL_BANNER_SHOWN",CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED:"CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED",CHAT_APP_UPSELL_BANNER_DISMISSED:"CHAT_APP_UPSELL_BANNER_DISMISSED",INSTANCE_ACTIVE_CONDITION_CHECK:"INSTANCE_ACTIVE_CONDITION_CHECK",GROUP_EMPTY_UI_SHOWN:"GROUP_EMPTY_UI_SHOWN",GROUP_EMPTY_POST_CLICKED:"GROUP_EMPTY_POST_CLICKED",NEWSFEED_EMPTY_UI_SHOWN:"NEWSFEED_EMPTY_UI_SHOWN",NEWSFEED_EMPTY_UI_CLICKED:"NEWSFEED_EMPTY_UI_CLICKED",ADD_MEMBER_TO_NEW_GROUP_BUTTON_SHOWN:"ADD_MEMBER_TO_NEW_GROUP_BUTTON_SHOWN",ADD_NEW_MEMBER_TO_SMALL_GROUP_CLICKED:"ADD_MEMBER_TO_NEW_GROUP_CLICKED",GROUP_START_CREATE_GROUP_CLICKED:"GROUP_START_CREATE_GROUP_CLICKED",GROUP_START_FIX_GROUP_SUGGESTIONS:"GROUP_START_FIX_GROUP_SUGGESTIONS",GROUP_START_GROUP_CLICKED:"GROUP_START_GROUP_CLICKED",GROUP_START_JOIN_GROUP_CLICKED:"GROUP_START_JOIN_GROUP_CLICKED",GROUP_START_NAVIGATED_TO:"GROUP_START_NAVIGATED_TO",GROUP_START_SUGGESTED_GROUP_CLICKED:"GROUP_START_SUGGESTED_GROUP_CLICKED",GROUP_START_WATERMARK_SHOWN:"GROUP_START_WATERMARK_SHOWN",GROUP_DASH_NAVIGATED_TO:"GROUP_DASH_NAVIGATED_TO"});e.exports=a}),null);
__d("XWorkplaceDesktopDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/desktop/download/{?file}/",{build:{type:"String"},file:{type:"String"},ref:{type:"String"}})}),null);
__d("WorkplaceChatUpsellBanner.react",["ix","cx","fbt","Promise","BasicFBNux","Bootloader","Event","Image.react","Link.react","React","SubscriptionsHandler","UserAgent","WorkOnboardingLogAction","XUIButton.react","XWorkplaceDesktopDownloadController","asset","cxMargin","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="https://play.google.com/store/apps/details?id=com.facebook.workchat",l="https://itunes.apple.com/app/work-chat/id958124798";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={xOutAppUpsell:!1};c.$2=new(b("SubscriptionsHandler"))();return c}var d=c.prototype;d.componentDidMount=function(){this.$3()};d.componentWillUnmount=function(){this.$2.release()};d.render=function(){return j.jsxs("div",{className:"_3ej0"+(this.state.xOutAppUpsell?" _3ej2":""),children:[i._("Get the app and chat anywhere, anytime"),this.$4(),this.$5()]})};d.$4=function(){var a=null;b("UserAgent").isPlatform("Mac OS X")?a=b("XWorkplaceDesktopDownloadController").getURIBuilder().setString("file","mac").setString("ref","chat_upsell").getURI():b("UserAgent").isPlatform("Windows")&&(a=b("XWorkplaceDesktopDownloadController").getURIBuilder().setString("file","win").setString("ref","chat_upsell").getURI());return j.jsxs("div",{className:"_3-9a",children:[a?this.$6(a.toString(),i._("Desktop App")):null,this.$6(l,i._("iOS")),this.$6(k,i._("Android"))]})};d.$6=function(a,c){var d=this;return j.jsx(b("XUIButton.react"),{target:"_blank",className:"_3ej4",label:c,href:a,onClick:function(){return d.$7(c)}})};d.$5=function(){var a=this;return j.jsx(b("Link.react"),{className:"_7fxb",onClick:function(){return a.$8()},children:j.jsx(b("Image.react"),{alt:"X",src:g("480720")})})};d.$8=function(){this.$9(),this.setState({xOutAppUpsell:!0}),window.setTimeout(function(){return b("Event").fire(window,"resize")},300)};d.$7=function(a){b("promiseDone")(this.$10(),function(b){b=b.logger;b.clear();b.setAction("CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED").addToExtraData("button",a.toString()).log()})};d.$9=function(){b("promiseDone")(this.$10(),function(a){a=a.logger;a.clear();a.setAction("CHAT_APP_UPSELL_BANNER_DISMISSED").log()})};d.$3=function(){b("BasicFBNux").onView(5468),b("promiseDone")(this.$10(),function(a){a=a.logger;a.clear();a.setAction("CHAT_APP_UPSELL_BANNER_SHOWN").log()})};d.$10=function(){var a=this;this.$1||(this.$1=new(b("Promise"))(function(c,d){a.$2.addSubscriptions(b("Bootloader").loadModules(["WorkOnboardingTypedLogger"],function(a,b){b=new a();c({logger:b})},"WorkplaceChatUpsellBanner.react"))}));return this.$1};return c}(j.PureComponent);e.exports=a}),null);
__d("MessengerBanner.react",["MessengerNotificationBanner.react","MessengerPromotionDataDispatcher","MessengerPromotionDataStore","MessengerRefreshPrompt","React","SubscriptionsHandler","WorkplaceChatUpsellBanner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={promotionData:b("MessengerPromotionDataStore").getPromotionData()},d.subscriptions=new(b("SubscriptionsHandler"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("MessengerRefreshPrompt")();b("MessengerPromotionDataDispatcher").explicitlyRegisterStores([b("MessengerPromotionDataStore")]);this.subscriptions.addSubscriptions(b("MessengerPromotionDataStore").addListener(function(){a.setState({promotionData:b("MessengerPromotionDataStore").getPromotionData()})}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){var a=this.state.promotionData;if(this.props.showWorkchatUpsellBanner)return g.jsx(b("WorkplaceChatUpsellBanner.react"),{});return a?g.jsx(b("MessengerNotificationBanner.react"),{promotionID:a.promotionID,promotionContent:a.promotionContent,primaryActionTitle:a.primaryActionTitle,primaryActionType:a.primaryActionType,primaryActionURI:a.primaryActionURI,primaryActionCallback:a.primaryActionCallback,instanceLogData:a.instanceLogData}):null};return c}(g.PureComponent);e.exports=a}),null);
__d("FavIcon",["DOM"],(function(a,b,c,d,e,f){f.isToggledResource=a;f.set=c;f.setToggleResources=d;f.toggle=e;f.toggleSet=k;var g,h,i;function j(){var a=b("DOM").scry(document.head,"link");a&&a.forEach(function(a){(a.rel.indexOf("icon")!=-1||a.rel.indexOf("shortcut icon")!=-1)&&b("DOM").remove(a)})}function a(){return i&&g instanceof HTMLLinkElement&&g.href===i?!0:!1}function c(a){g&&b("DOM").remove(g),j(),g=b("DOM").create("link",{type:"image/x-icon",rel:"icon",href:a}),b("DOM").appendContent(b("DOM").find(document,"head"),g)}function d(a,b){g=document.querySelector('link[rel*=icon][href*=".ico"]'),g instanceof HTMLLinkElement&&(h=b!=null?b:g.href,i=a)}function e(){if(!g||!i)return;if(g.href===h){this.set(i);return}this.set(h)}function k(a){if(!g||!i||!h)return;a=a?i:h;g.href!==a&&this.set(a)}}),null);
__d("MercuryNotificationRenderer",["fbt","CurrentUser","MercuryAssert","MercuryIDs","MercuryViewer","MessengerParticipants.bs","MessengerState.bs"],(function(a,b,c,d,e,f,g){f.renderDocumentTitle=a;var h="source:messenger_growth:event_upcoming_bump";function a(a,c){b("MercuryAssert").isThreadID(a),b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){b("MessengerState.bs").getThreadMessagesRange(b("CurrentUser").getID(),a,0,1,function(e){e=e.length&&e[e.length-1];var f=[];e.tags!==void 0&&(f=f.concat(e.tags));e.log_message_data&&(e.log_message_data.message_type=="confirm_friend_request"||e.log_message_data.message_type=="work_invite_claimed")?c(g._("New contact added")):f.indexOf(h)!==-1?c(g._("You have an upcoming event.")):e&&e.author!=b("MercuryViewer").getID()&&e.author!=null?b("MessengerParticipants.bs").get(e.author,function(e){var f=e.short_name,h=d.custom_nickname;if(h){e=b("MercuryIDs").getUserIDFromParticipantID(e.id);h[e]&&(f=h[e])}d.name?c(g._("{senderName} messaged {groupName}",[g._param("senderName",f),g._param("groupName",d.name)])):b("MercuryIDs").isGroupChat(a)?c(g._("{name} messaged your group",[g._param("name",f)])):c(g._("{name} messaged you",[g._param("name",f)]))}):c(g._("New message"))})})}}),null);
__d("MessengerSettingsStore",["CacheStorage","MessengerDotComSettingsInitialData","MessengerSettingsActions","MessengerStore"],(function(a,b,c,d,e,f){"use strict";var g=new(b("CacheStorage"))("localstorage"),h="desktopNotifsEnabled";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerSettingsStore1=babelHelpers["extends"]({},b("MessengerDotComSettingsInitialData"),{desktopNotifsEnabled:c.$MessengerSettingsStore2()});c.$MessengerSettingsStore1.privacy_section_collapsed=!0;return c}var d=c.prototype;d.getSettings=function(){return this.$MessengerSettingsStore1};d.$MessengerSettingsStore2=function(){return g.get(h,!1)};d.$MessengerSettingsStore3=function(a){g.set(h,a)};d.__onDispatch=function(a){switch(a.type){case b("MessengerSettingsActions").Types.CHANGE_SETTINGS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,a.newSettings);this.emitChange();break;case b("MessengerSettingsActions").Types.CHANGE_DESKTOP_NOTIFS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,{desktopNotifsEnabled:a.desktopNotifsEnabled});this.$MessengerSettingsStore3(a.desktopNotifsEnabled);this.emitChange();break}};return c}(b("MessengerStore"));c=new a();e.exports=c}),null);
__d("MessengerLoggerUtils",["MercuryIDs","MessagingThreadEventTypedLogger","ScriptPath","pageID"],(function(a,b,c,d,e,f){f.logThreadChangeEvent=a;f.log=c;function a(a,b,c,d){c.activeThreadID&&a&&this.log({activeThreadID:c.activeThreadID,event:"inactive",clientEventTimeMs:b,activeTimeMs:b-a}),d.activeThreadID&&this.log({activeThreadID:d.activeThreadID,event:"active",clientEventTimeMs:b,activeTimeMs:0})}function c(a){var c=b("MercuryIDs").tokenize(a.activeThreadID.toString()),d=b("ScriptPath").getPageInfo();new(b("MessagingThreadEventTypedLogger"))().setEvent(a.event).setClientEventTimeMs(a.clientEventTimeMs).setActiveTimeMs(a.activeTimeMs).setPageID(b("pageID")).setPageData(d?d.extraData:{}).setThreadID(c.value).setSource("messenger").log()}}),null);
__d("MessengerURIStore",["LogHistory","MessengerActions","MessengerLoggerUtils","MessengerStore"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("messenger_uri_store");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerURIStore1={activeThreadID:null,folderKey:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,sa:null,seeAllType:null,serverThreadID:null,extraQueryParams:null};b.$MessengerURIStore2=babelHelpers["extends"]({},b.$MessengerURIStore1);b.$MessengerURIStore4=b.$MessengerURIStore3=null;return b}var d=c.prototype;d.getState=function(){return this.$MessengerURIStore1};d.getPrevState=function(){return this.$MessengerURIStore2};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:this.$MessengerURIStore2=this.$MessengerURIStore1;this.$MessengerURIStore4=this.$MessengerURIStore3;this.$MessengerURIStore1=babelHelpers["extends"]({activeThreadID:null,folderKey:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,sa:null,seeAllType:null,serverThreadID:null,extraQueryParams:null,threadsIDs:null},a.nextState);a=Date.now();this.$MessengerURIStore3=a;g.debug("replace_state",JSON.stringify({previousThreadID:this.$MessengerURIStore2.activeThreadID,nextThreadID:this.$MessengerURIStore1.activeThreadID}));b("MessengerLoggerUtils").logThreadChangeEvent(this.$MessengerURIStore4,a,this.$MessengerURIStore2,this.$MessengerURIStore1);this.emitChange();break}};return c}(b("MessengerStore"));c=new a();e.exports=c}),null);
__d("MessengerBrowserAlerts",["fbt","Bootloader","CurrentUser","DocumentTitle","Event","FavIcon","ImageSourceRequest","ImageSourceType","MercuryAttachmentSnippetRenderer","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryNotificationRenderer","MercuryThreadInfo","MercuryThreadInformer","MessagingTag","MessengerActions","MessengerConfig","MessengerDesktopNotifications","MessengerFaviconUrls","MessengerParticipants.bs","MessengerSettingsStore","MessengerState.bs","MessengerURIStore","Sound","UserActivity","WorkplaceChatHelper","clearInterval","gkx","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=8e3,i=80,j=3,k=6e5,l=new Map(),m=null,n=null;function o(){l=new Map()}function p(a){var c=b("MessengerSettingsStore").getSettings().sound_enabled,d=a.action_type=="ma-type:log-message";d=d&&(a.log_message_type=="log:phone-call"||a.log_message_type=="log:video-call")&&a.log_message_data.answered;c&&!d&&b("Sound").play([b("MessengerConfig")["sound.notif_ogg_url"],b("MessengerConfig")["sound.notif_mp3_url"]],a.timestamp,!1)}function q(a,c,d){if(!a.snippet_sender)return;var e=l.get(a.thread_id)||0;if(e>=j)return;l.set(a.thread_id,e+1);b("MessengerParticipants.bs").get(a.snippet_sender,function(e){var f=a.snippet,h=a.custom_nickname&&a.custom_nickname[b("MercuryIDs").getUserIDFromParticipantID(e.id)],i=h?h:e.short_name;!f&&a.snippet_attachments&&a.snippet_attachments.length>0&&(f=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(a.snippet_attachments),!1,i,a.snippet_attachments));h=h?h:e.name;a.is_canonical||(h=a.name?g._("{sender's name} to {group name}",[g._param("sender's name",i),g._param("group name",a.name)]):g._("{sender's name} to your group",[g._param("sender's name",i)]));b("MessengerDesktopNotifications").showNotification({title:h,body:f,icon:a.image_src||c||e.big_image_src||e.image_src,closeTime:null,onClick:function(){window.focus(),b("MessengerActions").selectThread(a.thread_id)},tag:d.message_id,silent:!b("MessengerSettingsStore").getSettings().sound_enabled});b("MessengerDesktopNotifications").hasDefaultSound()||p(d)})}a={_shouldUpdateTitle:!0,init:function(a){var c=this;this._viewer=a;this._threadInformer=b("MercuryThreadInformer").getForFBID(this._viewer);this._highResImageMap=new Map();this._shouldMarkAllAsSeenWhenActive=!0;this._shouldUpdateFavicon=!0;this._enabled=!0;b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(a){c._availabilityStatusStore=a},"MessengerBrowserAlerts"));b("Event").listen(window,"focus",function(){o(),b("clearInterval")(m)});b("Event").listen(window,"blur",function(){m=b("setIntervalAcrossTransitions")(o,k)});this._threadInformer.subscribe("messages-received",function(a,b){for(var d in b)b[d].forEach(function(a){c.handleMessageReceived(a)})});this._threadInformer.subscribe("unseen-updated",this._handleUnseenUpdated.bind(this));this._threadInformer.subscribe("unread-updated",this._handleUnseenUpdated.bind(this))},disable:function(){this._enabled=!1},enable:function(){this._enabled=!0},disableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!1},enableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!0},disableFaviconUpdate:function(){this._shouldUpdateFavicon=!1},disableTitleUpdate:function(){this._shouldUpdateTitle=!1},enableTitleUpdate:function(){this._shouldUpdateTitle=!0},handleMessageReceived:function(a){var c=this;if(!this._enabled)return;var d=b("WorkplaceChatHelper").getIsSystemDoNotDisturbOn();d=d||this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(d||a.author===this._viewer||!a.is_unread||a.thread_id===b("MessengerURIStore").getState().activeThreadID&&b("UserActivity").isOnTab()||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;if(b("CurrentUser").isWorkUser()&&b("CurrentUser").isEmployee()&&!b("gkx")("1516651")&&a.body&&a.body.match(/(@|#)(silent|quiet|silence)([^\w]|$)+/i))return;b("MessengerState.bs").getThreadMeta(this._viewer,a.thread_id,function(d){if(b("MercuryThreadInfo").isMuted(d))if(!b("MercuryThreadInfo").areMentionsMuted(d)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===c._viewer}))return}else return;var e=b("CurrentUser").getID();b("MessengerState.bs").compute(e,function(f){f=f.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(e,f,d))return;b("MessengerSettingsStore").getSettings().desktopNotifsEnabled&&!b("UserActivity").isOnTab()?c._attemptDesktopNotification(d,a):a.log_message_type!=="log:unsubscribe"&&p(a);b("CurrentUser").isWorkUser()?f=b("gkx")("997564")?b("MessengerState.bs").getUnreadThreadCount(c._viewer):b("MessengerState.bs").getUnseenCount(c._viewer):f=b("MessengerState.bs").getUnseenUnreadCount(c._viewer);!b("UserActivity").isOnTab()&&f>0&&b("MercuryNotificationRenderer").renderDocumentTitle(a.thread_id,function(a){!n&&c._shouldUpdateTitle&&(n=b("DocumentTitle").blink(a))})})})},showRTCNotification:function(a,c){var d=this;if(b("UserActivity").isOnTab()){c(null);return}var e=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(e){c(null);return}this._highResImageMap||(this._highResImageMap=new Map());var f=a.peerID;if(!this._highResImageMap.has(f)){e=function(b,e){d._highResImageMap.set(f.toString(),e.uri),d._displayRTCDesktopNotification(e.uri,a,c)};new(b("ImageSourceRequest"))().setFBID(f).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode("p").setCallback(e.bind(null,f)).send()}else this._displayRTCDesktopNotification(this._highResImageMap.get(f),a,c)},_updateFavicon:function(a){if(!this._shouldUpdateFavicon)return;a===0?b("FavIcon").set(b("MessengerFaviconUrls")["default"]):b("FavIcon").set(b("MessengerFaviconUrls").unread)},_displayRTCDesktopNotification:function(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(c.peerID);b("MessengerParticipants.bs").get(e,function(f){var i;c.isVideoCall?c.isGroupCall?i=g._("Incoming Group Video Chat"):i=g._("Incoming Video Call"):c.isGroupCall?i=g._("Incoming Group Call"):i=g._("Incoming call");f=g._("{caller} is calling you. Click to answer.",[g._param("caller",f.short_name)]);e=b("MessengerDesktopNotifications").showNotification({title:i,body:f,icon:a,closeTime:h,onShow:function(){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallImpression({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:"desktop_notification",component:"accept_button"})},"MessengerBrowserAlerts")},onClick:function(){window.focus(),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallClick({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:"desktop_notification",component:"accept_button"})},"MessengerBrowserAlerts"),c.onNotificationClicked()}});d(e)})},_handleUnseenUpdated:function(){var a=this;if(!this._enabled)return;var c=b("MessengerState.bs").getUnseenUnreadCount(this._viewer);if(this._shouldMarkAllAsSeenWhenActive&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&c>0){this._updateFavicon(0);b("MessengerState.bs").markAsSeen(this._viewer);return}this._shouldUpdateTitle&&b("DocumentTitle").badge(c);this._updateFavicon(c);n&&c===0&&(n.stop(),n=null);this._shouldMarkAllAsSeenWhenActive&&!this._focusToken&&c>0&&(this._focusToken=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a._focusToken&&a._focusToken.unsubscribe(),a._focusToken=null,b("MessengerState.bs").markAsSeen(a._viewer))}))},_attemptDesktopNotification:function(a,c){var d=this;if(!a.snippet_sender)return;if(!this._highResImageMap.has(a.snippet_sender)){var e=function(b,e){d._highResImageMap.set(a.snippet_sender,e.uri),q(a,e.uri,c)};new(b("ImageSourceRequest"))().setFBID(b("MercuryIDs").getUserIDFromParticipantID(a.snippet_sender)).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode("p").setCallback(e.bind(null,a.snippet_sender)).send()}else q(a,this._highResImageMap.get(a.snippet_sender),c)}};e.exports=a}),null);
__d("MessengerCodePasteUtils",["cx","MessengerBubble.react","MessengerFormattingUtils","ODS","React"],(function(a,b,c,d,e,f,g){"use strict";f.containsCodeBlock=a;f.getCodeAndMessageBubbles=c;var h=b("React"),i=/`{3,}/,j=3,k=/^\s+/,l=/\s+$/;function a(a){return!!(a!=null&&a.search(i)!==-1)}function m(a,b){var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(l);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*j);d=a[b].match(k);d&&(c+=d[0].length);return c}function n(a,b,c){if(a)return a.map(function(a){return Object.assign(Object.assign({},a),{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function o(a){a=a.split("\n");return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function p(a){var c=b("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===b("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),d=[],e=0,f=0;for(var g=0;g<c.length;g++){var h=c[g];if(h.offset<f)continue;h.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(d.push(a.substring(e,h.offset)),d.push(h.innerText),e=h.offset+h.length);f=h.offset+h.length}d.push(a.substring(e));return d}function c(a,c,d,e,f,g){a=p(a);var i=[],j=0;for(var k=0;k<a.length;k+=2){var l=a[k].trim();if(l&&l.length>0){j+=m(a,k);var q=c?n(c,j,l.length):c;i.push(h.jsx(b("MessengerBubble.react"),{body:l,customColor:e!=null?e:void 0,className:"clearfix _3058 _ui9",isFromViewer:f,ranges:q,threadID:d,thread:g},k))}if(k+1<a.length&&a[k+1]){l=o(a[k+1]);q=l.code;b("ODS").bumpEntityKey(3303,"messenger_code_paste","render_bubble");i.push(h.jsx("div",{className:"_3058 _wu0 _52mr",children:q},k+1))}}return i}}),null);
__d("EmojiOnlyMessage.react",["cx","EmojiImageURL","EmojiLikeConstants","FBEmojiResource","Image.react","MessengerHotlikeEmoji.bs","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_1ift _1ifu",c=0,d=this.props.contents.map(function(d){c++;var e=d.emojiKey;if(e){e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(e)?b("EmojiImageURL").getMessengerURL(e,b("EmojiLikeConstants").sizeMap.dp32):new(b("FBEmojiResource"))(e).getImageURL(b("EmojiLikeConstants").sizeMap.dp32);return h.jsx(b("Image.react"),{alt:d.text,className:a,src:e},c)}else return h.jsx("span",{children:d.text},c)});return h.jsx("div",{tabIndex:"0",children:d})};return c}(h.Component);e.exports=a;a.propTypes={contents:(c=b("prop-types")).arrayOf(c.shape({emojiKey:c.string,text:c.string.isRequired})).isRequired}}),null);
__d("MercuryAttachmentLayoutTypeHelper",[],(function(a,b,c,d,e,f){"use strict";f.isAdminType=a;function a(a){var b;return(a==null?void 0:(b=a.xma_layout_info)==null?void 0:b.layout_type)==="ADMIN"||(a==null?void 0:(b=a.share)==null?void 0:(a=b.xma_layout_info)==null?void 0:a.layout_type)==="ADMIN"}}),null);
__d("MessengerBotComposerWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1193572474099061"};b.getQueryID=function(){return"1132183563559860"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerBotsMenuController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:!0},should_flatten:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerBotMenuDataFetcher",["AsyncRequest","Cache","MessengerBotComposerWebGraphQLQuery","XMessengerBotsMenuController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("Cache"))(),this.$2=new(b("Cache"))()}var c=a.prototype;c.setMenuItemsCache=function(a,b){this.$1.set(a,b)};c.getMenuItems=function(a,c,d){var e=this;if(this.$1.has(a)){c(this.$1.get(a));return}var f=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",a).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload.menu;e.$1.set(a,b);c(b)}).setErrorHandler(function(a){d()}).send()};c.getHasPageSetting=function(a,c,d,e){var f=this;if(!this.$2.has(a)){var g=b("MessengerBotComposerWebGraphQLQuery").getURI({node_id:a});new(b("AsyncRequest"))().setURI(g).setHandler(function(b){b=b.payload.data.node;b=b&&b.commerce_page_settings||[];f.$2.set(a,b);c(b.indexOf(e)!==-1)}).setErrorHandler(function(b){f.$2.set(a,[]),d()}).setAllowCrossPageTransition(!0).send()}g=this.$2.get(a)||[];c(g.indexOf(e)!==-1);return g.indexOf(e)!==-1};return a}();c=new a();e.exports=c}),null);
__d("isMessengerMessageRemoved",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.removed_timestamp!==null&&a.removed_timestamp!==void 0&&a.removed_timestamp!==0||a.attachments!=null&&a.attachments.length>0&&!!a.attachments[0].share&&!!a.attachments[0].share.style_list&&a.attachments[0].share.style_list.length>0&&a.attachments[0].share.style_list[0]==="globally_deleted_message_placeholder"}}),null);
__d("MessageReplyPermissions",["MercuryAttachmentLayoutTypeHelper","MercuryConfig","MessagingTag","MessengerBotMenuDataFetcher","MNCommercePageSetting","RepliedToMessageStatusForGraphQL","emptyFunction","getPageIDFromThreadID","isMessengerMessageRemoved"],(function(a,b,c,d,e,f){"use strict";f.canReplyToMessage=a;f.bubbleContainsRepliedToMessage=c;f.isRepliableMessage=d;f._canRenderM3RedesignReply=e;function a(a){var c=b("getPageIDFromThreadID")(a.thread_id);if(c!=null){c=b("MessengerBotMenuDataFetcher").getHasPageSetting(c,b("emptyFunction"),b("emptyFunction"),b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED);if(c)return!1}if(a.folder===b("MessagingTag").PENDING||a.folder===b("MessagingTag").OTHER)return!1;return b("isMessengerMessageRemoved")(a)?!1:this.isRepliableMessage(a)||this._canRenderM3RedesignReply(a)}function c(a,b){return!b&&this._canRenderM3RedesignReply(a)}function d(a){var c,d=a.log_message_type==="log:video-call"||a.log_message_type==="log:phone-call";if(d)return!1;d=a.attachments&&a.attachments.length>0?a.attachments[0]:null;if(b("MercuryAttachmentLayoutTypeHelper").isAdminType(d))return!1;if(d!==null&&((c=d.share)==null?void 0:c.style_list[0])==="rtc_call_log")return!1;c=d==null?void 0:d.attach_type;return!!a.body||c==="photo"||c==="video"||c==="sticker"||c==="third_party_sticker"||c==="animated_image"||a.attachments&&a.attachments.length>=1}function e(a){if(!b("MercuryConfig").SM3BD)return!1;if(a.status!==b("RepliedToMessageStatusForGraphQL").VALID)return!0;a=a.message;var c=a.attachments&&a.attachments.length===1&&a.attachments[0].attach_type;return!!a.body||b("MercuryConfig").RTPE&&c==="photo"||b("MercuryConfig").RTVE&&c==="video"||b("MercuryConfig").RTSE&&(c==="sticker"||c==="third_party_sticker")||b("MercuryConfig").RTGE&&c==="animated_image"||b("MercuryConfig").RTOAE&&a.attachments&&a.attachments.length>=1}}),null);
__d("MessengerContactActions.re",["MessengerContactActions.bs"],(function(a,b,c,d,e,f){a=b("MessengerContactActions.bs").actions;f.actions=a}),null);
__d("MessengerDecoratorUtil",["invariant","MercuryAttachment","MercuryAttachmentLayoutTypeHelper","MercuryConfig","QE2Logger","gkx","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a===Object(a)};function i(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!=="sticker"&&!p.isP2PAttachment(a);return!!a}function a(a){return i(a)&&b("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])}function c(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.style_list)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"}else return!1}function d(a){return b("gkx")("843916")&&!n(a)}function f(a){if(k(a)||l(a)||b("isMessengerMessageRemoved")(a)||m(a))return!1;var c=j(a);a||g(0,1760);if(!c)return!1;if(p.isCarouselAttachment(c))return!1;if(b("MercuryAttachment").isPhotoGroupAttachment(c))return!0;if(p.isUrlCtaOnlyBusinessAttachment(c))return!0;if(p.isNewForwardEntrypoint(c))return!0;return b("MercuryAttachment").isFileAttachment(c)&&c.message_file_fbid?!0:!1}function j(a){var b=a.attachments&&a.attachments.length===1;return b?a.attachments[0]:null}function k(a){return((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_direct"}function l(a){return b("gkx")("1019832")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_share"}function m(a){return(a=a&&a.attachments&&a.attachments.length>0&&b("MercuryAttachmentLayoutTypeHelper").isAdminType(a.attachments[0]))!=null?a:!1}function n(a){var b;a=j(a);if(!a)return!1;if(((b=a.share)==null?void 0:b.style_list)!=null){return((b=a.share)==null?void 0:b.style_list[0])==="rtc_call_log"}else return!1}function o(a){var c=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid?(c.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())):a.share&&a.share.share_id&&(c.push(a.share.share_id),d.push(a.attach_type)),b("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(c.push(a.message_file_fbid),d.push(a.attach_type))});return{ids:c,types:d}}var p={isEventAttachment:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf("event_reminder")>-1},isOfferAttachment:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf("fbpay_offer")>-1},isApplicationShareReferral:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf("application_share_referral")>-1},isLocationAttachment:function(a){return this._isStoryBased(a)&&(a.share.style_list.indexOf("message_location")>-1||a.share.style_list.indexOf("message_live_location")>-1||a.share.style_list.indexOf("message_multiple_locations")>-1)},isOrderUpdateXMAAttachment:function(a){return this._isStoryBased(a)&&(a.share.style_list.indexOf("shop_order_updates")>-1||a.share.style_list.indexOf("shop_order_updates_collapsed")>-1)},isCarouselAttachment:function(a){a=a==null?void 0:(a=a.share)==null?void 0:a.subattachments;return a!=null&&a.length>1?!0:!1},isUrlCtaOnlyBusinessAttachment:function(a){var b,c,d=this;b=(b=a.share)==null?void 0:b.style_list;c=(c=a.share)==null?void 0:c.target;a=a.attach_type==="share"&&b instanceof Array&&b.indexOf("business_message_items")>-1;if(a&&c!=null){b=this.hasNonWebUrlCTABusinessAttachmentItem(c);if(b)return!1;if(c.items!=null&&c.items.length>0){a=c.items.find(function(a){return d.hasNonWebUrlCTABusinessAttachmentItem(a)});if(a!=void 0)return!1}return!0}return!1},hasNonWebUrlCTABusinessAttachmentItem:function(a){if(a.call_to_actions!=null&&a.call_to_actions.length>0){a=a.call_to_actions.find(function(a){return a.action_type!=2&&a.action_type!=1});if(a!=void 0)return!0}return!1},isBusinessMessageAttachment:function(a){var b;b=(b=a.share)==null?void 0:b.style_list;return a.attach_type==="share"&&b instanceof Array&&b.indexOf("business_message_items")>-1},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return h(a)&&c.isP2P(a)});return!!a.length},isP2P:function(a){return!!(this._isStoryBased(a)&&(a.share.style_list.indexOf("orion")>-1||a.share.style_list.indexOf("orion_request")>-1))},isNewForwardEntrypoint:function(a){var c;c=((c=a)!=null?(c=c.share)!=null?(c=c.style_list)!=null?c[0]:c:c:c)==="montage_direct";c=b("MercuryAttachment").isShareAttachment(a)&&a.share!=null&&a.share.share_id&&!p.isP2P(a)&&!p.isOfferAttachment(a)&&!p.isApplicationShareReferral(a)&&!p.isEventAttachment(a)&&!p.isLocationAttachment(a)&&!p.isOrderUpdateXMAAttachment(a)&&!p.isBusinessMessageAttachment(a)&&!c&&(!a.share.target||!a.share.target.lwa_type);if(!c)return!1;b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");return b("MercuryConfig").MNFWD},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)},isAttachment:i,hasLWA:a,isWECMessage:c,allowForward:f,maybeGetMessageAttachment:j,isMontageDirect:k,isMontageShare:l,isAdminLayoutType:m,isRTCShareMessage:n,getAttachments:o,allowSave:d};e.exports=p}),null);
__d("MessengerReactionStaticEmoji.react",["MessengerTextWithEmoticons.react","React","gkx","requireCond","cr:1536284"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.reaction,d=a.isDefaultReaction;a=a.uri;return b("gkx")("1536285")&&b("cr:1536284")!=null?g.jsx(b("cr:1536284"),{reaction:c}):a!=null?b("MessengerTextWithEmoticons.react").renderEmoji(!1,c,c,!0,a):g.jsx(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:d,renderEmoticons:!0,renderEmoji:!0,text:c})}}),null);
__d("MessengerReactIconSVGM4React.bs",["React","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){c=String(b("bs_belt_Option").getWithDefault(c,22))+"px";return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{d:"M14.4951,17.5 C13.5576,17.5 12.9951,16.75 12.9951,15.5 C12.9951,14.25 13.5576,13.5 14.4951,13.5 C15.4326,13.5 15.9951,14.25 15.9951,15.5 C15.9951,16.75 15.4326,17.5 14.4951,17.5 M21.4951,17.5 C20.5576,17.5 19.9951,16.75 19.9951,15.5 C19.9951,14.25 20.5576,13.5 21.4951,13.5 C22.4326,13.5 22.9951,14.25 22.9951,15.5 C22.9951,16.75 22.4326,17.5 21.4951,17.5 M18.0071,25.0055 C15.7176,25.0055 13.5461,23.9185 12.1981,22.0985 C11.8691,21.6545 11.9626,21.028 12.4061,20.6985 C12.8491,20.369 13.4756,20.4625 13.8041,20.9065 C14.7766,22.2195 16.3481,23.004 18.0071,23.004 C19.6666,23.004 21.2376,22.2195 22.2101,20.9065 C22.5386,20.4625 23.1656,20.3695 23.6086,20.698 C24.0516,21.0275 24.1451,21.6545 23.8166,22.0985 C22.4686,23.9185 20.2971,25.0055 18.0071,25.0055 M18.0001,8 C12.4771,8 8.0001,12.477 8.0001,18 C8.0001,23.523 12.4771,28 18.0001,28 C23.5231,28 28.0001,23.523 28.0001,18 C28.0001,12.477 23.5231,8 18.0001,8 M18.0001,30 C11.3726,30 6.0001,24.6275 6.0001,18 C6.0001,11.3725 11.3726,6 18.0001,6 C24.6276,6 30.0001,11.3725 30.0001,18 C30.0001,24.6275 24.6276,30 18.0001,30",fill:a})],fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:c,width:c,viewBox:"0 0 36 36"})}function c(a){return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{points:"0,26 26,26 26,0 0,0 "}),g.jsx("path",{d:"m19.1311,16.73095c-0.4325,-0.3545 -1.0775,-0.302 -1.441,0.122c-1.171,1.3615 -2.883,2.142 -4.697,2.142c-1.8135,0 -3.526,-0.7805 -4.697,-2.142c-0.363,-0.4225 -1.008,-0.4765 -1.441,-0.122c-0.432,0.355 -0.488,0.986 -0.1245,1.408c1.5605,1.8145 3.8435,2.855 6.2625,2.855c2.4195,0 4.702,-1.0405 6.2625,-2.855c0.3635,-0.422 0.3075,-1.053 -0.1245,-1.408m-2.1355,-7.731c-0.9375,0 -1.5,0.75 -1.5,2c0,1.25 0.5625,2 1.5,2c0.9375,0 1.5,-0.75 1.5,-2c0,-1.25 -0.5625,-2 -1.5,-2m-8,0c-0.9375,0 -1.5,0.75 -1.5,2c0,1.25 0.5625,2 1.5,2c0.9375,0 1.5,-0.75 1.5,-2c0,-1.25 -0.5625,-2 -1.5,-2m4.0045,16c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.6275,0 12,5.3725 12,12c0,6.6275 -5.3725,12 -12,12",fill:a})],fill:"none",fillRule:"evenodd"}),height:"24px",width:"24px",viewBox:"0 0 26 26"})}f.make=a;f.makeSolid=c}),null);
__d("MessengerReactIconSVGM4React.re",["bs_curry","MessengerReactIconSVGM4React.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerReactIconSVGM4React.bs").make,a,c==null?void 0:c);return a};f.make=a;c=function(a){a=b("MessengerReactIconSVGM4React.bs").makeSolid(a.fill);return a};f.makeSolid=c}),null);
__d("EmojiFormat.re",["EmojiFormat.bs"],(function(a,b,c,d,e,f){c=(a=b("EmojiFormat.bs")).codeStringToCodeArray;f.codeStringToCodeArray=c;d=a.codeArrayToCodeString;f.codeArrayToCodeString=d;e=a.codeArrayToUnicode;f.codeArrayToUnicode=e;b=a.codeStringToUnicode;f.codeStringToUnicode=b}),null);
__d("LongpressHook.bs",["bs_curry","React","setTimeout","bs_caml_option","clearTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=g.useRef(void 0),f=g.useCallback(function(a){a=e.current;a!==void 0&&b("clearTimeout")(b("bs_caml_option").valFromOption(a));e.current=void 0},[e]),h=g.useCallback(function(a){a=b("setTimeout")(function(a){b("bs_curry")._1(f,void 0);return b("bs_curry")._1(c,void 0)},d);e.current=b("bs_caml_option").some(a)},[e,f,c,d]),i=g.useCallback(function(c){c=e.current;if(c!==void 0){b("bs_curry")._1(f,void 0);return b("bs_curry")._1(a,void 0)}},[f,a]);g.useEffect(function(){return function(a){return b("bs_curry")._1(f,void 0)}},[f]);return[h,i,f]}f.useLongPress=a}),null);
__d("LongpressHook.re",["bs_curry","LongpressHook.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._3(b("LongpressHook.bs").useLongPress,a.onClick,a.onLongPress,a.ms);return a};f.useLongPress=a}),null);
__d("MessageReactionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1491398900900362"};b.getQueryID=function(){return"254517288326467"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ContextualLayerAutoFlipHorizontal",["ContextualLayerAutoFlip"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValidPositions=function(a){return[a.getPosition()]};return b}(b("ContextualLayerAutoFlip"));e.exports=a}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerHideOnScrollOut"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_4owc"}}));c=a;e.exports=c}),null);
__d("AutoFocusableLink.react",["Link.react","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.autoFocus&&b("ReactDOM").findDOMNode(this).focus()};return c}(b("Link.react"));e.exports=a}),null);
__d("MessengerReactionsFlyoutButtonBootloader.react",["AutoFocusableLink.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerReactionsFlyoutButton.react").__setRef("MessengerReactionsFlyoutButtonBootloader.react"));function a(a){var c=g.jsx(g.Suspense,{fallback:g.jsx(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName}),children:g.jsx(h,babelHelpers["extends"]({},a,{className:a.iconClassName}))});return g.jsxs("li",{className:a.interactionClassName,children:[" ",c," "]})}}),null);
__d("MessengerReactionNames",[],(function(a,b,c,d,e,f){a=Object.freeze({LOVE:"love",HAHA:"haha",WOW:"wow",SAD:"sad",ANGRY:"angry",THUMBSUP:"thumbsup",THUMBSDOWN:"thumbsdown"});e.exports=a}),null);
__d("MessengerReactionsUtil.bs",["gkx","bs_js_dict","bs_caml_obj","EmojiFormat.bs","MessengerReactionNames"],(function(a,b,c,d,e,f){"use strict";c=b("gkx")("1333897")?10084:128525;d=b("gkx")("1536285")?[{name:b("MessengerReactionNames").THUMBSUP,emojis:[128077]},{name:b("MessengerReactionNames").LOVE,emojis:[10084]},{name:b("MessengerReactionNames").HAHA,emojis:[128518]},{name:b("MessengerReactionNames").WOW,emojis:[128558]},{name:b("MessengerReactionNames").SAD,emojis:[128546]},{name:b("MessengerReactionNames").ANGRY,emojis:[128544]}]:[{name:b("MessengerReactionNames").LOVE,emojis:[c]},{name:b("MessengerReactionNames").HAHA,emojis:[128518]},{name:b("MessengerReactionNames").WOW,emojis:[128558]},{name:b("MessengerReactionNames").SAD,emojis:[128546]},{name:b("MessengerReactionNames").ANGRY,emojis:[128544]},{name:b("MessengerReactionNames").THUMBSUP,emojis:[128077]},{name:b("MessengerReactionNames").THUMBSDOWN,emojis:[128078]}];var g={};d.forEach(function(a,c){g[b("EmojiFormat.bs").codeArrayToUnicode(a.emojis)]=c+1|0});function a(a,c){a=b("bs_js_dict").get(g,a);c=b("bs_js_dict").get(g,c);if(a!==void 0)if(c!==void 0)return a-c|0;else return-1;else if(c!==void 0)return 1;else return 0}e=d.map(function(a){return b("EmojiFormat.bs").codeArrayToUnicode(a.emojis)});var h=d.map(function(a){var c=a.name;return b("EmojiFormat.bs").codeArrayToUnicode(b("bs_caml_obj").caml_equal(c,b("MessengerReactionNames").LOVE)?[128151]:a.emojis)}),i=d.findIndex(function(a){return a.name===b("MessengerReactionNames").LOVE}),j=128151;f.loveEmojiCode=c;f.growingHeartEmojiCode=j;f.reactionsSortOrder=d;f.orderMap=g;f.sortFunction=a;f.defaultReactions=e;f.solidReactions=h;f.loveEmojiIndex=i}),null);
__d("MessengerReactionsUtil.re",["bs_curry","MessengerReactionsUtil.bs"],(function(a,b,c,d,e,f){c=(a=b("MessengerReactionsUtil.bs")).reactionsSortOrder;f.reactionsSortOrder=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerReactionsUtil.bs").sortFunction,a,c);return a};f.sortFunction=d;e=a.defaultReactions;f.defaultReactions=e;c=a.solidReactions;f.solidReactions=c;d=a.loveEmojiIndex;f.loveEmojiIndex=d}),null);
__d("MessengerViewer",["CurrentUser","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(b("CurrentUser").getID());e.exports=c}),null);
__d("getThreadTypeNameFromThreadType",["MessagingThreadType"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var c in b("MessagingThreadType"))if(b("MessagingThreadType")[c]===a)return c;return""}}),null);
__d("MessengerReactionsMenu.react",["cx","fbt","DOMContainer.react","EmojiFormat.re","Keys","MercuryIDs","MercuryThreadActions","MessageReactionMutationWebGraphQLMutation","MessengerMessageActionsTypedLogger","LongpressHook.re","MessengerReactionsContextualDialog.react","MessengerReactionsFlyoutButtonBootloader.react","MessengerReactionStaticEmoji.react","MessengerReactionsUtil.re","MessengerState.re","MessengerSupportedEmojiUtils","MessengerViewer","React","XAsyncRequest","emptyFunction","getThreadTypeNameFromThreadType","objectValues","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryThreadActions").get(),j=b("React"),k=function(a){var b=a.reaction,c=a.isCurrent;a=babelHelpers.objectWithoutPropertiesLoose(a,["reaction","isCurrent"]);return j.jsx("span",babelHelpers["extends"]({role:"option",tabIndex:"0",className:"_1z8r"+(c?" _5-2b":""),"aria-selected":c,"aria-label":b,id:b},a))},l=function(a){var c=a.onClick,d=a.onLongPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["onClick","onLongPress"]);c=b("LongpressHook.re").useLongPress({onClick:c,onLongPress:d,ms:750});d=c[0];var e=c[1];c=c[2];return j.jsx(k,babelHelpers["extends"]({onTouchStart:d,onMouseDown:d,onMouseUp:e,onTouchEnd:e,onMouseLeave:c},a))};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={animations:{},reactions:b("MessengerReactionsUtil.re").defaultReactions.map(function(a){return{name:a}})},d.$6=function(){d.props.setUseSolidReaction&&d.props.setUseSolidReaction(!!d.props.isSolidReaction)},d.$4=function(a){a||d.props.onHide()},d.$7=function(a){return function(c){c=c.charCode;c===b("Keys").RETURN&&d.$5(a)}},d.$10=function(a){d.$5(b("EmojiFormat.re").codeArrayToUnicode(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.UNSAFE_componentWillReceiveProps=function(){this.$2()};d.componentWillUnmount=function(){b("objectValues")(this.state.animations).forEach(function(a){a.renderer&&typeof a.renderer.pause==="function"&&a.renderer.pause()}),this.$1&&this.$1.cancel()};d.$2=function(){var a=b("MessengerState.re").getThreadMetaNow(this.context,this.props.message.thread_id);a=a==null?void 0:a.reactions;if(a){this.setState({reactions:a.map(function(a){return{name:a.reactionEmoji,uri:a.staticAssetUri}})});return}a=this.$3().slice();var c=this.props.message.reactions;c=c&&c[this.context];b("qex")._("705431")&&c!=null&&c!=""&&!a.includes(c)&&a.push(c);this.setState({reactions:a.map(function(a){return{name:a}})})};d.render=function(){var a=this,c=this.context,d=this.props.message.reactions&&this.props.message.reactions[c];c=b("MessengerState.re").getThreadMetaNow(this.context,this.props.message.thread_id);var e=(c==null?void 0:c.theme_id)||"";return j.jsx(b("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,"data-testid":void 0,shown:!0,onBlur:this.props.onHide,onToggle:this.$4,children:j.jsxs("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2",children:[this.state.reactions.map(function(c,f){var g=c.name,h=e+g,i=a.$3().includes(g),m=function(){return a.$5(g)};f=!!(f===b("MessengerReactionsUtil.re").loveEmojiIndex&&b("qex")._("1415783"));h=a.state.animations[h]?j.jsx(b("DOMContainer.react"),{children:a.state.animations[h].element}):j.jsx(b("MessengerReactionStaticEmoji.react"),{reaction:g,isDefaultReaction:i,uri:c.uri});return f?j.jsx(l,{reaction:g,isCurrent:g===d,onClick:m,onLongPress:a.$6,onKeyPress:a.$7(g),children:h},g):j.jsx(k,{reaction:g,isCurrent:g===d,onClick:m,onKeyPress:a.$7(g),children:h},g)}),this.$8()]})})};d.$3=function(){return this.props.isSolidReaction===!0?b("MessengerReactionsUtil.re").solidReactions:b("MessengerReactionsUtil.re").defaultReactions};d.$9=function(a){return!this.$3().includes(a)?b("MessengerSupportedEmojiUtils").getSupportedEmojiKey(a):a};d.$8=function(){var a=this.props.message,c={onSelect:this.$10,getInput:b("emptyFunction")};a=a.thread_id;var d=this.state.reactions.length!==b("MessengerReactionsUtil.re").defaultReactions.length;return b("qex")._("705431")&&!d?j.jsx(b("MessengerReactionsFlyoutButtonBootloader.react"),{contextRef:this.props.refProp,dialogProps:{offsetX:140,offsetY:53},flyoutAlignment:"right",flyoutProps:c,iconClassName:"_70b-",interactionClassName:"_1z8r",threadID:a,title:h._("Choose an emoji")},"emojireact"):null};d.$11=function(){i.markRead(this.props.message.thread_id),i.markSeen(this.props.message.thread_id)};d.$5=function(a){var c=this,d=this.props,e=d.message,f=d.entryPoint,g=this.context,h=e.reactions&&e.reactions[g],i=b("MessengerState.re").getServerMessageID(g,e.message_id);d=b("MessageReactionMutationWebGraphQLMutation").getURI({action:a===h?"REMOVE_REACTION":"ADD_REACTION",message_id:i,actor_id:g,reaction:a});var j=function(d){var j=e.other_user_fbid||e.thread_fbid,k=b("MessengerState.re").getThreadMetaNow(g,e.thread_id),l=k&&k.participants?k.participants.length:0;k=b("getThreadTypeNameFromThreadType")(k&&k.thread_type);var m=e.attachments[0];l=new(b("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(e.offline_threading_id).setMid(i).setRecipientID(b("MercuryIDs").getUserIDFromParticipantID(e.author)).setEntryPoint(f).setReaction(c.$9(a)).setPreviousReaction(c.$9(h)).setGroupSize(l).setThreadType(k).setThreadid(j);d.errorSummary!=null&&(l=l.setErrorText(d.errorSummary.toString()));m!=null&&(l=l.setMessageType(m.attach_type));l.log();c.$11()};new(b("XAsyncRequest"))(d).setMethod("POST").setHandler(j).send();this.props.onHide()};return c}(j.Component);e.exports=a;a.contextType=b("MessengerViewer")}),null);
__d("MessengerReactionsPrompt.react",["cssVar","cx","fbt","ix","ChatOptions","ChatSidebarDropdownConstants","CurrentUser","Image.react","MessengerDotComAndInboxM4Check.re","MessengerReactIconSVGM4React.re","MessengerReactionsMenu.react","React","WorkChatRedesignedMessageListCheck.re","asset","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hover:!1,open:!1},c.$3=function(a){c.props.onReactionSwap&&(c.props.onReactionSwap(a),c.$4())},c.$2=function(a){a.stopPropagation(),c.setState({open:!0},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!0)},c.$4=function(){c.setState({open:!1},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;if(this.props.isActive!==!0&&!this.state.open)return null;var c=null;if(this.props.isEdit===!0&&b("WorkChatRedesignedMessageListCheck.re").enabled){var d=this.state.hover||this.state.open?j("559624"):j("559623");c=k.jsx(b("Image.react"),{src:d})}else if(b("WorkChatRedesignedMessageListCheck.re").enabled){d=this.state.hover||this.state.open?j("895450"):j("895449");c=k.jsx(b("Image.react"),{src:d})}else if(this.props.isQuickAdd){d=j("278123");c=k.jsx(b("Image.react"),{src:d})}else if(b("CurrentUser").isWorkUser()){d=this.state.open?j("559649"):j("559648");c=k.jsx(b("Image.react"),{src:d})}else if(b("MessengerDotComAndInboxM4Check.re").yes)c=b("MessengerReactIconSVGM4React.re").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)");else{d=this.state.open?j("559646"):j("559647");c=k.jsx(b("Image.react"),{src:d})}d=i._("React");var e=b("tooltipPropsFor")(d,"above",b("WorkChatRedesignedMessageListCheck.re").enabled?"right":"center");return k.jsxs("button",babelHelpers["extends"]({},e,{className:"_8sop"+(this.props.isQuickAdd?"":" _5zvq")+(b("MessengerDotComAndInboxM4Check.re").yes&&!this.props.isQuickAdd?" _7i2o":"")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?this.$1:this.$2,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})},"aria-hidden":"true",tabIndex:-1,"aria-label":d,"data-testid":void 0,ref:"button",children:[c,this.renderMenu()]}))};d.renderMenu=function(){var a=this;return!this.state.open?null:k.jsx(b("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",setUseSolidReaction:this.props.onReactionSwap&&this.$3,isSolidReaction:b("ChatOptions").getSetting(b("ChatSidebarDropdownConstants").SOLID_REACTION),message:this.props.message,onHide:this.$4,refProp:function(){return a.refs.button}})};d.$1=function(a){a.stopPropagation()};return c}(k.Component);e.exports=a}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryConfig","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerReactionsPrompt.react","MessengerReactionStaticEmoji.react","MessengerReactionsUtil.bs","MessengerState.re","MessengerWebViewReactionsTypedLogger","React","ShimButton.react","TooltipData","WorkChatRedesignedMessageListCheck.re","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="ALL",k=b("CurrentUser").getID(),l=3,m=9;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={reactionsPromptShown:!1},d.$1=function(a){d.setState({reactionsPromptShown:a})},d.$3=function(){var a=b("MessengerEnvironment").messengerui,c=d.props,e=c.isFromViewer,f=c.message,g=c.participants;c=f.reactions;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(f.message_id).setSenderID(f.author).setEmojiGroup(j).setEmojiGroupCount(Object.values(c).length).log();a?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,b){var c=b.jsComponent;a.showDialog(function(){return i.jsx(c,{isFromViewer:e,participants:g,message:f})})},"MessengerReactions.react"):b("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(f,g,e)},"MessengerReactions.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.message,d=a.participants,e=a.hovered;a=a.renderQuickAdd;var f=c.reactions,g=c.attachments,j=g&&g.length===1&&b("MercuryConfig").MNFWD&&f&&Object.keys(f).length===0;if(j&&g[0].attach_type==="sticker")return null;if(!this.state.reactionsPromptShown&&!e&&j&&g[0].attach_type==="share")return null;if(g[0]&&g[0].attach_type==="share"&&!g[0].share)return null;if(((e=g[0])!=null?(e=e.share)!=null?(e=e.style_list)!=null?e[0]:e:e:e)==="montage_direct")return null;if((!f||!d)&&!a)return null;var m={},n=0;j=!1;Object.entries(f||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===k&&(j=!0),m[a]||(m[a]=0),m[a]++,n++)});if(b("WorkChatRedesignedMessageListCheck.re").enabled&&n===0)return null;var o=(g=b("MessengerState.re").getThreadMetaNow(k,this.props.message.thread_id))==null?void 0:g.reactions;e=Object.keys(m).sort(b("MessengerReactionsUtil.bs").sortFunction).slice(0,l).map(function(c,d,a){var e,f=b("MessengerReactionsUtil.bs").defaultReactions.includes(c);e=o==null?void 0:(e=o.find(function(a){return a.reactionEmoji===c}))==null?void 0:e.staticAssetUri;return i.jsx("span",{className:"_4kf5","data-testid":void 0,style:{zIndex:a.length-d,marginLeft:d===0?0:"-4px"},children:i.jsx(b("MessengerReactionStaticEmoji.react"),{reaction:c,isDefaultReaction:f,uri:e})},c)});d=n>0?i.jsx("span",{className:"_4kf5 _4kf6"+(j?" _fy2":""),children:n}):null;f=a&&!j||b("WorkChatRedesignedMessageListCheck.re").enabled?i.jsx("div",{className:"_aou _aov"+(b("WorkChatRedesignedMessageListCheck.re").enabled&&j?" _7w5w":""),children:i.jsx("span",{className:"_aow",children:i.jsx(b("MessengerReactionsPrompt.react"),{message:c,isActive:!0,isEdit:j,isQuickAdd:!0,setReactionsPromptShown:this.$1})})}):null;g=b("TooltipData").propsFor(this.$2());return i.jsx("div",{className:"_8rnv preview",children:i.jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:g,{className:"_7ef9",children:[i.jsxs(b("ShimButton.react"),babelHelpers["extends"]({"aria-label":h._("View message reactions")},b("WorkChatRedesignedMessageListCheck.re").enabled?g:{},{className:"_aou",onClick:this.$3,children:[e,d]})),f]}))})};d.$2=function(){var a=this.props.message.reactions,c=this.props.participants;if(!a||!c)return"";a=Object.keys(a);var d=a.reduce(function(a,d){if(a.length>=m+1)return a;d=b("MercuryIDs").getParticipantIDFromUserID(d);d=c.get(d)||b("MessengerParticipants.bs").getNow(d);d=d&&d.name;d&&a.push(d);return a},[]),e=d.length,f=d.join("\n");if(a.length>e){d.pop();e=h._("and {count} others",[h._param("count",a.length-d.length)]);f=d.join("\n")+"\n"+e.toString()}return f};return c}(i.Component);e.exports=a;a.propTypes={isFromViewer:(c=b("prop-types")).bool.isRequired,message:c.object.isRequired,participants:c.object,renderQuickAdd:c.bool,hovered:c.bool}}),null);
__d("MessengerDecorator",["cx","BootloadedComponent.react","BootloaderResource","CurrentUser","FantaMessageActions","JSResource","MercuryConfig","MessageReplyPermissions","MessagingTag","MessengerDecoratorUtil","MessengerEnvironment","MessengerReactions.react","MessengerState.re","QE2Logger","React","WorkChatRedesignedMessageListCheck.re","gkx","isMessengerMessageRemoved","lazyLoadComponent","nullthrows","requireCond","cr:1415252","cr:1415253"],(function(a,b,c,d,e,f,g){"use strict";f.getBeforeDecorators=a;f.getAfterDecorators=c;f.getInnerDecorators=d;var h=b("React"),i=(e=b("lazyLoadComponent"))((g=b("JSResource"))("MessengerMessageActionItemList").__setRef("MessengerDecorator")),j=e(g("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator")),k=e(g("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator")),l=e(g("WorkChatMessageSavedDecorator.react").__setRef("MessengerDecorator")),m=e(g("WorkChatMessageSaveAction.react").__setRef("MessengerDecorator")),n=[{name:"Saved",check:function(a,c){return b("gkx")("843916")&&a.tags!=null&&a.tags.includes("message:save")},render:function(a,b,c,d){return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(l,{})},"saved:"+a.message_id)},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Pinned",check:function(a,c){if(!b("CurrentUser").isWorkUser())return!1;c=a.thread_id;if(c==null||b("cr:1415253")==null)return!1;c=b("MessengerState.re").getThreadMetaNow(b("CurrentUser").getID(),c);return c==null||c.thread_fbid==null?!1:b("cr:1415253").isMessagePinned(a,c)},render:function(a,c,d,e){d=(c=b("nullthrows"))(b("cr:1415252"));e=c(a.thread_id);e=c(b("MessengerState.re").getThreadMetaNow(b("CurrentUser").getID(),e));c=c(e.thread_fbid);return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(d,{messageID:a.message_id,thread:e,threadFBID:c})},"pinned:"+a.message_id)},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Reactions",check:function(a,c){if(b("MessengerDecoratorUtil").isMontageDirect(a)||b("MessengerDecoratorUtil").isMontageShare(a)||b("MessengerDecoratorUtil").isAdminLayoutType(a))return!1;var d=!!(a.reactions&&Object.keys(a.reactions).length>0);b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");c=!!(!c&&(b("WorkChatRedesignedMessageListCheck.re").enabled||b("MessengerDecoratorUtil").allowForward(a)||b("MessengerDecoratorUtil").isAttachment(a)&&b("MercuryConfig").MNFWD));return(d||c)&&!b("MessengerDecoratorUtil").hasLWA(a)&&!b("MessengerDecoratorUtil").isWECMessage(a)},render:function(a,c,d,e){var f=b("MessengerDecoratorUtil").allowForward(a)||b("MessengerDecoratorUtil").isAttachment(a)&&b("MercuryConfig").MNFWD;return h.jsx(b("MessengerReactions.react"),{isFromViewer:c,message:a,renderQuickAdd:f&&!c,hovered:e,participants:d&&d.participants},a.message_id+"-reactions")},getAdditionalClassNames:function(){return"_5z-5"}}],o=[{name:"MontageReply",check:function(a){if(!b("MercuryConfig").MontageThreadViewer||b("MessengerDecoratorUtil").isAdminLayoutType(a))return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,c,d){d=a.montage_reply_data&&a.montage_reply_data.message_id;var e=a.montage_reply_data&&a.montage_reply_data.reply_action,f=a.montage_reply_data&&a.montage_reply_data.snippet;return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("gkx")("1031642")?b("JSResource")("MercuryMontageReplyStoryQueryContainer.react").__setRef("MessengerDecorator"):b("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,messageID:d,replyAction:e,replyAuthorID:a.author,replySnippet:f,threadID:a.thread_id},"montagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message||b("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:b("gkx")("678600")||b("MercuryConfig").M3CRE},render:function(a,c,d){return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id,scrollToRepliedMessage:d&&d.scrollToRepliedMessage,customColor:d&&d.customColor,gradientColors:d&&d.gradientColors,solidColor:d&&d.solidColor,nicknames:d&&d.nicknames,messageBody:a.body},"messagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageForward",check:function(a){return!b("MessengerEnvironment").messengerui||!a.is_forwarded||b("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:b("gkx")("974812")},render:function(a,c,d){var e=a.attachments.length>0?a.attachments[0].attach_type:"unknown";return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("JSResource")("MessengerForwardDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,threadID:a.thread_id,customColor:d&&d.customColor,messageBody:a.body,attachmentType:e},"messageforward:"+a.message_id)},getAdditionalClassNames:function(){return null}}],p=[{name:"ForwardImages",isAlwaysVisible:!0,check:function(a){return b("MessengerDecoratorUtil").allowForward(a)},render:function(a,c){var d=b("MessengerDecoratorUtil").getAttachments(a),e=d.ids;d=d.types;return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("MessengerEnvironment").messengerui?b("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):b("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:e,attachmentTypes:d,isFromViewer:c},"forwardimages:"+a.message_id)},getAdditionalClassNames:function(){return"_ylc"}},{name:"ReactionPrompt",check:function(a){return b("MessengerDecoratorUtil").isMontageDirect(a)||b("MessengerDecoratorUtil").isMontageShare(a)||b("isMessengerMessageRemoved")(a)||b("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:!b("MessengerDecoratorUtil").allowForward(a)&&!b("MessengerDecoratorUtil").hasLWA(a)},render:function(a,c,d){c=b("MercuryConfig").MNFWD&&b("MessengerDecoratorUtil").isAttachment(a);return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,isActive:!c&&(!a.folder||a.folder===b("MessagingTag").INBOX),onReactionSwap:d&&d.onReactionSwap,onShowMenu:d&&d.onShowMenu},"reactionprompt:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerSaveAction",check:function(a){return b("MessengerDecoratorUtil").allowSave(a)},render:function(a){return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(m,{isActive:!b("isMessengerMessageRemoved")(a),message:a})},"messagesaveicon:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerUIReplyAction",check:function(a){if(b("MessengerDecoratorUtil").isMontageShare(a))return!1;return b("MessageReplyPermissions").canReplyToMessage(a)?b("MessengerEnvironment").messengerui:!1},render:function(a,c,d){return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("JSResource")("MessengerMessageReplyAction.react").__setRef("MessengerDecorator"),message:a,onReplyToMessage:d&&d.onReplyToMessage},"messagereplyaction:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return b("MessengerDecoratorUtil").isMontageDirect(a)||b("MessengerDecoratorUtil").isMontageShare(a)||b("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:!0},render:function(a,c,d){var e=b("MessengerDecoratorUtil").isMontageDirect(a)||b("MessengerDecoratorUtil").isMontageShare(a)?!1:(b("MessengerDecoratorUtil").allowForward(a)||b("MessengerDecoratorUtil").isAttachment(a)&&b("MercuryConfig").MNFWD)&&!b("MessengerDecoratorUtil").hasLWA(a),f=b("MessengerEnvironment").messengerui||(d==null?void 0:d.onReplyToMessage)!=null?d==null?void 0:d.onReplyToMessage:function(){return b("FantaMessageActions").replyToMessage(a,a.thread_id)};b("BootloaderResource").preload(b("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator"));return h.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:h.jsx("div",{}),bootloadLoader:b("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:!0,onShowMenu:d&&d.onShowMenu,isFromViewer:c,includeReactions:e,isShowingOriginal:d&&d.isShowingOriginal,hasFormatting:d&&d.hasFormatting,onToggleOriginal:d&&d.handleToggleOriginal,onReplyToMessage:f,isSavedView:d&&d.isSavedView,renderActionItems:function(g){var l=g.closeActionList;g=g.openReactionsPopover;if(d==null?void 0:d.isSavedView)return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(k,{closeActionList:l})},"MessengerSavedMessageActionItemList");else if(b("isMessengerMessageRemoved")(a))return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(j,{closeActionList:l,isFromViewer:c,message:a})},"MessengerRemovedTombstoneActionItemList");else return h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(i,{closeActionList:l,hasFormatting:d&&d.hasFormatting,includeReactions:e,isFromViewer:c,isShowingOriginal:d&&d.isShowingOriginal,message:a,onReplyToMessage:f,onToggleOriginal:d&&d.handleToggleOriginal,openReactionsPopover:g})},"MessengerMessageActionItemList")}},"messageactions:"+a.message_id)},getAdditionalClassNames:function(){return null}}];function a(){return o}function c(){return n}function d(){return p}}),null);
__d("shouldNotRenderSegoe",["MessengerConfig","UserAgent"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new RegExp("[\u0530-\u05f4\u10a0-\u10ff]"),h=b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Windows 10");function a(a){return!b("MessengerConfig").SegoeUIDisabled&&h&&g.test(a)}}),null);
__d("MessengerBubble.react",["cx","requireCond","EmojiOnlyMessage.react","FlexLayout.react","MercuryIDs","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerActions","MessengerCodeBubble.re","MessengerColors","MessengerContactActions.re","MessengerCustomColorUtils.bs","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","cr:1398876","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","cr:1398877","WorkChatRedesignedMessageListCheck.re","gkx","goURI","immutable","joinClasses","prop-types","shouldNotRenderSegoe"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerCodeBubble.re").make,i=b("MessengerContactActions.re").actions,j=b("React"),k=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={emojis:void 0},d.$2=function(a,c,e){switch(a){case i.MESSAGE:d.$3(c,e);break;case i.PROFILE:a=b("MercuryIDs").getParticipantIDFromUserID(c.id);a=d.props.participants&&d.props.participants.get(a);if(a&&a.href){var f=b("MessengerEnvironment").messengerdotcom;f?window.open(a.href):b("goURI")(a.href)}else d.$3(c,e);break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}};d.$1=function(){if(this.props.message!=null&&this.props.message.thread_id!=null&&this.props.message.tags!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a,b,c=this.props.message;a=(a=c.attachments[0].share)==null?void 0:(a=a.target)==null?void 0:a.sender_wec_number;b=(b=c.attachments[0].share)==null?void 0:(b=b.target)==null?void 0:b.sender_wec_number_formated;var d=c.thread_id.replace("user:",""),e=c.tags[k]!=="source:wa_callback",f=this.props.participants!=null&&this.props.participants.last()!=null&&this.props.participants.last().wec_group_participant_count==null;c=(c=c.attachments[0].share)==null?void 0:(c=c.target)==null?void 0:c.sender_wec_name;if(e||d===a||!this.props.wecFirstMessage||f)return null;if(a!=null&&c!=null)if(a===c)return j.jsx("div",{className:"_7ox8",children:b});else return j.jsxs("div",{className:"_7ox8",children:[b,"  ~",c]})}return null};d.render=function(){var a=this,c=!1,d=null;this.state.emojis?d=j.jsx(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=!0,d=j.jsx(b("MercuryMessageBody.react"),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER}));var e=[],f=[],g=this.props.message,i=!!this.props.isFromViewer;g&&!this.props.excludeAfterDecorators&&(b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(g,i)&&(e.push(b.render(g,i,a.props)),f.push(b.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(g,i)&&f.push(a.getAdditionalClassNames())}));var k=f.join(" "),l=null;this.props.body&&(this.props.containsCode?l=j.jsx(h,{body:this.props.body,className:this.props.className,customColor:this.props.customColor,isFromViewer:this.props.isFromViewer===!0,ranges:this.props.ranges||[],threadID:this.props.threadID||"",thread:this.props.thread}):this.props.is_forwarded&&b("gkx")("974812")?l=j.jsxs("blockquote",{className:"_8720",children:[j.jsx("div",{className:"_8721"}),d]}):l=j.jsxs("div",{className:"_aok"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2m":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w6-":""),tabIndex:0,children:[d,this.props.attachments]}));var m=this.props.repliedToMessage&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.repliedToMessage,!!(!this.props.containsCode&&this.state.emojis))?j.jsx(b("RepliedToMessageContent.react"),{isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!0,repliedToMessageData:this.props.repliedToMessage,scrollToRepliedMessage:this.props.scrollToRepliedMessage,replyInOneBubble:!0}):null,n=this.props.tooltip||{},o=this.props.isFromViewer&&!this.state.emojis&&!this.props.containsCode,p=b("MessengerDotComAndInboxM4Check.bs").yes&&this.props.thread&&o?babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):{};return j.jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:n,{style:p,className:b("joinClasses")(k,this.props.className,(this.props.containsCode?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs")&&!this.props.containsCode?" _6ybn":"")+(this.props.containsCode?" _4qoc":"")+(!this.props.isFromViewer&&this.props.containsCode?" _65sp":"")+(this.props.isFromViewer&&this.props.containsCode?" _65sq":"")+(this.props.containsCode?"":" _s1-")+(!this.props.containsCode&&!this.props.notBubblish?" _52mr":"")+(!this.props.containsCode&&this.props.isP2PAttachment?" _4z55":"")+(!this.props.containsCode&&!!this.state.emojis?" _2f5r":"")+(!this.props.containsCode&&!!this.state.emojis?" _581a":"")+(o?" _43by":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&o?" _6ybp":"")+(!this.props.containsCode&&c?" _3oh-":"")+(m?" _6uum":"")+(this.props.is_forwarded?" _8722":"")),children:[g==null||this.props.isPageMessage||this.props.isSavedView?null:b("cr:1398877")!=null?j.jsx(b("cr:1398877"),{message:g,hovered:this.props.isHovered,messageProps:{isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}}):b("cr:1398876")!=null&&j.jsx(b("cr:1398876"),{className:"_1z_2",message:g,isFromViewer:!!this.props.isFromViewer,hovered:this.props.isHovered,onReactionSwap:this.props.onReactionSwap,onReplyToMessage:this.props.onReplyToMessage,messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}),isSavedView:this.props.isSavedView}),m,this.$1(),l,l?null:d,l?null:this.props.attachments,e.length>1?j.jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:e}):e]}))};d.$3=function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromUserID(a.id);c&&b("MessengerActions").selectThread(c)};return c}(j.PureComponent);a.propTypes={attachments:(c=b("prop-types")).instanceOf(b("immutable").List),body:c.string,customColor:c.string,customLike:c.object,excludeAfterDecorators:c.bool,isFromViewer:c.bool,message:c.object,metaRanges:c.array,notBubblish:c.bool,onUnwrap:c.func,participants:c.object,plainText:c.bool,ranges:c.array,threadID:c.string,threadCustomColor:c.string,onReactionSwap:c.func,onReplyToMessage:c.func,isHovered:c.bool,handleToggleOriginal:c.func,hasFormatting:c.func,isPageMessage:c.bool,isSavedView:c.bool,repliedToMessage:c.object,scrollToRepliedMessage:c.func,thread:c.object,wecFirstMessage:c.bool,is_forwarded:c.bool};e.exports=a}),null);
__d("MessengerCodeBubble.bs",["React","bs_caml_option","MessengerCodePasteUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.body,d=a.className,e=a.customColor,f=a.isFromViewer,h=a.ranges,i=a.threadID;a=a.thread;c=b("MessengerCodePasteUtils").getCodeAndMessageBubbles(c,h,i,e,f,a);h={children:c};d!==void 0&&(h.className=b("bs_caml_option").valFromOption(d));return g.jsx("div",h)}c=a;f.make=c}),null);
__d("MessengerCodeBubble.re",["MessengerCodeBubble.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCodeBubble.bs").make;f.make=a}),null);
__d("MessengerDecoratorHideable.react",["cx","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.isActive;a=a.children;var d=b("gkx")("1221668");return h.jsx("span",{className:(!Boolean(c)&&!d?"_8sow":"")+(!Boolean(c)&&d?" _8tab":""),children:a})}}),null);
__d("MessengerEagerThreadLoader",["MercuryThreadInformer","MessengerConfig","MessengerState.re","Run"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;f.unsubscribe=c;var g=10,h=b("MessengerConfig").MessageLoadCount,i=!1,j=null;function k(a,c){if(b("MessengerState.re").hasLoadedNMessages(a,c,2))return;b("MessengerState.re").getThreadMessagesRange(a,c,0,h,function(){})}function a(a){var c=b("MercuryThreadInformer").get();j=c.subscribe("threadlist-updated",function(c,d){if(!i)b("Run").onAfterLoad(function(){d.slice(0,g).concat(b("MessengerState.re").getPinnedThreadlist(a)).map(function(b){k(a,b)})}),i=!0;else if(d.length>0){c=b("MessengerState.re").getThreadMetaNow(a,d[0]);c&&c.unread_count>0&&k(a,d[0])}})}function c(){var a=b("MercuryThreadInformer").get();a.unsubscribe(j);j=null}}),null);
__d("ComposedEntityMutability",[],(function(a,b,c,d,e,f){a=Object.freeze({MUTABLE:0,IMMUTABLE:1,SEGMENTED:2});e.exports=a}),null);
__d("DraftEntityInstance",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getType=function(){return this.get("type")};c.getMutability=function(){return this.get("mutability")};c.getData=function(){return this.get("data")};return b}(c);e.exports=d}),null);
__d("findRangesImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(!a.size)return;var e=0;a.reduce(function(a,f,g){b(a,f)||(c(a)&&d(e,g),e=g);return f});c(a.last())&&d(e,a.count())}e.exports=a}),null);
__d("BlockTree",["findRangesImmutable","getOwnObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat;a=b("immutable").Record;var i=function(){return!0};c={start:null,end:null};var j=a(c);d={start:null,end:null,decoratorKey:null,leaves:null};var k=a(d);f={generate:function(a,c,d){var e=c.getLength();if(!e)return g.of(new k({start:0,end:0,decoratorKey:null,leaves:g.of(new j({start:0,end:0}))}));var f=[],n=d?d.getDecorations(c,a):g(h(null,e)),o=c.getCharacterList();b("findRangesImmutable")(n,m,i,function(a,b){f.push(new k({start:a,end:b,decoratorKey:n.get(a),leaves:l(o.slice(a,b).toList(),a)}))});return g(f)},fromJS:function(a){var c=a.leaves;a=babelHelpers.objectWithoutPropertiesLoose(a,["leaves"]);return new k(babelHelpers["extends"]({},a,{leaves:c!=null?g(Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return j(a)}):null}))}};function l(a,c){var d=[];a=a.map(function(a){return a.getStyle()}).toList();b("findRangesImmutable")(a,m,i,function(a,b){d.push(new j({start:a+c,end:b+c}))});return g(d)}function m(a,b){return a===b}e.exports=f}),null);
__d("BlockMapBuilder",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap;a={createFromArray:function(a){return g(a.map(function(a){return[a.getKey(),a]}))}};e.exports=a}),null);
__d("CharacterMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map,h=b("immutable").OrderedSet;a=b("immutable").Record;var i=h();c={style:i,entity:null};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStyle=function(){return this.get("style")};c.getEntity=function(){return this.get("entity")};c.hasStyle=function(a){return this.getStyle().includes(a)};b.applyStyle=function(a,c){a=a.set("style",a.getStyle().add(c));return b.create(a)};b.removeStyle=function(a,c){a=a.set("style",a.getStyle().remove(c));return b.create(a)};b.applyEntity=function(a,c){a=a.getEntity()===c?a:a.set("entity",c);return b.create(a)};b.create=function(a){if(!a)return j;var c={style:i,entity:null};c=g(c).merge(a);a=k.get(c);if(a)return a;a=new b(c);k=k.set(c,a);return a};b.fromJS=function(a){var c=a.style;a=a.entity;return new b({style:Array.isArray(c)?h(c):c,entity:Array.isArray(a)?h(a):a})};return b}(d);var j=new f(),k=g([[g(c),j]]);f.EMPTY=j;e.exports=f}),null);
__d("ContentBlock",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d();a={key:"",type:"unstyled",text:"",characterList:g(),depth:0,data:c()};d=f(a);var j=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,j(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(d);function k(a,b){return a.getStyle()===b.getStyle()}function l(a,b){return a.getEntity()===b.getEntity()}e.exports=c}),null);
__d("ContentBlockNode",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d(),j={parent:null,characterList:g(),data:c(),depth:0,key:"",text:"",type:"unstyled",children:g(),prevSibling:null,nextSibling:null},k=function(a,b){return a.getStyle()===b.getStyle()},l=function(a,b){return a.getEntity()===b.getEntity()},m=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b===void 0&&(b=j);return a.call(this,m(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.getChildKeys=function(){return this.get("children")};d.getParentKey=function(){return this.get("parent")};d.getPrevSiblingKey=function(){return this.get("prevSibling")};d.getNextSiblingKey=function(){return this.get("nextSibling")};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(f(j));e.exports=a}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable","uuid"],(function(a,b,c,d,e,f,g){a=b("immutable").OrderedMap;var h=a(),i=b("uuid")(),j={__getAll:function(){return h},__loadWithEntities:function(a){h=a,i=b("uuid")()},__getLastCreatedEntityKey:function(){return i},__create:function(a,c,d){return j.__add(new(b("DraftEntityInstance"))({type:a,mutability:c,data:d||{}}))},__add:function(a){i=b("uuid")();h=h.set(i,a);return i},__get:function(a){var b=h.get(a);!b&&g(0,2105,a);return b},get:function(a){return j.__get(a)},set:function(a,b){h=h.set(a,b);return j},last:function(){return h.last()},__mergeData:function(a,b){var c=j.__get(a);b=babelHelpers["extends"]({},c.getData(),b);c=c.set("data",b);h=h.set(a,c);return c},__replaceData:function(a,b){var c=j.__get(a);c=c.set("data",b);h=h.set(a,c);return c}};e.exports=j}),null);
__d("generateRandomKey",[],(function(a,b,c,d,e,f){"use strict";var g={},h=Math.pow(2,24);function a(){var a;while(a===void 0||Object.prototype.hasOwnProperty.call(g,a)||!isNaN(+a))a=Math.floor(Math.random()*h).toString(32);g[a]=!0;return a}e.exports=a}),null);
__d("sanitizeDraftText",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("\r","g");function a(a){return a.replace(g,"")}e.exports=a}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","getOwnObjectValues","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Record;var h=a.Repeat,i=a.Map,j=a.OrderedMap;d={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null};f=c(d);var k=b("gkx")("676842")?b("ContentBlockNode"):b("ContentBlock");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getEntityMap=function(){return b("DraftEntity")};d.getBlockMap=function(){return this.get("blockMap")};d.getSelectionBefore=function(){return this.get("selectionBefore")};d.getSelectionAfter=function(){return this.get("selectionAfter")};d.getBlockForKey=function(a){a=this.getBlockMap().get(a);return a};d.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlocksAsArray=function(){return this.getBlockMap().toArray()};d.getFirstBlock=function(){return this.getBlockMap().first()};d.getLastBlock=function(){return this.getBlockMap().last()};d.getPlainText=function(a){return this.getBlockMap().map(function(a){return a?a.getText():""}).join(a||"\n")};d.getLastCreatedEntityKey=function(){return b("DraftEntity").__getLastCreatedEntityKey()};d.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0};d.createEntity=function(a,c,d){b("DraftEntity").__create(a,c,d);return this};d.mergeEntityData=function(a,c){b("DraftEntity").__mergeData(a,c);return this};d.replaceEntityData=function(a,c){b("DraftEntity").__replaceData(a,c);return this};d.addEntity=function(a){b("DraftEntity").__add(a);return this};d.getEntity=function(a){return b("DraftEntity").__get(a)};d.getAllEntities=function(){return b("DraftEntity").__getAll()};d.setEntityMap=function(a){b("DraftEntity").__loadWithEntities(a);return this};d.setSelectionBefore=function(a){return this.set("selectionBefore",a)};d.setSelectionAfter=function(a){return this.set("selectionAfter",a)};d.setBlockMap=function(a){return this.set("blockMap",a)};c.createFromBlockArray=function(a,d){a=Array.isArray(a)?a:a.contentBlocks;a=b("BlockMapBuilder").createFromArray(a);var e=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new c({blockMap:a,entityMap:d||b("DraftEntity"),selectionBefore:e,selectionAfter:e})};c.createFromText=function(a,d){d===void 0&&(d=/\r\n?|\n/g);a=a.split(d);d=a.map(function(a){a=b("sanitizeDraftText")(a);return new k({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(b("CharacterMetadata").EMPTY,a.length))})});return c.createFromBlockArray(d)};c.fromJS=function(a){return new c(babelHelpers["extends"]({},a,{blockMap:j(a.blockMap).map(c.createContentBlockFromJS),selectionBefore:new(b("SelectionState"))(a.selectionBefore),selectionAfter:new(b("SelectionState"))(a.selectionAfter)}))};c.createContentBlockFromJS=function(a){var c=a.characterList;return new k(babelHelpers["extends"]({},a,{data:i(a.data),characterList:c!=null?g((Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return b("CharacterMetadata").fromJS(a)})):void 0}))};return c}(f);e.exports=a}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){!a?a=b("UnicodeBidiGlobalDirection").getDir():b("UnicodeBidiDirection").isStrong(a)||g(0,3594),this.$1=a,this.reset()}var c=a.prototype;c.reset=function(){this.$2=this.$1};c.getDirection=function(a){this.$2=b("UnicodeBidi").getDirection(a,this.$2);return this.$2};return a}();e.exports=a}),null);
__d("EditorBidiService",["UnicodeBidiService","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h;a={getDirectionMap:function(a,c){!h?h=new(b("UnicodeBidiService"))():h.reset();a=a.getBlockMap();var d=a.valueSeq().map(function(a){return b("nullthrows")(h).getDirection(a.getText())});a=g(a.keySeq().zip(d));return c!=null&&b("immutable").is(c,a)?c:a}};e.exports=a}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","SelectionState","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).OrderedSet;c=a.Record;var h=a.Stack,i=a.OrderedMap,j=a.List;d={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()};var k=c(d),l=function(){a.createEmpty=function(a){return this.createWithText("",a)};a.createWithText=function(c,d){return a.createWithContent(b("ContentState").createFromText(c),d)};a.createWithContent=function(c,d){if(c.getBlockMap().count()===0)return a.createEmpty(d);var e=c.getBlockMap().first().getKey();return a.create({currentContent:c,undoStack:h(),redoStack:h(),decorator:d||null,selection:b("SelectionState").createEmpty(e)})};a.create=function(c){var d=c.currentContent,e=c.decorator;c=babelHelpers["extends"]({},c,{treeMap:n(d,e),directionMap:b("EditorBidiService").getDirectionMap(d)});return new a(new k(c))};a.fromJS=function(c){return new a(new k(babelHelpers["extends"]({},c,{directionMap:c.directionMap!=null?i(c.directionMap):c.directionMap,inlineStyleOverride:c.inlineStyleOverride!=null?g(c.inlineStyleOverride):c.inlineStyleOverride,nativelyRenderedContent:c.nativelyRenderedContent!=null?b("ContentState").fromJS(c.nativelyRenderedContent):c.nativelyRenderedContent,redoStack:c.redoStack!=null?h(c.redoStack.map(function(a){return b("ContentState").fromJS(a)})):c.redoStack,selection:c.selection!=null?new(b("SelectionState"))(c.selection):c.selection,treeMap:c.treeMap!=null?i(c.treeMap).map(function(a){return j(a).map(function(a){return b("BlockTree").fromJS(a)})}):c.treeMap,undoStack:c.undoStack!=null?h(c.undoStack.map(function(a){return b("ContentState").fromJS(a)})):c.undoStack,currentContent:b("ContentState").fromJS(c.currentContent)})))};a.set=function(b,c){var d=b.getImmutable().withMutations(function(a){var d=a.get("decorator"),e=d;c.decorator===null?e=null:c.decorator&&(e=c.decorator);var f=c.currentContent||b.getCurrentContent();if(e!==d){var g=a.get("treeMap");e&&d?g=p(f,f.getBlockMap(),g,e,d):g=n(f,e);a.merge({decorator:e,treeMap:g,nativelyRenderedContent:null});return}d=b.getCurrentContent();f!==d&&a.set("treeMap",o(b,f.getBlockMap(),f.getEntityMap(),e));a.merge(c)});return new a(d)};var c=a.prototype;c.toJS=function(){return this.getImmutable().toJS()};c.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};c.getCurrentContent=function(){return this.getImmutable().get("currentContent")};c.getUndoStack=function(){return this.getImmutable().get("undoStack")};c.getRedoStack=function(){return this.getImmutable().get("redoStack")};c.getSelection=function(){return this.getImmutable().get("selection")};c.getDecorator=function(){return this.getImmutable().get("decorator")};c.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};c.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};c.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};c.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};c.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};a.setInlineStyleOverride=function(b,c){return a.set(b,{inlineStyleOverride:c})};c.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;a=this.getCurrentContent();var b=this.getSelection();return b.isCollapsed()?r(a,b):s(a,b)};c.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])};c.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)};c.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent();a=a.getBlockMap();a=a.last();var b=a.getLength();return this.getSelection().hasEdgeWithin(a.getKey(),b,b)};c.getDirectionMap=function(){return this.getImmutable().get("directionMap")};a.acceptSelection=function(a,b){return m(a,b,!1)};a.forceSelection=function(a,b){b.getHasFocus()||(b=b.set("hasFocus",!0));return m(a,b,!0)};a.moveSelectionToEnd=function(c){var d=c.getCurrentContent();d=d.getLastBlock();var e=d.getKey();d=d.getLength();return a.acceptSelection(c,new(b("SelectionState"))({anchorKey:e,anchorOffset:d,focusKey:e,focusOffset:d,isBackward:!1}))};a.moveFocusToEnd=function(b){b=a.moveSelectionToEnd(b);return a.forceSelection(b,b.getSelection())};a.push=function(c,d,e,f){f===void 0&&(f=!0);if(c.getCurrentContent()===d)return c;var g=b("EditorBidiService").getDirectionMap(d,c.getDirectionMap());if(!c.getAllowUndo())return a.set(c,{currentContent:d,directionMap:g,lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:null});var i=c.getSelection(),j=c.getCurrentContent(),k=c.getUndoStack(),l=d;i!==j.getSelectionAfter()||q(c,e)?(k=k.push(j),l=l.setSelectionBefore(i)):(e==="insert-characters"||e==="backspace-character"||e==="delete-character")&&(l=l.setSelectionBefore(j.getSelectionBefore()));i=c.getInlineStyleOverride();j=["adjust-depth","change-block-type","split-block"];j.indexOf(e)===-1&&(i=null);j={currentContent:l,directionMap:g,undoStack:k,redoStack:h(),lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:i};return a.set(c,j)};a.undo=function(c){if(!c.getAllowUndo())return c;var d=c.getUndoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:d.shift(),redoStack:c.getRedoStack().push(f),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:f.getSelectionBefore()})};a.redo=function(c){if(!c.getAllowUndo())return c;var d=c.getRedoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:c.getUndoStack().push(f),redoStack:d.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:e.getSelectionAfter()})};function a(a){this.$1=a}c.getImmutable=function(){return this.$1};return a}();function m(a,b,c){return l.set(a,{selection:b,forceSelection:c,nativelyRenderedContent:null,inlineStyleOverride:null})}function n(a,c){return a.getBlockMap().map(function(d){return b("BlockTree").generate(a,d,c)}).toOrderedMap()}function o(a,c,d,e){var f=a.getCurrentContent().set("entityMap",d),g=f.getBlockMap();d=a.getImmutable().get("treeMap");return d.merge(c.toSeq().filter(function(a,b){return a!==g.get(b)}).map(function(a){return b("BlockTree").generate(f,a,e)}))}function p(a,c,d,e,f){return d.merge(c.toSeq().filter(function(b){return e.getDecorations(b,a)!==f.getDecorations(b,a)}).map(function(c){return b("BlockTree").generate(a,c,e)}))}function q(a,b){a=a.getLastChangeType();return b!==a||b!=="insert-characters"&&b!=="backspace-character"&&b!=="delete-character"}function r(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b>0)return d.getInlineStyleAt(b-1);return d.getLength()?d.getInlineStyleAt(0):t(a,c)}function s(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b<d.getLength())return d.getInlineStyleAt(b);return b>0?d.getInlineStyleAt(b-1):t(a,c)}function t(a,b){a=a.getBlockMap().reverse().skipUntil(function(a,c){return c===b}).skip(1).skipUntil(function(a,b){return a.getLength()}).first();return a?a.getInlineStyleAt(a.getLength()-1):g()}e.exports=l}),null);
__d("MessengerConstants",[],(function(a,b,c,d,e,f){"use strict";a="new";f.NEW_THREAD_KEY=a;b={HEIGHT:604,WIDTH:405};f.BROWSER_EXTENSIONS_DIALOG_DIMENSIONS=b}),null);
__d("ComposedInlineStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64,QUOTE:128,UNORDEREDLIST:256,LISTITEM:512,MEDIUM_WEIGHT:1024,SEMIBOLD:2048,HEADLINE1:4096,HEADLINE2:8192,HEADLINE3:16384,ORDEREDLIST:32768,HORIZONTALRULER:65536,TABLE:131072,TABLEDATA:262144,TABLEROW:524288,PARAGRAPH:1048576,LIGHTSTRIKETHROUGH:2097152})}),null);
__d("DraftTreeAdapter",["invariant","generateRandomKey"],(function(a,b,c,d,e,f,g){var h=function(a,b){a=[].concat(a).reverse();while(a.length){var c=a.pop();b(c);c=c.children;Array.isArray(c)||g(0,2517);a=a.concat([].concat(c.reverse()))}},i=function(a){if(!(a&&a.type))return!1;a=a.type;return a==="unordered-list-item"||a==="ordered-list-item"},j=function(a){Array.isArray(a.children)&&(a.children=a.children.map(function(b){return b.type===a.type?babelHelpers["extends"]({},b,{depth:(a.depth||0)+1}):b}))};a={fromRawTreeStateToRawState:function(a){var b=a.blocks,c=[];Array.isArray(b)||g(0,2518);if(!Array.isArray(b)||!b.length)return a;h(b,function(a){var b=babelHelpers["extends"]({},a);if(i(a)){b.depth=b.depth||0;j(a);if(a.children!=null&&a.children.length>0)return}delete b.children;c.push(b)});a.blocks=c;return babelHelpers["extends"]({},a,{blocks:c})},fromRawStateToRawTreeState:function(a){var c=[],d=[];a.blocks.forEach(function(a){var e=i(a),f=a.depth||0,g=babelHelpers["extends"]({},a,{children:[]});if(!e){c.push(g);return}e=d[0];if(e==null&&f===0)c.push(g);else if(e==null||e.depth<f-1){a={key:b("generateRandomKey")(),text:"",depth:f-1,type:a.type,children:[],entityRanges:[],inlineStyleRanges:[]};d.unshift(a);f===1?c.push(a):e!=null&&e.children.push(a);a.children.push(g)}else if(e.depth===f-1)e.children.push(g);else{while(e!=null&&e.depth>=f)d.shift(),e=d[0];f>0?e.children.push(g):c.push(g)}});return babelHelpers["extends"]({},a,{blocks:c})}};e.exports=a}),null);
__d("DraftTreeInvariants",["warning"],(function(a,b,c,d,e,f){a={isValidBlock:function(a,c){var d=a.getKey(),e=a.getParentKey();if(e!=null){e=c.get(e);if(!e.getChildKeys().includes(d)){b("warning")(!0,"Tree is missing parent -> child pointer on %s",d);return!1}}e=a.getChildKeys().map(function(a){return c.get(a)});if(!e.every(function(a){return a.getParentKey()===d})){b("warning")(!0,"Tree is missing child -> parent pointer on %s",d);return!1}e=a.getPrevSiblingKey();if(e!=null){var f=c.get(e);if(f.getNextSiblingKey()!==d){b("warning")(!0,"Tree is missing nextSibling pointer on %s's prevSibling",d);return!1}}f=a.getNextSiblingKey();if(f!=null){var g=c.get(f);if(g.getPrevSiblingKey()!==d){b("warning")(!0,"Tree is missing prevSibling pointer on %s's nextSibling",d);return!1}}if(f!==null&&e!==null&&e===f){b("warning")(!0,"Tree has a two-node cycle at %s",d);return!1}if(a.text!=""&&a.getChildKeys().size>0){b("warning")(!0,"Leaf node %s has children",d);return!1}return!0},isConnectedTree:function(a){var c=a.toArray().filter(function(a){return a.getParentKey()==null&&a.getPrevSiblingKey()==null});if(c.length!==1){b("warning")(!0,"Tree is not connected. More or less than one first node");return!1}c=c.shift();var d=0;c=c.getKey();var e=[];while(c!=null){var f=a.get(c),g=f.getChildKeys(),h=f.getNextSiblingKey();if(g.size>0){h!=null&&e.unshift(h);h=g.map(function(b){return a.get(b)});g=h.find(function(a){return a.getPrevSiblingKey()==null});if(g==null){b("warning")(!0,"%s has no first child",c);return!1}c=g.getKey()}else f.getNextSiblingKey()!=null?c=f.getNextSiblingKey():c=e.shift();d++}if(d!==a.size){b("warning")(!0,"Tree is not connected. %s nodes were seen instead of %s",d,a.size);return!1}return!0},isValidTree:function(a){var b=this,c=a.toArray();return!c.every(function(c){return b.isValidBlock(c,a)})?!1:this.isConnectedTree(a)}};e.exports=a}),null);
__d("createCharacterList",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;function a(a,c){a=a.map(function(a,d){d=c[d];return b("CharacterMetadata").create({style:a,entity:d})});return g(a)}e.exports=a}),null);
__d("decodeEntityRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||b("UnicodeUtils")).substr;function a(a,b){var c=Array(a.length).fill(null);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;for(var d=d;d<e;d++)c[d]=b.key});return c}e.exports=a}),null);
__d("decodeInlineStyleRanges",["UnicodeUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").OrderedSet;var h=(g||(g=b("UnicodeUtils"))).substr,i=c();function a(a,b){var c=Array(a.length).fill(i);b&&b.forEach(function(b){var d=h(a,0,b.offset).length,e=d+h(a,b.offset,b.length).length;while(d<e)c[d]=c[d].add(b.style),d++});return c}e.exports=a}),null);
__d("convertFromRawToDraftState",["invariant","ContentBlock","ContentBlockNode","ContentState","DraftTreeAdapter","DraftTreeInvariants","SelectionState","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","generateRandomKey","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("gkx")("676842"),i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedMap,l=function(a,c){var d=a.key,e=a.type,f=a.data,g=a.text,h=a.depth;g={text:g,depth:h||0,type:e||"unstyled",key:d||b("generateRandomKey")(),data:j(f),characterList:m(a,c)};return g},m=function(a,c){var d=a.text,e=a.entityRanges;a=a.inlineStyleRanges;e=e||[];a=a||[];return b("createCharacterList")(b("decodeInlineStyleRanges")(d,a),b("decodeEntityRanges")(d,e.filter(function(a){return Object.prototype.hasOwnProperty.call(c,a.key)}).map(function(a){return babelHelpers["extends"]({},a,{key:c[a.key]})})))},n=function(a){return babelHelpers["extends"]({},a,{key:a.key||b("generateRandomKey")()})},o=function(a,b,c){b=b.map(function(a){return babelHelpers["extends"]({},a,{parentRef:c})});return a.concat(b.reverse())},p=function(a,c){return a.map(n).reduce(function(d,e,f){Array.isArray(e.children)||g(0,5197);var h=e.children.map(n);e=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(e,c),{prevSibling:f===0?null:a[f-1].key,nextSibling:f===a.length-1?null:a[f+1].key,children:i(h.map(function(a){return a.key}))}));d=d.set(e.getKey(),e);f=o([],h,e);while(f.length>0){h=f.pop();e=h.parentRef;var j=e.getChildKeys(),k=j.indexOf(h.key),m=Array.isArray(h.children);if(!m){m||g(0,5197);break}m=h.children.map(n);h=new(b("ContentBlockNode"))(babelHelpers["extends"]({},l(h,c),{parent:e.getKey(),children:i(m.map(function(a){return a.key})),prevSibling:k===0?null:j.get(k-1),nextSibling:k===j.size-1?null:j.get(k+1)}));d=d.set(h.getKey(),h);f=o(f,m,h)}return d},k())},q=function(a,c){return k(a.map(function(a){a=new(b("ContentBlock"))(l(a,c));return[a.getKey(),a]}))},r=function(a,c){var d=a.blocks.find(function(a){return Array.isArray(a.children)&&a.children.length>0}),e=h&&!d?b("DraftTreeAdapter").fromRawStateToRawTreeState(a).blocks:a.blocks;if(!h)return q(d?b("DraftTreeAdapter").fromRawTreeStateToRawState(a).blocks:e,c);d=p(e,c);return d},s=function(a,b){var c=b.entityMap,d={},e=a;Object.keys(c).forEach(function(a){var b=c[a],f=b.type,g=b.mutability;b=b.data;e=e.createEntity(f,g,b||{});d[a]=e.getLastCreatedEntityKey()});return{entityKeyMap:d,contentState:e}};a=function(a){Array.isArray(a.blocks)||g(0,5199);var c=s(b("ContentState").createFromText(""),a),d=c.contentState;c=c.entityKeyMap;a=r(a,c);c=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new(b("ContentState"))({blockMap:a,entityMap:d.getEntityMap(),selectionBefore:c,selectionAfter:c})};e.exports=a}),null);
__d("decodeBlocks",["ComposedInlineStyle","convertFromRawToDraftState","mapObject"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c){a=a.map(function(a){var b=a.type,c=a.inlineStyleRanges;a=babelHelpers.objectWithoutPropertiesLoose(a,["type","inlineStyleRanges"]);return babelHelpers["extends"]({type:h[b]||"unstyled",inlineStyleRanges:(c||[]).map(function(a){return babelHelpers["extends"]({},a,{style:i[a.style]})})},a)});c=(g||(g=b("mapObject")))(c,function(a){return{type:a.getType(),mutability:a.getMutability(),data:a.getData()}});return b("convertFromRawToDraftState")({blocks:a,entityMap:c})}var h={};h[0]="unstyled";h[1]="paragraph";h[4]="blockquote";h[3]="ordered-list-item";h[2]="unordered-list-item";h[7]="code-block";h[5]="header-one";h[6]="header-two";h[8]="atomic";h[9]="pullquote";var i={};i[(c=b("ComposedInlineStyle")).BOLD]="BOLD";i[c.CODE]="CODE";i[c.ITALIC]="ITALIC";i[c.STRIKETHROUGH]="STRIKETHROUGH";i[c.UNDERLINE]="UNDERLINE"}),null);
__d("ComposedEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9,MATH:10,HIGHLIGHT:11,DELIGHT:12,TEMPLATE_VARIABLE:13,ASSISTANT_TYPEAHEAD:14});e.exports=a}),null);
__d("DraftStringKey",[],(function(a,b,c,d,e,f){"use strict";a={stringify:function(a){return"_"+String(a)},unstringify:function(a){return a.slice(1)}};e.exports=a}),null);
__d("encodeEntityRanges",["DraftStringKey","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||b("UnicodeUtils")).strlen;function a(a,c){var d=[];a.findEntityRanges(function(a){return!!a.getEntity()},function(e,f){var g=a.getText(),i=a.getEntityAt(e);d.push({offset:h(g.slice(0,e)),length:h(g.slice(e,f)),key:Number(c[b("DraftStringKey").stringify(i)])})});return d}e.exports=a}),null);
__d("encodeInlineStyleRanges",["UnicodeUtils","findRangesImmutable"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a,b){return a===b},i=function(a){return!!a},j=[];function k(a,c,d){var e=[];c=c.map(function(a){return a.has(d)}).toList();b("findRangesImmutable")(c,h,i,function(c,f){var h=a.getText();e.push({offset:(g||(g=b("UnicodeUtils"))).strlen(h.slice(0,c)),length:g.strlen(h.slice(c,f)),style:d})});return e}function a(a){var b=a.getCharacterList().map(function(a){return a.getStyle()}).toList(),c=b.flatten().toSet().map(function(c){return k(a,b,c)});return Array.prototype.concat.apply(j,c.toJS())}e.exports=a}),null);
__d("convertFromDraftStateToRaw",["invariant","ContentBlock","ContentBlockNode","DraftStringKey","encodeEntityRanges","encodeInlineStyleRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,c){return{key:a.getKey(),text:a.getText(),type:a.getType(),depth:a.getDepth(),inlineStyleRanges:b("encodeInlineStyleRanges")(a),entityRanges:b("encodeEntityRanges")(a,c),data:a.getData().toObject()}},i=function(a,c,d,e){if(a instanceof b("ContentBlock")){d.push(h(a,c));return}a instanceof b("ContentBlockNode")||g(0,5797);var f=a.getParentKey();a=e[a.getKey()]=babelHelpers["extends"]({},h(a,c),{children:[]});if(f){e[f].children.push(a);return}d.push(a)},j=function(a,c){var d=c.entityMap,e=[],f={},g={},h=0;a.getBlockMap().forEach(function(a){a.findEntityRanges(function(a){return a.getEntity()!==null},function(c){c=a.getEntityAt(c);var e=b("DraftStringKey").stringify(c);if(g[e])return;g[e]=c;d[e]=""+h;h++}),i(a,d,e,f)});return{blocks:e,entityMap:d}},k=function(a,c){var d=c.blocks;c=c.entityMap;var e={};Object.keys(c).forEach(function(c,d){c=a.getEntity(b("DraftStringKey").unstringify(c));e[d]={type:c.getType(),mutability:c.getMutability(),data:c.getData()}});return{blocks:d,entityMap:e}};a=function(a){var b={entityMap:{},blocks:[]};b=j(a,b);b=k(a,b);return b};e.exports=a}),null);
__d("encodeBlocks",["ComposedEntityType","ComposedInlineStyle","convertFromDraftStateToRaw","filterObject","mapObject","nullthrows"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("convertFromDraftStateToRaw")(a);var c=a.blocks;a=a.entityMap;c=c.map(function(a){var c,d=a.key,e=a.type,f=a.text,g=a.depth,j=a.inlineStyleRanges,k=a.entityRanges;a=a.data;return{key:(c=b("nullthrows"))(d),type:h[e],text:f,depth:c(g),inlineStyleRanges:c(j).map(function(a){return babelHelpers["extends"]({},a,{style:i[a.style]})}),entityRanges:c(k),data:a}});a=(g||(g=b("mapObject")))(a,function(a){var c=a.data,d=null,e=void 0;typeof c==="object"&&(d=c.id,e=babelHelpers.objectWithoutPropertiesLoose(c,["id"]),Object.keys(e).length===0?e=void 0:e=(g||(g=b("mapObject")))(e,function(a){return a==null?"":String(a)}));return{id:d||null,type:b("ComposedEntityType")[a.type],data:e}});a=b("filterObject")(a,function(a){return(a==null?void 0:a.type)!=null});return{blocks:c,entityMap:a}}var h={unstyled:0,paragraph:1,blockquote:4,"ordered-list-item":3,"unordered-list-item":2,"code-block":7,"header-one":5,"header-two":6,atomic:8,pullquote:9,"checkbox-list-item":14,"header-three":6,"header-four":6,"header-five":6,"header-six":6,section:1,article:1},i={BOLD:(c=b("ComposedInlineStyle")).BOLD,CODE:c.CODE,ITALIC:c.ITALIC,STRIKETHROUGH:c.STRIKETHROUGH,UNDERLINE:c.UNDERLINE}}),null);
__d("MessengerEditorStateManager",["CacheStorage","ComposedEntityMutability","ComposedEntityMutabilityToName","ComposedEntityTypeToName","CurrentUser","DraftEntityInstance","EditorState","FBLogger","LogHistory","MessengerConstants","SelectionState","decodeBlocks","encodeBlocks","mapObject"],(function(a,b,c,d,e,f){"use strict";f.get=a;f.set=c;f._getKey=d;f._logWriteError=e;f._switchToMemoryStore=n;f._getEmptyEditorState=o;var g,h=b("ComposedEntityMutability").IMMUTABLE,i=b("LogHistory").getInstance("messenger_editor_state_manager"),j=new(b("CacheStorage"))("localstorage","msgdraft:"),k=new(b("CacheStorage"))("memory"),l=!1,m;function a(a){if(a==null)return this._getEmptyEditorState();if(a===b("MessengerConstants").NEW_THREAD_KEY)return m||this._getEmptyEditorState();var c=j.get(this._getKey(a),!1);l&&(c?(k.set(a,c),j.remove(this._getKey(a))):c=k.get(a,!1));if(!c)return this._getEmptyEditorState();a=c.encodedBlocks;var d=(g||(g=b("mapObject")))(a.entityMap,function(a,c){return new(b("DraftEntityInstance"))({type:b("ComposedEntityTypeToName")[a.type],mutability:b("ComposedEntityMutabilityToName")[h],data:a.data})});a=b("decodeBlocks")(a.blocks,d);d=b("EditorState").createWithContent(a);return b("EditorState").acceptSelection(d,new(b("SelectionState"))(c.selection))}function c(a,c){if(a===b("MessengerConstants").NEW_THREAD_KEY){m=c;return}var d=b("encodeBlocks")(c.getCurrentContent());c=c.getSelection();var e=c.toJS(),f=l?k:j;f=f.set(this._getKey(a),{encodedBlocks:d,selection:e});f||(this._logWriteError(a),this._switchToMemoryStore(a,d,c))}function d(a){return b("CurrentUser").getID()+":"+a}function e(a){var c=j.getLastSetExceptionMessage(),d=j.getStorageKeyCount();b("FBLogger")("messenger_dot_com").warn("Fail to write to MessengerEditorState %s  %s",c,d);i.debug("set_editor_state_fail",JSON.stringify({threadID:a,error:c,keysCount:d}))}function n(a,c,d){if(!l){b("FBLogger")("messenger_dot_com").warn("Switching to MemoryStorage");i.debug("Switching to memoryStorage");l=!0;d=d.toJS();k.set(a,{encodedBlocks:c,selection:d})}}function o(){var a=b("EditorState").createEmpty();return b("EditorState").forceSelection(a,a.getSelection())}}),null);
__d("MessengerInterstitialPromoDialog.react",["cx","fbt","ix","AsyncRequest","Bootloader","CurrentUser","Image.react","MessengerButtonReact.re","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerSignals.re","React","XMessengerDotComNUXLoggingController","XQuickPromotionSimpleLoggingController","goURI","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bannerClosed:!1},d.$4=function(a,c,e){return function(){d.$5(),d.props.promotionID!=null?(new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action","primary").setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send(),a==="dialog_url"?b("Bootloader").loadModules(["AsyncDialog"],function(a){a.send(new(b("AsyncRequest"))().setURI(b("nullthrows")(c)))},"MessengerInterstitialPromoDialog.react"):window.open(c)):c!=null?b("goURI")(c,!0):e&&e()}},d.$2=function(){d.$5(),d.props.promotionID!=null&&new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action","dismiss").setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.promotionID==null&&this.setState({bannerClosed:!1})};d.componentDidMount=function(){if(this.$1()||this.props.promotionID==null||b("CurrentUser").isWorkUser())return;new(b("AsyncRequest"))().setURI(b("XMessengerDotComNUXLoggingController").getURIBuilder().setInt("promotion_id",this.props.promotionID).setStringToStringMap("instance_log_data",this.props.instanceLogData).getURI()).send()};d.componentDidUpdate=function(){window.dispatchEvent(new Event("resize"))};d.render=function(){return this.$1()?null:j.jsxs(b("MessengerDialog.react"),{className:"_93yd",width:500,children:[j.jsx(b("Image.react"),{className:"_93ye",src:i("1428013")}),j.jsx(b("MessengerDialogHeaderReact.re").make,{children:this.props.promotionTitle}),j.jsx(b("MessengerDialogBody.react"),{className:"_93yf",children:j.jsxs("ul",{children:[j.jsxs("li",{className:"_93yg",children:[j.jsx(b("Image.react"),{className:"_93yh",src:i("1416922")}),j.jsxs("div",{className:"_93yi",children:[j.jsx("span",{className:"_93yj",children:h._("Hang out in dark mode")}),h._("Give your eyes some rest with the sleek new look")]})]}),j.jsxs("li",{className:"_93yg",children:[j.jsx(b("Image.react"),{className:"_93yh",src:i("1428068")}),j.jsxs("div",{className:"_93yi",children:[j.jsx("span",{className:"_93yj",children:h._("Stay in touch with real-time notificaitons")}),h._("Don\u2019t miss a message, even when you aren\u2019t on facebook.com")]})]}),j.jsxs("li",{className:"_93yg",children:[j.jsx(b("Image.react"),{className:"_93yh",src:i("1416923")}),j.jsxs("div",{className:"_93yi",children:[j.jsx("span",{className:"_93yj",children:h._("Calling your friends is one tap away")}),h._("No need to open a browser to make or answer calls")]})]})]})}),j.jsxs(b("MessengerDialogFooter.react"),{children:[j.jsx(b("MessengerButtonReact.re").make,{className:"_93yk",label:h._("Not Now"),onClick:this.$2,type:"secondary"}),this.$3()]})]})};d.$1=function(){return this.state.bannerClosed};d.$3=function(){return j.jsx(b("MessengerButtonReact.re").make,{className:"_93yl",label:this.props.primaryActionTitle,onClick:this.$4(this.props.primaryActionType,this.props.primaryActionURI,this.props.primaryActionCallback),type:"primary"})};d.$5=function(){this.setState({bannerClosed:!0},function(){b("MessengerSignals.re").resize()})};return c}(j.Component);e.exports=a}),null);
__d("MessengerDialogs.re",["bs_curry","MessengerDialogs.bs"],(function(a,b,c,d,e,f){a=b("MessengerDialogs.bs").showDialog;f.showDialog=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerDialogs.bs").removeDialog,a.dialog,c);return a};f.removeDialog=c;d=b("MessengerDialogs.bs").removeAllDialogs;f.removeAllDialogs=d}),null);
__d("MessengerInterstitialPromotion.react",["MessengerDialogs.re","MessengerInterstitialPromoDialog.react","MessengerPromotionDataDispatcher","MessengerPromotionDataStore","MessengerRefreshPrompt","React","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={promotionData:b("MessengerPromotionDataStore").getInterstitialPromotionData()},d.subscriptions=new(b("SubscriptionsHandler"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("MessengerRefreshPrompt")();b("MessengerPromotionDataDispatcher").explicitlyRegisterStores([b("MessengerPromotionDataStore")]);this.subscriptions.addSubscriptions(b("MessengerPromotionDataStore").addListener(function(){a.setState({promotionData:b("MessengerPromotionDataStore").getInterstitialPromotionData()},function(){if(!h&&a.state.promotionData){h=!0;var c=a.state.promotionData;b("MessengerDialogs.re").showDialog(function(){return g.jsx(b("MessengerInterstitialPromoDialog.react"),{promotionID:c.promotionID,promotionTitle:c.promotionTitle,promotionContent:c.promotionContent,primaryActionTitle:c.primaryActionTitle,primaryActionType:c.primaryActionType,primaryActionURI:c.primaryActionURI,primaryActionCallback:c.primaryActionCallback,secondaryActionTitle:c.secondaryActionTitle,secondaryActionType:c.secondaryActionType,secondaryActionURI:c.secondaryActionURI,secondaryActionCallback:c.secondaryActionCallback,instanceLogData:c.instanceLogData})})}})}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){return null};return c}(g.PureComponent);e.exports=a}),null);
__d("MercuryDeliveryState",["MercuryIDs","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInformer","UserActivity","debounceAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(){a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){var c=this;this.$8=function(){if(c.$5.length===0&&Object.keys(c.$6).length===0)return;var a=c.$5.map(function(a){return a.message_id});a&&c.$2.sendDeliveryReceipts(a,c.$6);c.$6={};c.$5=[]};this.$1=a;this.$2=b("MercuryServerRequests").getForFBID(this.$1);this.$3=b("MercuryThreadInformer").getForFBID(this.$1);this.$4=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=[];this.$6={};this.$3.subscribe("messages-received",this.$7.bind(this));b("UserActivity").subscribe(b("debounceAcrossTransitions")(this.$8,300,this))}var c=a.prototype;c.$7=function(a,b){var c=this;for(var d in b){a=b[d];a.forEach(function(a){c.$9(a)&&(c.$5.push(a),c.$4.getServerIDFromClientID(d,function(b){c.$6[b]||(c.$6[b]=[]),c.$6[b].push(a.message_id)}))})}this.$8()};c.$9=function(a){var c=a.author?b("MercuryIDs").getUserIDFromParticipantID(a.author):null;if(c===this.$1)return!1;return!a.is_unread?!1:!0};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncEnvironment",["Arbiter","ChannelInitialData","CurrentUser","MercurySyncDeltaHandler"],(function(a,b,c,d,e,f){"use strict";f.setUp=a;function a(){if(!b("ChannelInitialData").channelConfig)return;b("MercurySyncDeltaHandler").get();b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:b("CurrentUser").getAccountID(),seqID:b("ChannelInitialData").channelConfig?b("ChannelInitialData").channelConfig.sequenceId:0})}}),null);
__d("MessengerWorkContextInformationWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2100811943310675"};b.getQueryID=function(){return"282206062494175"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MercuryWorkContextInformation",["EventEmitter","KeyedCallbackManager","MercuryDispatcher","MercurySingletonProvider","MessengerWorkContextInformationWebGraphQLQuery","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))();a=function(){function a(a){var c=this;this.$4=new Map();this.$6=function(a){if(a&&a.user!=null&&a.user.id!=null&&a.user.scim_company_user){var b=a.user.id;a=a.user.scim_company_user;var d=a.work_phone_numbers!=null?a.work_phone_numbers.nodes.filter(function(a){return a.is_primary_number===!0&&a.user_phone_number_type}).shift():null,e=a.work_location!=null?a.work_location.nodes[0]:null,f={};f[b]={phone:d?[d.user_phone_number_for_display]:null,email:a.email!=null&&a.is_emailless!==!0?[a.email]:null,location:e?[e.user_formatted_address]:null};c.$3.addResourcesAndExecute(f);c.$4.set(b,!1);g.emit("change")}};this.$1=a;this.$2=b("MercuryDispatcher").getForFBID(this.$1);this.$3=new(b("KeyedCallbackManager"))();this.$4=new Map()}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var c=a.prototype;c.getTopThreads=function(){return this.$3.getAllResources()};c.getOrFetch=function(a){if(a==null)return null;var b=this.$3.getResource(a);if(b)return b;this.$5(a);return null};c.$5=function(a){if(this.$4.get(a))return;this.$4.set(a,!0);b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerWorkContextInformationWebGraphQLQuery"))({id:a})),this.$6)};a.addListener=function(a,b){return g.addListener(a,b)};return a}();e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("MessengerComposerState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({step:null,recipients:b("immutable").List()});a.__TCmeta={type:"MessengerComposerState"};e.exports=a}),null);
__d("MessengerComposerSteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});e.exports=a}),null);
__d("MessengerComposerStore",["EditorState","MessengerActions","MessengerBootloadedSecondarySearchLogger","MessengerComposerActions","MessengerComposerState","MessengerComposerSteps","MessengerConstants","MessengerDispatcher","MessengerEditorStateManager","MessengerSecondarySearchFunnelConstants","MessengerStore","MessengerURIStore","MessengerView","immutable","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=new(b("MessengerComposerState"))({step:b("MessengerComposerSteps").NULL,recipients:b("immutable").List()});c=(a=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var h=c.CLICK_OTHER_THREAD,i=c.END,j=c.START,k=c.RESULT_SELECTED,l=c.TOKEN_REMOVED;d=a.END_ACTIONS;var m=d.ABANDON,n=d.ENTER_THREAD,o=a.CLIENTS.MESSENGER_DOT_COM,p=a.SELECTION_TYPES.ADD,q=a.ENTRY_SURFACES.COMPOSER,r=a.LOGGING_IDS.M_APP_COMPOSER;f=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerComposerStore1=g;return b}var d=c.prototype;d.getState=function(){return this.$MessengerComposerStore1};d.__onDispatch=function(a){b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var c=b("MessengerURIStore").getState().detailView,d=this.$MessengerComposerStore1.recipients,e=this.$MessengerComposerStore1.step,f=null,g=null;switch(a.type){case b("MessengerComposerActions").Types.ADD_TOKEN:if(d.some(function(b){return b.getUniqueID()===a.entry.getUniqueID()}))break;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:k,id:a.entry.getUniqueID(),query:null,surface:q,loggingID:r,selectionType:p});f=d.push(a.entry);break;case b("MessengerComposerActions").Types.REMOVE_TOKEN:var s=a.entry.getUniqueID(),t=d.findIndex(function(a){return a.getUniqueID()===s});t!==-1&&(f=d["delete"](t),b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:l,clearedAll:!1,deletedIDs:[a.entry.getUniqueID()],loggingID:r}));break;case b("MessengerComposerActions").Types.FOCUS_COMPOSER:e===b("MessengerComposerSteps").SELECT_RECIPIENTS&&(g=b("MessengerComposerSteps").COMPOSE);break;case b("MessengerComposerActions").Types.FOCUS_TYPEAHEAD:e===b("MessengerComposerSteps").COMPOSE&&(g=b("MessengerComposerSteps").SELECT_RECIPIENTS);break;case b("MessengerActions").Types.REPLACE_STATE:t=b("MessengerURIStore").getPrevState().detailView;t!==b("MessengerView").DETAIL.COMPOSE&&c===b("MessengerView").DETAIL.COMPOSE?(g=b("MessengerComposerSteps").SELECT_RECIPIENTS,b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:j,client:o,surface:q,loggingID:r})):t===b("MessengerView").DETAIL.COMPOSE&&c!==b("MessengerView").DETAIL.COMPOSE&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:h,loggingID:r});break;case b("MessengerComposerActions").Types.MOVE_DRAFT:t=a.threadID.split(":");c=t.length>1?t[1]:"";b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:c,isNewThread:!1});b("MessengerEditorStateManager").set(a.threadID,b("MessengerEditorStateManager").get(b("MessengerConstants").NEW_THREAD_KEY));break;case b("MessengerComposerActions").Types.EXIT_COMPOSE_STATE:var u=b("EditorState").createEmpty();b("setTimeout")(function(){b("MessengerEditorStateManager").set(b("MessengerConstants").NEW_THREAD_KEY,b("EditorState").forceSelection(u,u.getSelection()))},0);a.abandon_search?b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:m}):b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:a.threadID,isNewThread:!1});g=b("MessengerComposerSteps").NULL;f=b("immutable").List();break}(f||g)&&(this.$MessengerComposerStore1=new(b("MessengerComposerState"))({step:g||e,recipients:f||d}),this.emitChange())};return c}(b("MessengerStore"));c=new f();e.exports=c}),null);
__d("MessengerThreadListLoggerUtil",["MessagingTag","QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";f.markerStart=a;f.markerEnd=c;var g=new Map(),h=1;function i(a,c){return!a||!a.includes(b("MessagingTag").INBOX.toUpperCase())?null:c==null?25296905:25296906}function j(a,b,c){return[].concat(a||[],[b,c]).filter(Boolean).join("_")}function a(a,c,d){var e=i(a,c);if(!e)return;b("QuickPerformanceLogger").markerStart(e,h);g.set(j(a,c,d),h);h++}function c(a,c,d,e){var f=i(a,c);if(!f)return;a=j(a,c,d);c=g.get(a);c!=null&&(b("QuickPerformanceLogger").markerEnd(f,e,c),g["delete"](a))}}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3426149104143726"};b.getQueryID=function(){return"700533614147542"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGraphQLThreadlistFetcher.bs",["Promise","ODS","Utils.bs","gkx","bs_js_dict","bs_caml_array","WebGraphQL","bs_caml_format","bs_caml_option","CurrentUser","bs_caml_exceptions","MercuryServerRequestsConfig","MessengerThreadListLoggerUtil","ChatReliabilityInstrumentation","MessengerServerPayloadTransformer.bs","MessengerThreadlistWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";var g={contents:!0};function h(a){b("MessengerThreadListLoggerUtil").markerStart(a.tags,a.timestamp,a.limit);return new(b("MessengerThreadlistWebGraphQLQuery"))({limit:a.limit,before:a.timestamp,tags:a.tags,isWorkUser:b("CurrentUser").isWorkUser(),includeDeliveryReceipts:a.includeDeliveryReceipts,includeSeqID:a.includeSeqID,onlyPinnedThreads:a.onlyPinnedThreads,is_work_teamwork_not_putting_muted_in_unreads:b("gkx")("1105011")})}function i(a,c,d,e){var f=[],g=[],h={},i=[],j={},k={contents:void 0},l={contents:0},m=[];e.forEach(function(e,n){n=b("bs_caml_array").get(c,n);var o=b("Utils.bs").optionBoolToBool(b("bs_caml_option").nullable_to_opt(n.onlyPinnedThreads)),p=[],q=[],r=[],s=e.viewer.pending_threads;s==null||(l.contents=s.unseen_count);e.viewer.message_threads.nodes.forEach(function(c){if(c==null)return;var e=b("MessengerServerPayloadTransformer.bs").transformThread(a,c,d),g=b("MessengerServerPayloadTransformer.bs").transformParticipants(c);g.forEach(function(a){j[a.fbid]=a});var k;if(e.is_canonical){g=e.other_user_fbid;g==null?k=null:(p.push(g),k=g)}else{g=e.thread_fbid;g==null?k=null:(q.push(g),k=g)}r.push(e.thread_id);f.push(e);if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(a,c);g!==void 0&&(h[k]=b("bs_caml_option").valFromOption(g))}if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(c);if(g.length!==0){c=g[0];e.is_canonical?i.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)}):i.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)})}}if(!(k==null)&&o){m.push(k);return}});s=e.viewer.message_threads.sync_sequence_id;s==null||(k.contents=b("bs_caml_format").caml_int_of_string(s));if(o)return;e=n.timestamp;g.push({folder:n.folder,other_user_fbids:p,thread_fbids:q,thread_ids:r,filter:n.filter,limit:e==null?n.limit:n.limit-1|0})});return{threads:f,ordered_threadlists:g,pending_folder_unseen_count:l.contents,roger:h,delivery_receipts:i,participants:b("bs_js_dict").values(j),sequence_id:k.contents,pinned_thread_ids:m}}var j=b("bs_caml_exceptions").create("MessengerGraphQLThreadlistFetcher.SessionLoggedOut");function k(a,c){a.forEach(function(a){b("MessengerThreadListLoggerUtil").markerEnd(a.tags,a.timestamp,a.limit,c)})}function a(a,c,d,e){if(!g.contents)return b("Promise").reject({RE_EXN_ID:j});var f=c.map(h);return b("Promise").all(b("WebGraphQL").execAll(f,{actorID:d?a:null,batchName:"MessengerGraphQLThreadlistFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){var d;try{d=b("bs_caml_array").get(a.errors,0).should_end_session}catch(a){d=!1}d&&(g.contents=!1);b("ODS").bumpEntityKey(2966,"messenger_webgraphql",e+".failure");k(c,"FAIL");b("ChatReliabilityInstrumentation").logERROR("fetch_thread_list_fail");return b("Promise").reject(a)}).then(function(f){b("ODS").bumpEntityKey(2966,"messenger_webgraphql",e+".success");k(c,"SUCCESS");return i(a,c,d,f)})}f.canMakeRequests=g;f._getQuery=h;f.transform=i;f.SessionLoggedOut=j;f.markerEnd=k;f.fetchAll=a}),null);
__d("MessengerInitialDataTransformer.bs",["MercuryThreadlistConstants","MessengerGraphQLThreadlistFetcher.bs","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.viewer,d=a.is_page,e=a.additional_participant,f;if(e==null)f=[];else{var g=[];e.messaging_actors.forEach(function(a){if(!(a==null)){g.push(b("MessengerServerPayloadTransformer.bs").transformParticipant(a));return}});f=g}e=a.thread_list;e=e==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],d,[e]);var h=a.pinned_threads;h=h==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").MAX_PINNED_THREADS+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],!1,[h]);var i=a.current_thread,j;if(i==null)j=null;else{i=i.message_thread;j=i==null?null:b("MessengerServerPayloadTransformer.bs").transformThread(c,i,d)}c=e==null?[[],0,[],{},[],[]]:[e.ordered_threadlists,e.pending_folder_unseen_count,e.threads,e.roger,e.participants,e.delivery_receipts];i=c[2];d=a.thread_key;e=d==null?i.filter(function(a){return a.unread_count===0}):[];if(e.length>0){d=e[0];e=d.is_canonical?d.other_user_fbid:d.thread_fbid}else e=null;j==null||i.push(j);d=h==null?[]:h.threads;j=d.map(function(a){a=a.is_canonical?a.other_user_fbid:a.thread_fbid;if(a==null)return null;else return a});h=i.concat(d);return[{ordered_threadlists:c[0],threads:h,roger:c[3],participants:c[4].concat(f),pending_folder_unseeen_count:c[1],delivery_receipts:c[5],payload_source:"server_initial_data",pinned_thread_ids:j,current_montage_thread:a.current_montage_thread},e]}f.transform=a}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerMDotMeReferralStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=a.refCode,this.$MessengerMDotMeReferralStore1.refThreadID=a.refThreadID,this.emitChange()}};return c}(b("MessengerStore"));c=new a();e.exports=c}),null);
__d("MessengerRTCMessageHandler",["Bootloader","FBRTCCallSummaryUploader","FBRTCExperiment","FBRTCMessageListener","URI","gkx","isFacebookURI"],(function(a,b,c,d,e,f){"use strict";f.init=a;var g,h=!1,i=!1;function j(){b("isFacebookURI")(new(g||(g=b("URI")))(window.top.location.href))&&b("FBRTCExperiment").getIncomingCallExperiments().logExposure()}function k(){try{return window.self!==window.top}catch(a){return!0}}function a(){b("FBRTCCallSummaryUploader").init(),b("FBRTCMessageListener").init(!1),!k()&&!b("gkx")("1105821")&&(b("FBRTCMessageListener").listenOnce("messageReceived",function(a){l()}),b("FBRTCMessageListener").listenOnce("multiwayMessageReceived",function(a){m(a)}))}function l(){h||(h=!0,j(),b("Bootloader").loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){var f=new a(c,e,d);b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"MessengerRTCMessageHandler"))}function m(a){i||(i=!0,j(),b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(c,d){var e=new c(d,!1);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"MessengerRTCMessageHandler"))}}),null);
__d("MessengerSearchConfirmationDialogReact.bs",["fbt","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerSearchConfirmationDialog");function j(a,c,d){return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:i.didMount,didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(a){var d,e;return(d=b("ReasonReact.bs")).element(void 0,void 0,(e=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,a.state.shown,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Search for \"{term}\"?",[g._param("term",c)])}),d.element(void 0,void 0,e.Footer.make(void 0,void 0,[d.element(void 0,void 0,e.Button.make(2,g._("OK"),void 0,void 0,function(c){return b("bs_curry")._1(a.send,0)},0,void 0,void 0,void 0,[])),d.element(void 0,void 0,e.CancelButton.make(void 0,[]))]))]))},initialState:function(a){return{shown:!0}},retainedProps:i.retainedProps,reducer:function(c,d){return{TAG:2,_0:{shown:!1},_1:function(c){return b("bs_curry")._1(a,void 0)}}},jsElementWrapped:i.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.onSearch,a.term,[])});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerSearchStore",["MessengerActions","MessengerDispatcher","MessengerSearchActions","MessengerSearchWebGraphQLFetcher","MessengerStore","MessengerUniversalSearchFunnelLoggerConstants","MessengerURIStore","MessengerView","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List;var g=b("MessengerUniversalSearchFunnelLoggerConstants").TYPE,h={activeThreadID:null,loading:!1,query:null,results:a(),threadID:null,totalCount:0,threads:[],threadsExhausted:null},i=10,j=100;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerSearchStore6=function(a,c){a.length>i?(a.pop(),b.$MessengerSearchStore2=b.$MessengerSearchStore2.concat(a.map(function(a){return a.getUniqueID()})),b.$MessengerSearchStore4.threads&&(a=b.$MessengerSearchStore4.threads.concat(a)),b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:a,threadsExhausted:a.length===j})):(b.$MessengerSearchStore4.threads&&(a=b.$MessengerSearchStore4.threads.concat(a)),b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:a,threadsExhausted:!0}));b.emitChange();return};b.$MessengerSearchStore7=function(a,c){b.$MessengerSearchStore4=babelHelpers["extends"]({},b.$MessengerSearchStore4,{query:b.$MessengerSearchStore4.query,loading:!1,threads:[]})};b.$MessengerSearchStore1="";b.$MessengerSearchStore3="";b.$MessengerSearchStore2=[];b.$MessengerSearchStore4=h;return b}var d=c.prototype;d.getForFBID=function(a){this.$MessengerSearchStore1=a};d.$MessengerSearchStore5=function(){return this.$MessengerSearchStore3};d.getState=function(){return this.$MessengerSearchStore4};d.__onDispatch=function(a){var c=this;b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var d=b("MessengerURIStore").getState(),e=d.activeThreadID,f=d.masterView,h=d.sa;d=d.seeAllType;h=h;this.$MessengerSearchStore3=h||"";switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:if(h&&this.$MessengerSearchStore4.query!==h||this.$MessengerSearchStore4.threadID!==e){if(h&&d){this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,{query:h,loading:!0,threads:[]});a=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return c.$MessengerSearchStore5()},g);this.$MessengerSearchStore2=[];a.fetchMSSAQEntries(this.$MessengerSearchStore3,d,i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7)}else this.$MessengerSearchStore8();this.emitChange()}break;case b("MessengerSearchActions").Types.LOAD_MORE_RESULTS:if(!d)return;this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,{loading:!0});e=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return c.$MessengerSearchStore5()},g);f===b("MessengerView").MASTER.SEE_ALL_GROUPS?e.fetchMSSAQEntries(this.$MessengerSearchStore3,d,this.$MessengerSearchStore2.length+i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7,this.$MessengerSearchStore2):e.fetchMSSAQEntries(this.$MessengerSearchStore3,d,i+1,this.$MessengerSearchStore6,this.$MessengerSearchStore7,this.$MessengerSearchStore2);this.emitChange();break}};d.$MessengerSearchStore8=function(){this.$MessengerSearchStore9(["threads","threadsExhausted","loading"])};d.$MessengerSearchStore9=function(a){a=a.reduce(function(a,b){a[b]=h[b];return a},{});this.$MessengerSearchStore4=babelHelpers["extends"]({},this.$MessengerSearchStore4,a)};return c}(b("MessengerStore"));d=new c();e.exports=d}),null);
__d("arrayStableSort",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){return a.map(function(a,b){return{data:a,index:b}}).sort(function(a,c){return b(a.data,c.data)||a.index-c.index}).map(function(a){return a.data})}}),null);
__d("RangedCallbackManager",["CallbackManagerController","arrayStableSort","createObjectFrom"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d){this.$1=[],this.$2=!1,this.$3=!1,this.$4={},this.$5=new(b("CallbackManagerController"))(this.$6.bind(this)),this.$7=a,this.$8=c,this.$9=d}var c=a.prototype;c.executeOrEnqueue=function(a,b,c,d,e){return this.$5.executeOrEnqueue({start:a,limit:b},c,{strict:!!d,skipOnStrictHandler:e})};c.unsubscribe=function(a){this.$5.unsubscribe(a)};c.getUnavailableResources=function(a){a=this.$5.getRequest(a);var b=[];if(a&&!this.$2){var c=a.request;a=this.$10(a.options);c=c.start+c.limit;for(var a=a.length;a<c;a++)b.push(a)}return b};c.addResources=function(a){var b=this;a.forEach(function(a){b.$4[a]||(b.$4[a]=!0,b.$1.push(a),b.$3=null)});this.resortResources();this.$5.runPossibleCallbacks()};c.addResourcesWithoutSorting=function(a,c){var d=this.$1.slice(0,c);d=d.concat(a);d=d.concat(this.$1.slice(c));this.$1=d;Object.assign(this.$4,b("createObjectFrom")(a,!0));this.$3=null;this.$5.runPossibleCallbacks()};c.removeResources=function(a){var b=this;a.forEach(function(a){if(b.$4[a]){b.$4[a]=!1;a=b.$1.indexOf(a);a!=-1&&b.$1.splice(a,1)}})};c.removeAllResources=function(){this.$1=[],this.$4={}};c.resortResources=function(){var a=this;this.$1=b("arrayStableSort")(this.$1,function(b,c){return a.$8(a.$7(b),a.$7(c))})};c.setReachedEndOfArray=function(){this.$2||(this.$2=!0,this.$3=null,this.$5.runPossibleCallbacks())};c.hasReachedEndOfArray=function(){return this.$2};c.forceRunCallbacks=function(){this.$5.runPossibleCallbacks({force:!0})};c.setError=function(a){this.$3!==a&&(this.$3=a,this.$5.runPossibleCallbacks())};c.getError=function(a,b,c){c=this.$10({strict:c});return a+b>c.length?this.$3:null};c.hasResource=function(a){return this.$4[a]};c.getResourceAtIndex=function(a){return this.$1[a]};c.getAllResources=function(){return this.$1.concat()};c.getCurrentArraySize=function(a){return this.$10(a).length};c.$10=function(a){var b=this.$1;if(a&&a.strict){a=a.skipOnStrictHandler||this.$9;a&&(b=b.filter(a))}return b};c.$6=function(a,b){var c=this.$10(b),d=a.start;a=a.start+a.limit;b=!!(b&&b.force);if(!b&&!this.$2&&!this.$3&&a>c.length)return!1;else{b=c.slice(d,a);d=a>c.length?this.$3:null;return[b,d]}};c.getElementsUntil=function(a){var b=[];for(var c=0;c<this.$1.length;c++){var d=this.$7(this.$1[c]);if(this.$8(d,a)>0)break;b.push(this.$1[c])}return b};return a}();e.exports=a}),null);
__d("MercurySearchContextResults",["KeyedCallbackManager","MercuryAPIArgsSource","MercuryIDs","MercuryThreadlistConstants","MercuryThreadIDMap","RangedCallbackManager","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MessengerMessageTransformer.bs","WebMessengerConstants"],(function(a,b,c,d,e,f){var g=b("MercuryThreadIDMap").get(),h=b("MercuryServerPayloadPreprocessor").get(),i=new(b("KeyedCallbackManager"))(),j=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,k=b("WebMessengerConstants").MORE_SEARCH_CONTEXT_COUNT;a={getSearchContext:function(a,c,d){if(a){var e=i.executeOrEnqueue(a,function(b){b=m(b,a);d(b)}),f=i.getUnavailableResources(e);if(f.length){var h={message_id:a,limit:j+1};g.getServerIDFromClientID(c,function(a){var d=b("MercuryIDs").tokenize(c);d.type=="user"?h.other_user_fbid=a:h.thread_fbid=a;n(h)})}return e}},getMoreSearchContext:function(a,c,d,e){if(a){var f=i.getResource(a);if(f){var h=d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?f.up_message_ids:f.down_message_ids,j=h.getCurrentArraySize()+k,l=h.executeOrEnqueue(0,j,function(){var b=m(f,a);e(b)});h=h.getUnavailableResources(l);if(h.length){h={message_id:a,limit:j,direction:d};j=g.getServerIDFromClientIDNow(c);d=b("MercuryIDs").tokenize(c);d.type=="user"?h.other_user_fbid=j:h.thread_fbid=j;n(h)}return l}}},handleUpdate:function(a){if(a.graphql_payload){var c=a.graphql_payload.map(function(c){return b("MessengerMessageTransformer.bs").transformMessage(a.viewer,c,a.thread_data,a.for_page)});h.handleUpdate({actions:c,payload_source:"server_search"})}c=a.search_context||{};for(var d in c){var e=c[d],f=e.other_user_fbid||e.thread_fbid;f=g.getClientIDFromServerIDNow(f.toString());var m=!i.getResource(d);f=m?{thread_id:f,up_message_ids:new(b("RangedCallbackManager"))(),down_message_ids:new(b("RangedCallbackManager"))()}:i.getResource(d);var n=m?j+1:k;e.up_message_ids&&(f.up_message_ids.getCurrentArraySize()===0||e.up_message_ids.length>=f.up_message_ids.getCurrentArraySize())&&l(f.up_message_ids,e.up_message_ids,n);e.down_message_ids&&(f.down_message_ids.getCurrentArraySize()===0||e.down_message_ids.length>=f.down_message_ids.getCurrentArraySize())&&l(f.down_message_ids,e.down_message_ids,n);m&&i.setResource(d,f)}},unsubscribe:function(a,c,d){if(c){c=i.getResource(c);c?d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?c.up_message_ids.unsubscribe(a):c.down_message_ids.unsubscribe(a):i.unsubscribe(a)}}};function l(a,b,c){var d=a.getCurrentArraySize();d=b.length<d+c;b.length&&(a.removeAllResources(),a.addResourcesWithoutSorting(b,0));d&&a.setReachedEndOfArray()}function m(a,b){var c=a.up_message_ids.hasReachedEndOfArray(),d=a.up_message_ids.getAllResources();c||d.shift();var e=a.down_message_ids.hasReachedEndOfArray(),f=a.down_message_ids.getAllResources();e||f.pop();return{thread_id:a.thread_id,message_id:b,up_message_ids:d,up_exhausted:c,down_message_ids:f,down_exhausted:e}}function n(a){a.client=b("MercuryAPIArgsSource").WEBMESSENGER,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_context.php",a)}b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_context.php":{mode:b("MercuryServerDispatcher").IMMEDIATE,handler:a.handleUpdate}});e.exports=a}),null);
__d("MercurySearchSnippetResults",["MercuryAPIArgsSource","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonMixin","MercuryThreadIDMap","MercuryThreadlistConstants","MessengerEnvironment","MessengerServerPayloadTransformer.bs","RangedCallbackManager"],(function(a,b,c,d,e,f){var g=b("MessengerEnvironment").messengerui?b("MercuryAPIArgsSource").MESSENGER:b("MercuryAPIArgsSource").WEBMESSENGER,h={},i={},j=null,k=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,l=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_LIMIT,m=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_MORE;a=function(){"use strict";function a(a){var c=this;this.$1=a;this.$2=b("MercuryServerPayloadPreprocessor").getForFBID(a);b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_snippets.php":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a){c.handleUpdate(a)}}});this.$3=b("MercuryThreadIDMap").getForFBID(a)}var c=a.prototype;c.getFBID=function(){return this.$1};c.getThreadIDMap=function(){return this.$3};c.getAllThreadSearchResults=function(a,b){a&&n(this.$1,a,l,0,b)};c.getAllLocalThreadSearchResults=function(a,b){if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,0,c,b)}}};c.getAllThreadSearchMoreResults=function(a,b){if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,m,c,b)}}};c.getSingleThreadSearchResults=function(a,b,c){if(!a||!b)return;o.call(this,a,b,k,0,c)};c.getSingleThreadSearchMoreResults=function(a,b,c){if(!a||!b)return;if(!i[b])return;var d=i[b][a];if(d){var e=d.num_total_snippets;d=d.snippets_cbm.getCurrentArraySize();e=e-d;if(e>0){e=e>m?m:e;o.call(this,a,b,e,d,c)}}};c.countSnippetsMatchingQueryInThread=function(a,b){b=i[b][a];if(b)return b.num_total_snippets};c.findIndexOfSnippet=function(a,b,c,d){d=t(a,b);a=d.getAllResources();for(var b=0;b<a.length;b++)if(c===a[b].message_id)return b};c.findSnippetAtIndex=function(a,b,c,d){q(a,b,c),r.call(this,a,b,c,d)};c.handleUpdate=function(a){var c=this;if(a.graphql_payload){var d=(a.graphql_payload.message_threads||[]).map(function(d){return b("MessengerServerPayloadTransformer.bs").transformThread(c.$1,d,a.is_page)});this.$2.handleUpdate({threads:d,payload_source:"server_search"})}else a.mercury_payload&&this.$2.handleUpdate(a.mercury_payload);var e=a.search_snippets||{};Object.keys(e).filter(function(a){return!!e[a]}).forEach(function(a){Object.keys(e[a]).forEach(function(b){if(!e[a][b].snippets)return;e[a][b].snippets.forEach(function(a){a.matched_keywords=p(a.matched_keywords)})})});d=a.offset;var f=[];for(var g in e){var h=e[g];for(var j in h){var k=h[j],l=a.other_user_fbid||a.thread_fbid,m=this.$3.getClientIDFromServerIDNow(j),n=k.snippets,o=t(g,m),q=o.getCurrentArraySize();if(!l){f.push(m);if(q)continue}else if(d!=q)continue;m=i[m][g];m.num_total_snippets=k.num_total_snippets;k=n?n.length:0;k>0&&o.addResourcesWithoutSorting(n,q);(!l||a.limit>k)&&(o.getCurrentArraySize()==m.num_total_snippets&&o.setReachedEndOfArray())}if(!l){n=s(g);q=n.getCurrentArraySize();d==q&&(n.addResourcesWithoutSorting(f,q),a.limit>f.length&&n.setReachedEndOfArray())}}};return a}();function n(a,b,c,d,e){if(j&&!j.thread_id){var f=s(j.query);f.unsubscribe(j.subscriber_id);j=null}var f=s(b),g=d+c;g=f.executeOrEnqueue(0,g,function(a){var c={};for(var d=0;d<a.length;d++){var g=a[d],h=i[g][b];c[g]={num_total_snippets:h.num_total_snippets,snippets:h.snippets_cbm.getAllResources()}}f.getCurrentArraySize()===l&&f.setReachedEndOfArray();g=f.hasReachedEndOfArray();e(c,g)});var h=f.getUnavailableResources(g);if(h.length){j={query:b,thread_id:null,subscriber_id:g};h={query:b,offset:d,limit:c+1,snippetLimit:k};h.identifier="thread_fbid";u(h,a)}}function o(a,b,c,d,e){var f=this;if(j&&j.thread_id){var g=t(j.query,j.thread_id);g.unsubscribe(j.subscriber_id);j=null}var g=t(a,b),h=d+c;h=g.executeOrEnqueue(0,h,function(){var d=g.getAllResources(),c=i[b][a].num_total_snippets;e(d,c)});if(!g.getUnavailableResources(h).length)return;j={query:a,thread_id:b,subscriber_id:h};this.getThreadIDMap().getServerIDFromClientID(b,function(b){b={query:a,snippetOffset:d,snippetLimit:c,thread_fbid:b,identifier:"thread_fbid"};u(b,f.getFBID())})}function p(a){if(a instanceof Array){var b={};for(var c=0;c<a.length;c++)b[c.toString()]=a[c];return b}else return a}function q(a,b,c){}function r(a,b,c,d){var e=i[b][a],f=e.snippets_cbm.getAllResources();e=e.num_total_snippets;var g=f.length;if(c<g){d(f[c].message_id);return}f=e-g;e=f>m?m:f;o.call(this,a,b,e,g,function(e,f){r.call(this,a,b,c,d)})}function s(a){h[a]||(h[a]=new(b("RangedCallbackManager"))());return h[a]}function t(a,c){i[c]||(i[c]={});var d=i[c][a];d||(d={num_total_snippets:-1,snippets_cbm:new(b("RangedCallbackManager"))()},i[c][a]=d);return d.snippets_cbm}function u(a,c){a.client=g,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_snippets.php",a,null,c)}Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MessengerThreadSearchActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CHANGE_RESULT_INDEX:null,GET_MORE_CONTEXT:null,GET_MORE_THREADS:null,UPDATE_THREAD_STATE:null,SCROLL_TO_MESSAGE:null});a={Types:g,selectPrevious:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:1})},selectNext:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:-1})},getMoreSearchContext:function(a,c){b("MessengerDispatcher").dispatch({type:g.GET_MORE_CONTEXT,direction:a,threadID:c})},updateThreadState:function(a,c){b("MessengerDispatcher").dispatch({type:g.UPDATE_THREAD_STATE,threadID:a,mid:c})},loadMoreThreads:function(){b("MessengerDispatcher").dispatch({type:g.GET_MORE_THREADS})},scrollToMessage:function(a){b("MessengerDispatcher").dispatch({type:g.SCROLL_TO_MESSAGE,messageID:a})}};e.exports=a}),null);
__d("WorkGalahadScrollToMessageEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();e.exports=a}),null);
__d("MessengerThreadSearchStore",["cx","Bootloader","ImmutableObject","MercurySearchContextResults","MercurySearchSnippetResults","MessengerActions","MessengerContentSearchFunnelLoggerConstants","MessengerDispatcher","MessengerState.bs","MessengerStore","MessengerThreadSearchActions","MessengerURIStore","MessengerView","WorkGalahadScrollToMessageEventEmitter","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List;a=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS;var i=a.BROWSE_CONTEXT,j=a.BROWSE_MESSAGE_IN_THREAD,k=a.LOAD_MORE_THREADS,l=a.LOAD_MESSAGE_IN_THREAD,m=a.SELECT_THREAD,n=a.THREAD_IMPRESSIONS,o={activeThreadID:null,downExhausted:null,loading:!1,messages:null,query:null,results:h(),selectedIndex:0,threadID:null,totalCount:0,upExhausted:null,threads:null,threadsExhausted:null,scrolledToMid:!1,mid:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerThreadSearchStore2=o;return b}var d=c.prototype;d.getForFBID=function(a){this.$MessengerThreadSearchStore1=a,this.$MessengerThreadSearchStore3=new(b("MercurySearchSnippetResults"))(a)};d.getState=function(){return this.$MessengerThreadSearchStore2};d.$MessengerThreadSearchStore6=function(a,c){var d=this;a&&c?(this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threadID:c,mid:a,scrolledToMid:!1}),b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return d.setMessages(a)})):(this.$MessengerThreadSearchStore8(),this.$MessengerThreadSearchStore2=o)};d.getSingleThreadResults=function(a,b){this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{messages:null}),this.$MessengerThreadSearchStore9(a,b)};d.$MessengerThreadSearchStore9=function(a,b){var c=this;this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getSingleThreadSearchResults(a,b,function(d,e){c.$MessengerThreadSearchStore10({name:m,thread_id:b,has_results:e?e>0:!1}),c.accumulateSearchResultsAndEmitChange(a,b,0,d,e)})};d.getAllThreadResults=function(a){this.$MessengerThreadSearchStore11(a)};d.$MessengerThreadSearchStore11=function(a){var b=this;if(a!==this.$MessengerThreadSearchStore2.query){this.$MessengerThreadSearchStore5=Date.now();if(a&&a.length==1){this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,selectedIndex:0,results:h(),totalCount:0});return}this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,loading:!0});this.$MessengerThreadSearchStore3.getAllThreadSearchResults(a,function(a,c){b.setAllThreadResults(a,c);c=Object.keys(a);b.$MessengerThreadSearchStore10({name:n,threads:c})})}else this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore3.getAllLocalThreadSearchResults(a,function(a,c){return b.setAllThreadResults(a,c)})};d.$MessengerThreadSearchStore12=function(a,b,c){var d=this;this.$MessengerThreadSearchStore10({name:j,thread_id:this.$MessengerThreadSearchStore2.threadID});this.$MessengerThreadSearchStore5=Date.now();this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getSingleThreadSearchMoreResults(a,b,function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];d.accumulateSearchResultsAndEmitChange.apply(d,[a,b,c].concat(f))})};d.$MessengerThreadSearchStore13=function(a){var c=this;this.$MessengerThreadSearchStore5=Date.now();this.$MessengerThreadSearchStore10({name:j,thread_id:this.$MessengerThreadSearchStore2.threadID});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0,selectedIndex:a});b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return c.setMessages(a)})};d.__onDispatch=function(a){var c=this;if(!this.$MessengerThreadSearchStore3)return;b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var d=b("MessengerURIStore").getState(),e=d.activeThreadID,f=d.masterView,g=d.mid;d=d.query;f=f===b("MessengerView").MASTER.SEARCH||f===b("MessengerView").MASTER.SEARCH_MESSAGES;switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:var h=g!=this.$MessengerThreadSearchStore2.mid&&e!=this.$MessengerThreadSearchStore2.activeThreadID;h&&this.$MessengerThreadSearchStore6(g,e);h=this.$MessengerThreadSearchStore2.query!=d||this.$MessengerThreadSearchStore2.threadID!=e;if(h){h=!d||g;h?this.$MessengerThreadSearchStore14():this.$MessengerThreadSearchStore9(d,e);f&&d?this.$MessengerThreadSearchStore11(d):this.$MessengerThreadSearchStore15();this.emitChange()}break;case b("MessengerThreadSearchActions").Types.CHANGE_RESULT_INDEX:g=Math.max(Math.min(this.$MessengerThreadSearchStore2.totalCount-1,this.$MessengerThreadSearchStore2.selectedIndex+a.delta),0);if(g===this.$MessengerThreadSearchStore2.selectedIndex)break;g>=this.$MessengerThreadSearchStore2.results.size?this.$MessengerThreadSearchStore12(d,e,g):this.$MessengerThreadSearchStore13(g);this.emitChange();h=this.$MessengerThreadSearchStore2.results.get(g);this.$MessengerThreadSearchStore10({name:l,mid:h==null?void 0:h.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5});break;case b("MessengerThreadSearchActions").Types.GET_MORE_CONTEXT:this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0,threadID:a.threadID!=null?a.threadID:this.$MessengerThreadSearchStore2.threadID});b("MercurySearchContextResults").getMoreSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,a.direction,function(a){c.setMessages(a),c.$MessengerThreadSearchStore10({name:i})});this.emitChange();break;case b("MessengerThreadSearchActions").Types.GET_MORE_THREADS:this.$MessengerThreadSearchStore4=Date.now();this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getAllThreadSearchMoreResults(d,function(a,b){c.$MessengerThreadSearchStore10({name:k,threads:Object.keys(a),latency:Date.now()-c.$MessengerThreadSearchStore4}),c.setAllThreadResults(a,b)});this.emitChange();break;case b("MessengerThreadSearchActions").Types.SCROLL_TO_MESSAGE:this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{scrolledToMid:a.messageID===this.$MessengerThreadSearchStore2.mid?!0:this.$MessengerThreadSearchStore2.scrolledToMid});b("WorkGalahadScrollToMessageEventEmitter").emit("scrollToMessage",a.messageID);break}};d.setAllThreadResults=function(a,c){var d=this,e=Object.keys(a);e=e.map(function(c){c=b("MessengerState.bs").getThreadMetaNow(d.$MessengerThreadSearchStore1,c);if(!c)return;var e=a[c.thread_id];if(!e)return;return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{snippetCount:e.num_total_snippets}))}).filter(Boolean);this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threads:e,threadsExhausted:c,loading:!1});this.emitChange()};d.$MessengerThreadSearchStore15=function(){this.$MessengerThreadSearchStore16(["threads","threadsExhausted","loading","query","results"])};d.accumulateSearchResultsAndEmitChange=function(a,c,d,e,f){var g=this;this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,threadID:c,selectedIndex:d||0,results:h(e),totalCount:f||0});if(this.$MessengerThreadSearchStore2.results.size){b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2.threadID,function(a){return g.setMessages(a)});a=this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex);this.$MessengerThreadSearchStore10({name:l,mid:a.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5})}else this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{messages:null});this.emitChange()};d.$MessengerThreadSearchStore14=function(){this.$MessengerThreadSearchStore8(),this.$MessengerThreadSearchStore16(["query","threadID","selectedIndex","results","totalCount","downExhausted","loading","messages","upExhausted"])};d.$MessengerThreadSearchStore16=function(a){a=a.reduce(function(a,b){a[b]=o[b];return a},{});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,a)};d.setMessages=function(a){var c=this,d=b("MessengerState.bs").getMessagesFromIDs(this.$MessengerThreadSearchStore1,[].concat(a.up_message_ids,a.message_id,a.down_message_ids)).map(function(d){if(d&&d.message_id===a.message_id)if(!c.$MessengerThreadSearchStore2.results.isEmpty()){var e=c.$MessengerThreadSearchStore2.results.get(c.$MessengerThreadSearchStore2.selectedIndex),f=e.matched_keywords,g=d.body.indexOf(e.body);e=Object.keys(e.matched_keywords).map(function(a){return{offset:g+Number(a),length:f[a].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},d,{ranges:d.ranges?d.ranges.concat(e):e}))}else return new(b("ImmutableObject"))(babelHelpers["extends"]({},d,{isSelected:!0}));return d}).map(function(a){return new(b("ImmutableObject"))(a)});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{downExhausted:a.down_exhausted,loading:!1,messages:h(d),upExhausted:a.up_exhausted});this.emitChange()};d.$MessengerThreadSearchStore7=function(){var a=this.$MessengerThreadSearchStore2.selectedIndex>=this.$MessengerThreadSearchStore2.results.size?this.$MessengerThreadSearchStore2.results.size-1:this.$MessengerThreadSearchStore2.selectedIndex;return this.$MessengerThreadSearchStore2.mid||((a=this.$MessengerThreadSearchStore2.results.get(a))==null?void 0:a.message_id)};d.$MessengerThreadSearchStore8=function(){if(this.$MessengerThreadSearchStore2.messages){var a=this.$MessengerThreadSearchStore2.messages.map(function(a){return a.message_id}).toArray();b("MessengerState.bs").invalidateSearchedMessages(this.$MessengerThreadSearchStore1,a)}};d.$MessengerThreadSearchStore10=function(a){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(b){if(b&&a)switch(a.name){case j:b.browseMessageInThread(a.thread_id);break;case k:b.logLoadMoreThreads(a.threads,a.latency);break;case m:b.logThreadSelect(a.thread_id,a.has_results);break;case l:b.loadMessageInThread(a.mid,a.thread_id,a.latency);break;case n:b.logThreadImpressions(a.threads);break;case i:b.logContextBrowse();break}},"MessengerThreadSearchStore")};return c}(b("MessengerStore"));d=new c();e.exports=d}),null);
__d("MessengerNonMount",["ChannelConnection","ChannelManager","CurrentUser","MercuryDeliveryState","MercuryServerPayloadPreprocessor","MercurySyncEnvironment","MercuryThreadIDMap","MercuryWorkContextInformation","MessengerActions","MessengerAttributionTagsStore","MessengerBrowserAlerts","MessengerComposerActions","MessengerComposerStore","MessengerDialogs.bs","MessengerEagerThreadLoader","MessengerInitialDataTransformer.bs","MessengerMDotMeReferralStore","MessengerParticipants.bs","MessengerRTCMessageHandler","MessengerSearchActions","MessengerSearchConfirmationDialogReact.bs","MessengerSearchStore","MessengerSettingsStore","MessengerState.bs","MessengerThreadSearchStore","MessengerURIConstants","MessengerURISerializer","MessengerURIStore","MessengerView","MNPlatformTagsDataManager","React","URI","gkx","goURI","PageHooks"],(function(a,b,c,d,e,f){"use strict";var g,h=b("MessengerSearchConfirmationDialogReact.bs").jsComponent,i=b("React");b("PageHooks");b("ChannelManager").startChannelManager();d={initStoresAndListeners:a,dispatchInitialData:c,seedInitialData:l,triggerInitialURI:m};function a(a){j(a),k(a)}function j(a){b("MercuryDeliveryState").getForFBID(a),b("MessengerParticipants.bs"),b("MessengerState.bs"),b("CurrentUser").isWorkUser()&&b("MercuryWorkContextInformation").getForFBID(a),b("MessengerAttributionTagsStore"),b("MessengerComposerStore"),b("MessengerMDotMeReferralStore"),b("MessengerSearchStore").getForFBID(a),b("MessengerSettingsStore"),b("MessengerURIStore"),b("MessengerThreadSearchStore").getForFBID(a)}function k(a){b("MercurySyncEnvironment").setUp(),b("MessengerBrowserAlerts").init(a),b("MessengerRTCMessageHandler").init(),b("ChannelConnection"),b("gkx")("811069")&&b("MessengerEagerThreadLoader").subscribe(a)}function l(a,c){a=b("MercuryServerPayloadPreprocessor").getForFBID(a);if(c.graphqlPayload){var d=b("MessengerInitialDataTransformer.bs").transform(c.graphqlPayload);d=d[0];d.message_blocked_ids=c.mercuryPayload.message_blocked_ids;d.message_ignored_ids=c.mercuryPayload.message_ignored_ids;a.handleUpdate(d)}else a.handleUpdate(c.mercuryPayload)}function m(a,c){a=c.lastReadThreadKey;if(c.graphqlPayload){var d=b("MessengerInitialDataTransformer.bs").transform(c.graphqlPayload);a=d[1]}d=new(g||(g=b("URI")))(window.location.href);var e=b("MessengerURISerializer").deserialize(d);if(e.query){var f=e.masterView===b("MessengerView").MASTER.SEARCH||e.masterView===b("MessengerView").MASTER.SEARCH_MESSAGES,j=e.query;e.query=null;e.masterView=b("MessengerView").MASTER.RECENT;b("MessengerDialogs.bs").showDialog(function(){return i.jsx(h,{term:j,onSearch:function(){f?b("MessengerSearchActions").changeQueryAll(j):b("MessengerSearchActions").changeQuery(j)}})})}b("goURI")(b("MessengerURISerializer").serialize(e),!1,!0);if(d.getPath().match(b("MessengerURIConstants").COMPOSE_SUBPATH+"/?$"))return;if(d.getPath().match(b("MessengerURIConstants").GALLERY_PATH+"/?$")&&b("gkx")("1185153"))return;if(e.masterView===b("MessengerView").MASTER.PAYMENT)return;b("MessengerActions").changeMDotMeReferral(c.mDotMeReferral,c.mDotMeReferralThreadKey);var k=b("MercuryThreadIDMap").get();e=e.threadKey?k.getClientIDFromServerIDNow(e.threadKey):k.getClientIDFromServerIDNow(a);e?(b("MessengerComposerActions").exitComposeState(),b("MessengerActions").selectThread(e)):d.getPath()==="/"&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(c.messagingSource,c.mDotMeReferralThreadKey&&c.mDotMeReferralThreadKey.toString())}function c(a,b){l(a,b),m(a,b)}e.exports=d}),null);
__d("FBPaymentsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("FBPaymentsDialogActions",["FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.showDialog=a;f.hideDialog=c;var g=b("keyMirror")({SHOW_DIALOG:null,HIDE_DIALOG:null});f.types=g;function a(a,c){b("FBPaymentsDispatcher").dispatch({type:g.SHOW_DIALOG,data:{dialogClass:a,dialogProps:c}})}function c(){b("FBPaymentsDispatcher").dispatch({type:g.HIDE_DIALOG,data:{}})}}),null);
__d("FBPaymentsDialogStore",["FBPaymentsDialogActions","FBPaymentsDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("FBPaymentsDispatcher"))||this;c.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;a=a.data;switch(c){case b("FBPaymentsDialogActions").types.SHOW_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:a.dialogClass,dialogProps:a.dialogProps};this.__emitChange();break;case b("FBPaymentsDialogActions").types.HIDE_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};this.__emitChange();break}};d.getState=function(){return this.$FBPaymentsDialogStore1};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("FBPaymentsDialogContainer.react",["FBPaymentsDialogStore","FBPaymentsDispatcher","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(){return b("FBPaymentsDialogStore").getState()};c.getStores=function(){return[b("FBPaymentsDialogStore")]};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(b("FBPaymentsDialogStore"))};d.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};return c}(g.Component);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("keyMirrorRecursive",["invariant","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";a=function a(c,d){var e={};h(c)||g(0,580);for(var f in c){if(!Object.prototype.hasOwnProperty.call(c,f))continue;var i=c[f],j=b("isTruthy")(d)?d+"."+f:f;h(i)?i=a(i,j):i=j;e[f]=i}return e};function h(a){return a instanceof Object&&!Array.isArray(a)}c=a;e.exports=c}),null);
__d("MNCommerceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a={RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null},RETAIL_ITEM:{LOADED:null,LOAD_ERROR:null,RELOAD:null},PROMOTION_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},TRANSACTION_INVOICE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},BOT_REVIEW_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null}};c=b("keyMirrorRecursive")(a);d=c;e.exports=d}),null);
__d("MNCommerceDialogStateStore",["FluxStore","MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MNCommerceDialogStateStore1=null;c.$MNCommerceDialogStateStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){var c=a.type;switch(c){case b("MNCommerceActionTypes").DIALOG.SHOW:this.$MNCommerceDialogStateStore1=a.dialogContainer;this.$MNCommerceDialogStateStore2=a.state;this.__emitChange();break;case b("MNCommerceActionTypes").DIALOG.HIDE:this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;this.__emitChange();break}};d.getDialogContainer=function(){return this.$MNCommerceDialogStateStore1};d.getState=function(){return this.$MNCommerceDialogStateStore2};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("MNCommerceDialogContainer.react",["MNCommerceDialogStateStore","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"MNCommerceDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MNCommerceDialogStateStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getDialogContainer();return{dialogContainer:a}}},render:function(){var a=this.state.dialogContainer;return!a?null:g.jsx(a,{})}});c=a;e.exports=c}),null);
__d("CustomColorHighlighting.react",["cssVar","csx","cx","React","UserAgent","guid","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a="._fy2";c="._43by";d="._mh6";f=b("UserAgent").isEngine("Gecko")?"._mh6 *::-moz-selection":"._mh6 ::selection";g=b("UserAgent").isEngine("Gecko")?"._43by *::-moz-selection":"._43by ::selection";var k=a+a,l=c+c,m=d+f,n=d+d,o=c+g,p="rgba(255, 255, 255, 0.3)";h=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={id:"cch_"+b("guid")()};return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.componentWillUnmount=function(){this.$2(),this.state.styleTag&&document.head.removeChild(this.state.styleTag)};d.UNSAFE_componentWillReceiveProps=function(a){this.props.customColor&&!a.customColor?this.$2():a.customColor!==this.props.customColor&&this.$3(a.customColor)};d.render=function(){return j.jsx("span",{className:b("joinClasses")("_mh6",this.props.className),id:this.state.id,children:this.props.children})};d.$1=function(){var a=this,b=document.createElement("style");b.appendChild(document.createTextNode(""));document.head.appendChild(b);this.setState({styleSheet:b.sheet,styleTag:b},function(){return a.$3(a.props.customColor)})};d.$4=function(a,b,c){try{a.insertRule?a.insertRule(b+"{"+c+"}",0):a.addRule&&a.addRule(b,c,0)}catch(a){}};d.$5=function(a){"removeRule"in a?a.removeRule(0):"deleteRule"in a&&a.deleteRule(0)};d.$2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$5(this.state.styleSheet)}};d.$6=function(a){a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);var b=parseInt(a[1],16),c=parseInt(a[2],16);a=parseInt(a[3],16);return"rgba("+b+","+c+","+a+",0.2)"};d.$3=function(a){this.$2();a=a||this.props.customColor;if(a){var b=this.$6(a);b="background: "+b;this.$4(this.state.styleSheet,"#"+this.state.id+m,b);this.$4(this.state.styleSheet,"#"+this.state.id+" "+k,"color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+" "+l,"background-color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+n+" "+o,"background-color: "+p)}};return c}(j.PureComponent);e.exports=h;h.propTypes={className:b("prop-types").string,customColor:b("prop-types").string}}),null);
__d("PhotosMimeType",[],(function(a,b,c,d,e,f){f.isImage=g;f.isJpeg=a;function g(a){return h(a)[0]==="image"}function a(a){var b=h(a);return g(a)&&(b[1]==="jpeg"||b[1]==="pjpeg")}function h(a){return a.split("/")}}),null);
__d("DataTransfer",["Promise","PhotosMimeType","createArrayFromMixed","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){var g=new RegExp("\r\n","g"),h="\n",i={"text/rtf":1,"text/html":1};function j(a){if(a.kind=="file")return a.getAsFile()}function k(a){return new(b("Promise"))(function(b){a.file(function(a){b([a])})})}function l(a){return typeof a.webkitGetAsEntry==="function"?a.webkitGetAsEntry():null}function m(a,c){return new(b("Promise"))(function(d){b("promiseDone")(b("Promise").all(a.map(function(a){var b=l(a);if(b&&b.createReader!=null){c();return n(b)}else{return(b=j(a))!=null?b:[]}})),function(a){d(a.flatMap(b("emptyFunction").thatReturnsArgument))})})}function n(a){return new(b("Promise"))(function(c){var d=a.createReader(),e=[],f=function(){b("promiseDone")(b("Promise").all(e.map(function(a){if(a.isDirectory)return n(a);else return k(a)})),function(a){c(a.flatMap(b("emptyFunction").thatReturnsArgument))})},g=function a(){d.readEntries(function(b){b.length?(e=e.concat(b),a()):f()},f)};g()})}a=function(){"use strict";function a(a){this.data=a,this.types=a.types?b("createArrayFromMixed")(a.types):[]}var c=a.prototype;c.isRichText=function(){if(this.getHTML()&&this.getText())return!0;return this.isImage()?!1:this.types.some(function(a){return i[a]})};c.getText=function(){var a;!this.types.length?a=this.data.getData("Text"):this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain"));return a?a.replace(g,h):null};c.getHTML=function(){if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};c.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")!=-1})};c.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split("\n");return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};c.isImage=function(){var a=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(a)return!0;a=this.getFiles();for(var c=0;c<a.length;c++){var d=a[c].type;if(!b("PhotosMimeType").isImage(d))return!1}return!0};c.getCount=function(){if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};c.getFiles=function(){if(this.data.items)return Array.prototype.slice.call(this.data.items).map(j).filter(b("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};c.getRecursiveFiles=function(a){if(this.data.items)return m(Array.prototype.slice.call(this.data.items),a);else if(this.data.files)return new(b("Promise"))(Array.prototype.slice.call(this.data.files))};c.hasFiles=function(){return this.getFiles().length>0};return a}();e.exports=a}),null);
__d("MercuryCanonicalGroupThreadActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({THREAD_SEARCH_UPDATED:null});e.exports=a}),null);
__d("MercuryCanonicalGroupThreadManager",["Bootloader","KeyedCallbackManager","MercuryIDs","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MessengerServerPayloadTransformer.bs","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new(b("KeyedCallbackManager"))(),this.$3=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$4={},this.$7(),this.$8(),this.$6={}}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.getCanonicalGroupThreadIDForParticipants=function(a,b){a=this.$9(a);var c=this.$10(a);c=this.$2.executeOrEnqueue(c,b);this.$11(a);return c};c.unsubscribe=function(a){a&&this.$2.unsubscribe(a)};c.$10=function(a){return a.sort().join(",")};c.$12=function(a,c){c=b("MercuryIDs").getThreadIDFromThreadFBID(c);this.$2.setResource(a,c);this.$4[c]=a};c.$11=function(a){var c=this.$10(a);c={canonical_group_key:c,participants:a};b("MercuryServerDispatcher").trySend("/ajax/mercury/search_canonical_groups.php",c,null,this.$1)};c.$7=function(){var a=this;b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_canonical_groups.php":{request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(b){a.handleUpdate(b)}}})};c.$9=function(a){a.indexOf(this.$1)===-1&&a.push(this.$1);return a};c.handleUpdate=function(a){if(a.graphql_payload){var c=b("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,a.graphql_payload,a.for_page);this.$3.handleUpdate({threads:[c],payload_source:"server_search"})}c=a.canonical_group;if(c)for(var d in c)this.$12(d,c[d])};c.getNow=function(a){a=this.$10(this.$9(a));return this.$2.getResource(a)};c.$8=function(){var a=this;b("Bootloader").loadModules(["MercuryThreadInformer"],function(c){c=c.getForFBID(a.$1);var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(c.subscribe("threads-deleted",function(b,c){for(var d in c)a.$4[d]&&(a.$2.setResource(a.$4[d],void 0),delete a.$4[d])}));a.$5=d},"MercuryCanonicalGroupThreadManager")};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryCanonicalGroupThreadStore",["FluxStore","MercuryCanonicalGroupThreadActionTypes","MercuryCanonicalGroupThreadManager","MessengerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MercuryCanonicalGroupThreadStore1=b("MercuryCanonicalGroupThreadManager").get();return c}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED:this.__emitChange();break;default:break}};d.getOrFetch=function(a){var c=this.$MercuryCanonicalGroupThreadStore1.getNow(a);c||this.$MercuryCanonicalGroupThreadStore1.getCanonicalGroupThreadIDForParticipants(a,function(){b("MessengerDispatcher").dispatch({type:b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED})});return c};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("MercurySendMessageHandler",["MercuryMessageActions","MercuryMessageObject","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";a=function(){a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){this.$1=a,this.$2=b("MercuryMessageActions").getForFBID(this.$1),this.$3=b("MercuryMessageObject").getForFBID(this.$1)}var c=a.prototype;c.sendPlainTextMessage=function(a,b,c){b=this.$3.constructUserGeneratedMessageObject(b,c,a);this.$2.send(b)};c.sendSticker=function(a,b,c){b=this.$3.constructStickerMessageObject(b,c,a);this.$2.send(b)};c.sendAttachment=function(a,b,c){c=this.$3.constructAttachmentMessageObject(c,a);this.$2.addAttachmentPlaceholder(c,b.upload_id,b)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1},should_ignore:{type:"Bool",defaultValue:!1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","CurrentUser","MercuryMessageActions","ODS","getPageIDFromThreadID","MercuryMessageObject","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryMessageActions").get();a=function(){function a(){}var c=a.prototype;c.send=function(a,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);b("ODS").bumpEntityKey(3303,"messenger_commerce","postback_send_clicked");a=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).setEnum("ref_source",f).getURI();!c?new(b("AsyncRequest"))().setURI(a).setMethod("POST").send():new(b("AsyncRequest"))().setURI(a).setMethod("POST").setErrorHandler(c).send()};c.sendAndConfirm=function(a,b,c,d,e,f,g,h,i,j){e===void 0;f===void 0&&(f=null);g===void 0&&(g=[]);h===void 0&&(h=null);i===void 0&&(i=null);j===void 0&&(j="source:titan:web");e={cta_id:a,prev_message_id:h,ref:f,force_handle:!0,postback_cta_ref_source:i?i.toString():null};this.sendConfirmationText(b,c,d,g,e,j)};c.sendConfirmationText=function(a,c,d,e,f,h){e===void 0&&(e=[]);if(!c)b("ODS").bumpEntityKey(3303,"messenger_commerce","confirm_message_failed.empty_threadID");else{var i=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),j=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(j)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(i.constructCTAConfirmationMessageObject(a,h,c,d,e,f));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};return a}();c=new a();e.exports=c}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback_ref/",{page_id:{type:"String",required:!0},ref:{type:"String",required:!0},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackRefSendManager",["AsyncRequest","MessengerActions","MessengerMDotMeReferralStore","XMNCommercePostbackRefSendController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.sendMDotMeRef=function(a,c){var d=this.getMdotMeRef();if(this.shouldSendRef(c,a)){c=b("XMNCommercePostbackRefSendController").getURIBuilder().setString("page_id",a).setString("ref",d).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("MessengerActions").changeMDotMeReferral()}};c.shouldSendRef=function(a,b){return!b||!a?!1:this.hasMDotMeRef(b)};c.hasMDotMeRef=function(a){var c=b("MessengerMDotMeReferralStore").getState();return!!(c.refCode&&a&&c.refThreadID&&c.refThreadID===a)};c.getMdotMeRef=function(){var a=b("MessengerMDotMeReferralStore").getState();return a.refCode};return a}();c=new a();e.exports=c}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={Component:null},d.$2=function(a){a=d.state.interactionType==="click"?"click":a.type;d.setState({interactionType:a},function(){b("promiseDone")(d.props.loader.load(),function(a){d.props.takeOverRender?d.props.takeOverRender(function(){return d.$1(a)}):d.$1(a)})})},d.$3=function(a){d.setState({Component:a})},d.$4=function(a){d.state.interactionType!=="click"&&d.setState({interactionType:void 0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return g.cloneElement(this.props.placeholder,a);a=this.state.Component;var b={};switch(this.state.interactionType){case"focus":b.autoFocus=!0;break;case"click":b.clicked=!0;break}return g.cloneElement(this.props.component,babelHelpers["extends"]({},b,{LazyLoadedComponent:a}))};return c}(g.PureComponent);e.exports=a}),null);
__d("MercuryReadOnlyReason",["fbt","Link.react","MercuryConfig","React","URI"],(function(a,b,c,d,e,f,g){"use strict";f.getReason=a;var h,i=b("React");function a(a){a===void 0&&(a=!1);if(a){a=b("MercuryConfig").DYIDeepLink;return g._("Sorry, this conversation isn't active anymore because messages can no longer be sent to email addresses. After May 1st 2016, conversations with email addresses will only be available in a copy of your Facebook data. {download your information}",[g._param("download your information",i.jsx("a",{href:a,children:g._("Learn More")}))])}else if(b("MercuryConfig").ViewerIsReadOnly)return g._("You're temporarily blocked from sending messages. {learn more about blocks}",[g._param("learn more about blocks",i.jsx(b("Link.react"),{href:new(h||(h=b("URI")))("https://www.facebook.com/help/181183045316843"),target:"_blank",children:"Learn more"}))]);else if(b("MercuryConfig").ColdOpenBlock)return g._("You're temporarily blocked from starting new conversations. {learn more about blocks}",[g._param("learn more about blocks",i.jsx(b("Link.react"),{href:new(h||(h=b("URI")))("https://www.facebook.com/help/181183045316843"),target:"_blank",children:"Learn more"}))]);else return g._("You cannot reply to this conversation.")}}),null);
__d("MessengerBlockDialogReact.bs",["cx","fbt","bs_curry","React","Link.react","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialog.react","IgnoreMessagesTypedLogger","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerBlockDialogReact");function k(a,c){return i.jsx("div",{children:h._("If you want, you can also {link}",[h._param("link",i.jsx(b("Link.react"),{href:c,target:"_blank",children:h._("block {short_name_or_description} on Facebook.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(a,h._("this person")))])}))]),className:"_1q73"})}function l(a,c,d,e){return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:j.didMount,didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(a){if(c!==void 0){var e=b("bs_caml_option").valFromOption(c);e=[e.short_name,b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isWorkUser()?void 0:b("bs_caml_option").nullable_to_opt(e.href)]}else e=[void 0,void 0];var f=e[1];e=e[0];if(!(d==null)){var g=new(b("IgnoreMessagesTypedLogger"))().setEvent("block_clicked").setThreadID(d).setPlatform("messengerdotcom");g.log()}g=b("CurrentUser").isWorkUser()?"https://www.workplace.com/help/work/2201185726805642":"https://www.facebook.com/help/389645087895231";return i.jsxs(b("MessengerDialog.react"),{shown:a.state.shown,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Block Messages")}),i.jsxs(b("MessengerDialogBody.react"),{children:[i.jsx("div",{children:h._({"Workplace Chat":"Stop getting messages and calls from {short_name_or_description} in Workplace Chat.","Messenger":"Stop getting messages and calls from {short_name_or_description} in Messenger."},[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(e,h._("this person"))),h._enum(b("CurrentUser").isWorkUser()?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})]),className:"_1q73"}),f!==void 0?k(e,f):null,i.jsx("div",{children:i.jsx(b("Link.react"),{href:g,target:"_blank",children:h._("Learn more")})})]}),i.jsxs(b("MessengerDialogFooter.react"),{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.jsx(b("MessengerDialogButton.react"),{label:h._("Block Messages"),onClick:function(c){return b("bs_curry")._1(a.send,0)},type:"primary",use:"danger"})]})]})},initialState:function(a){return{shown:!0}},retainedProps:j.retainedProps,reducer:function(c,d){return{TAG:2,_0:{shown:!1},_1:function(c){return b("bs_curry")._1(a,void 0)}}},jsElementWrapped:j.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return l(a.onBlock,b("bs_caml_option").nullable_to_opt(a.contact),a.threadID,[])});c=b("bs_belt_Option").getWithDefault;f.$pipe$question=c;f.component=j;f.renderBlockOnFacebook=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerComposerButtonLabels",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={QuickCamButtonLabel:g._("Take a picture using quick cam"),VoiceClipButtonLabel:g._("Send a voice clip"),EmojiButtonLabel:g._("Choose an emoji"),StickerButtonLabel:g._("Choose a sticker"),GroupPollingButtonLabel:g._("Create a poll"),ContentSearchButtonLabel:g._("Choose a gif")};b=a;e.exports=b}),null);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.bootstrap=function(a){var c=this;this.$1||(this.$1=new(b("Promise"))(function(a){c.bootstrapImpl(a)}));return this.$1.then(a)};c.search=function(a,b,c){this.searchImpl(a,b,c)};c.bootstrapImpl=function(a){a()};c.searchImpl=function(a,b,c){throw new Error("Abstract method #searchImpl is not implemented.")};c.clearBootstrappedData=function(){this.$1=null};return a}();e.exports=a}),null);
__d("MessengerBusinessAutoCompleteQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2397726383591642"};b.getQueryID=function(){return"1369134433234452"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("AutocompleteSearchSource",["AbstractSearchSource","MessengerBusinessAutoCompleteQueryWebGraphQLQuery","SearchableEntry","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this)||this;b.numResults=c;b.requestType=d;return b}var d=c.prototype;d.searchImpl=function(a,c,d){if(!a){c([],a);return}d={num_results:this.numResults,query:a,search_type:this.requestType};b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessAutoCompleteQueryWebGraphQLQuery"))({query_params:d})),function(d){d=d.in_thread_auto_complete_search.map(function(a){return new(b("SearchableEntry"))({title:String(a.title),uniqueID:String(a.title)})});c(d,a)})};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("AutocompleteStrategy",[],(function(a,b,c,d,e,f){a={name:"AutocompleteStrategy",findMentionableString:function(a){return{matchingString:a,leadOffset:a.length}}};b=a;e.exports=b}),null);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("DefaultDraftBlockRenderMap",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=b("immutable").Map;d=a.jsx("ul",{className:"_1bv0"});f=a.jsx("ol",{className:"_1bv1"});g=a.jsx("pre",{className:"_1bv2"});b=c({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:d},"ordered-list-item":{element:"li",wrapper:f},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:g},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=b}),null);
__d("DefaultDraftInlineStyle",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),null);
__d("getCorrectDocumentFromNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?document:a.ownerDocument}e.exports=a}),null);
__d("isElement",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:a.nodeType===Node.ELEMENT_NODE}e.exports=a}),null);
__d("getSelectionOffsetKeyForNode",["isElement"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("isElement")(a)){a=a;var c=a.getAttribute("data-offset-key");if(c)return c;for(var c=0;c<a.childNodes.length;c++){var d=g(a.childNodes[c]);if(d)return d}}return null}e.exports=g}),null);
__d("findAncestorOffsetKey",["getCorrectDocumentFromNode","getSelectionOffsetKeyForNode"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a;while(c&&c!==b("getCorrectDocumentFromNode")(a).documentElement){var d=b("getSelectionOffsetKeyForNode")(c);if(d!=null)return d;c=c.parentNode}return null}e.exports=a}),null);
__d("getWindowForNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument||!a.ownerDocument.defaultView?window:a.ownerDocument.defaultView}e.exports=a}),null);
__d("DOMObserver",["invariant","UserAgent","findAncestorOffsetKey","getWindowForNode","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Map,i={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},j=b("UserAgent").isBrowser("IE <= 11");a=function(){function a(a){var c=this;this.container=a;this.mutations=h();a=b("getWindowForNode")(a);a.MutationObserver&&!j?this.observer=new a.MutationObserver(function(a){return c.registerMutations(a)}):this.onCharData=function(a){a.target instanceof Node||g(0,16525),c.registerMutation({type:"characterData",target:a.target})}}var c=a.prototype;c.start=function(){this.observer?this.observer.observe(this.container,i):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)};c.stopAndFlushMutations=function(){var a=this.observer;a?(this.registerMutations(a.takeRecords()),a.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);a=this.mutations;this.mutations=h();return a};c.registerMutations=function(a){for(var b=0;b<a.length;b++)this.registerMutation(a[b])};c.getMutationTextContent=function(a){var b=a.type,c=a.target;a=a.removedNodes;if(b==="characterData"){if(c.textContent!=="")return j?c.textContent.replace("\n",""):c.textContent}else if(b==="childList")if(a&&a.length)return"";else if(c.textContent!=="")return c.textContent;return null};c.registerMutation=function(a){var c=this.getMutationTextContent(a);if(c!=null){a=b("nullthrows")(b("findAncestorOffsetKey")(a.target));this.mutations=this.mutations.set(a,c)}};return a}();e.exports=a}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;a={add:function(a,b,c){return h(a,b,c,!0)},remove:function(a,b,c){return h(a,b,c,!1)}};function h(a,c,d,e){var f=a.getBlockMap(),h=c.getStartKey(),i=c.getStartOffset(),j=c.getEndKey(),k=c.getEndOffset(),l=f.skipUntil(function(a,b){return b===h}).takeUntil(function(a,b){return b===j}).concat(g([[j,f.get(j)]])).map(function(a,c){var f,g;h===j?(f=i,g=k):(f=c===h?i:0,g=c===j?k:a.getLength());c=a.getCharacterList();var l;while(f<g)l=c.get(f),c=c.set(f,e?b("CharacterMetadata").applyStyle(l,d):b("CharacterMetadata").removeStyle(l,d)),f++;return a.set("characterList",c)});return a.merge({blockMap:f.merge(l),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c=c;var f=a.getCharacterList();while(c<d)f=f.set(c,b("CharacterMetadata").applyEntity(f.get(c),e)),c++;return a.set("characterList",f)}e.exports=a}),null);
__d("applyEntityToContentState",["applyEntityToContentBlock","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a.getBlockMap(),f=c.getStartKey(),g=c.getStartOffset(),h=c.getEndKey(),i=c.getEndOffset(),j=e.skipUntil(function(a,b){return b===f}).takeUntil(function(a,b){return b===h}).toOrderedMap().merge(b("immutable").OrderedMap([[h,e.get(h)]])).map(function(a,c){var e=c===f?g:0;c=c===h?i:a.getLength();return b("applyEntityToContentBlock")(a,e,c,d)});return a.merge({blockMap:e.merge(j),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("DraftEntitySegments",[],(function(a,b,c,d,e,f){"use strict";a={getRemovalRange:function(a,b,c,d,e){var f=c.split(" ");f=f.map(function(a,b){if(e==="forward"){if(b>0)return" "+a}else if(b<f.length-1)return a+" ";return a});var g=d,h,i=null,j=null;for(var k=0;k<f.length;k++){h=f[k];h=g+h.length;if(a<h&&g<b)i!==null?j=h:(i=g,j=h);else if(i!==null)break;g=h}h=d+c.length;k=i===d;g=j===h;(!k&&g||k&&!g)&&(e==="forward"?j!==h&&j++:i!==d&&i--);return{start:i,end:j}}};e.exports=a}),null);
__d("getRangesForDraftEntity",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a.findEntityRanges(function(a){return a.getEntity()===b},function(a,b){c.push({start:a,end:b})});!c.length&&g(0,1817);return c}e.exports=a}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){var f=d.getStartOffset(),g=d.getEndOffset();f=b.getEntityAt(f);g=c.getEntityAt(g-1);if(!f&&!g)return d;d=d;if(f&&f===g)d=h(a,b,d,e,f,!0,!0);else if(f&&g){var i=h(a,b,d,e,f,!1,!0),j=h(a,c,d,e,g,!1,!1);d=d.merge({anchorOffset:i.getAnchorOffset(),focusOffset:j.getFocusOffset(),isBackward:!1})}else if(f){i=h(a,b,d,e,f,!1,!0);d=d.merge({anchorOffset:i.getStartOffset(),isBackward:!1})}else if(g){j=h(a,c,d,e,g,!1,!1);d=d.merge({focusOffset:j.getEndOffset(),isBackward:!1})}return d}function h(a,c,d,e,f,h,i){var j=d.getStartOffset(),k=d.getEndOffset();a=a.get(f);a=a.getMutability();var l=i?j:k;if(a==="MUTABLE")return d;f=b("getRangesForDraftEntity")(c,f).filter(function(a){return l<=a.end&&l>=a.start});f.length==1||g(0,5779);f=f[0];if(a==="IMMUTABLE")return d.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1});h||(i?k=f.end:j=f.start);a=b("DraftEntitySegments").getRemovalRange(j,k,c.getText().slice(f.start,f.end),f.start,e);return d.merge({anchorOffset:a.start,focusOffset:a.end,isBackward:!1})}e.exports=a}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","generateRandomKey","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h=function(a){var c={},d;return g(a.withMutations(function(a){a.forEach(function(e,f){var g=e.getKey();f=e.getNextSiblingKey();var h=e.getPrevSiblingKey(),i=e.getChildKeys(),j=e.getParentKey(),k=b("generateRandomKey")();c[g]=k;if(f){var l=a.get(f);l?a.setIn([f,"prevSibling"],k):a.setIn([g,"nextSibling"],null)}if(h){l=a.get(h);l?a.setIn([h,"nextSibling"],k):a.setIn([g,"prevSibling"],null)}if(j&&a.get(j)){f=a.get(j);l=f.getChildKeys();a.setIn([j,"children"],l.set(l.indexOf(e.getKey()),k))}else a.setIn([g,"parent"],null),d&&(a.setIn([d.getKey(),"nextSibling"],k),a.setIn([g,"prevSibling"],c[d.getKey()])),d=a.get(g);i.forEach(function(b){var c=a.get(b);c?a.setIn([b,"parent"],k):a.setIn([g,"children"],e.getChildKeys().filter(function(a){return a!==b}))})})}).toArray().map(function(a){return[c[a.getKey()],a.set("key",c[a.getKey()])]}))},i=function(a){return g(a.toArray().map(function(a){var c=b("generateRandomKey")();return[c,a.set("key",c)]}))};a=function(a){var c=a.first()instanceof b("ContentBlockNode");return!c?i(a):h(a)};e.exports=a}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.getBlockMap(),d={},e=b.getStartKey(),f=b.getStartOffset(),g=c.get(e);f=i(a,g,f);f!==g&&(d[e]=f);g=b.getEndKey();var h=b.getEndOffset(),j=c.get(g);e===g&&(j=f);e=i(a,j,h);e!==j&&(d[g]=e);return!Object.keys(d).length?a.setSelectionAfter(b):a.merge({blockMap:c.merge(d),selectionAfter:b})}function h(a,c,d){var e;b("findRangesImmutable")(a,function(a,b){return a.getEntity()===b.getEntity()},function(a){return a.getEntity()===c},function(a,b){a<=d&&b>=d&&(e={start:a,end:b})});typeof e==="object"||g(0,6015);return e}function i(a,c,d){var e=c.getCharacterList(),f=d>0?e.get(d-1):void 0,g=d<e.count()?e.get(d):void 0;f=f?f.getEntity():void 0;g=g?g.getEntity():void 0;if(g&&g===f){f=a.getEntity(g);if(f.getMutability()!=="MUTABLE"){a=h(e,g,d);f=a.start;g=a.end;while(f<g)d=e.get(f),e=e.set(f,b("CharacterMetadata").applyEntity(d,null)),f++;return c.set("characterList",e)}}return c}e.exports=a}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=c.getStartKey(),e=c.getStartOffset(),f=c.getEndKey(),g=c.getEndOffset();a=b("removeEntitiesAtEdges")(a,c);c=a.getBlockMap();a=c.keySeq();var h=a.indexOf(d);a=a.indexOf(f)+1;return b("randomizeBlockMapKeys")(c.slice(h,a).map(function(a,b){var c=a.getText(),h=a.getCharacterList();if(d===f)return a.merge({text:c.slice(e,g),characterList:h.slice(e,g)});if(b===d)return a.merge({text:c.slice(e),characterList:h.slice(e)});return b===f?a.merge({text:c.slice(0,g),characterList:h.slice(0,g)}):a}))};e.exports=a}),null);
__d("insertIntoList",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a;if(c===d.count())b.forEach(function(a){d=d.push(a)});else if(c===0)b.reverse().forEach(function(a){d=d.unshift(a)});else{a=d.slice(0,c);c=d.slice(c);d=a.concat(b,c).toList()}return d}e.exports=a}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=function(a,c,d,e,f,g,h){h===void 0&&(h="REPLACE_WITH_NEW_DATA");var i=d.get(f),j=i.getText(),k=i.getCharacterList(),l=f,m=g+e.getText().length,n=null;switch(h){case"MERGE_OLD_DATA_TO_NEW_DATA":n=e.getData().merge(i.getData());break;case"REPLACE_WITH_NEW_DATA":n=e.getData();break}h=i.getType();j&&h==="unstyled"&&(h=e.getType());i=i.merge({text:j.slice(0,g)+e.getText()+j.slice(g),characterList:b("insertIntoList")(k,e.getCharacterList(),g),type:h,data:n});return a.merge({blockMap:d.set(f,i),selectionBefore:c,selectionAfter:c.merge({anchorKey:l,anchorOffset:m,focusKey:l,focusOffset:m,isBackward:!1})})},j=function(a,b,c){var d=a.getText(),e=a.getCharacterList();d=d.slice(0,b);e=e.slice(0,b);b=c.first();return a.merge({text:d+b.getText(),characterList:e.concat(b.getCharacterList()),type:d?a.getType():b.getType(),data:b.getData()})},k=function(a,b,c){var d=a.getText();a=a.getCharacterList();var e=d.length;d=d.slice(b,e);a=a.slice(b,e);b=c.last();return b.merge({text:b.getText()+d,characterList:b.getCharacterList().concat(a),data:b.getData()})},l=function(a,b){var c=a.getKey();a=a;var d=[];b.get(c)&&d.push(c);while(a&&a.getNextSiblingKey()){c=a.getNextSiblingKey();if(!c)break;d.push(c);a=b.get(c)}return d},m=function(a,b,c,d){return a.withMutations(function(b){var e=c.getKey(),f=d.getKey(),g=c.getNextSiblingKey(),i=c.getParentKey(),j=l(d,a),k=j[j.length-1];b.get(f)?(b.setIn([e,"nextSibling"],f),b.setIn([f,"prevSibling"],e)):(b.setIn([e,"nextSibling"],d.getNextSiblingKey()),b.setIn([d.getNextSiblingKey(),"prevSibling"],e));b.setIn([k,"nextSibling"],g);g&&b.setIn([g,"prevSibling"],k);j.forEach(function(a){return b.setIn([a,"parent"],i)});if(i){f=a.get(i);g=f.getChildKeys();k=g.indexOf(e);f=k+1;e=g.toArray();e.splice.apply(e,[f,0].concat(j));b.setIn([i,"children"],h(e))}})},n=function(a,c,d,e,f,g){var h=d.first()instanceof b("ContentBlockNode"),i=[],l=e.size,n=d.get(f),o=e.first(),p=e.last(),q=p.getLength();p=p.getKey();var r=h&&(!n.getChildKeys().isEmpty()||!o.getChildKeys().isEmpty());d.forEach(function(a,b){if(b!==f){i.push(a);return}r?i.push(a):i.push(j(a,g,e));e.slice(r?0:1,l-1).forEach(function(a){return i.push(a)});i.push(k(a,g,e))});var s=b("BlockMapBuilder").createFromArray(i);h&&(s=m(s,d,n,o));return a.merge({blockMap:s,selectionBefore:c,selectionAfter:c.merge({anchorKey:p,anchorOffset:q,focusKey:p,focusOffset:q,isBackward:!1})})};a=function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");c.isCollapsed()||g(0,1903);var f=a.getBlockMap();d=b("randomizeBlockMapKeys")(d);var h=c.getStartKey(),j=c.getStartOffset(),k=f.get(h);k instanceof b("ContentBlockNode")&&(k.getChildKeys().isEmpty()||g(0,1904));return d.size===1?i(a,c,f,d.first(),h,j,e):n(a,c,f,d,h,j)};e.exports=a}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Repeat;function a(a,c,d,e){c.isCollapsed()||g(0,2659);var f=null;d!=null&&(f=d.length);if(f==null||f===0)return a;var i=a.getBlockMap(),j=c.getStartKey(),k=c.getStartOffset(),l=i.get(j),m=l.getText();d=l.merge({text:m.slice(0,k)+d+m.slice(k,l.getLength()),characterList:b("insertIntoList")(l.getCharacterList(),h(e,f).toList(),k)});m=k+f;return a.merge({blockMap:i.set(j,d),selectionAfter:c.merge({anchorOffset:m,focusOffset:m})})}e.exports=a}),null);
__d("modifyBlockForContentState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;function a(a,b,c){var d=b.getStartKey(),e=b.getEndKey(),f=a.getBlockMap();c=f.toSeq().skipUntil(function(a,b){return b===d}).takeUntil(function(a,b){return b===e}).concat(g([[e,f.get(e)]])).map(c);return a.merge({blockMap:f.merge(c),selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function(a,b,c,d,e,f){a=function(a,c){var d=a instanceof b("ContentBlockNode");if(!d)return null;d=a.getNextSiblingKey();if(d)return d;d=a.getParentKey();if(!d)return null;a=c.get(d);while(a&&!a.getNextSiblingKey()){d=a.getParentKey();a=d?c.get(d):null}return!a?null:a.getNextSiblingKey()};e.exports=a}),null);
__d("removeRangeFromContentState",["ContentBlockNode","getNextDelimiterBlockKey","immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").List;var g=b("immutable").Map,h=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},i=function(a,b){var c=[];if(!a)return c;a=b.get(a);while(a&&a.getParentKey()){var d=a.getParentKey();d&&c.push(d);a=d?b.get(d):null}return c},j=function(a,c){var d=[];if(!a)return d;a=b("getNextDelimiterBlockKey")(a,c);while(a&&c.get(a)){var e=c.get(a);d.push(a);a=e.getParentKey()?b("getNextDelimiterBlockKey")(e,c):null}return d},k=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getNextSiblingKey();while(a&&!b.get(a))a=c.get(a).getNextSiblingKey()||null;return a},l=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getPrevSiblingKey();while(a&&!b.get(a))a=c.get(a).getPrevSiblingKey()||null;return a},m=function(a,b,c,d){return a.withMutations(function(e){h(b.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});h(c.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});i(b.getKey(),d).forEach(function(a){return h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});h(b.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:b.getPrevSiblingKey()})});h(b.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:k(a,e,d)})});h(c.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:l(a,e,d)})});h(c.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:c.getNextSiblingKey()})});i(c.getKey(),d).forEach(function(a){h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});j(c,d).forEach(function(a){return h(a,e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});if(a.get(b.getKey())==null&&a.get(c.getKey())!=null&&c.getParentKey()===b.getKey()&&c.getPrevSiblingKey()==null){var f=b.getPrevSiblingKey();h(c.getKey(),e,function(a){return a.merge({prevSibling:f})});h(f,e,function(a){return a.merge({nextSibling:c.getKey()})});var g=f?a.get(f):null,m=g?g.getParentKey():null;b.getChildKeys().forEach(function(a){h(a,e,function(a){return a.merge({parent:m})})});if(m!=null){var n=a.get(m);h(m,e,function(a){return a.merge({children:n.getChildKeys().concat(b.getChildKeys())})})}h(b.getChildKeys().find(function(b){b=a.get(b);return b.getNextSiblingKey()===null}),e,function(a){return a.merge({nextSibling:b.getNextSiblingKey()})})}})};a=function(a,c){if(c.isCollapsed())return a;var d=a.getBlockMap(),e=c.getStartKey(),f=c.getStartOffset(),h=c.getEndKey(),j=c.getEndOffset(),k=d.get(e),l=d.get(h),o=k instanceof b("ContentBlockNode"),p=[];if(o){var q=l.getChildKeys(),r=i(h,d);l.getNextSiblingKey()&&(p=p.concat(r));q.isEmpty()||(p=p.concat(r.concat([h])));p=p.concat(i(b("getNextDelimiterBlockKey")(l,d),d))}k===l?q=n(k.getCharacterList(),f,j):q=k.getCharacterList().slice(0,f).concat(l.getCharacterList().slice(j));var s=k.merge({text:k.getText().slice(0,f)+l.getText().slice(j),characterList:q});r=o&&f===0&&j===0&&l.getParentKey()===e&&l.getPrevSiblingKey()==null;q=r?g([[e,null]]):d.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===h}).filter(function(a,b){return p.indexOf(b)===-1}).concat(g([[h,null]])).map(function(a,b){return b===e?s:null});j=d.merge(q).filter(function(a){return!!a});o&&k!==l&&(j=m(j,k,l,d));return a.merge({blockMap:j,selectionBefore:c,selectionAfter:c.merge({anchorKey:e,anchorOffset:f,focusKey:e,focusOffset:f,isBackward:!1})})};var n=function(a,b,c){if(b===0)while(b<c)a=a.shift(),b++;else if(c===a.count())while(c>b)a=a.pop(),c--;else{b=a.slice(0,b);c=a.slice(c);a=b.concat(c).toList()}return a};e.exports=a}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","generateRandomKey","immutable","modifyBlockForContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("immutable").Map,j=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},k=function(a,b,c){return a.withMutations(function(a){var d=b.getKey(),e=c.getKey();j(b.getParentKey(),a,function(a){var b=a.getChildKeys(),c=b.indexOf(d)+1;b=b.toArray();b.splice(c,0,e);return a.merge({children:h(b)})});j(b.getNextSiblingKey(),a,function(a){return a.merge({prevSibling:e})});j(d,a,function(a){return a.merge({nextSibling:e})});j(e,a,function(a){return a.merge({prevSibling:d})})})};a=function(a,c){c.isCollapsed()||g(0,5004);var d=c.getAnchorKey(),e=a.getBlockMap(),f=e.get(d),h=f.getText();if(!h){var j=f.getType();if(j==="unordered-list-item"||j==="ordered-list-item")return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:"unstyled",depth:0})})}j=c.getAnchorOffset();var l=f.getCharacterList(),m=b("generateRandomKey")(),n=f instanceof b("ContentBlockNode"),o=f.merge({text:h.slice(0,j),characterList:l.slice(0,j)});h=o.merge({key:m,text:h.slice(j),characterList:l.slice(j),data:i()});l=e.toSeq().takeUntil(function(a){return a===f});j=e.toSeq().skipUntil(function(a){return a===f}).rest();e=l.concat([[d,o],[m,h]],j).toOrderedMap();n&&(f.getChildKeys().isEmpty()||g(0,5005),e=k(e,o,h));return a.merge({blockMap:e,selectionBefore:c,selectionAfter:c.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})};e.exports=a}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","immutable","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").OrderedSet,i={replaceText:function(a,c,d,e,f){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);c=b("CharacterMetadata").create({style:e||h(),entity:f||null});return b("insertTextIntoContentState")(a,a.getSelectionAfter(),d,c)},insertText:function(a,b,c,d,e){b.isCollapsed()||g(0,4661);return i.replaceText(a,b,c,d,e)},moveText:function(a,c,d){var e=b("getContentStateFragment")(a,c);a=i.removeRange(a,c,"backward");return i.replaceWithFragment(a,d,e)},replaceWithFragment:function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("insertFragmentIntoContentState")(a,a.getSelectionAfter(),d,e)},removeRange:function(a,c,d){var e,f,g,h;c.getIsBackward()&&(c=c.merge({anchorKey:c.getFocusKey(),anchorOffset:c.getFocusOffset(),focusKey:c.getAnchorKey(),focusOffset:c.getAnchorOffset(),isBackward:!1}));e=c.getAnchorKey();f=c.getFocusKey();g=a.getBlockForKey(e);h=a.getBlockForKey(f);var i=c.getStartOffset(),j=c.getEndOffset();i=g.getEntityAt(i);j=h.getEntityAt(j-1);if(e===f&&(i&&i===j)){e=b("getCharacterRemovalRange")(a.getEntityMap(),g,h,c,d);return b("removeRangeFromContentState")(a,e)}f=b("removeEntitiesAtEdges")(a,c);return b("removeRangeFromContentState")(f,c)},splitBlock:function(a,c){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("splitBlockInContentState")(a,a.getSelectionAfter())},applyInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").add(a,c,d)},removeInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").remove(a,c,d)},setBlockType:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:d,depth:0})})},setBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:d})})},mergeBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:a.getData().merge(d)})})},applyEntity:function(a,c,d){a=b("removeEntitiesAtEdges")(a,c);return b("applyEntityToContentState")(a,c,d)}};e.exports=i}),null);
__d("DraftOffsetKey",[],(function(a,b,c,d,e,f){"use strict";var g="-";a={encode:function(a,b,c){return a+g+b+g+c},decode:function(a){a=a.split(g).reverse();var b=a[0],c=a[1];a=a.slice(2);return{blockKey:a.reverse().join(g),decoratorKey:parseInt(c,10),leafKey:parseInt(b,10)}}};e.exports=a}),null);
__d("DraftJsEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAnonymizedDom=function(a){this.$1.anonymized_dom=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExtraParams=function(a){this.$1.extra_params=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSelectionState=function(a){this.$1.selection_state=a;return this};return a}();c={anonymized_dom:!0,event:!0,extra_params:!0,script_path:!0,selection_state:!0};e.exports=a}),null);
__d("DraftJsDebugLogging",["CurrentUser","DraftJsEventsTypedLogger","ScriptPath"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;new(b("DraftJsEventsTypedLogger"))().setEvent("blocked_selection_event").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()};f.logBlockedSelectionEvent=a;c=function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;b("CurrentUser").isEmployee()&&new(b("DraftJsEventsTypedLogger"))().setEvent("selection_state_failure").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()};f.logSelectionStateFailure=c}),null);
__d("isHTMLElement",[],(function(a,b,c,d,e,f){function a(a){if(!a||!a.ownerDocument)return!1;if(!a.ownerDocument.defaultView)return a instanceof HTMLElement;return a instanceof a.ownerDocument.defaultView.HTMLElement?!0:!1}e.exports=a}),null);
__d("getContentEditableContainer",["invariant","isHTMLElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.editorContainer;a||g(0,4998);b("isHTMLElement")(a.firstChild)||g(0,4999);a=a.firstChild;return a}e.exports=a}),null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("nullthrows")(a.getSelection());if(!c||!e)return g;c=b("DraftOffsetKey").decode(c);var h=c.blockKey,i=a.getBlockTree(h);i=i&&i.getIn([c.decoratorKey,"leaves",c.leafKey]);c=b("DraftOffsetKey").decode(e);var j=c.blockKey;e=a.getBlockTree(j);e=e&&e.getIn([c.decoratorKey,"leaves",c.leafKey]);if(!i||!e)return g;c=i.get("start");var k=e.get("start"),l=i?c+d:null,m=e?k+f:null,n=g.getAnchorKey()===h&&g.getAnchorOffset()===l&&g.getFocusKey()===j&&g.getFocusOffset()===m;if(n)return g;if(h===j){n=i.get("end");i=e.get("end");k===c&&i===n?e=f<d:e=k<c}else{i=a.getCurrentContent().getBlockMap().keySeq().skipUntil(function(a){return a===h||a===j}).first();e=i===j}return g.merge({anchorKey:h,anchorOffset:l,focusKey:j,focusOffset:m,isBackward:e})}e.exports=a}),null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","isElement","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e,f,g){var h=d.nodeType===Node.TEXT_NODE,i=f.nodeType===Node.TEXT_NODE;if(h&&i)return{selectionState:b("getUpdatedSelectionState")(a,b("nullthrows")(b("findAncestorOffsetKey")(d)),e,b("nullthrows")(b("findAncestorOffsetKey")(f)),g),needsRecovery:!1};var k=null,l=null,m=!0;h?(k={key:b("nullthrows")(b("findAncestorOffsetKey")(d)),offset:e},l=j(c,f,g)):i?(l={key:b("nullthrows")(b("findAncestorOffsetKey")(f)),offset:g},k=j(c,d,e)):(k=j(c,d,e),l=j(c,f,g),d===f&&e===g&&(m=!!d.firstChild&&d.firstChild.nodeName!=="BR"));return{selectionState:b("getUpdatedSelectionState")(a,k.key,k.offset,l.key,l.offset),needsRecovery:m}}function h(a){while(a.firstChild&&(b("isElement")(a.firstChild)&&a.firstChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.firstChild)))a=a.firstChild;return a}function i(a){while(a.lastChild&&(b("isElement")(a.lastChild)&&a.lastChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.lastChild)))a=a.lastChild;return a}function j(a,c,d){c=c;var e=b("findAncestorOffsetKey")(c);e!=null||a&&(a===c||a.firstChild===c)||g(0,6007);if(a===c){c=c.firstChild;b("isElement")(c)||g(0,26030,[(a=c)==null?void 0:a.nodeType]);a=c;c=a;c.getAttribute("data-contents")==="true"||g(0,6008);d>0&&(d=c.childNodes.length)}if(d===0){if(e!=null)a=e;else{var f=h(c);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(f))}return{key:a,offset:0}}f=c.childNodes[d-1];a=null;if(!b("getSelectionOffsetKeyForNode")(f))a=b("nullthrows")(e),c=k(f);else{d=i(f);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(d));c=k(d)}return{key:a,offset:c}}function k(a){a=a.textContent;return a==="\n"?0:a.length}e.exports=a}),null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.ownerDocument.defaultView.getSelection(),e=d.anchorNode,f=d.anchorOffset,g=d.focusNode,h=d.focusOffset;d=d.rangeCount;return d===0||e==null||g==null?{selectionState:a.getSelection().set("hasFocus",!1),needsRecovery:!1}:b("getDraftEditorSelectionWithNodes")(a,c,e,f,g,h)}e.exports=a}),null);
__d("editOnSelect",["DraftJsDebugLogging","EditorState","getContentEditableContainer","getDraftEditorSelection"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a._blockSelectEvents||a._latestEditorState!==a.props.editorState){if(a._blockSelectEvents){var c=a.props.editorState;c=c.getSelection();b("DraftJsDebugLogging").logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(c.toJS())})}return}c=a.props.editorState;var d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a)),e=d.selectionState;e!==c.getSelection()&&(d.needsRecovery?c=b("EditorState").forceSelection(c,e):c=b("EditorState").acceptSelection(c,e),a.update(c))}e.exports=a}),null);
__d("draftKeyUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&a!=""}e.exports={notEmptyKey:a}}),null);
__d("getEntityKeyForSelection",["draftKeyUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey;function a(a,b){var c;if(b.isCollapsed()){var d=b.getAnchorKey(),e=b.getAnchorOffset();if(e>0){c=a.getBlockForKey(d).getEntityAt(e-1);return c!==a.getBlockForKey(d).getEntityAt(e)?null:h(a,c)}return null}d=b.getStartKey();e=b.getStartOffset();b=a.getBlockForKey(d);c=e===b.getLength()?null:b.getEntityAt(e);return h(a,c)}function h(a,b){if(g(b)){a=a.getEntity(b);return a.getMutability()==="MUTABLE"?b:null}return null}e.exports=a}),null);
__d("DraftEditorCompositionHandler",["DOMObserver","DraftModifier","DraftOffsetKey","EditorState","Keys","UserAgent","editOnSelect","getContentEditableContainer","getDraftEditorSelection","getEntityKeyForSelection","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isBrowser("IE"),h=20,i=!1,j=!1,k=null;function l(a){k||(k=new(b("DOMObserver"))(b("getContentEditableContainer")(a)),k.start())}var m={onCompositionStart:function(a){j=!0,l(a)},onCompositionEnd:function(a){i=!1,j=!1,setTimeout(function(){i||m.resolveComposition(a)},h)},onSelect:b("editOnSelect"),onKeyDown:function(a,c){if(!j){i||m.resolveComposition(a);a._onKeyDown(c);return}(c.which===b("Keys").RIGHT||c.which===b("Keys").LEFT)&&c.preventDefault()},onKeyPress:function(a,c){c.which===b("Keys").RETURN&&c.preventDefault()},resolveComposition:function(a){if(j)return;var c=a._latestEditorState,d=b("nullthrows")(k).stopAndFlushMutations();k=null;i=!0;var e=b("EditorState").set(c,{inCompositionMode:!1});a.exitCurrentMode();if(!d.size){a.update(e);return}var f=e.getCurrentContent();d.forEach(function(a,c){c=b("DraftOffsetKey").decode(c);var d=c.blockKey,g=c.decoratorKey;c=c.leafKey;g=e.getBlockTree(d).getIn([g,"leaves",c]);c=g.start;g=g.end;g=e.getSelection().merge({anchorKey:d,focusKey:d,anchorOffset:c,focusOffset:g,isBackward:!1});var h=b("getEntityKeyForSelection")(f,g);d=f.getBlockForKey(d).getInlineStyleAt(c);f=b("DraftModifier").replaceText(f,g,a,d,h);e=b("EditorState").set(e,{currentContent:f})});d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a));c=d.selectionState;a.restoreEditorDOM();d=g?b("EditorState").forceSelection(e,c):b("EditorState").acceptSelection(e,c);a.update(b("EditorState").push(d,f,"insert-characters"))}};e.exports=m}),null);
__d("DraftEditorContents.react",["requireCond","cr:1264924"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1264924");e.exports=a}),null);
__d("getTextContentFromFiles",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0},j=5e3;function b(a,b){var c=0,d=[];a.forEach(function(e){k(e,function(e){c++,e&&d.push(e.slice(0,j)),c==a.length&&b(d.join("\r"))})})}function k(b,c){if(!a.FileReader||b.type&&!(b.type in i)){c("");return}if(b.type===""){var d="";h.test(b.name)&&(d=b.name.replace(h,""));c(d);return}var e=new FileReader();e.onload=function(){var a=e.result;typeof a==="string"||g(0,1637);c(a)};e.onerror=function(){c("")};e.readAsText(b)}e.exports=b}),null);
__d("isEventHandled",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="handled"||a===!0}e.exports=a}),null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","findAncestorOffsetKey","getCorrectDocumentFromNode","getTextContentFromFiles","getUpdatedSelectionState","getWindowForNode","isEventHandled","nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d=null,e=null,f=b("getCorrectDocumentFromNode")(a.currentTarget);if(typeof f.caretRangeFromPoint==="function"){f=f.caretRangeFromPoint(a.x,a.y);d=f.startContainer;e=f.startOffset}else if(a.rangeParent)d=a.rangeParent,e=a.rangeOffset;else return null;d=b("nullthrows")(d);e=b("nullthrows")(e);f=b("nullthrows")(b("findAncestorOffsetKey")(d));return b("getUpdatedSelectionState")(c,f,e,f,e)}a={onDragEnd:function(a){a.exitCurrentMode(),h(a)},onDrop:function(a,c){var d=new(b("DataTransfer"))(c.nativeEvent.dataTransfer),e=a._latestEditorState,f=g(c.nativeEvent,e);c.preventDefault();a._dragCount=0;a.exitCurrentMode();if(f==null)return;c=d.getFiles();if(c.length>0){if(a.props.handleDroppedFiles&&b("isEventHandled")(a.props.handleDroppedFiles(f,c)))return;b("getTextContentFromFiles")(c,function(b){b&&a.update(j(e,f,b))});return}c=a._internalDrag?"internal":"external";a.props.handleDrop&&b("isEventHandled")(a.props.handleDrop(f,d,c))||(a._internalDrag?a.update(i(e,f)):a.update(j(e,f,d.getText())));h(a)}};function h(a){a._internalDrag=!1;a=a.editorContainer;if(a){var c=new MouseEvent("mouseup",{view:b("getWindowForNode")(a),bubbles:!0,cancelable:!0});a.dispatchEvent(c)}}function i(a,c){c=b("DraftModifier").moveText(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c,"insert-fragment")}function j(a,c,d){c=b("DraftModifier").insertText(a.getCurrentContent(),c,d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-fragment")}e.exports=a}),null);
__d("moveSelectionBackward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");a=a.getCurrentContent();var e=d.getStartKey(),f=d.getStartOffset(),g=e,h=0;if(c>f){var i=a.getKeyBefore(e);if(i==null)g=e;else{g=i;e=a.getBlockForKey(i);h=e.getText().length}}else h=f-c;return d.merge({focusKey:g,focusOffset:h,isBackward:!0})}e.exports=a}),null);
__d("removeTextWithStrategy",["DraftModifier","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("676842");function a(a,c,d){var e=a.getSelection(),f=a.getCurrentContent(),h=e,i=e.getAnchorKey(),j=e.getFocusKey(),k=f.getBlockForKey(i);if(g&&(d==="forward"&&i!==j))return f;if(e.isCollapsed()){if(d==="forward"){if(a.isSelectionAtEndOfContent())return f;if(g){j=e.getAnchorOffset()===f.getBlockForKey(i).getLength();if(j){i=f.getBlockForKey(k.nextSibling);if(!i||i.getLength()===0)return f}}}else if(a.isSelectionAtStartOfContent())return f;h=c(a);if(h===e)return f}return b("DraftModifier").removeRange(f,h,d)}e.exports=a}),null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a-1];return b("moveSelectionBackward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"backward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"backspace-character":"remove-range")}e.exports=a}),null);
__d("editOnInput",["DraftModifier","DraftOffsetKey","EditorState","UserAgent","draftKeyUtils","findAncestorOffsetKey","keyCommandPlainBackspace","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey,h=b("UserAgent").isEngine("Gecko");b("UserAgent").isBrowser("IE");var i="\n\n";function j(a,c){switch(a){case"deleteContentBackward":return b("keyCommandPlainBackspace")(c)}return c}function a(a,c){a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0);var d=a.editor;d=d.ownerDocument.defaultView.getSelection();var e=d.anchorNode,f=d.isCollapsed,k=(e==null?void 0:e.nodeType)!==Node.TEXT_NODE&&(e==null?void 0:e.nodeType)!==Node.ELEMENT_NODE;if(e==null||k)return;if(e.nodeType===Node.TEXT_NODE&&(e.previousSibling!==null||e.nextSibling!==null)){k=e.parentNode;if(k==null)return;e.nodeValue=k.textContent;for(var l=k.firstChild;l!=null;l=l.nextSibling)l!==e&&k.removeChild(l)}l=e.textContent;k=a._latestEditorState;e=b("nullthrows")(b("findAncestorOffsetKey")(e));e=b("DraftOffsetKey").decode(e);var m=e.blockKey,n=e.decoratorKey;e=e.leafKey;n=k.getBlockTree(m).getIn([n,"leaves",e]);e=n.start;n=n.end;var o=k.getCurrentContent();m=o.getBlockForKey(m);var p=m.getText().slice(e,n);l.endsWith(i)&&(l=l.slice(0,-1));if(l===p){c=c?c.nativeEvent.inputType:void 0;if(c){c=j(c,k);if(c!==k){a.restoreEditorDOM();a.update(c);return}}return}c=k.getSelection();n=c.merge({anchorOffset:e,focusOffset:n,isBackward:!1});var q=m.getEntityAt(e);q=g(q)?o.getEntity(q):null;q=q!=null?q.getMutability():null;q=q==="MUTABLE";var r=q?"spellcheck-change":"apply-entity";n=b("DraftModifier").replaceText(o,n,l,m.getInlineStyleAt(e),q?m.getEntityAt(e):null);if(h)q=d.anchorOffset,m=d.focusOffset,d=e+Math.min(q,m),e=d+Math.abs(q-m),q=d,m=e;else{l=l.length-p.length;d=c.getStartOffset();e=c.getEndOffset();q=f?e+l:d;m=e+l}p=n.merge({selectionBefore:o.getSelectionAfter(),selectionAfter:c.merge({anchorOffset:q,focusOffset:m})});a.update(b("EditorState").push(k,p,r))}e.exports=a}),null);
__d("isSelectionAtLeafStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getSelection(),c=b.getAnchorKey();a=a.getBlockTree(c);var d=b.getStartOffset();c=!1;a.some(function(a){if(d===a.get("start")){c=!0;return!0}return d<a.get("end")?a.get("leaves").some(function(a){a=a.get("start");if(d===a){c=!0;return!0}return!1}):!1});return c}e.exports=a}),null);
__d("editOnBeforeInput",["DraftModifier","EditorState","UserAgent","editOnInput","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","nullthrows","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g="'",h="/",i=b("UserAgent").isBrowser("Firefox"),j=b("UserAgent").isBrowser("IE");function k(a){return i&&(a==g||a==h)}function l(a,c,d,e,f){c=b("DraftModifier").replaceText(a.getCurrentContent(),a.getSelection(),c,d,e);return b("EditorState").push(a,c,"insert-characters",f)}function a(a,c){j&&(a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0));var d=a._latestEditorState,e=c.data;if(!e)return;if(a.props.handleBeforeInput&&b("isEventHandled")(a.props.handleBeforeInput(e,d,c.timeStamp))){c.preventDefault();return}var f=d.getSelection(),g=f.getStartOffset(),h=f.getAnchorKey();if(!f.isCollapsed()){c.preventDefault();a.update(l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!0));return}f=l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!1);var i=!1;i||(i=b("isSelectionAtLeafStart")(a._latestCommittedEditorState));if(!i){var m=d.getBlockTree(h),n=f.getBlockTree(h);i=m.size!==n.size||m.zip(n).some(function(a){var b=a[0];a=a[1];var c=b.get("start"),d=c+(c>=g?e.length:0),f=b.get("end"),h=f+(f>=g?e.length:0),i=a.get("start"),j=a.get("end"),k=a.get("decoratorKey");return b.get("decoratorKey")!==k||b.get("leaves").size!==a.get("leaves").size||d!==i||h!==j||k!=null&&j-i!==f-c})}i||(i=k(e));i||(i=b("nullthrows")(f.getDirectionMap()).get(h)!==b("nullthrows")(d.getDirectionMap()).get(h));if(i){c.preventDefault();f=b("EditorState").set(f,{forceSelection:!0});a.update(f);return}f=b("EditorState").set(f,{nativelyRenderedContent:f.getCurrentContent()});a._pendingStateFromBeforeInput=f;j&&b("setImmediate")(function(){b("editOnInput")(a,null)})}e.exports=a}),null);
__d("editOnBlur",["EditorState","containsNode","getActiveElement"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.currentTarget.ownerDocument;if(!Boolean(a.props.preserveSelectionOnBlur)&&b("getActiveElement")(d)===d.body){d=d.defaultView.getSelection();var e=a.editor;d.rangeCount===1&&b("containsNode")(e,d.anchorNode)&&b("containsNode")(e,d.focusNode)&&d.removeAllRanges()}e=a._latestEditorState;d=e.getSelection();if(!d.getHasFocus())return;d=d.set("hasFocus",!1);a.props.onBlur&&a.props.onBlur(c);a.update(b("EditorState").acceptSelection(e,d))}e.exports=a}),null);
__d("editOnCompositionStart",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a.setMode("composite"),a.update(b("EditorState").set(a._latestEditorState,{inCompositionMode:!0})),a._onCompositionStart(c)}e.exports=a}),null);
__d("getFragmentFromSelection",["getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();return c.isCollapsed()?null:b("getContentStateFragment")(a.getCurrentContent(),c)}e.exports=a}),null);
__d("editOnCopy",["getFragmentFromSelection"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState;d=d.getSelection();if(d.isCollapsed()){c.preventDefault();return}a.setClipboard(b("getFragmentFromSelection")(a._latestEditorState))}e.exports=a}),null);
__d("isInstanceOfNode",[],(function(a,b,c,d,e,f){function a(a){if(!a||!("ownerDocument"in a))return!1;if("ownerDocument"in a){a=a;if(!a.ownerDocument.defaultView)return a instanceof Node;if(a instanceof a.ownerDocument.defaultView.Node)return!0}return!1}e.exports=a}),null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition","isInstanceOfNode"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection(),f=c.target,h;if(e.isCollapsed()){c.preventDefault();return}if(b("isInstanceOfNode")(f)){e=f;h=b("getScrollPosition")(b("Style").getScrollParent(e))}c=b("getFragmentFromSelection")(d);a.setClipboard(c);a.setMode("cut");setTimeout(function(){a.restoreEditorDOM(h),a.exitCurrentMode(),a.update(g(d))},0)}function g(a){var c=b("DraftModifier").removeRange(a.getCurrentContent(),a.getSelection(),"forward");return b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("editOnDragOver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.setMode("drag"),b.preventDefault()}e.exports=a}),null);
__d("editOnDragStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){a._internalDrag=!0,a.setMode("drag")}e.exports=a}),null);
__d("editOnFocus",["EditorState","UserAgent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection();if(e.getHasFocus())return;e=e.set("hasFocus",!0);a.props.onFocus&&a.props.onFocus(c);b("UserAgent").isBrowser("Chrome < 60.0.3081.0")?a.update(b("EditorState").forceSelection(d,e)):a.update(b("EditorState").acceptSelection(d,e))}e.exports=a}),null);
__d("isSoftNewlineEvent",["Keys"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.which===b("Keys").RETURN&&(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))}e.exports=a}),null);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=null;a={cut:function(a){var c=a.getCurrentContent(),d=a.getSelection(),e=null;if(d.isCollapsed()){var f=d.getAnchorKey(),h=c.getBlockForKey(f).getLength();if(h===d.getAnchorOffset()){f=c.getKeyAfter(f);if(f==null)return a;e=d.set("focusKey",f).set("focusOffset",0)}else e=d.set("focusOffset",h)}else e=d;e=b("nullthrows")(e);g=b("getContentStateFragment")(c,e);f=b("DraftModifier").removeRange(c,e,"forward");return f===c?a:b("EditorState").push(a,f,"remove-range")},paste:function(a){if(!g)return a;var c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),g);return b("EditorState").push(a,c,"insert-fragment")}};e.exports=a}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";c=b("UserAgent").isBrowser("Chrome");function a(a){var b=a.cloneRange(),c=[];for(var d=a.endContainer;d!=null;d=d.parentNode){var e=d===a.commonAncestorContainer;e?b.setStart(a.startContainer,a.startOffset):b.setStart(b.endContainer,0);var f=Array.from(b.getClientRects());c.push(f);if(e){c.reverse();return(f=[]).concat.apply(f,c)}b.setEndBefore(d)}g(0,578)}d=c?a:function(a){return Array.from(a.getClientRects())};e.exports=d}),null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getCorrectDocumentFromNode","getRangeClientRects"],(function(a,b,c,d,e,f,g){var h;function i(a){var c=getComputedStyle(a);a=b("getCorrectDocumentFromNode")(a);var d=a.createElement("div");d.style.fontFamily=c.fontFamily;d.style.fontSize=c.fontSize;d.style.fontStyle=c.fontStyle;d.style.fontWeight=c.fontWeight;d.style.lineHeight=c.lineHeight;d.style.position="absolute";d.textContent="M";c=a.body;c||g(0,5725);c.appendChild(d);a=d.getBoundingClientRect();c.removeChild(d);return a.height}function j(a,b){var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity;for(var g=0;g<a.length;g++){var h=a[g];if(h.width===0||h.width===1)continue;c=Math.min(c,h.top);d=Math.min(d,h.bottom);e=Math.max(e,h.top);f=Math.max(f,h.bottom)}return e<=d&&e-c<b&&f-d<b}function k(a){switch(a.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return a.length;default:return a.childNodes.length}}function a(a){a.collapsed||g(0,5726);a=a.cloneRange();var c=a.startContainer;c.nodeType!==1&&(c=c.parentNode);c=i(c);var d=a.endContainer,e=a.endOffset;a.setStart(a.startContainer,0);while(j(b("getRangeClientRects")(a),c)){d=a.startContainer;e=a.startOffset;d.parentNode||g(0,5727);a.setStartBefore(d);if(d.nodeType===1&&getComputedStyle(d).display!=="inline")break}var f=d,l=e-1;do{var m=f.nodeValue,n=l;for(;n>=0;n--){if(m!=null&&n>0&&(h||(h=b("UnicodeUtils"))).isSurrogatePair(m,n-1))continue;a.setStart(f,n);if(j(b("getRangeClientRects")(a),c))d=f,e=n;else break}if(n===-1||f.childNodes.length===0)break;f=f.childNodes[n];l=k(f)}while(!0);a.setStart(d,e);return a}e.exports=a}),null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("removeTextWithStrategy")(a,function(a){var d=a.getSelection();if(d.isCollapsed()&&d.getAnchorOffset()===0)return b("moveSelectionBackward")(a,1);d=c.currentTarget.ownerDocument;d=d.defaultView.getSelection();d=d.getRangeAt(0);d=b("expandRangeToStartOfLine")(d);return b("getDraftEditorSelectionWithNodes")(a,null,d.endContainer,d.endOffset,d.startContainer,d.startOffset).selectionState},"backward");return d===a.getCurrentContent()?a:b("EditorState").push(a,d,"remove-range")}e.exports=a}),null);
__d("DraftRemovableWord",["TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";a=b("TokenizeUtil").getPunctuation();c="['\u2018\u2019]";d="\\s|(?![_])"+a;f="^(?:"+d+")*(?:"+c+"|(?!"+d+").)*(?:(?!"+d+").)";var g=new RegExp(f);b="(?:(?!"+d+").)(?:"+c+"|(?!"+d+").)*(?:"+d+")*$";var h=new RegExp(b);function i(a,b){b=b?h.exec(a):g.exec(a);return b?b[0]:a}a={getBackward:function(a){return i(a,!0)},getForward:function(a){return i(a,!1)}};e.exports=a}),null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return b("moveSelectionBackward")(a,1);c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(0,d);c=b("DraftRemovableWord").getBackward(e);return b("moveSelectionBackward")(a,c.length||1)},"backward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("moveSelectionForward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var e=d.getStartKey(),f=d.getStartOffset();a=a.getCurrentContent();var g=e,h=a.getBlockForKey(e);c>h.getText().length-f?(g=a.getKeyAfter(e),h=0):h=f+c;return d.merge({focusKey:g,focusOffset:h})}e.exports=a}),null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(d);c=b("DraftRemovableWord").getForward(e);return b("moveSelectionForward")(a,c.length||1)},"forward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("DraftModifier").splitBlock(a.getCurrentContent(),a.getSelection());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getEndKey(),e=a.getCurrentContent();e=e.getBlockForKey(d).getLength();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:e,focusKey:d,focusOffset:e,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getStartKey();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a];return b("moveSelectionForward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"forward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"delete-character":"remove-range")}e.exports=a}),null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorOffset();if(d===0)return a;var e=c.getAnchorKey(),f=a.getCurrentContent();e=f.getBlockForKey(e);e=e.getLength();if(e<=1)return a;var g;d===e?(e=c.set("anchorOffset",d-1),g=c):(e=c.set("focusOffset",d+1),g=e.set("anchorOffset",d+1));c=b("getContentStateFragment")(f,e);d=b("DraftModifier").removeRange(f,e,"backward");f=d.getSelectionAfter();e=f.getAnchorOffset()-1;f=f.merge({anchorOffset:e,focusOffset:e});e=b("DraftModifier").replaceWithFragment(d,f,c);d=b("EditorState").push(a,e,"insert-fragment");return b("EditorState").acceptSelection(d,g)}e.exports=a}),null);
__d("keyCommandUndo",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("EditorState").undo(c);if(c.getLastChangeType()==="spellcheck-change"){var f=e.getCurrentContent();d(b("EditorState").set(e,{nativelyRenderedContent:f}));return}a.preventDefault();if(!c.getNativelyRenderedContent()){d(e);return}d(b("EditorState").set(c,{nativelyRenderedContent:null}));setTimeout(function(){d(e)},0)}e.exports=a}),null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").isOptionKeyCommand,h=b("UserAgent").isBrowser("Chrome");function i(a,c,d){switch(a){case"redo":return b("EditorState").redo(c);case"delete":return b("keyCommandPlainDelete")(c);case"delete-word":return b("keyCommandDeleteWord")(c);case"backspace":return b("keyCommandPlainBackspace")(c);case"backspace-word":return b("keyCommandBackspaceWord")(c);case"backspace-to-start-of-line":return b("keyCommandBackspaceToStartOfLine")(c,d);case"split-block":return b("keyCommandInsertNewline")(c);case"transpose-characters":return b("keyCommandTransposeCharacters")(c);case"move-selection-to-start-of-block":return b("keyCommandMoveSelectionToStartOfBlock")(c);case"move-selection-to-end-of-block":return b("keyCommandMoveSelectionToEndOfBlock")(c);case"secondary-cut":return b("SecondaryClipboard").cut(c);case"secondary-paste":return b("SecondaryClipboard").paste(c);default:return c}}function a(a,c){var d=c.which,e=a._latestEditorState;function f(b){b=a.props[b];if(b){b(c);return!0}else return!1}switch(d){case b("Keys").RETURN:c.preventDefault();if(a.props.handleReturn&&b("isEventHandled")(a.props.handleReturn(c,e)))return;break;case b("Keys").ESC:c.preventDefault();if(f("onEscape"))return;break;case b("Keys").TAB:if(f("onTab"))return;break;case b("Keys").UP:if(f("onUpArrow"))return;break;case b("Keys").RIGHT:if(f("onRightArrow"))return;break;case b("Keys").DOWN:if(f("onDownArrow"))return;break;case b("Keys").LEFT:if(f("onLeftArrow"))return;break;case b("Keys").SPACE:h&&g(c)&&c.preventDefault()}f=a.props.keyBindingFn(c);if(f==null||f===""){if(d===b("Keys").SPACE&&h&&g(c)){d=b("DraftModifier").replaceText(e.getCurrentContent(),e.getSelection(),"\xa0");a.update(b("EditorState").push(e,d,"insert-characters"))}return}if(f==="undo"){b("keyCommandUndo")(c,e,a.update);return}c.preventDefault();if(a.props.handleKeyCommand&&b("isEventHandled")(a.props.handleKeyCommand(f,e,c.timeStamp)))return;d=i(f,e,c);d!==e&&a.update(d)}e.exports=a}),null);
__d("getSafeBodyFromHTML",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE <= 9");function a(a){var b,c=null;!h&&document.implementation&&document.implementation.createHTMLDocument&&(b=document.implementation.createHTMLDocument("foo"),b.documentElement||g(0,1805),b.documentElement.innerHTML=a,c=b.getElementsByTagName("body")[0]);return c}e.exports=a}),null);
__d("isHTMLAnchorElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="A"}e.exports=a}),null);
__d("isHTMLBRElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="BR"}e.exports=a}),null);
__d("isHTMLImageElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="IMG"}e.exports=a}),null);
__d("convertFromHTMLToContentBlocks",["cx","CharacterMetadata","ContentBlock","ContentBlockNode","ContentState","DefaultDraftBlockRenderMap","URI","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","isHTMLAnchorElement","isHTMLBRElement","isHTMLElement","isHTMLImageElement"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedSet,l=b("gkx")("676842");a="&nbsp;";var m=" ",n=new RegExp("\r","g"),o=new RegExp("\n","g"),p=new RegExp("^\n","g"),q=new RegExp(a,"g"),r=new RegExp("&#13;?","g"),s=new RegExp("&#8203;?","g"),t=["bold","bolder","500","600","700","800","900"],u=["light","lighter","normal","100","200","300","400"],v=["className","href","rel","target","title"],w=["alt","className","height","src","width"],x=(c={},c._3kq1=0,c._3kq2=1,c._3kq3=2,c._3kq4=3,c._3kq5=4,c),y=j({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(a){var b={};a.mapKeys(function(a,c){var d=[c.element];c.aliasedElements!==void 0&&d.push.apply(d,c.aliasedElements);d.forEach(function(c){b[c]===void 0?b[c]=a:typeof b[c]==="string"?b[c]=[b[c],a]:b[c].push(a)})});return j(b)},A=function(a){if(b("isHTMLElement")(a)){a=a;if(a.style.fontFamily.includes("monospace"))return"CODE"}return null},B=function(a,b){b===void 0&&(b=0);Object.keys(x).some(function(c){a.classList.contains(c)&&(b=x[c])});return b},C=function(a){if(!b("isHTMLAnchorElement")(a))return!1;a=a;if(!a.href||a.protocol!=="http:"&&a.protocol!=="https:"&&a.protocol!=="mailto:"&&a.protocol!=="tel:")return!1;try{new(h||(h=b("URI")))(a.href);return!0}catch(a){return!1}},D=function(a){if(!b("isHTMLImageElement")(a))return!1;a=a;return!!(a.attributes.getNamedItem("src")&&a.attributes.getNamedItem("src").value)},E=function(a,c){if(!b("isHTMLElement")(a))return c;a=a;var d=a.style.fontWeight,e=a.style.fontStyle,f=a.style.textDecoration;return c.withMutations(function(a){t.indexOf(d)>=0?a.add("BOLD"):u.indexOf(d)>=0&&a.remove("BOLD"),e==="italic"?a.add("ITALIC"):e==="normal"&&a.remove("ITALIC"),f==="underline"&&a.add("UNDERLINE"),f==="line-through"&&a.add("STRIKETHROUGH"),f==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},F=function(a){return a==="ul"||a==="ol"},G=function(){function a(a,c){this.characterList=i(),this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.wrapper=null,this.blockConfigs=[],this.contentBlocks=[],this.contentState=b("ContentState").createFromText(""),this.clear(),this.blockTypeMap=a,this.disambiguate=c}var c=a.prototype;c.clear=function(){this.characterList=i(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.contentState=b("ContentState").createFromText(""),this.wrapper=null,this.contentBlocks=[]};c.addDOMNode=function(a){var b;this.contentBlocks=[];this.currentDepth=0;(b=this.blockConfigs).push.apply(b,this.$1([a],k()));this.$2();this.currentText!==""&&this.blockConfigs.push(this.$3());return this};c.getContentBlocks=function(){this.contentBlocks.length===0&&(l?this.$4(this.blockConfigs):this.$5(this.blockConfigs));return{contentBlocks:this.contentBlocks,entityMap:this.contentState.getEntityMap()}};c.$3=function(a){a===void 0&&(a={});var c=a.key||b("generateRandomKey")();c=babelHelpers["extends"]({key:c,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:i(),prevSibling:null,nextSibling:null,childConfigs:[]},a);this.characterList=i();this.currentBlockType="unstyled";this.currentText="";return c};c.$1=function(a,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.nodeName.toLowerCase();if(g==="body"||F(g)){this.$2();this.currentText!==""&&d.push(this.$3());var h=this.currentDepth,i=this.wrapper;F(g)&&(this.wrapper=g,F(i)&&this.currentDepth++);d.push.apply(d,this.$1(Array.from(f.childNodes),c));this.currentDepth=h;this.wrapper=i;continue}h=this.blockTypeMap.get(g);if(h!==void 0){this.$2();this.currentText!==""&&d.push(this.$3());i=this.currentDepth;var j=this.wrapper;this.wrapper=g==="pre"?"pre":this.wrapper;typeof h!=="string"&&(h=this.disambiguate(g,this.wrapper)||h[0]||"unstyled");if(!l&&b("isHTMLElement")(f)&&(h==="unordered-list-item"||h==="ordered-list-item")){var k=f;this.currentDepth=B(k,this.currentDepth)}k=b("generateRandomKey")();var m=this.$1(Array.from(f.childNodes),c);this.$2();d.push(this.$3({key:k,childConfigs:m,type:h}));this.currentDepth=i;this.wrapper=j;continue}if(g==="#text"){this.$6(f,c);continue}if(g==="br"){this.$7(f,c);continue}if(D(f)){this.$8(f,c);continue}if(C(f)){this.$9(f,d,c);continue}k=c;y.has(g)&&(k=k.add(y.get(g)));k=E(f,k);m=A(f);m!=null&&(k=k.add(m));d.push.apply(d,this.$1(Array.from(f.childNodes),k))}return d};c.$10=function(a,c){var d;this.currentText+=a;c=b("CharacterMetadata").create({style:c,entity:this.currentEntity});this.characterList=(d=this.characterList).push.apply(d,Array(a.length).fill(c))};c.$2=function(){var a=this.currentText.length,b=a-this.currentText.trimLeft().length,c=this.currentText.trimRight().length,d=this.characterList.findEntry(function(a){return a.getEntity()!==null});b=d!==void 0?Math.min(b,d[0]):b;d=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null});c=d!==void 0?Math.max(c,a-d[0]):c;b>c?(this.currentText="",this.characterList=i()):(this.currentText=this.currentText.slice(b,c),this.characterList=this.characterList.slice(b,c))};c.$6=function(a,b){a=a.textContent;var c=a.trim();c===""&&this.wrapper!=="pre"&&(a=" ");this.wrapper!=="pre"&&(a=a.replace(p,""),a=a.replace(o,m));this.$10(a,b)};c.$7=function(a,c){if(!b("isHTMLBRElement")(a))return;this.$10("\n",c)};c.$8=function(a,c){if(!b("isHTMLImageElement")(a))return;var d=a,e={};w.forEach(function(a){var b=d.getAttribute(a);b&&(e[a]=b)});this.contentState=this.contentState.createEntity("IMAGE","IMMUTABLE",e);this.currentEntity=this.contentState.getLastCreatedEntityKey();this.$10("\ud83d\udcf7",c);this.currentEntity=null};c.$9=function(a,c,d){if(!b("isHTMLAnchorElement")(a))return;var e=a,f={};v.forEach(function(a){var b=e.getAttribute(a);b&&(f[a]=b)});f.url=new(h||(h=b("URI")))(e.href).toString();this.contentState=this.contentState.createEntity("LINK","MUTABLE",f||{});this.currentEntity=this.contentState.getLastCreatedEntityKey();c.push.apply(c,this.$1(Array.from(a.childNodes),d));this.currentEntity=null};c.$4=function(a,c){c===void 0&&(c=null);var d=a.length-1;for(var e=0;e<=d;e++){var f=a[e];f.parent=c;f.prevSibling=e>0?a[e-1].key:null;f.nextSibling=e<d?a[e+1].key:null;f.children=i(f.childConfigs.map(function(a){return a.key}));this.contentBlocks.push(new(b("ContentBlockNode"))(babelHelpers["extends"]({},f)));this.$4(f.childConfigs,f.key)}};c.$11=function(a){var b=this;a=i(a).flatMap(function(a){return a.type!=="unstyled"||a.text!==""?[a]:b.$11(a.childConfigs)});return a};c.$5=function(a){var c=this;a=this.$11(a);a.forEach(function(a){var d=c.$12(a.childConfigs),e=d.text;d=d.characterList;c.contentBlocks.push(new(b("ContentBlock"))(babelHelpers["extends"]({},a,{text:a.text+e,characterList:a.characterList.concat(d)})))})};c.$12=function(a){var b=a.length-1,c="",d=i();for(var e=0;e<=b;e++){var f=a[e];c+=f.text;d=d.concat(f.characterList);c!==""&&f.type!=="unstyled"&&(c+="\n",d=d.push(d.last()));f=this.$12(f.childConfigs);c+=f.text;d=d.concat(f.characterList)}return{text:c,characterList:d}};return a}();d=function(a,c,d){c===void 0&&(c=b("getSafeBodyFromHTML"));d===void 0&&(d=b("DefaultDraftBlockRenderMap"));a=a.trim().replace(n,"").replace(q,m).replace(r,"").replace(s,"");c=c(a);if(!c)return null;a=z(d);d=function(a,b){return a==="li"?b==="ol"?"ordered-list-item":"unordered-list-item":null};return new G(a,d).addDOMNode(c).getContentBlocks()};e.exports=d}),null);
__d("DraftPasteProcessor",["ContentBlock","ContentBlockNode","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("gkx")("676842"),j=i?b("ContentBlockNode"):b("ContentBlock");a={processHTML:function(a,c){return b("convertFromHTMLToContentBlocks")(a,b("getSafeBodyFromHTML"),c)},processText:function(a,c,d){return a.reduce(function(a,e,f){e=b("sanitizeDraftText")(e);var k=b("generateRandomKey")();e={key:k,type:d,text:e,characterList:g(h(c,e.length))};if(i&&f!==0){f=f-1;f=a[f]=a[f].merge({nextSibling:k});e=babelHelpers["extends"]({},e,{prevSibling:f.getKey()})}a.push(new j(e));return a},[])}};e.exports=a}),null);
__d("adjustBlockDepthForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=b.getStartKey(),f=b.getEndKey(),g=a.getBlockMap(),h=g.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===f}).concat([[f,g.get(f)]]).map(function(a){var b=a.getDepth()+c;b=Math.max(0,b);d!=null&&(b=Math.min(b,d));return a.set("depth",b)});g=g.merge(h);return a.merge({blockMap:g,selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","adjustBlockDepthForContentState","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g={currentBlockContainsLink:function(a){var b=a.getSelection(),c=a.getCurrentContent();return c.getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(a){a=a.getEntity();return!!a&&c.getEntity(a).getType()==="LINK"})},getCurrentBlockType:function(a){var b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},getDataObjectForLinkURL:function(a){return{url:a.toString()}},handleKeyCommand:function(a,b,c){switch(b){case"bold":return g.toggleInlineStyle(a,"BOLD");case"italic":return g.toggleInlineStyle(a,"ITALIC");case"underline":return g.toggleInlineStyle(a,"UNDERLINE");case"strikethrough":return g.toggleInlineStyle(a,"STRIKETHROUGH");case"code":return g.toggleCode(a);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(a);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(a);default:return null}},insertSoftNewline:function(a){var c=b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),"\n",a.getCurrentInlineStyle(),null);a=b("EditorState").push(a,c,"insert-characters");return b("EditorState").forceSelection(a,c.getSelectionAfter())},onBackspace:function(a){var c=a.getSelection();if(!c.isCollapsed()||c.getAnchorOffset()||c.getFocusOffset())return null;var d=a.getCurrentContent(),e=c.getStartKey();e=d.getBlockBefore(e);if(e&&e.getType()==="atomic"){e=d.getBlockMap()["delete"](e.getKey());e=d.merge({blockMap:e,selectionAfter:c});if(e!==d)return b("EditorState").push(a,e,"remove-range")}c=g.tryToRemoveBlockStyle(a);return c?b("EditorState").push(a,c,"change-block-type"):null},onDelete:function(a){var c=a.getSelection();if(!c.isCollapsed())return null;var d=a.getCurrentContent(),e=c.getStartKey(),f=d.getBlockForKey(e);f=f.getLength();if(c.getStartOffset()<f)return null;f=d.getBlockAfter(e);if(!f||f.getType()!=="atomic")return null;e=c.merge({focusKey:f.getKey(),focusOffset:f.getLength()});c=b("DraftModifier").removeRange(d,e,"forward");return c!==d?b("EditorState").push(a,c,"remove-range"):null},onTab:function(a,c){var d=c.getSelection(),e=d.getAnchorKey(),f=c.getCurrentContent();e=f.getBlockForKey(e);e=e.getType();if(e!=="unordered-list-item"&&e!=="ordered-list-item")return c;a.preventDefault();e=b("adjustBlockDepthForContentState")(f,d,a.shiftKey?-1:1);return b("EditorState").push(c,e,"adjust-depth")},toggleBlockType:function(a,c){var d=a.getSelection(),e=d.getStartKey(),f=d.getEndKey(),g=a.getCurrentContent(),h=d;if(e!==f&&d.getEndOffset()===0){var i=b("nullthrows")(g.getBlockBefore(f));f=i.getKey();h=h.merge({anchorKey:e,anchorOffset:d.getStartOffset(),focusKey:f,focusOffset:i.getLength(),isBackward:!1})}d=g.getBlockMap().skipWhile(function(a,b){return b!==e}).reverse().skipWhile(function(a,b){return b!==f}).some(function(a){return a.getType()==="atomic"});if(d)return a;i=g.getBlockForKey(e).getType()===c?"unstyled":c;return b("EditorState").push(a,b("DraftModifier").setBlockType(g,h,i),"change-block-type")},toggleCode:function(a){var b=a.getSelection(),c=b.getAnchorKey(),d=b.getFocusKey();return b.isCollapsed()||c!==d?g.toggleBlockType(a,"code-block"):g.toggleInlineStyle(a,"CODE")},toggleInlineStyle:function(a,c){var d=a.getSelection(),e=a.getCurrentInlineStyle();if(d.isCollapsed())return b("EditorState").setInlineStyleOverride(a,e.has(c)?e.remove(c):e.add(c));var f=a.getCurrentContent();e.has(c)?e=b("DraftModifier").removeInlineStyle(f,d,c):e=b("DraftModifier").applyInlineStyle(f,d,c);return b("EditorState").push(a,e,"change-inline-style")},toggleLink:function(a,c,d){c=b("DraftModifier").applyEntity(a.getCurrentContent(),c,d);return b("EditorState").push(a,c,"apply-entity")},tryToRemoveBlockStyle:function(a){var c=a.getSelection(),d=c.getAnchorOffset();if(c.isCollapsed()&&d===0){d=c.getAnchorKey();a=a.getCurrentContent();var e=a.getBlockForKey(d);e=e.getType();d=a.getBlockBefore(d);if(e==="code-block"&&d&&d.getType()==="code-block"&&d.getLength()!==0)return null;if(e!=="unstyled")return b("DraftModifier").setBlockType(a,c,"unstyled")}return null}};e.exports=g}),null);
__d("splitTextIntoTextBlocks",[],(function(a,b,c,d,e,f){"use strict";var g=/\r\n?|\n/g;function a(a){return a.split(g)}e.exports=a}),null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","RichTextEditorUtil","getEntityKeyForSelection","getTextContentFromFiles","isEventHandled","splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c.preventDefault();c=new(b("DataTransfer"))(c.clipboardData);if(!c.isRichText()){var d=c.getFiles(),e=c.getText();if(d.length>0){if(a.props.handlePastedFiles&&b("isEventHandled")(a.props.handlePastedFiles(d)))return;b("getTextContentFromFiles")(d,function(d){d=d||e;if(!d)return;var c=a._latestEditorState;d=b("splitTextIntoTextBlocks")(d);var f=b("CharacterMetadata").create({style:c.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(c.getCurrentContent(),c.getSelection())}),g=b("RichTextEditorUtil").getCurrentBlockType(c);d=b("DraftPasteProcessor").processText(d,f,g);f=b("BlockMapBuilder").createFromArray(d);g=b("DraftModifier").replaceWithFragment(c.getCurrentContent(),c.getSelection(),f);a.update(b("EditorState").push(c,g,"insert-fragment"))});return}}d=[];var f=c.getText(),i=c.getHTML(),j=a._latestEditorState;if(a.props.formatPastedText){var k=a.props.formatPastedText(f,i),l=k.text;k=k.html;f=l;i=k}if(a.props.handlePastedText&&b("isEventHandled")(a.props.handlePastedText(f,i,j)))return;f&&(d=b("splitTextIntoTextBlocks")(f));if(!a.props.stripPastedStyles){l=a.getClipboard();if(!a.props.formatPastedText&&c.isRichText()&&l){if(((k=i)==null?void 0:k.indexOf(a.getEditorKey()))!==-1||d.length===1&&l.size===1&&l.first().getText()===f){a.update(g(a._latestEditorState,l));return}}else if(l&&c.types.includes("com.apple.webarchive")&&!c.types.includes("text/html")&&h(d,l)){a.update(g(a._latestEditorState,l));return}if(i){k=b("DraftPasteProcessor").processHTML(i,a.props.blockRenderMap);if(k){f=k.contentBlocks;c=k.entityMap;if(f){l=b("BlockMapBuilder").createFromArray(f);a.update(g(a._latestEditorState,l,c));return}}}a.setClipboard(null)}if(d.length){i=b("CharacterMetadata").create({style:j.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(j.getCurrentContent(),j.getSelection())});k=b("RichTextEditorUtil").getCurrentBlockType(j);f=b("DraftPasteProcessor").processText(d,i,k);l=b("BlockMapBuilder").createFromArray(f);a.update(g(a._latestEditorState,l))}}function g(a,c,d){c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c.set("entityMap",d),"insert-fragment")}function h(a,b){return a.length===b.size&&b.valueSeq().every(function(b,c){return b.getText()===a[c]})}e.exports=a}),null);
__d("DraftEditorEditHandler",["UserAgent","editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],(function(a,b,c,d,e,f){"use strict";a=b("UserAgent").isBrowser("Chrome");c=b("UserAgent").isBrowser("Firefox");d=a||c?b("editOnSelect"):function(a){};f={onBeforeInput:b("editOnBeforeInput"),onBlur:b("editOnBlur"),onCompositionStart:b("editOnCompositionStart"),onCopy:b("editOnCopy"),onCut:b("editOnCut"),onDragOver:b("editOnDragOver"),onDragStart:b("editOnDragStart"),onFocus:b("editOnFocus"),onInput:b("editOnInput"),onKeyDown:b("editOnKeyDown"),onPaste:b("editOnPaste"),onSelect:b("editOnSelect"),onMouseUp:d,onKeyUp:d};e.exports=f}),null);
__d("DraftEditorFlushControlled",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_flushControlled;e.exports=a}),null);
__d("DraftEditorPlaceholder.react",["cx","React","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.props,d=c.editorState;c=babelHelpers.objectWithoutPropertiesLoose(c,["editorState"]);var e=a.editorState;a=babelHelpers.objectWithoutPropertiesLoose(a,["editorState"]);return d.getSelection().getHasFocus()!==e.getSelection().getHasFocus()||!b("shallowEqual")(c,a)};d.render=function(){var a="_1p1v"+(this.props.className!=null?" "+this.props.className:"");return h.jsx("div",{className:"_1p1t"+(this.props.editorState.getSelection().getHasFocus()?" _1p1u":""),children:h.jsx("div",{className:a,id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"},children:this.props.text})})};return c}(h.Component);e.exports=a}),null);
__d("DraftEffects",["cx","CurrentUser","DraftEffectsPerSite","ODS","fbjs/lib/CSSCore","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CurrentUser").isEmployee()?".employee":"",i=!1;a={initODS:function(){document.addEventListener("input",function(a){a.target.nodeType===1&&b("fbjs/lib/CSSCore").hasClass(a.target,"_5rpu")&&b("ODS").bumpEntityKey(2966,"draft_js","input_events"+h)})},handleExtensionCausedError:function(){b("ODS").bumpEntityKey(2966,"draft_js","extension_caused_errors"+h);if(i||!b("gkx")("676843"))return;i=!0;b("DraftEffectsPerSite").handleExtensionCausedError()}};e.exports=a}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 88:return i(a)&&a.shiftKey?"strikethrough":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("DraftEditor.react",["cx","invariant","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorFlushControlled","DraftEditorPlaceholder.react","DraftEffects","EditorState","React","Scroll","Style","UserAgent","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("UserAgent").isBrowser("IE"),k=!j,l={edit:b("DraftEditorEditHandler"),composite:b("DraftEditorCompositionHandler"),drag:b("DraftEditorDragHandler"),cut:null,render:null},m=!1,n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return null};c.componentDidMount=function(){this._update()};c.componentDidUpdate=function(){this._update()};c._update=function(){var a=this.props.editor;a._latestEditorState=this.props.editorState;a._blockSelectEvents=!0};return a}(i.Component);c=function(c){babelHelpers.inheritsLoose(d,c);function d(a){var d;d=c.call(this,a)||this;d._internalDrag=!1;d.state={contentsKey:0};d._handleEditorContainerRef=function(a){d.editorContainer=a,d.editor=a!==null?a.firstChild:null};d.focus=function(a){var c=d.props.editorState,e=c.getSelection().getHasFocus(),f=d.editor;if(!f)return;var g=b("Style").getScrollParent(f);a=a||b("getScrollPosition")(g);var i=a.x;a=a.y;b("isHTMLElement")(f)||h(0,2355);f.focus();g===window?window.scrollTo(i,a):b("Scroll").setTop(g,a);e||d.update(b("EditorState").forceSelection(c,c.getSelection()))};d.blur=function(){var a=d.editor;if(!a)return;b("isHTMLElement")(a)||h(0,2355);a.blur()};d.setMode=function(a){var b=d.props,c=b.onPaste,e=b.onCut;b=b.onCopy;var f=babelHelpers["extends"]({},l.edit);c&&(f.onPaste=c);e&&(f.onCut=e);b&&(f.onCopy=b);c=babelHelpers["extends"]({},l,{edit:f});d._handler=c[a]};d.exitCurrentMode=function(){d.setMode("edit")};d.restoreEditorDOM=function(a){b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})}):d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})};d.setClipboard=function(a){d._clipboard=a};d.getClipboard=function(){return d._clipboard};d.update=function(a){var c=d.props.onChange;d._latestEditorState=a;b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return c(a)}):c(a)};d.onDragEnter=function(){d._dragCount++};d.onDragLeave=function(){d._dragCount--,d._dragCount===0&&d.exitCurrentMode()};d._blockSelectEvents=!1;d._clipboard=null;d._handler=null;d._dragCount=0;d._editorKey=a.editorKey||b("generateRandomKey")();d._placeholderAccessibilityID="placeholder-"+d._editorKey;d._latestEditorState=a.editorState;d._latestCommittedEditorState=a.editorState;d._onBeforeInput=d._buildHandler("onBeforeInput");d._onBlur=d._buildHandler("onBlur");d._onCharacterData=d._buildHandler("onCharacterData");d._onCompositionEnd=d._buildHandler("onCompositionEnd");d._onCompositionStart=d._buildHandler("onCompositionStart");d._onCopy=d._buildHandler("onCopy");d._onCut=d._buildHandler("onCut");d._onDragEnd=d._buildHandler("onDragEnd");d._onDragOver=d._buildHandler("onDragOver");d._onDragStart=d._buildHandler("onDragStart");d._onDrop=d._buildHandler("onDrop");d._onInput=d._buildHandler("onInput");d._onFocus=d._buildHandler("onFocus");d._onKeyDown=d._buildHandler("onKeyDown");d._onKeyPress=d._buildHandler("onKeyPress");d._onKeyUp=d._buildHandler("onKeyUp");d._onMouseDown=d._buildHandler("onMouseDown");d._onMouseUp=d._buildHandler("onMouseUp");d._onPaste=d._buildHandler("onPaste");d._onSelect=d._buildHandler("onSelect");d.getEditorKey=function(){return d._editorKey};return d}var e=d.prototype;e._buildHandler=function(a){var c=this;return function(d){if(!c.props.readOnly){var e=c._handler&&c._handler[a];e&&(b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return e(c,d)}):e(c,d))}}};e._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};e._renderPlaceholder=function(){if(this._showPlaceholder()){var a={accessibilityID:this._placeholderAccessibilityID,className:this.props.placeholderClassName,editorState:this.props.editorState,text:b("nullthrows")(this.props.placeholder),textAlignment:this.props.textAlignment};return i.jsx(b("DraftEditorPlaceholder.react"),babelHelpers["extends"]({},a))}return null};e._renderARIADescribedBy=function(){var a=this.props.ariaDescribedBy||"",b=this._showPlaceholder()?this._placeholderAccessibilityID:"";return a.replace("{{editor_id_placeholder}}",b)||void 0};e.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleFn,g=a.customStyleMap,h=a.editorState,j=a.preventScroll,l=a.readOnly,m=a.textAlignment;a=a.textDirectionality;m="_5rp7"+(m==="left"?" _5rp8":"")+(m==="right"?" _5rp9":"")+(m==="center"?" _5rpa":"");var o={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},p=this.props.role||"textbox",q=p==="combobox"?!!this.props.ariaExpanded:null;c={blockRenderMap:c,blockRendererFn:d,blockStyleFn:e,customStyleMap:babelHelpers["extends"]({},b("DefaultDraftInlineStyle"),g),customStyleFn:f,editorKey:this._editorKey,editorState:h,preventScroll:j,textDirectionality:a};d=this.props.contentClassName!=null?this.props.contentClassName+" ":"";return i.jsxs("div",{className:m,children:[this._renderPlaceholder(),i.jsx("div",{className:"_5rpb",ref:this._handleEditorContainerRef,children:i.jsxs("div",{"aria-activedescendant":l?null:this.props.ariaActiveDescendantID,"aria-autocomplete":l?null:this.props.ariaAutoComplete,"aria-controls":l?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":l?null:q,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":l?null:this.props.ariaOwneeID,"aria-required":this.props.ariaRequired,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:d+((l?"":"notranslate")+" _5rpu"),contentEditable:!l,"data-testid":void 0,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:l?null:p,spellCheck:k&&this.props.spellCheck,style:o,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex,children:[i.jsx(n,{editor:this,editorState:h}),i.createElement(b("DraftEditorContents.react"),babelHelpers["extends"]({},c,{key:"contents"+this.state.contentsKey}))]})})]})};e.componentDidMount=function(){this._blockSelectEvents=!1,!m&&b("gkx")("676845")&&(m=!0,b("DraftEffects").initODS()),this.setMode("edit"),j&&(!this.editor?a.execCommand("AutoUrlDetect",!1,!1):this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1))};e.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState};return d}(i.Component);c.defaultProps={ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:b("DefaultDraftBlockRenderMap"),blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:b("getDefaultKeyBinding"),readOnly:!1,spellCheck:!1,stripPastedStyles:!1};e.exports=c}),null);
__d("TypeaheadNavigation",[],(function(a,b,c,d,e,f){f.moveUp=a;f.moveDown=b;function a(a,b,c){if(b==null)c(a[0]);else{b=a.indexOf(b);b=b==0?a.length-1:b-1;c(a[b])}}function b(a,b,c){b=b!=null?(a.indexOf(b)+1)%a.length:0;c(a[b])}}),null);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){e=e(c.getCurrentContent(),a);var g=e.getLastCreatedEntityKey();f=f?f(a):a.getTitle();a=b("DraftModifier").replaceText(e,d,f,c.getCurrentInlineStyle(),g);return b("EditorState").push(c,a,"insert-fragment")}}),null);
__d("replaceMentionedTextInEditorState",["replaceSelectionWithMention"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){var i=c.getSelection(),j=c.getCurrentContent(),k=i.getAnchorKey(),l=i.getAnchorOffset();j=j.getBlockMap().get(k);k=i.getStartOffset();k=j.getText().substr(k-d,d);var m=f?f(a,k):g(a,k);f=l-h(j.getText().substr(0,l),m,d);return b("replaceSelectionWithMention")(a,c,i.set("anchorOffset",f),e,function(){return m})}function g(a,b){return a.getType()==="group_rule"?a.getSubtitle():a.getTitle()}function h(a,b,c){(b.startsWith("#")||b.startsWith("\\uFF03"))&&(a=a.toLowerCase(),b=b.toLowerCase());for(var d=c;d<=b.length;d++)a.substr(-d)==b.substr(0,d)&&(c=d);return c}}),null);
__d("AbstractMentionsTextEditor.react",["requireCond","cr:1600421","DraftEditor.react","Keys","React","TypeaheadNavigation","clearImmediate","getDefaultKeyBinding","getOrCreateDOMID","prop-types","replaceMentionedTextInEditorState","setImmediate","uniqueID"],(function(a,b,c,d,e,f){var g=b("React");a=5;var h="handled",i="not-handled";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=b("uniqueID")();e.$2=!1;e.$3=[];e.containerRef=g.createRef();e.abstractTextEditorRef=g.createRef();e.__onShowMentions=function(a,b,c,d){d===void 0&&(d=!0);if(!e.$2)return;b=b||0;if(!a||!a.length){var f=e.state.mentionableEntries;if(f&&f.length&&f[0].getDataType()!==(c||""))return;e.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return}f=e.props.typeaheadViewProps;c=a;f&&f.mentionSortFn&&c.sort(f.mentionSortFn);c=a.slice(0,e.props.maxResults);e.props.reverseOrder&&(c=c.reverse());f=null;(e.props.autoHighlight||e.state.highlightedMentionable!==null)&&(f=e.props.autoUpdateHighlight?c[0]:e.state.highlightedMentionable);e.setState({highlightedMentionable:d?f:null,mentionableEntries:c,characterOffset:b});e.props.onShowMentions&&e.props.onShowMentions(c,b)};e.$13=function(a){var c;if(a.keyCode===b("Keys").TAB)return e.$6(a);if(a.keyCode===b("Keys").ESC)return e.$5(a);if(a.keyCode===b("Keys").UP)return e.$11(a);return a.keyCode===b("Keys").DOWN?e.$4(a):(c=e.props.keyBindingFn==null?void 0:e.props.keyBindingFn(a))!=null?c:b("getDefaultKeyBinding")(a)};e.$8=function(a){e.setState(e.$12()),e.props.onBlur&&e.props.onBlur(a)};e.$7=function(a){e.props.mentionsSource&&e.props.mentionsSource.bootstrap(),e.props.onFocus&&e.props.onFocus(a)};e.$14=function(a,b){if(e.state.highlightedMentionable){e.$10(e.state.highlightedMentionable,a);return h}else if(e.props.handleContentReturn&&e.props.handleContentReturn(a,b))return h;return i};e.$6=function(a){var b=e.state.highlightedMentionable;b?(a.preventDefault(),e.$10(b,a)):e.props.onTab&&e.props.onTab(a)};e.$5=function(a){e.props.onEscape&&e.props.onEscape(a),e.state.mentionableEntries&&(a.stopPropagation(),a.nativeEvent.composerPropagationStopped=!0,e.setState(e.$12()))};e.$11=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveUp(c,e.state.highlightedMentionable,e.$9)):e.props.onUpArrow&&e.props.onUpArrow(a)};e.$4=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveDown(c,e.state.highlightedMentionable,e.$9)):e.props.onDownArrow&&e.props.onDownArrow(a)};e.$9=function(a){e.setState({highlightedMentionable:a})};e.$15=function(a){a=b("getOrCreateDOMID")(a);e.setState({ariaActiveDescendantID:a})};e.$10=function(a,c){var d,f=a.getDataType(),g=e.props.mentionCreationForContentStateFn;f==="ASSISTANT_TYPEAHEAD"&&e.props.mentionTypeaheadCreationForContentStateFn&&(g=e.props.mentionTypeaheadCreationForContentStateFn);f=e.props.onMentionSelect;f==null?d=b("replaceMentionedTextInEditorState")(a,e.props.editorState,e.state.characterOffset,g,e.props.overrideMentionGetEntryText):d=f(a,e.props.editorState,e.state.characterOffset,g);e.props.onChange(d);e.setState(e.$12());f=e.props.onAddMention;g=e.state.mentionableEntries;if(f&&g){d=g.indexOf(a);f(a,d,c)}};e.$17=null;e.$18=function(a){if(b("cr:1600421")==null)return;if(a!=null&&!b("cr:1600421").isRegistered(a)){e.$17&&b("cr:1600421").unregister(e.$17);e.$17=a;b("cr:1600421").registerForMeasurement(a,(a=e.props.typingPerformanceID)!=null?a:"AbstractMentionsTextEditor")}};e.__onShowMentions=e.__onShowMentions.bind(babelHelpers.assertThisInitialized(e));e.$4=e.$4.bind(babelHelpers.assertThisInitialized(e));e.$5=e.$5.bind(babelHelpers.assertThisInitialized(e));e.$6=e.$6.bind(babelHelpers.assertThisInitialized(e));e.$7=e.$7.bind(babelHelpers.assertThisInitialized(e));e.$8=e.$8.bind(babelHelpers.assertThisInitialized(e));e.$9=e.$9.bind(babelHelpers.assertThisInitialized(e));e.$10=e.$10.bind(babelHelpers.assertThisInitialized(e));e.$11=e.$11.bind(babelHelpers.assertThisInitialized(e));e.state=e.$12();return e}var d=c.prototype;d.componentDidMount=function(){this.$2=!0};d.componentWillUnmount=function(){this.$2=!1,this.$3.forEach(function(a){return b("clearImmediate")(a)}),this.$3=[]};d.$12=function(){return{highlightedMentionable:null,mentionableEntries:null,characterOffset:0}};d.shouldComponentUpdate=function(a,b){return this.props.editorState!==a.editorState||this.props.placeholder!==a.placeholder||this.props.readOnly!==a.readOnly||this.props.className!==a.className||this.state.mentionableEntries!==b.mentionableEntries||this.state.highlightedMentionable!==b.highlightedMentionable||this.state.ariaActiveDescendantID!==b.ariaActiveDescendantID};d.componentDidUpdate=function(a){var c=this,d=this.props.editorState;if(d===a.editorState)return;var e=d.getSelection();if(e.getHasFocus()&&e.isCollapsed()){var f=d.getCurrentContent(),g=this.props.mentionsSource;g&&this.$3.push(b("setImmediate")(function(){f.getBlockForKey(e.getAnchorKey())!=null&&g.search(f,e,c.__onShowMentions)}));var h=this.props.assistantTypeaheadSource;h&&this.$3.push(b("setImmediate")(function(){h.search(f,e,c.__onShowMentions)}))}};d.blur=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.blur()};d.focus=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.focus()};d.$16=function(){var a=this.state.mentionableEntries;if(!a||!a.length)return null;var b=this.props.mentionResultsComponent;return g.jsx(b,babelHelpers["extends"]({},this.props.mentionResultsProps,{viewID:this.$1,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:a||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this.$10,onMentionHighlight:this.$9,onMentionRenderHighlight:this.$15}))};d.exitCurrentMode=function(){var a;(a=this.abstractTextEditorRef.current)==null?void 0:a.exitCurrentMode()};d.render=function(){var a=this.state.mentionableEntries;a=!!(a&&a.length);var c=this.props.readOnly?null:"-1",d=this.props.role||"combobox",e=this.props.ariaAutoComplete||"list",f=this.props.ariaLabel,h=this.props;h.onTab;h.onUpArrow;h.onDownArrow;h.onEscape;h=babelHelpers.objectWithoutPropertiesLoose(h,["onTab","onUpArrow","onDownArrow","onEscape"]);return g.jsxs("div",{ref:this.containerRef,className:this.props.className,tabIndex:c,children:[g.jsx(b("DraftEditor.react"),babelHelpers["extends"]({},h,{ref:this.abstractTextEditorRef,editorRef:this.$18,role:d,ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:e,ariaControls:this.$1,ariaExpanded:a,ariaHasPopup:a,ariaLabel:f,editorState:this.props.editorState,onBlur:this.$8,onChange:this.props.onChange,onFocus:this.$7,handleReturn:this.$14,keyBindingFn:this.$13})),this.$16()]})};d.isShowingMentionables=function(){return!!this.state.mentionableEntries};return c}(g.Component);c.defaultProps=babelHelpers["extends"]({},b("DraftEditor.react").defaultProps,{autoHighlight:!0,autoUpdateHighlight:!0,maxResults:a,reverseOrder:!1});c.propTypes={mentionsSource:(d=b("prop-types")).object,assistantTypeaheadSource:d.object,mentionCreationForContentStateFn:d.func.isRequired,mentionTypeaheadCreationForContentStateFn:d.func,mentionResultsComponent:d.func.isRequired,mentionResultsProps:d.object,excludedEntries:d.object,handleContentReturn:d.func,onAddMention:d.func,onShowMentions:d.func,autoHighlight:d.bool,maxResults:d.number,webDriverTestID:d.string};e.exports=c}),null);
__d("DebouncedMentionsTextEditor.react",["AbstractMentionsTextEditor.react","clearImmediate","debounce","setImmediate"],(function(a,b,c,d,e,f){var g=new RegExp(/@[^ ]*$/gm);a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.__maybeSearch=function(){var a=d.props.editorState,c=a.getSelection();if(c.getHasFocus()&&c.isCollapsed()){var e=a.getCurrentContent();a=d.props;var f=a.mentionsSource,h=a.assistantTypeaheadSource;(f||h)&&(d.$DebouncedMentionsTextEditor1&&b("clearImmediate")(d.$DebouncedMentionsTextEditor1),d.$DebouncedMentionsTextEditor1=b("setImmediate")(function(){if(f){var a=e.getBlockForKey(c.getAnchorKey()).getText().slice(0,c.getAnchorOffset());g.lastIndex=0;var b=g.test(a);f.search(e,c,function(a,c){d.__onShowMentions(a,c,null,b)})}h&&h.search(e,c,d.__onShowMentions)}))}};d.__debouncedSearch=b("debounce")(d.__maybeSearch,50);return d}var d=c.prototype;d.componentDidUpdate=function(a){this.props.editorState!==a.editorState&&this.__debouncedSearch()};d.componentWillUnmount=function(){this.$DebouncedMentionsTextEditor1&&b("clearImmediate")(this.$DebouncedMentionsTextEditor1),a.prototype.componentWillUnmount.call(this)};return c}(b("AbstractMentionsTextEditor.react"));e.exports=a}),null);
__d("DocumentCompositeMentionsSource",["invariant","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}a=function(){function a(a){a.length>0||g(0,1514),this.$1=a,this.$2=!1,this.$3=null}var c=a.prototype;c.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};c.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f);return{remove:function(){f.cancel()}}};c.$4=function(a,c){var d=this,e=this.$1.length,f,g;for(var h=0;h<e;h++){f=this.$1[h];g=f.findMatch(a);if(g===null)continue;else{var i=b("nullthrows")(g).matchingString;this.$3=i;f.search(i,function(a,b){d.$3===b&&c(a,g.leadOffset)});return}}this.$3=null;c(null,null)};c.getSources=function(){return this.$1};return a}();e.exports=a}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){typeof a.findMentionableString==="function"||g(0,558),this.$1=a,this.$2=b,this.$3=!1}var b=a.prototype;b.findMatch=function(a){return this.$1.findMentionableString(a)};b.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};b.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name,disableExistingIDs:!0})};return a}();e.exports=a}),null);
__d("AdPageMessageTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"});e.exports=a}),null);
__d("MNAdsLogMessageUtils",["AdPageMessageTypeEnum","MercuryConfig","MessagingTag"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryConfig").LOG_INTERVAL_MS||6e4;a=function(){function a(){this.$1={}}var c=a.prototype;c.isLoggedWithinInterval=function(a){return this.$1[a]&&this.$1[a]-Date.now()<g?!0:!1};c.setLoggingTime=function(a){this.$1[a]=Date.now()};c.logAdsThreadListImpression=function(a){switch(a.folder){case b("MessagingTag").INBOX:this.logWithThreadMetaData(a,"messenger_ads_message_seen_inbox");break;case b("MessagingTag").PENDING:this.logWithThreadMetaData(a,"messenger_ads_message_seen_request");break;default:return}};c.logWithThreadMetaData=function(a,c){if(a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD)return};return a}();c=new a();e.exports=c}),null);
__d("MercuryShareAttachmentSnippet.react",["MercuryShareStyleMap","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(a&&a.factory&&!!a.factory.getSnippetComponent){var c=a.factory.getSnippetComponent();return g.jsx(c,babelHelpers["extends"]({},this.props,{attachment:a.attachment}))}return null};return c}(g.Component);e.exports=a}),null);
__d("MercuryAttachmentSnippet.react",["cx","fbt","ix","EmoticonsList","Image.react","MercuryAttachment","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryIDs","MercuryShareAttachmentSnippet.react","MessengerParticipants.re","MessengerTextWithEmoticons.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j=b("React");function a(a){var c=a.thread;a=a.viewer;var d=c.snippet_sender,e=j.useState(function(){return d!=null?b("MessengerParticipants.re").getNow(d):null}),f=e[0],g=e[1],l=c.snippet_attachments,m=k(d,a);j.useEffect(function(){if(d==null)return;var a=b("MessengerParticipants.re").get(d,function(a){return g(a)});return function(){a&&b("MessengerParticipants.re").removeCallback(a)}},[c,a,f,d]);e=A();a=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(l);switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return n(e);case b("MercuryAttachmentSnippetType").GIF:return p(e);case b("MercuryAttachmentSnippetType").VIDEO:return q(e);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return r(e);case b("MercuryAttachmentSnippetType").LIKE_STICKER:return t(e);case b("MercuryAttachmentSnippetType").STICKER:return u(e);case b("MercuryAttachmentSnippetType").SHARE:return v(e);case b("MercuryAttachmentSnippetType").GIFT:return w(e);case b("MercuryAttachmentSnippetType").FILE:return o(e);case b("MercuryAttachmentSnippetType").ERROR:return z(e);case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return s(e);default:return x(e)}function n(a){return y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").PHOTO,m,a,l))}function o(a){return y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").FILE,m,a,l))}function p(a){return y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIF,m,a,l))}function q(a){return y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").VIDEO,m,a))}function r(a){return y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").AUDIO_CLIP,m,a))}function s(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER,m,a)})}function t(a){var d=j.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,text:b("EmoticonsList").symbols.like});if(m)return j.jsx("span",{children:h._("You: {conversation_snippet}",[h._param("conversation_snippet",d)])});else return c.is_canonical?j.jsx("span",{children:h._("{conversation_snippet}",[h._param("conversation_snippet",d)])}):j.jsx("span",{children:h._("{sender name}: {conversation_snippet}",[h._param("sender name",a),h._param("conversation_snippet",d)])})}function u(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").STICKER,m,a)})}function v(a){return l[0].share?j.jsx(b("MercuryShareAttachmentSnippet.react"),{attachment:l[0].share,senderName:a,isViewerSender:m}):y(b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").SHARE,m,a))}function w(a){return j.jsx("span",{children:b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").GIFT,m,a)})}function x(a){return j.jsx("span",{children:l.filter(function(a){return a.attach_type==="file"||a.attach_type==="photo"||a.attach_type==="video"}).map(function(a,b){return y(a.name,a.icon_type,b)})})}function y(a,c,d){c=b("MercuryAttachment").getAttachIconClass(c||l[0].icon_type);c=b("joinClasses")(c,"uiIconText _3l6h");return j.jsxs("span",{children:[j.jsx("span",{className:c,children:j.jsx(b("Image.react"),{src:i("86988")})}),a]},d)}function z(a){a=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetType").ERROR,m,a);return y(a)}function A(){if(d==null||m)return null;var a=b("MessengerParticipants.re").getNow(d);if(!a)return null;var e=b("MercuryIDs").getUserIDFromParticipantID(d);e=c.custom_nickname&&c.custom_nickname[e];e&&(e=j.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e}));return e?e:a.short_name}}function k(a,c){return!!(a!=null&&b("MercuryIDs").getParticipantIDFromUserID(c)==a)}}),null);
__d("MercuryThreadSnippet.react",["cx","fbt","MercuryAttachmentSnippet.react","MercuryIDs","MessengerTextWithEmoticons.react","MNAdsLogMessageUtils","React","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.shouldRenderYou!==a.shouldRenderYou||this.props.thread!==a.thread||this.props.viewer!==a.viewer||this.props.className!==a.className||!b("immutable").is(a.participants,this.props.participants)};d.render=function(){return i.jsxs("span",{className:this.props.className,children:[this.$1(),this.$2()]})};d.$1=function(){return!this.props.thread.snippet||!l(this.props.thread)?null:i.jsx("span",{className:"_j0r"})};d.$2=function(){var a,c,d=this.props.thread,e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=d.snippet?d.snippet.toString():null,g=this.props.shouldRenderYou;if(d.snippetCount!=null)return h._({"*":"{number} results","_1":"1 result"},[h._plural(d.snippetCount,"number")]);c=(c=d)!=null?(c=c.snippet_attachments)!=null?(c=c[0])!=null?c.share:c:c:c;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;c=(c=c)!=null?c.title:c;if((a==="instant_games_leaderboard_update"||a==="instant_games_custom_update")&&c)return c;a=o(d);if(a&&a.length>0&&a[0].attach_type!=="share"||!d.snippet_sender)return this.$3(f);if(m(d))return i.jsx(b("MercuryAttachmentSnippet.react"),{thread:d,viewer:this.props.viewer});c=this.$3(f);if(d.last_message_admin_text_type!=null||d.last_message_unsendability_status==="deny_tombstone_message")return c;b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);a=n(d);if(a)return h._("{name}: {conversation_snippet}",[h._param("name",a),h._param("conversation_snippet",c)]);if(d.snippet_sender===e)return!g?c:h._("You: {conversation_snippet}",[h._param("conversation_snippet",c)]);if(b("MercuryIDs").isCanonical(d.thread_id)&&!this.props.shouldAlwaysRenderSender)return c;f=this.props.participants.get(d.snippet_sender);if(!f)return c;a=f.short_name||f.name;if(d){e=d.custom_nickname?d.custom_nickname:null;g=b("MercuryIDs").getUserIDFromParticipantID(f.id);e&&g&&e[g]&&(a=i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e[g]}))}return!a?c:h._("{name}: {conversation_snippet}",[h._param("name",a),h._param("conversation_snippet",c)])};d.$3=function(a){if(a&&a.startsWith("?OTR"))return h._("[encrypted message]");var c=this.props.thread;if(l(c))return i.jsx(b("MercuryAttachmentSnippet.react"),{thread:c,viewer:this.props.viewer});if(a)return i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a});return j(c)?k(c):null};return c}(i.Component);e.exports=a;a.propTypes={participants:(c=b("prop-types")).instanceOf(b("immutable").Map).isRequired,shouldAlwaysRenderSender:c.bool,shouldRenderYou:c.bool,thread:c.object.isRequired,viewer:c.string.isRequired};function j(a){var b;a=o(a);if(a.length!==1)return!1;a=a[0];b=(b=a.share)==null?void 0:b.style_list;return a.attach_type==="share"&&b!=null&&(b.includes("video_meetup_link")||b.includes("rooms_speakeasy_xma"))}function k(a){a=o(a);if(a.length!==1)return null;a=a[0].share;return(a==null?void 0:a.title)||(a==null?void 0:a.description)||null}function l(a){a=o(a);return!!(a&&a.length>0&&!(a[0].attach_type==="share"&&(!a[0].share||a[0].share.subattachments.length===0)))}function m(a){var b;a=o(a);return a&&a.length===1&&a[0].attach_type==="share"&&((b=a[0].share)==null?void 0:b.style_list)!=null&&(a[0].share.style_list.indexOf("message_location")>=0||a[0].share.style_list.indexOf("message_live_location")>=0)}function n(a){var b=o(a);return a&&b&&b[0]&&b[0].share&&b[0].share.target&&b[0].share.target.genie_name?b[0].share.target.genie_name:null}function o(a){return(a=a==null?void 0:a.snippet_attachments)!=null?a:[]}}),null);
__d("MercuryThreadTitleReact.bs",["fbt","bs_curry","React","bs_js_dict","bs_caml_obj","MercuryIDs","Badge.react","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","bs_js_null_undefined","MessengerParticipants.bs","MercuryParticipantListRenderer","MessengerTextWithEmoticons.react","WorkUserEmojiWithTooltipBootloader.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MercuryThreadTitleReact");function j(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",String(b))])}function a(a,c,d,e,f,g,k,l,m){var n=f!==void 0?f:!1,o=g!==void 0?g:!1,p=k!==void 0?k:!1,q=l!==void 0?l:!1,r=function(a){if(d.name!=="")return;b("bs_curry")._1(a.send,{_0:""});var c=b("MercuryIDs").getParticipantIDFromUserID(e),f=d.participants.length>1?d.participants.filter(function(a){return a!==c}):d.participants;b("MessengerParticipants.bs").getMulti(f,function(c){if(!a.state.isMounted.contents)return;var e=[];f.forEach(function(a){a=b("bs_js_dict").get(c,a);if(a!==void 0){e.push(b("bs_caml_option").valFromOption(a));return}});var g=b("bs_js_null_undefined").bind(d.custom_nickname,function(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=h.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a[1]})});return c});g=new(b("MercuryParticipantListRenderer"))().setUseShortName(p).setUseAndSeparator(q).setIsNewThread(n).setNickname(g).renderParticipantList(e);g=o&&d.unread_count>0?j(g,d.unread_count):g;return b("bs_curry")._1(a.send,{_0:g})})},s=function(a){a=c!==void 0&&!(c===0||c>=d.name.length)?d.name.slice(0,c)+"...":d.name;a=h.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a});if(d.unread_count===0||!o)return a;else return j(a,d.unread_count)};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:function(a){a.state.isMounted.contents=!0;return r(a)},didUpdate:function(a){a=a.newSelf;if(a.state.retainedThread.contents!==d){a.state.retainedThread.contents=d;return r(a)}},willUnmount:function(a){a.state.isMounted.contents=!1},shouldUpdate:i.shouldUpdate,render:function(c){c=d.name!==""?s(void 0):c.state.participantNames;var e=d.other_user_fbid;e=e==null?void 0:b("bs_caml_option").some(e);e=b("CurrentUser").isWorkUser()&&e!==void 0?h.createElement(b("WorkUserEmojiWithTooltipBootloader.react"),{userID:b("bs_belt_Option").getExn(e),withSpace:!0}):null;var f=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getParticipantIDFromFromThreadID(d.thread_id)),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(a))});f=f!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(f).verification_status),"BLUE_VERIFIED")?h.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null;c={children:[c,e,f,m]};a!==void 0&&(c.className=b("bs_caml_option").valFromOption(a));return h.jsxs("span",c)},initialState:function(a){return{retainedThread:{contents:d},participantNames:"",isMounted:{contents:!1}}},retainedProps:i.retainedProps,reducer:function(a,b){return{TAG:0,_0:{retainedThread:b.retainedThread,participantNames:a._0,isMounted:b.isMounted}}},jsElementWrapped:i.jsElementWrapped}}f.component=i;f.renderTitleWithUnreadCount=j;f.make=a}),null);
__d("MercuryThreadTitleReact.re",["bs_curry","MercuryThreadTitleReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MercuryThreadTitleReact.bs").component,function(a){return b("bs_curry").app(b("MercuryThreadTitleReact.bs").make,[a.className,a.maxTitle,a.thread,a.viewer,a.isNewThread,a.showUnreadCount,a.useShortName,a.useAndSeparator,a.children])});f.component=a;f["default"]=a}),null);
__d("makeMercuryThreadPayload",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={admins:{},approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:!0,cannot_reply_reason:null,can_viewer_report:!1,solid_color:null,header_color:null,footer_color:null,game_id:null,gradient_colors:[],group_thread_subtype:0,theme_id:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!0,description:null,ephemeral_ttl_mode:0,folder:"inbox",has_email_participant:!1,has_montage:!1,image_src:null,square_image_src:null,is_archived:!1,is_business_page_active:!1,is_canonical_user:!1,is_canonical:!1,is_from_weak_entry_point:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,is_pinned:!1,is_pin_protected:!1,is_subscribed:!0,is_thread_queue_enabled:!0,joinable_link:null,joinable_mode:{link:"",mode:0},last_message_id:null,last_message_timestamp:0,last_message_type:null,last_read_timestamp:0,linked_mentorship_programs:null,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,message_count:0,mute_until:null,name:"",object_association_type:null,other_user_fbid:null,page_unsubscribe_status:!1,page_thread_info:null,participant_add_mode:null,participants:[],participants_event_status:null,pinned_messages:[],reactions_mute_mode:0,read_only:!1,recipients_loadable:!0,rtc_call_data:null,server_timestamp:0,snippet_attachments:[],snippet_sender:null,snippet:null,thread_associated_job_applications:null,thread_associated_page_admin:null,thread_connectivity_data:null,thread_fbid:null,thread_id:"",thread_pin_timestamp:null,thread_type:0,thread_unsendability_status:null,timestamp:0,unread_count:0,comm_status:null,comm_source_id:null,page_comm_item_id:null,subtitle:null,comm_item_owners:null,comm_icon_type:[],composer_input_disabled:!1,is_other_recipient_page:!1,is_canonical_neo_user:!1,group_approval_queue:null,admin_model_status:null,groups_sync_status:null,work_associated_group:null,graphql_token:null,conversion_detection_data:{is_eligible:!1,conversion_type:"",currency_code:null,currency_amount:0,timestamp:0,classifier:null,page_reply:null,icebreaker_key:null,icebreaker_message:null},suggested_reply_data:{suggestion_type:null,suggestion_content:null,triggered_timestamp:null}};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}}),null);
__d("MercuryThreadTitleSafe.react",["MercuryThreadTitleReact.re","React","makeMercuryThreadPayload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.thread;a=babelHelpers.objectWithoutPropertiesLoose(a,["thread"]);a=babelHelpers["extends"]({},a,{thread:b("makeMercuryThreadPayload")(c)});return g.jsx(b("MercuryThreadTitleReact.re").component,babelHelpers["extends"]({},a))}}),null);
__d("MessengerBusinessCallToActionUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.convertCTATypeToInt=function(a){switch(a){case"OPEN_NATIVE":return 1;case"OPEN_URL":return 2;case"POSTBACK":return 4;case"ACCOUNT_LINK":return 5;case"SHARE":return 7;case"PAYMENT":return 8;case"FACEBOOK_REPORT_A_PROBLEM":return 9;case"NAVIGATION":return 11;case"EXTENSIBLE_SHARE":return 12;case"OPEN_PAGE_ABOUT":return 14;case"OPEN_BRANDED_CAMERA":return 15;case"OPEN_THREAD":return 16;case"OPEN_MARKETPLACE_PROFILE_REPORT":return 17;case"OPEN_DIRECT_SEND_VIEW":return 18;case"BOOKING":return 19;case"BOOKING_ADD_TO_CALENDAR":return 20;case"ACCOUNT_UNLINK":return 21;case"SUBSCRIPTION_PRESELECT":return 10;case"OPEN_REACT_NATIVE_MINI_APP":return 13;case"OPEN_CANCEL_RIDE_MUTATION":return 3;case"MANAGE_MESSAGES":return 6;default:return-1}};return a}();b=new a();e.exports=b}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscription",["RelayFBEnvironment","RelayModern","MessengerBusinessPersistentMenuUpdateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;var g,h=g!==void 0?g:g=b("MessengerBusinessPersistentMenuUpdateSubscription.graphql");function a(a,c){a={input:{page_id:a}};return b("RelayModern").requestSubscription(b("RelayFBEnvironment"),{subscription:h,variables:a,updater:c})}}),null);
__d("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react",["invariant","MessengerBusinessCallToActionUtils","MessengerBusinessPersistentMenuUpdateSubscription","React","RelayFBEnvironment","RelayModern","promiseDone","MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("React");var i=h!==void 0?h:h=b("MessengerBusinessPersistentMenuUpdateSubscriptionHandlerCustomUserSettingGKQuery.graphql");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(b("RelayModern").fetchQuery(b("RelayFBEnvironment"),i,{pageID:this.props.pageID}),function(c){c.node.gk_check.passes_gk&&(a.$1=b("MessengerBusinessPersistentMenuUpdateSubscription").subscribe(a.props.pageID,function(c){c=c.getRootField("messenger_business_persistent_menu_update_subscribe");if(c==null)return;c=c.getLinkedRecords("menu_items");if(c==null)return;c=c.filter(Boolean).map(function(c){var d=c.getValue("action_link");d===null||typeof d==="string"||g(0,19527);var e=c.getValue("action_type");typeof e==="string"||g(0,19528);var f=c.getValue("id");f===null||typeof f==="string"||g(0,18995);var h=c.getValue("is_disabled");typeof h==="boolean"||g(0,19525);var i=c.getValue("is_mutable_by_server");typeof i==="boolean"||g(0,19532);var j=c.getValue("logging_token");j===null||typeof j==="string"||g(0,19534);var k=c.getValue("page_id");typeof k==="string"||g(0,19535);var l=c.getValue("title");l===null||typeof l==="string"||g(0,1815);return{action_link:d,action_type:b("MessengerBusinessCallToActionUtils").convertCTATypeToInt(e),id:f,is_disabled:h,is_mutable_by_server:i,logging_token:j,page_id:k,title:l,webview_metadata:a.$2(c)}});a.props.onUpdate(c)}))})};d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.render=function(){return null};d.$2=function(a){if(!a)return{fallback_url:null,webview_height_ratio:null,messenger_extensions:!1};var b=a.getValue("fallback_url");b===null||typeof b==="string"||g(0,19538);var c=a.getValue("webview_height_ratio");c===null||typeof c==="number"||g(0,19539);a=a.getValue("messenger_extensions");typeof a==="boolean"||g(0,19543);return{fallback_url:b,webview_height_ratio:c,messenger_extensions:a}};return c}(a.Component);e.exports=c}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));d=c;e.exports=d}),null);
__d("MessengerBotMenuButton.react",["AutoFocusableLink.react","BootloadOnRender.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react","MessengerContextualDialog.react","MessengerEnvironment","React","XUIContextualDialog.react","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=302,i=280;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={flyoutOpen:!!d.props.clicked,isLoading:!1,menuItems:null},d.$3=function(){d.setState({flyoutOpen:!1})},d.$8=function(){d.state.flyoutOpen&&d.$3()},d.$5=function(){d.$1=d.state.flyoutOpen},d.$4=function(a){a.stopPropagation();if(d.state.flyoutOpen||d.$1)return;d.state.menuItems===null&&(d.setState({isLoading:!0}),d.$2());d.setState({flyoutOpen:!d.state.flyoutOpen})},d.$7=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(d.props.pageID,a),d.setState({menuItems:a,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.flyoutOpen&&this.state.menuItems===null&&(this.setState({isLoading:!0}),this.$2())};d.componentDidMount=function(){new(b("MessengerBotsWebTypedLogger"))().setEvent("bot_composer_menu_icon_displayed").setPageID(this.props.pageID).log()};d.componentWillUnmount=function(){this.state.flyoutOpen&&this.$3()};d.render=function(){return g.jsxs("span",{children:[g.jsx(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:this.props.className,href:"#",onClick:this.$4,onMouseDown:this.$5,role:"button",ref:"link"}),this.$6(),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:this.props.pageID,onUpdate:this.$7})]})};d.$6=function(){var a=this;if(!this.state.flyoutOpen)return null;var c=b("MessengerEnvironment").messengerui,d=c?h:i;c=c?b("MessengerContextualDialog.react"):b("XUIContextualDialog.react");return g.createElement(c,babelHelpers["extends"]({alignment:this.props.flyoutAlignment,width:d,position:"above",contextRef:function(){return a.refs.link},onBeforeHide:this.$8,onBlur:this.$3,shown:this.state.flyoutOpen},this.props,{key:"contextualDialog"}),g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{onEscKeyDown:this.$3,shown:this.state.flyoutOpen,isLoading:this.state.isLoading,menuItems:this.state.menuItems,pageID:this.props.pageID,threadID:this.props.threadID,onClick:this.$3}),loader:b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButton.react"),placeholder:g.jsx(b("ChatFlyoutPlaceholder.react"),{})}))};d.$2=function(){var a=this;b("MessengerBotMenuDataFetcher").getMenuItems(this.props.pageID,function(b){a.setState({menuItems:b,isLoading:!1})},function(){a.setState({menuItems:[],isLoading:!1})})};return c}(g.Component);e.exports=a;a.propTypes={autoFocus:(c=b("prop-types")).bool,className:c.string,clicked:c.bool,flyoutAlignment:c.string.isRequired,threadID:c.string.isRequired,pageID:c.string.isRequired}}),null);
__d("MessengerUserInputAppDispatcher",["ExplicitRegistrationDispatcher","objectValues"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var d=c.prototype;d.explicitlyRegisterStoresInMap=function(a){this.explicitlyRegisterStores(b("objectValues")(a))};return c}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("MessengerComposerInputStore",["FluxStore","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerUserInputAppDispatcher"))||this;c.$MessengerComposerInputStore1={isUserInputRequested:!1,requestNumResults:g,requestType:null};return c}var d=c.prototype;d.getState=function(){return this.$MessengerComposerInputStore1};d.__onDispatch=function(a){var b=a.type;a=a.data;switch(b){case"UPDATE_USER_INPUT_REQUESTED":this.$MessengerComposerInputStore1={isUserInputRequested:a.isUserInputRequested,requestNumResults:a.requestNumResults,requestType:a.requestType};this.__emitChange();break}};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("MessengerDomIDs.bs",["uniqueID"],(function(a,b,c,d,e,f){"use strict";c={COMPOSER_INPUT_DESCRIPTION:(a=b("uniqueID"))(),CONVERSATION:a(),MAIN_LABEL:a(),MUTE_DIALOG_TITLE:a(),THREAD_INFO_PANEL:a(),THREAD_TITLE:a()};f.ids=c}),null);
__d("MessengerEmojiSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","React","cssURL","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.SMALL);a=a?a:"";return h.jsx("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey,children:h.jsx("span",{className:"_7464",children:this.props.children})})};return c}(h.PureComponent);e.exports=a;a.propTypes={children:(c=b("prop-types")).arrayOf(c.object),contentState:c.object.isRequired,entityKey:c.string,offsetKey:c.string}}),null);
__d("MessengerEmoticonSpan.react",["cx","EmojiLikeConstants","EmoticonEmojiList","MessengerSupportedEmojiUtils","React","cssURL","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("EmoticonEmojiList").emote2emojis[a];a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.XSMALL);a=a?a:"";return h.jsx("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey,children:h.jsx("span",{className:"_7464",children:this.props.children})})};return c}(h.PureComponent);e.exports=a;a.propTypes={children:(c=b("prop-types")).arrayOf(c.object),contentState:c.object.isRequired,entityKey:c.string,offsetKey:c.string}}),null);
__d("MessengerMentionSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({REPLY:"reply",ATSIGN:"@",TYPEAHEAD:"typeahead"});b=a;e.exports=b}),null);
__d("MessengerMentionsEntityDecorator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{className:"_fy2",children:this.props.children})};return b}(h.PureComponent);e.exports=a}),null);
__d("TypeaheadViewPropTypes",["prop-types"],(function(a,b,c,d,e,f){"use strict";c={controlleeID:(a=b("prop-types")).string,highlightedEntry:a.object,entries:a.array.isRequired,onSelect:a.func.isRequired,onHighlight:a.func,onRenderHighlight:a.func,role:a.string,scrolled:a.bool};e.exports=c}),null);
__d("MessengerSingleSectionContactList.react",["cx","MessengerContactAdapters","MessengerContactList.react","MessengerTypeaheadUtils","React","TypeaheadViewPropTypes","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.entries;a=a.viewProps;var d=(c.length?"":"_599s")+" _29hl _8i1 _11_d _4p-s";return h.jsx(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,d,a.className),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:!0,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:b("MessengerTypeaheadUtils").buildSingleSection(c),onRenderHighlight:this.props.onRenderHighlight,onHighlight:this.props.onHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,viewer:a.viewer})};return c}(h.PureComponent);e.exports=a;a.propTypes=b("TypeaheadViewPropTypes");a.defaultProps={role:"listbox"}}),null);
__d("MessengerURLUploader",["Event","MessengerActions","SubscriptionsHandler","URLMatcher","debounce","requireCond","cr:988286"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){var e=this;this.handleInputValueChange=function(a){a=e.$1();a=b("URLMatcher").match(a)||(b("cr:988286")!=null?b("cr:988286").matchTaskNumber(a)||b("cr:988286").matchDiffNumber(a):null);a&&(e.$3!==a&&(e.$3=a,b("MessengerActions").loadingPreview(e.$5,a)))};this.$1=a;this.$4=new(b("SubscriptionsHandler"))();this.$5=d;this.$2=b("debounce")(this.handleInputValueChange,200);this.initInput(c)}var c=a.prototype;c.getMatchedURL=function(){return this.$3};c.initInput=function(a){this.$4.addSubscriptions(b("Event").listen(a,"keyup",this.$2),b("Event").listen(a,"paste",this.$2))};c.setThreadID=function(a){this.$5=a};c.clearShareData=function(){this.$3=null};return a}();e.exports=a}),null);
__d("MessengerUploadFilesUtil.bs",["bs_curry","FantaTypeFileUploader"],(function(a,b,c,d,e,f){"use strict";e=(d={},d[(e=b("FantaTypeFileUploader")).fileTypes.ANIMATED_IMAGE]="gif_ids",d[e.fileTypes.AUDIO]="audio_ids",d[e.fileTypes.FILE]="file_ids",d[e.fileTypes.GENERIC_ATTACHMENT]="generic_attachment_ids",d[e.fileTypes.IMAGE]="image_ids",d[e.fileTypes.VIDEO]="video_ids",d);function a(a,b){if(a==null)return null;a=a.getTypeIDs(b);if(a.length>0)return a;else return null}function g(a){if(a==null)return;a=a.get("uploadedFiles");var b=[],c=[];a.forEach(function(a,d,e){d=a.file;d.type.startsWith("image/")?b.push(d):c.push(d)});return{photos:b,otherFiles:c}}function h(a,c){if(c.length>0)return b("bs_curry")._1(a,c)}function c(a,b){if(a==null)return;if(b==null)return;a=g(a);if(a!==void 0){h(b,a.photos);a.otherFiles.forEach(function(a){return h(b,[a])});return}}f.supportAttachments=e;f.getAttachmentIDs=a;f.getAttachments=g;f.sendAttchment=h;f.sendAttchments=c}),null);
__d("MessengerUserInputUtils",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a.createEntity("AUTOCOMPLETE","MUTABLE",{mid:b.getUniqueID()})}}),null);
__d("WorkGalahadChatPrefillMessageEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();e.exports=a}),null);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;e.exports=d}),null);
__d("AtSignAllowEmptyMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";f="(?:\\.[ |$]| |["+a+"]|)";var g=new RegExp("(?:^|\\s|[(\\/])(["+c+"]((?:"+d+f+"){0,20}))$");b={name:"AtSignAllowEmptyMentionsStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){var b=a[2];return{matchingString:b,leadOffset:a[1].length}}return null}};a=b;e.exports=a}),null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=1;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+a+",})$)");c={name:"CapitalizedNameMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};d=c;e.exports=d}),null);
__d("CompositeSearchSource",["Promise","AbstractSearchSource","memoizeWithArgsWeak","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(a,b){var d;d=c.call(this)||this;d.$CompositeSearchSource1=a;d.$CompositeSearchSource2=(a=b)!=null?a:Object.freeze({});return d}var d=a.prototype;d.bootstrapImpl=function(a){var c=this.$CompositeSearchSource1.map(function(a){return new(b("Promise"))(function(b){return a.bootstrap(b)})});b("promiseDone")(b("Promise").all(c),a)};d.getBootstrappedEntries=function(a){var c=this,d=this.$CompositeSearchSource1.map(function(a){return new(b("Promise"))(function(b){(!a.getBootstrappedEntries||!a.getBootstrappedEntries(b))&&(c.$CompositeSearchSource2.searchResultsWhenNoBootstrappedEntries===!0?a.search("",b):b([]))})});return b("Promise").all(d).then(function(b){a(c.$CompositeSearchSource3(b))})};d.searchImpl=function(a,b,c){var d=this,e=this.sourceInfo(a),f=e.map(function(a){return[]}),g=e.map(function(a){return void 0}),h=function(){};e.forEach(function(b,d){var e=b.source,i=b.substituteQueryString,j=b.entryMapper;b=b.substituteOptions;e.search(i===void 0?a:i,function(b,a,c){f[d]=j?b.map(j):b,g[d]=c,h()},b||c)});h=function(){var e=d.$CompositeSearchSource3(f),h=d.$CompositeSearchSource4(g);if(c&&c.skipCallbackOnEmptyResults&&e.length==0&&h!="COMPLETE")return;if(!d.$CompositeSearchSource5(f,g))return;b(e,a,h)};h()};d.$CompositeSearchSource5=function(a,b){if(this.$CompositeSearchSource2.allowClownyReflow===!0)return!0;b=b.findIndex(function(a){return a==="ACTIVE"});if(b!==-1)for(var b=b+1;b<a.length;b++)if(a[b].length>0)return!1;return!0};d.sourceInfo=function(a){return this.$CompositeSearchSource1.map(function(a){return{source:a}})};d.$CompositeSearchSource3=function(a){var b=[],c=new Set();a.forEach(function(a){a.forEach(function(a){var d=a.getUniqueID();c.has(d)||(c.add(d),b.push(a))})});return b};d.$CompositeSearchSource4=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c==="ACTIVE")return"ACTIVE";else if(c!=="COMPLETE")return void 0}return"COMPLETE"};return a}(b("AbstractSearchSource"));e.exports=g;g.createMemoized=b("memoizeWithArgsWeak")(function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return new g(b)})}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$FilteredSearchSource1=b;d.$FilteredSearchSource2=c;return d}var c=b.prototype;c.bootstrapImpl=function(a){this.$FilteredSearchSource2.bootstrap(a)};c.searchImpl=function(a,b,c){var d=this,e=function(a,c){a=d.$FilteredSearchSource3(a,c),b(a,c)};this.$FilteredSearchSource2.search(a,e,c)};c.$FilteredSearchSource3=function(a,b){var c=this.$FilteredSearchSource1;return a.filter(function(a){return c(a,b)})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("FourLetterMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";f.findMentionableString=a;c=3;d="\\b[a-z][^\\s"+b("DocumentMentionsRegex").PUNCTUATION+"]";var g=new RegExp("(^|[^#])((?:"+d+"{"+c+",})$)");e="FourLetterMentionsStrategy";f.name=e;function a(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}}),null);
__d("StaticSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","TokenizeUtil"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;e===void 0&&(e=!0);f===void 0&&(f=!0);g=a.call(this)||this;g.$StaticSearchSource2=c;g.$StaticSearchSource3=e;g.$StaticSearchSource4=f;g.$StaticSearchSource1=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:d});g.$StaticSearchSource1.addLocalEntries(g.$StaticSearchSource2);return g}var d=c.prototype;d.searchImpl=function(a,b,c){!a?b(this.$StaticSearchSource4?this.$StaticSearchSource2:[],a):(this.$StaticSearchSource3&&this.$StaticSearchSource1.setQueryStringAsExhausted(a),this.$StaticSearchSource1.search(a,b))};d.getSearchableEntries=function(){return this.$StaticSearchSource2};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchableEntry","SearchSourceCallbackManager","SearchSourceQueryStatus","TokenizeUtil","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f){var g=b("SearchSourceQueryStatus").ACTIVE,h=b("SearchSourceQueryStatus").COMPLETE;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f,g;g=a.call(this)||this;g.$AbstractAsyncSearchSource1=c.asyncErrorHandler||b("emptyFunction");g.$AbstractAsyncSearchSource2=c.auxiliaryFields;g.$AbstractAsyncSearchSource4=c.bootstrapRequests;g.$AbstractAsyncSearchSource7=c.getAllForEmptyQuery;g.$AbstractAsyncSearchSource8=c.getAllForBootstrapPrefix;g.$AbstractAsyncSearchSource9=c.bootstrapPrefix;g.$AbstractAsyncSearchSource11=c.packageFn||g.$AbstractAsyncSearchSource15;g.$AbstractAsyncSearchSource12=c.queryRequests;g.$AbstractAsyncSearchSource13=c.requestData||{};g.$AbstractAsyncSearchSource6=(f=c.entryModifier_USE_SPARINGLY)!=null?f:b("emptyFunction").thatReturnsArgument;g.$AbstractAsyncSearchSource3=[];g.$AbstractAsyncSearchSource5=new(b("SearchSourceCallbackManager"))({parseFn:(f=c.parseFn)!=null?f:b("TokenizeUtil").parse,matchFn:c.matchFn||b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,exclusions:c.exclusions});g.$AbstractAsyncSearchSource14=d;g.$AbstractAsyncSearchSource10=e;return g}var d=c.prototype;d.bootstrapImpl=function(a){var b=this,c=a;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){c();return}var d=this.$AbstractAsyncSearchSource4.length,e=0;this.$AbstractAsyncSearchSource4.forEach(function(a){b.$AbstractAsyncSearchSource16(b.$AbstractAsyncSearchSource13,a,function(a){a=a.map(function(a){return b.$AbstractAsyncSearchSource6(a)});b.$AbstractAsyncSearchSource5.addLocalEntries(a);b.$AbstractAsyncSearchSource3=b.$AbstractAsyncSearchSource3.concat(a);e++;c&&e===d&&(c(),c=null)})})};d.searchImpl=function(a,c,d){var e=this,f=this.$AbstractAsyncSearchSource9;if(this.$AbstractAsyncSearchSource7&&a===""||this.$AbstractAsyncSearchSource8&&a&&f&&a.trim().toLowerCase()===f.trim().toLowerCase()){this.getBootstrappedEntries(function(d){d=d.map(function(a){return e.$AbstractAsyncSearchSource6(a)});c(d,a,b("SearchSourceQueryStatus").COMPLETE)});return}var i=[],j={};f=this.$AbstractAsyncSearchSource5.search(a,function(b,a,f){if(d&&d.waitForAllResults&&f!==h)return;i.length===0?(i=b,i.forEach(function(a,b){j[a.getUniqueID()]=b})):b.forEach(function(a){a=e.$AbstractAsyncSearchSource6(a);var b=a.getUniqueID();if(!Object.prototype.hasOwnProperty.call(j,b)){var c=i.length;i.push(a);j[b]=c}else{c=j[b];c<i.length&&(i[c]=a)}});c(i,a,f)});if(!f||!this.$AbstractAsyncSearchSource12||!this.$AbstractAsyncSearchSource12.length)return;var k=babelHelpers["extends"]({value:a,existing_ids:d&&d.disableExistingIDs?"":i&&i.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource13),l=this.$AbstractAsyncSearchSource12.length;this.$AbstractAsyncSearchSource12.forEach(function(b){e.$AbstractAsyncSearchSource16(k,b,function(b){l--;b=Array.from(b.reduce(function(a,b){b=e.$AbstractAsyncSearchSource6(b);var c=b.getUniqueID();if(a.has(c)){var d=a.get(c);d!=null&&b.getOrder()<d.getOrder()&&a.set(c,b)}else a.set(c,b);return a},new Map()).values());e.$AbstractAsyncSearchSource17(b,a,l?g:h)})})};d.getBootstrappedEntries=function(a){var b=this;return this.bootstrap(function(){return a(b.$AbstractAsyncSearchSource3||[])})};d.getAllEntriesMap=function(){return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};d.setRequestData=function(a){this.$AbstractAsyncSearchSource13=a};d.getRequestData=function(){return this.$AbstractAsyncSearchSource13};d.setPackageResult=function(a){this.$AbstractAsyncSearchSource11=a};d.getCallbackManager=function(){return this.$AbstractAsyncSearchSource5};d.$AbstractAsyncSearchSource16=function(a,b,c){var d=this;this.$AbstractAsyncSearchSource14(a,b,function(a){return c(d.$AbstractAsyncSearchSource10(a,d.$AbstractAsyncSearchSource11).filter(Boolean))},this.$AbstractAsyncSearchSource1)};d.$AbstractAsyncSearchSource17=function(a,b,c){this.$AbstractAsyncSearchSource5.addQueryEntries(a,b,c)};d.$AbstractAsyncSearchSource15=function(a,c){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!b("isValidUniqueID")(e)?null:new(b("SearchableEntry"))({uniqueID:e,order:a.order||a.index||c,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource18(a)})};d.$AbstractAsyncSearchSource18=function(a){var b;if(this.$AbstractAsyncSearchSource2){b={};for(var c in this.$AbstractAsyncSearchSource2){var d=this.$AbstractAsyncSearchSource2[c];b[c]=a[d]}}d=a.aux_data||a.auxiliaryData;d&&(b=babelHelpers["extends"]({},b,d));return b};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("WebAsyncSearchSourceUtils",[],(function(a,b,c,d,e,f){f.normalizeResponse=a;function a(a,b){a=a.getPayload();var c;Array.isArray(a)?c=a:a&&a.entries?c=a.entries:c=[];typeof c==="object"&&!Array.isArray(c)&&(c=Object.keys(c).map(function(a){return c[a]}));return c.map(b,this)}}),null);
__d("WebAsyncSearchSource",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","WebAsyncSearchSourceUtils"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$WebAsyncSearchSource1=new(b("AbstractAsyncSearchSource"))(c,d.$WebAsyncSearchSource2,b("WebAsyncSearchSourceUtils").normalizeResponse);return d}var d=c.prototype;d.bootstrapImpl=function(a){this.$WebAsyncSearchSource1.bootstrap(a)};d.searchImpl=function(a,b,c){this.$WebAsyncSearchSource1.search(a,b,c)};d.getBootstrappedEntries=function(a){return this.$WebAsyncSearchSource1.getBootstrappedEntries(a)};d.getAllEntriesMap=function(){return this.$WebAsyncSearchSource1.getAllEntriesMap()};d.setRequestData=function(a){this.$WebAsyncSearchSource1.setRequestData(a)};d.getRequestData=function(){return this.$WebAsyncSearchSource1.getRequestData()};d.reset=function(){this.$WebAsyncSearchSource1.getCallbackManager().reset()};d.$WebAsyncSearchSource2=function(a,c,d,e){new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(e).send()};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("XWorkChatMentionBotTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/chat/bot_typeahead/",{value:{type:"String",defaultValue:""},thread_id:{type:"FBID",required:!0}})}),null);
__d("filterCapitalizedNames",["TokenizeUtil","gkx"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d){d===void 0&&(d="");var e=a.getAuxiliaryData()||g;if(e.disableAutosuggest)return!1;if(a.getType()==="user")if(b("gkx")("846032"))return c.length>=3&&a.getTitle().startsWith(d+c)||c==b("TokenizeUtil").tokenize(a.getTitle())[0];else return c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle());else if(a.getType()==="page")return e.connectedPage&&(c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle()));else return!1}var g={}}),null);
__d("createMentionsSearchSourceFromParticipants",["fbt","ix","AtSignAllowEmptyMentionsStrategy","CapitalizedNameMentionsStrategy","CompositeSearchSource","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","FourLetterMentionsStrategy","LogHistory","MercuryIDs","SearchableEntry","StaticSearchSource","WebAsyncSearchSource","XWorkChatMentionBotTypeaheadController","filterCapitalizedNames","gkx","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("LogHistory").getInstance("messenger_mentions"),j=h("91674").uri;function a(a,c,d,e){if(!a||!c)return null;var f=[],g=[],h=c.length>2;(h||b("gkx")("1101638"))&&(f=c.reduce(function(c,e){if(!e||e.fbid===a)return c;var f=d&&d.custom_nickname&&d.custom_nickname[e.fbid]?d.custom_nickname[e.fbid]:"";c.push(new(b("SearchableEntry"))({uniqueID:e.fbid,type:"user",title:"@"+e.name,subtitle:f,photo:e.image_src,keywordString:f,auxiliaryData:{workForeignEntityInfo:e.work_foreign_entity_info}}));return c},[]),g=[].concat(f),h&&e&&d&&d.thread_fbid&&(f.push(l(d.thread_fbid)),f.push(m(d.thread_fbid))));h=new(b("StaticSearchSource"))(f);e=new(b("StaticSearchSource"))(g);b("gkx")("846032")&&(e=new(b("FilteredSearchSource"))(k("@"),e));f=h;b("gkx")("1497099")&&d&&(f=new(b("CompositeSearchSource"))([h,new(b("WebAsyncSearchSource"))({queryRequests:[{uri:b("XWorkChatMentionBotTypeaheadController").getURIBuilder().setFBID("thread_id",b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id)).getURI()}]})]));g=[new(b("DocumentMentionsSource"))(b("AtSignAllowEmptyMentionsStrategy"),f),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),e),new(b("DocumentMentionsSource"))(b("FourLetterMentionsStrategy"),e)];i.debug("constructed_search_source",JSON.stringify({participants:c.map(function(a){return a&&a.fbid})}));return new(b("DocumentCompositeMentionsSource"))(g)}function k(a){return function(c,d){return b("filterCapitalizedNames")(c,d,a)}}function l(a){var c=g._("everyone").toString(),d=g._("Mention everyone in this chat").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a),subtitle:d})}function m(a){var c=g._("here").toString(),d=g._("Mention everyone in this chat who is active").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a)+"-active",subtitle:d})}}),null);
__d("createMessengerMentionDraftEntity",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a.createEntity("MENTION","SEGMENTED",{mid:b.getUniqueID()})}}),null);
__d("createMessengerMentionTypeaheadDraftEntity",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a.createEntity("ASSISTANT_TYPEAHEAD","SEGMENTED",{mid:b.getUniqueID()})}}),null);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){e.exports=a;function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}}),null);
__d("getProfileRangesForContentState",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("emptyFunction").thatReturnsTrue;function a(a,b){var c=[],d=0;a.getBlockMap().forEach(function(e){var f=e.getText();e.findEntityRanges(g,function(f,g){var h=e.getEntityAt(f);if(h){h=a.getEntity(h);if(h.getType()==="MENTION"){var i=f+d;h=h.getData().mid;var j=null;b&&h===b?j="t":b&&h===b+"-active"?(h=b,j="a"):/^\d+$/.test(h)&&(j="p");j!==null&&c.push({id:h,offset:i,length:g-f,type:j})}}});d+=f.length+1});return c}}),null);
__d("getVisibleValueForContentStateWithMessengerEmoji",["EmojiFormat.bs","emptyFunction"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.getBlockMap().map(function(c){var d=c.getText(),e="";c.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,g){var h=c.getEntityAt(f);if(!h)e+=d.slice(f,g);else{h=a.getEntity(h);if(h.getType()==="EMOTICON")e+=h.getData().originalEmoticon;else if(h.getType()==="EMOJI"){h=h.getData().type;h=b("EmojiFormat.bs").codeStringToCodeArray(h);e+=String.fromCodePoint.apply(String,h)}else e+=d.slice(f,g)}});return e});return c.join("\n")}}),null);
__d("insertMessengerEmojiIntoContentState",["DraftModifier","EmojiFormat.bs"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f=c.createEntity("EMOJI","IMMUTABLE",{type:a});f=f.getLastCreatedEntityKey();var g=d.isCollapsed();if(g)return b("DraftModifier").insertText(c,d,b("EmojiFormat.bs").codeStringToUnicode(a),e,f);else return b("DraftModifier").replaceText(c,d,b("EmojiFormat.bs").codeStringToUnicode(a),e,f)}}),null);
__d("handleBeforeInputForMessengerEmoji",["EditorState","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c)return a;c=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(c);if(!c||!c.is_supported)return a;c=b("insertMessengerEmojiIntoContentState")(c.emoji_key,a.getCurrentContent(),d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-characters")}}),null);
__d("applyMessengerEmoticonToContentBlock",["CharacterMetadata","EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){if(!b("EmoticonEmojiList").names[d])return c;var f=c.getCharacterList(),g=a.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonEmojiList").names[d],originalEmoticon:d}).getLastCreatedEntityKey();return c.merge({characterList:f.slice(0,e).concat(f.slice(e,e+d.length).map(function(a){return b("CharacterMetadata").applyEntity(a,g)}),f.slice(e+d.length))})}}),null);
__d("getTextAfterNearestEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b;while(c>0&&a.getEntityAt(c-1)===null)c--;return a.getText().slice(c,b)}e.exports=a}),null);
__d("applyMessengerEmoticonToContentState",["EmoticonEmojiList","applyMessengerEmoticonToContentBlock","getTextAfterNearestEntity"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d=c.getAnchorKey(),e=c.getAnchorOffset(),f=a.getBlockForKey(d),g=b("getTextAfterNearestEntity")(f,e),h=b("EmoticonEmojiList").regexp.exec(g);if(!h)return a;var i=h[1];if(!i&&e!==g.length)return a;i=h[2];g=e-g.length;g=g+h.index+h[1].length;h=a.getBlockMap().set(d,b("applyMessengerEmoticonToContentBlock")(a,f,i,g));return a.merge({blockMap:h,selectionBefore:c,selectionAfter:c.merge({anchorOffset:e,focusOffset:e})})}}),null);
__d("handleBeforeInputForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new RegExp(/[\s\'\".,!?]/);function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c||!g.test(c))return a;var e=a.getCurrentContent();d=b("applyMessengerEmoticonToContentState")(e,d);if(d===e)return a;e=b("DraftModifier").insertText(d,d.getSelectionAfter(),c);return b("EditorState").push(a,e,"insert-characters")}}),null);
__d("handleSoftNewlineForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.getCurrentContent(),d=a.getSelection(),e=b("applyMessengerEmoticonToContentState")(c,d);c=b("DraftModifier").splitBlock(e,c===e?d:e.getSelectionAfter());return b("EditorState").push(a,c,"split-block")}}),null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","EmoticonsList","immutable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("immutable").List,h="\u3000";function a(a,c,d,e){if(!b("EmoticonsList").emotes[c])return a;e=e.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonsList").emotes[c],originalEmoticon:c});e=e.getLastCreatedEntityKey();var f=a.getText(),i=a.getCharacterList();c=c.length;var j=i.get(d);return a.merge({text:f.slice(0,d)+h+f.slice(d+c),characterList:i.slice(0,d).concat(g.of(b("CharacterMetadata").applyEntity(j,e)),i.slice(d+c))})}}),null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){var e=b("DraftModifier").replaceText(c,d,a),f=d.getAnchorKey(),g=d.getAnchorOffset(),h=e.getBlockForKey(f);e=e.getBlockMap().set(f,b("applyEmoticonToContentBlock")(h,a,g,c));g++;return c.merge({blockMap:e,selectionBefore:d,selectionAfter:d.merge({anchorOffset:g,focusOffset:g})})}}),null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=" ";function a(a,c){var d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartOffset(),h=d.getEndOffset(),i=e.getBlockForKey(d.getStartKey()).getText(),j=e.getBlockForKey(d.getEndKey()).getText(),k="";h<=j.length&&j[h]!==g&&(k=g);f>0&&i[f-1]!==g&&(e=b("DraftModifier").insertText(e,d,g),d=e.getSelectionAfter());j=b("insertEmoticonIntoContentState")(a,e,d);e=b("DraftModifier").insertText(j,j.getSelectionAfter(),k);return b("EditorState").push(c,e,"insert-characters")}}),null);
__d("MessengerSourceContext.re",["MessengerSourceContext.bs"],(function(a,b,c,d,e,f){a=b("MessengerSourceContext.bs").context;f.context=a}),null);
__d("withMessengerSource",["MessengerSourceContext.re","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=g.useContext;function a(a,c){var d;c===!0?c=g.forwardRef(function(c,d){var e=h(b("MessengerSourceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{ref:d,source:e}))}):c=function(c){var d=h(b("MessengerSourceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{source:d}))};c.displayName=((d=(d=a.displayName)!=null?d:a.name)!=null?d:"Component")+"WithMessengerSource";return c}}),null);
__d("MessengerComposerInput.react",["cx","fbt","AutocompleteSearchSource","AutocompleteStrategy","Bootloader","CompositeDraftDecorator","ContentState","CurrentUser","DebouncedMentionsTextEditor.react","DocumentCompositeMentionsSource","DocumentMentionsSource","DOMDimensions","DraftModifier","EditorState","EmojiFormat.bs","Event","LogHistory","MentionsLayer.react","MercuryIDs","MercuryThreadIDMap","MercuryThreadSnippet.react","MercuryThreadTitleSafe.react","MercuryTimestamp","MessengerActions","MessengerBotMenuButton.react","MessengerComposerInputStore","MessengerConstants","MessengerDomIDs.bs","MessengerEditorStateManager","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerSingleSectionContactList.react","MessengerTabIndices","MessengerUploadFilesUtil.bs","MessengerURLUploader","MessengerUserInputAppDispatcher","MessengerUserInputUtils","React","ReactDOM","Run","TypingDetectorController","WorkGalahadChatPrefillMessageEventEmitter","WorkGalahadSettings","clearImmediate","createMentionsSearchSourceFromParticipants","createMessengerMentionDraftEntity","createMessengerMentionTypeaheadDraftEntity","debounce","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","gkx","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","immutable","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","joinClasses","nullthrows","prop-types","qex","replaceMentionedTextInEditorState","requireCond","setImmediate","shouldNotRenderSegoe","throttle","withMessengerSource","cr:1008504","cr:1272653","cr:1217281","cr:1217282","cr:1217283"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=1,k=/^image\//,l="handled",m=8,n="not-handled",o=b("LogHistory").getInstance("MessengerComposerInput"),p={};p[b("MessengerConstants").NEW_THREAD_KEY]={version:0,editorState:b("EditorState").createEmpty()};function q(a,c){var d=c.editorState,e=c.version;if(!a||a&&e<p[a].version)return;p[a]=c;a!==b("MessengerConstants").NEW_THREAD_KEY&&b("MessengerEditorStateManager").set(a,d)}function r(a){p[a]||(p[a]={version:0,editorState:b("EditorState").createEmpty()});return p[a]}function s(a,b){if(!a)return null;var c=r(a);c.editorState=b;p[a]=c;return c}function t(a,b){if(a){var c=r(a);c.version+=1;c.editorState=b;q(a,c)}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$11=!1;d.$22=function(a){if(d.$11&&a!==d.state.editorState){d.setState({editorState:a});a=s(d.props.threadID,a);a&&d.$6(d.props.threadID,a);d.props.onResize&&d.props.onResize()}};d.$23=function(a,c){if(b("isSoftNewlineEvent")(a)){a=b("handleSoftNewlineForMessengerEmoticon");a=a(c);d.setState({editorState:a});s(d.props.threadID,a);return l}d.setState({},d.triggerSend);return l};d.getValue=function(){return b("getVisibleValueForContentStateWithMessengerEmoji")(d.state.editorState.getCurrentContent())};d.focus=function(){d.refs.input&&d.refs.input.focus()};d.$33=function(a,b){d.props.onBeforeInput&&d.props.onBeforeInput(a,b);var c=a==". ",e=d.$38(a,b);a=d.$39(a,b);return c||e||a?l:n};d.$14=function(a){a=d.props.handleOnlyImageUploads?a.filter(function(a){return a&&k.test(a.type)}):a;var c=d.$26();if(a.length){b("MessengerActions").prepareFilesForSend(c,a,"Copy");return l}return n};d.$34=function(a,c,e){b("cr:1217283")!=null&&b("cr:1217283")(d.props.threadID,a);return!1};d.$19=function(){var a=d.props.threadID;if(!a)return;q(a,r(a))};d.$20=function(){d.setState(d.$15(!0))};d.triggerSend=function(){d.$24()&&d.$27();if(d.getValue().trim().length>0||d.$40())if(d.props.thread){var a=d.getMentions(d.props.thread.thread_fbid);d.$30(a)}else d.$30();d.$28()};d.$35=function(){var a=(d.state.addedMentionsCount||0)+1;d.setState({addedMentionsCount:a})};d.$36=function(a,c){a=(d.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};d.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===j?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);d.setState(a)};d.$14=d.$14.bind(babelHelpers.assertThisInitialized(d));d.$12=c;d.state=d.$15();d.$7=b("debounce")(function(a){d.$12||(d.$12=a),u(d.props,d.$12)&&d.$16(),d.$12=a},300);d.$8=b("throttle")(function(){if(d.$11){var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).height;d.$1!==a&&(d.props.onResize&&d.props.onResize());d.$1=a}},100);return d}var d=c.prototype;d.$15=function(a){var c;this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?c=r(b("MessengerConstants").NEW_THREAD_KEY).editorState:c=b("MessengerEditorStateManager").get(this.props.threadID);c=this.$17(c,a);a=b("createMessengerMentionDraftEntity");return{editorState:c,mentionCreationForContentStateFn:a}};d.componentDidMount=function(){var a=this;this.$11=!0;var c=b("gkx")("964442");c&&b("MessengerUserInputAppDispatcher").explicitlyRegisterStore(b("MessengerComposerInputStore"));this.$1=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(this)).height;this.$18();b("cr:1217282")==null&&(this.$2=new(b("MessengerURLUploader"))(this.getValue,b("ReactDOM").findDOMNode(this.refs.input),this.props.threadID));this.$4=b("Run").onUnload(this.$19);this.$3=b("Event").listen(window,"blur",this.$19);this.$5=b("Event").listen(window,"focus",this.$20);this.$6=b("debounce")(function(a,b){q(a,b)},1e3);b("CurrentUser").isWorkUser()&&(this.$13=b("WorkGalahadChatPrefillMessageEventEmitter").addListener("prefillMessage",function(b){a.insertPrefill(b)}))};d.componentDidUpdate=function(a,c){this.$10=b("setImmediate")(this.$8);if(c.editorState!==this.state.editorState){this.props.onChange&&this.props.onChange(this.getValue());c=b("gkx")("964442");c&&this.$21(this.getValue())}this.props.threadID!==a.threadID?this.$18():this.$7(a)};d.componentWillUnmount=function(){var a=this.props.threadID;a&&q(a,r(a));this.$11=!1;this.$9&&this.$9.destroy();this.$10&&b("clearImmediate")(this.$10);this.$3&&this.$3.remove();this.$4&&this.$4.remove();this.$5&&this.$5.remove();this.$13&&this.$13.remove()};d.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.$22(a)};d.insertPrefill=function(a){if(this.state.editorState.getCurrentContent().hasText())return;a=b("EditorState").createWithContent(b("ContentState").createFromText(a));a!==this.state.editorState&&this.$22(a)};d.insertLink=function(a){var c=this.state.editorState,d=c.getSelection();d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());c=b("EditorState").push(c,d,"insert-characters");c!==this.state.editorState&&(this.$22(c),b("cr:1217283")!=null&&b("cr:1217283")(this.props.threadID,a))};d.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.$22(b("EditorState").forceSelection(c,a.getSelectionAfter()))};d.$24=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadedFiles").size>0)};d.$18=function(){if(!this.$11)return;this.setState(this.$15(!1));this.$25();this.$2&&(this.$2.setThreadID(this.props.threadID),this.$2.clearShareData());this.$16()};d.$16=function(){if(this.props.mentionsEnabled){var a=this.props,c=a.participants,d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$25=function(){this.$9&&this.$9.destroy();this.$9=null;var a=this.props.viewer;if(!a)return;var c=b("ReactDOM").findDOMNode(this.refs.input);this.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&c&&(this.$9=new(b("TypingDetectorController"))(this.props.thread,b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),c,this.props.source,null,b("MercuryThreadIDMap").getForFBID(a).getServerIDFromClientIDNow(this.props.threadID),this.getValue))};d.$26=function(){var a=this.props,c=a.threadID;a=a.thread;if(!b("MercuryIDs").isValidThreadID(c)){if(a)return a.thread_id;o.debug("Invalid threadID ",c)}return c};d.$21=function(a){if(!this.$11)return;a=b("MessengerComposerInputStore").getState();var c=a.requestNumResults,d=a.requestType;if(a.isUserInputRequested&&c&&d){a=new(b("AutocompleteSearchSource"))(this.getValue(),c,d);c=new(b("DocumentMentionsSource"))(b("AutocompleteStrategy"),a);d=new(b("DocumentCompositeMentionsSource"))([c]);this.setState({isUserInputAutocomplete:!0,mentionCreationForContentStateFn:b("MessengerUserInputUtils"),mentionsSource:d})}else if(this.state.isUserInputAutocomplete){a=this.props;c=a.participants;d=a.viewer;a=a.thread;this.setState({isUserInputAutocomplete:!1,mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:b("createMentionsSearchSourceFromParticipants")(d,c&&c.toArray(),a,b("gkx")("678578"))})}};d.$27=function(){var a=this.props.fileUploader,c=this.$26();a&&(o.debug("Before send files to thread ",c),b("MessengerUploadFilesUtil.bs").sendAttchments(a,this.props.onFileUpload),o.debug("Before clean files for thread ",c),b("MessengerActions").cleanFiles(c))};d.$28=function(){var a=this.props.onMessageSend;a!=null&&b("cr:1217281")!=null&&(this.$29()&&b("nullthrows")(this.props.workChatContentApps).forEach(function(c,d){var e=(d=c.payload)==null?void 0:d.shareData;if(e==null)return;b("setImmediate")(function(){return a("",{shareable_attachment:e})})}),b("cr:1217281").removeAllWorkContentApps(this.props.threadID))};d.$29=function(){var a=this.props.workChatContentApps;return a!=null&&a.size>0};d.$30=function(a){var c=this;if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData(),profile_ranges:a},function(d){b("MessengerActions").removeSharePreview(c.props.threadID);if(d&&c.props.mentionsEnabled&&(a&&a.length||c.state.addedMentionsCount||c.state.mentionsTriggeredCount||c.state.mentionsTriggerSource)){var e=c.state,f=e.addedMentionsCount,g=e.mentionsTriggeredCount,h=e.mentionsTriggerSource;e=c.props;var i=e.thread,j=e.participants,k=d;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(c,d){new c().setEvent(d.MENTION).setGroupSize(j&&j.size).setNumDelivered(a&&a.length||0).setNumSelects(f).setNumTriggers(g).setThreadid(i&&i.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(i&&i.thread_type)).setOfflineThreadid(k.offline_threading_id).updateExtraData({source:h}).log()},"MessengerComposerInput.react")}})){var d=this.$17(b("EditorState").createEmpty());this.$2&&this.$2.clearShareData();this.setState({editorState:d,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null});t(this.props.threadID,d);this.$9&&this.$9.resetState()}};d.getMentions=function(a){return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a)};d.getInput=function(){return this.refs.input};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.thread;c=c.viewer;var f=null;d&&e&&c?f=h._("Conversation with {participantListAsShownInThreadList}. Updated {lastUpdatedTime} by {recentUpdateStringAsShownInThreadList}",[h._param("participantListAsShownInThreadList",this.$31(e,c)),h._param("lastUpdatedTime",b("MercuryTimestamp").getAbsoluteTimestamp(e.timestamp)),h._param("recentUpdateStringAsShownInThreadList",this.$32(d,e,c))]):f=h._("Composing a new message");d=null;this.props.threadID&&this.props.pageID&&(d=i.jsx("div",{ref:"botsMenuContainer",className:"_3km1",children:i.jsx(b("MessengerBotMenuButton.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_3km2"})}));e="";this.props.disableInput?e=h._("Composer is disabled for this thread.").toString():!((c=this.props.thread)==null?void 0:c.is_canonical)||((c=this.props.thread)==null?void 0:c.other_user_fbid)!==b("CurrentUser").getID()&&b("gkx")("1101638")?e=h._("Type a message, \u0040name...").toString():e=h._("Type a message...").toString();c=b("gkx")("678612");var g=b("cr:1008504")!==null&&b("CurrentUser").isWorkUser()?b("cr:1008504"):b("DebouncedMentionsTextEditor.react");return i.jsxs("div",{className:b("joinClasses")("_kmc"+(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")?" _7kpg":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyx":"")+(this.props.smallerEqual640?" _2swd":"")+(b("shouldNotRenderSegoe")(this.state.editorState.getCurrentContent().getPlainText())?" _2por":"")+" navigationFocus",this.props.className),onClick:this.focus,role:"presentation",children:[this.props.showMenu?d:null,i.jsxs("div",{className:b("joinClasses")((b("CurrentUser").isWorkUser()&&!b("gkx")("1072568")?"_3-8x":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7q9o":"")+(this.props.showMenu?" _3km3":"")+(c?"":" _3oh-"),this.props.inputContainerClassName),children:[i.jsx(g,{autoHighlight:!0,ariaControls:b("MessengerDomIDs.bs").ids.CONVERSATION,ariaDescribedBy:b("MessengerDomIDs.bs").ids.COMPOSER_INPUT_DESCRIPTION,ariaLabel:e,editorState:this.state.editorState,handleBeforeInput:this.$33,handleContentReturn:this.$23,handlePastedFiles:this.$14,handlePastedText:this.$34,handleReturn:this.$23,maxResults:m,readOnly:this.props.disableInput,mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionTypeaheadCreationForContentStateFn:b("createMessengerMentionTypeaheadDraftEntity"),mentionResultsComponent:b("MentionsLayer.react"),mentionResultsProps:{typeaheadView:b("MessengerSingleSectionContactList.react"),typeaheadViewProps:{className:"_13iv",viewer:this.props.viewer},position:"above",autoflip:!0},mentionsSource:this.state.mentionsSource,assistantTypeaheadSource:this.state.assistantTypeaheadSource,onChange:this.$22,placeholder:e,ref:"input",spellCheck:!0,stripPastedStyles:!0,tabIndex:this.props.threadID===b("MessengerConstants").NEW_THREAD_KEY?b("MessengerTabIndices").COMPOSER_INPUT:0,textAlignment:"left",threadID:this.$26(),typingPerformanceID:"MessengerComposerInput",onAddMention:this.$35,onShowMentions:this.$36}),this.props.threadID!=null&&b("cr:1217282")!=null?i.jsx(b("cr:1217282"),{threadID:this.props.threadID,workLinks:this.props.workChatContentApps,files:this.props.fileUploader!=null?this.props.fileUploader.get("uploadedFiles"):null}):null,b("cr:1272653")!==null&&(b("qex")._("1269717")||b("gkx")("1325997"))?i.jsx(b("cr:1272653"),{contextRef:function(){return a.refs.input}}):null,i.jsx("div",{className:"_5ca7",id:b("MessengerDomIDs.bs").ids.COMPOSER_INPUT_DESCRIPTION,children:f})]})]})};d.$31=function(a,c){return i.jsx(b("MercuryThreadTitleSafe.react"),{thread:a,viewer:c})};d.$32=function(a,c,d){return i.jsx(b("MercuryThreadSnippet.react"),{participants:a,shouldAlwaysRenderSender:!0,shouldRenderYou:!0,thread:c,viewer:d})};d.$17=function(a,c){var d=this.$37(a);a=b("EditorState").set(a,{decorator:d});return c||this.props.disableAutofocus?a:b("EditorState").moveFocusToEnd(a)};d.$37=function(a){var c=b("MessengerEmoticonSpan.react");a=a.getCurrentContent();c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:c}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};d.$38=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});s(this.props.threadID,a);return!0};d.$39=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});s(this.props.threadID,a);return!0};d.handleTextDropped=function(a){var c=this.state.editorState,d=c.getSelection();if(d.get("hasFocus"))return;d=b("DraftModifier").replaceText(c.getCurrentContent(),d,a,c.getCurrentInlineStyle());a=b("EditorState").push(c,d,"insert-fragment");this.$22(a)};d.getShareData=function(){var a=this.props.sharePreview;return a&&a.type&&a.params?{share_type:a.type,share_params:a.params.get("data")}:null};d.exitCurrentMode=function(){this.refs.input&&this.refs.input.exitCurrentMode()};d.$40=function(){var a=this.props.sharePreview;return!!(a&&a.params&&a.type)};d.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.$22(a);this.$35()};return c}(i.PureComponent);a.propTypes={disableAutofocus:(c=b("prop-types")).bool,fileUploader:c.object,workChatContentApps:c.instanceOf(b("immutable").OrderedMap),handleOnlyImageUploads:c.bool.isRequired,isComposing:c.bool,mentionsEnabled:c.bool,pageID:c.string,participants:c.instanceOf(b("immutable").Map),sharePreview:c.object,showMenu:c.bool,disableInput:c.bool,smallerEqual640:c.bool,thread:c.object,threadID:c.string,viewer:c.string,onBeforeInput:c.func,onChange:c.func,onFileUpload:c.func,onResize:c.func,onMessageSend:c.func};function u(a,b){a=a.participants;b=b.participants;if(!a||!b)return!0;if(a===b)return!1;a=a.filter(Boolean);b=b.filter(Boolean);return a.size!==b.size||!a.equals(b)}d=b("withMessengerSource")(a,!0);e.exports=d}),null);
__d("MessengerComposerPendingActions.react",["Bootloader","CurrentUser","JSResource","MercuryIDs","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerDialogs.bs","MessengerMessageRequestsTypedLogger","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerPendingActions.react").__setRef("MessengerComposerPendingActions.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove()};d.render=function(){var a=this,c=this.props.thread,d=!!c&&b("MessageRequestUtils").isFiltered(c);c=b("CurrentUser").getID();var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,c),f=b("MercuryThreadActions").getForFBID(this.props.viewer);return g.jsx(g.Suspense,{fallback:g.jsx("div",{style:{height:51}}),children:g.jsx(h,{folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){f.changeFolder(a.props.threadID,b("MessagingTag").INBOX),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType(d?"other":"pending").setThreadKey(e).setEntryPoint(null).log()},onDeclineClick:function(){var c=b("MercuryIDs").isGroupChat(a.props.threadID);a.$1=b("Bootloader").loadModules(["MessengerDeclineDialogReact.bs"],function(d){var f=d.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(f,{onBlock:a.props.onIgnoreBlock,onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick,isGroupChat:c})});new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("pending").setThreadKey(e).setEntryPoint("inbox_banner").log()},"MessengerComposerPendingActions.react")},onDeleteClick:function(){a.$2=b("Bootloader").loadModules(["MessengerFilteredDeleteDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return g.jsx(d,{onDelete:a.props.onDeleteDialogDeleteClick,onToggle:a.props.onDeleteDialogToggleClick})})},"MessengerComposerPendingActions.react"),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.props.threadID)).setSurface("thread").setFolderType("other").setThreadKey(e).setEntryPoint("inbox_banner").log()}})})};return c}(g.Component);e.exports=a}),null);
__d("MessengerConfirmBlockThreadDialogReact.bs",["fbt","React","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.participantName;var c=function(a){if(!a)return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},d=function(a){return c(!1)};return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("You have blocked {sender name}",[g._param("sender name",a)])}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:g._("You can access people you've blocked by going to the Spam Messages list.")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("OK"),void 0,void 0,d,1,void 0,void 0,void 0,[]))]))]))}c=a;f.make=c}),null);
__d("MessengerConfirmLeaveGroupDialogReact.bs",["bs_curry","React","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c,d=a.isViewerAdmin,e=a.onLeave;a=a.thread;var f=function(a){b("bs_curry")._1(e,void 0);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},h=b("MessengerAdminGroupUtils").getLeaveGroupBodyText(d,a),i=b("MessengerAdminGroupUtils").getLeaveGroupButtonText(d,a);d=b("MessengerAdminGroupUtils").getLeaveGroupTitleText(d,a);return(a=b("ReasonReact.bs")).element(void 0,void 0,(c=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:d}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:h}),a.element(void 0,void 0,c.Footer.make(void 0,void 0,[a.element(void 0,void 0,c.CancelButton.make(void 0,[])),a.element(void 0,void 0,c.Button.make(void 0,i,void 0,"danger",f,0,void 0,void 0,void 0,[]))]))]))}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerFileSizeErrorDialogReact.bs",["fbt","React","FBLogger","ReasonReact.bs","MercuryConstants","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){switch(a){case"attachment-limit":return 3;case"size-exceeded":return 1;case"wrong-type":return 0;default:return 2}}function j(a){switch(a){case 0:b("FBLogger")("messenger_upload_file").warn("Uploading file has wrong type");return g._("The type of file you're trying to attach isn't allowed. Please try again with a different format.");case 1:b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return g._("The file you have selected is too large. The maximum size is 25MB.");case 2:return null;case 3:b("FBLogger")("messenger_upload_file").warn("Attachment Limit is reached");return g._("You can send maximum {max number of files} files.",[g._param("max number of files",String(b("MercuryConstants").AttachmentMaxLimit))])}}function k(a){a=a.error;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Failed to upload files")}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:j(a)}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}function a(a){return k({error:i(a.error)})}c=k;f.errorOfString=i;f.renderDialogBody=j;f.make=c;f.jsComponent=a}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","MercuryShareAttachmentRenderLocations","React","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="transparent",k=h._("Thumbs Up Sign");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c;a=(a=this.props.color)!=null?a:b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff";c={height:(c=this.props.height)!=null?c:"85%",width:this.props.width};if(this.props.location!==b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==b("MercuryShareAttachmentRenderLocations").PAGES_INBOX){var d;c.width=(d=this.props.width)!=null?d:"66%"}return i.jsxs("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:"0 0 40.16 42.24",preserveAspectRatio:"xMinYMax meet",style:c,children:[i.jsx("title",{id:this.state.titleId,children:k}),i.jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:j,fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeWidth:"5%"})]})};return c}(i.Component);e.exports=a}),null);
__d("MessengerHotLikeButtonInnerIcon.react",["cssVar","CurrentUser","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,i=a.renderSize;i=i===void 0?16:i;a=a.thread;var j=null,k={};if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);k.background="none";j=h.jsx(b("Image.react"),{src:d&&d.url,style:{padding:i==16?0:3,display:"block",height:i,width:i}})}else if(c)j=h.jsx(c,{color:e,location:f,renderSize:i});else if(e)if(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")){k=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;j=h.jsx(b("MessengerHotLikeIconSVGM4React.bs").make,{color:k})}else j=h.jsx(b("MessengerHotLikeOutlineSVG.react"),{color:e,location:f});else if(!b("CurrentUser").isWorkUser()){d=g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor();j=h.jsx(b("MessengerHotLikeIconSVGM4React.bs").make,{color:d})}return j}}),null);
__d("WorkQuickchatHotLikeInnerButton.react",["cssVar","cx","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;a=a.thread;var j=null;if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);j=i.jsx(b("Image.react"),{className:"_7rpg",src:d&&d.url})}else if(c){d=this.props.CustomRenderer;j=i.jsx(d,{color:e,location:f,renderSize:h})}else if(e)if(b("MessengerDotComAndInboxM4Check.bs").yes){c=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;j=i.jsx(b("MessengerHotLikeIconSVGM4React.bs").make,{color:c})}else j=i.jsx(b("MessengerHotLikeOutlineSVG.react"),{height:"100%",width:"100%",color:e,location:f});else b("MessengerDotComAndInboxM4Check.bs").yes&&(j=b("MessengerHotLikeIconSVGM4React.bs").make.make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return j}}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","Bootloader","EmojiLikeConstants","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MessengerEnvironment","MessengerHotLikeButtonInnerIcon.react","MessengerHotLikePreviewEvents","MessengerHotLikeUtils","MessengerSurfaceType.re","MessengerSurfaceContext.re","prop-types","React","StickerConstants","WorkQuickchatHotLikeInnerButton.react","clearInterval","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryMessageObject").get(),j=b("React"),k=j.useContext,l=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$6=function(a){(d.props.disabled||d.$3)&&(a.preventDefault(),a.stopPropagation());if(d.props.disabled||a.button!==0)return;d.props.onMouseDown&&d.props.onMouseDown();d.$3=Date.now();d.$9();d.$10()},d.$8=function(){if(!(d.props.threadID&&d.$3))return;d.$3=0;d.$11();d.$12()},d.$14=function(){if(!d.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,d.props.threadID)},d.$7=function(){d.$3&&(d.$3=0,d.$11(),d.$14())},d.$5=function(a){a.stopPropagation();if(d.props.disabled)return;if(b("KeyStatus").getKeyDownCode()===b("Keys").RETURN||!d.props.threadID){a=d.props.sendCustomLike;d.props.customLike&&a?a(d.props.customLike,b("MessengerHotLikeUtils").getEmojiSizeForTime(1)):d.props.sendSticker(b("MessengerHotLikeUtils").getStickerIDForTime(1))}},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){var a=this;this.$4=b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(c,d,e){c===a.props.threadID&&(a.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendHotLike(a.getDefaultFunnelName())},"MessengerHotLikeButton.react"),e&&a.props.customLike&&a.props.sendCustomLike?a.props.sendCustomLike(a.props.customLike,e,b("EmojiLikeConstants").source.HOT_LIKE):a.props.forGameChat||a.props.sendSticker(d))})};d.componentWillUnmount=function(){this.$4&&this.$4.remove()};d.render=function(){var a=h._("Send a Like"),c={};this.props.customLike&&this.props.customLike.emoji&&(c.background="none");var d=this.props.surface===b("MessengerSurfaceType.re").workQuickchat?b("WorkQuickchatHotLikeInnerButton.react"):b("MessengerHotLikeButtonInnerIcon.react");return j.jsx(b("Link.react"),{"aria-label":a,className:b("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),"data-testid":void 0,disabled:this.props.disabled,href:"#",onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,onMouseLeave:this.$7,onMouseUp:this.$8,role:"button",style:c,title:a,children:j.jsx(d,{CustomRenderer:this.props.CustomRenderer,customLike:this.props.customLike,customColor:this.props.customColor,location:this.props.location,disabled:this.props.disabled,renderSize:this.props.renderSize,thread:this.props.thread})})};d.$9=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,this.$13(),this.props.threadID)};d.$12=function(){var a=this;if(!this.props.threadID)return;!b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerHotLikePreview.react",function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)},function(){if(a.$1!==null)return;a.$1=b("setIntervalAcrossTransitions")(function(){b("ifRequired")("MessengerHotLikePreview.react",function(){a.$1!==null&&(b("clearInterval")(a.$1),a.$1=null),b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)})},100)}):b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};d.$13=function(){var a=this.props.threadID;if(!a)return null;a=i.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,this.props.source,a);i.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;a.body="";return new(b("ImmutableObject"))(a)};d.$10=function(){this.$11(),this.$2=b("setTimeoutAcrossTransitions")(this.$14,b("MessengerHotLikeUtils").SizeTimes.large)};d.$11=function(){b("clearTimeout")(this.$2)};return a}(j.PureComponent);l.propTypes={CustomRenderer:(c=b("prop-types")).func,onMouseDown:c.func,customLike:c.object,customColor:c.string,forGameChat:c.bool,location:c.string,sendSticker:c.func.isRequired,sendCustomLike:c.func,threadID:c.string,disabled:c.bool,renderSize:c.number,thread:c.object,surface:c.string.isRequired};function a(a){var c=k(b("MessengerSurfaceContext.re").context);return j.jsx(l,babelHelpers["extends"]({},a,{surface:c}))}d=b("withMessengerSource")(a);e.exports=d}),null);
__d("MessengerQuickCamOrigins",[],(function(a,b,c,d,e,f){"use strict";f.getValues=a;var g="chat tab";f.CHAT_TAB=g;var h="messenger";f.MESSENGER=h;function a(){return[g,h]}}),null);
__d("MessengerResponsiveBlock.react",["React","createCancelableFunction","prop-types","requestAnimationFrame","shallowEqual","throttle"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,visibility:"hidden",zIndex:-1},i={left:0,position:"absolute",top:0,transition:"0s"},j={height:"200%",left:0,position:"absolute",top:0,transition:"0s",width:"200%"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.dirty=!1,d.lastWidth=null,d.lastHeight=null,d.lastBreakpointsToggles=null,d.setupWeirdScrollTracking=function(){d.refs.expandChild.style.width="10000px",d.refs.expandChild.style.height="10000px",d.refs.expand.scrollLeft=1e5,d.refs.expand.scrollTop=1e5,d.refs.shrink.scrollLeft=1e5,d.refs.shrink.scrollTop=1e5},d.$2=function(){var a=d.refs.outer.offsetWidth,c=d.refs.outer.offsetHeight;if((a!=d.lastWidth||c!=d.lastHeight)&&!d.dirty){if(Math.abs(a-(d.lastWidth||0))<10&&Math.abs(c-(d.lastHeight||0))<16)return;d.dirty=!0;d.lastWidth=a;d.lastHeight=c;a=d.props.breakpointsToggles(a,c);b("shallowEqual")(d.lastBreakpointsToggles,a)?d.dirty=!1:d.forceUpdate(function(){b("requestAnimationFrame")(function(){d.dirty=!1})});d.lastBreakpointsToggles=a}d.setupWeirdScrollTracking()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$2),this.onScroll=b("throttle")(this.$1,50),this.setupWeirdScrollTracking(),this.onScroll()};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){return g.jsxs("div",{ref:"outer",children:[this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),g.jsx("div",{style:h,onScroll:this.onScroll,ref:"expand",children:g.jsx("div",{style:i,ref:"expandChild"})}),g.jsx("div",{style:h,onScroll:this.onScroll,ref:"shrink",children:g.jsx("div",{style:j})})]})};return c}(g.Component);e.exports=a;a.propTypes={children:b("prop-types").func.isRequired,breakpointsToggles:b("prop-types").func.isRequired}}),null);
__d("MessengerSendIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{d:"M31.1059281,19.4468693 L10.3449666,29.8224462 C8.94594087,30.5217547 7.49043432,29.0215929 8.17420251,27.6529892 C8.17420251,27.6529892 10.7473302,22.456697 11.4550902,21.0955966 C12.1628503,19.7344961 12.9730756,19.4988922 20.4970248,18.5264632 C20.7754304,18.4904474 21.0033531,18.2803547 21.0033531,17.9997309 C21.0033531,17.7196073 20.7754304,17.5095146 20.4970248,17.4734988 C12.9730756,16.5010698 12.1628503,16.2654659 11.4550902,14.9043654 C10.7473302,13.5437652 8.17420251,8.34697281 8.17420251,8.34697281 C7.49043432,6.9788693 8.94594087,5.47820732 10.3449666,6.1775158 L31.1059281,16.553593 C32.298024,17.1488555 32.298024,18.8511065 31.1059281,19.4468693",fill:a})]}),fill:"none",fillRule:"evenodd"}),height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerSendButtonReact.bs",["fbt","React","Link.react","bs_belt_Option","bs_caml_option","MessengerCustomColorUtils.bs","MessengerSendIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("Press Enter to send")+("\n"+g._("Press Shift+Enter to add a new paragraph"));function a(a){var c=a.className,d=a.customColor,e=a.onClick;a=a.useIcon;var f=d!==void 0?{color:d}:void 0;a=b("bs_belt_Option").getWithDefault(a,!1);c={"aria-label":g._("Send"),"data-hover":"tooltip","data-tooltip-content":i,className:c,onClick:e,role:"button",children:a?b("MessengerSendIconSVGM4React.bs").make(b("bs_belt_Option").getWithDefault(d,b("MessengerCustomColorUtils.bs").defaultColor(void 0))):g._("Send")};f!==void 0&&(c.style=b("bs_caml_option").valFromOption(f));return h.jsx(b("Link.react"),c)}c=a;f.title=i;f.make=c}),null);
__d("MessengerSendButtonReact.re",["MessengerSendButtonReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerSendButtonReact.bs").make;f.make=a}),null);
__d("ReasonBootloadOnRender.react",["LoadOnRender.react","React","promiseDone"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("promiseDone")(d.props.loader.load(),a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("LoadOnRender.react"),{placeholder:this.props.placeholder,loader:this.$1,component:this.props.component})};return c}(g.Component);e.exports=a}),null);
__d("ReasonBootloadOnInteraction.react",["React","ReasonBootloadOnRender.react"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hadUserInteraction:!1},c.$1=function(){c.setState({hadUserInteraction:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.state.hadUserInteraction)return g.cloneElement(this.props.placeholder,{onFocus:this.$1,onMouseOver:this.$1,onClick:this.$1});var a=this.props,c=a.loader,d=a.component;a=a.placeholder;return g.jsx(b("ReasonBootloadOnRender.react"),{placeholder:a,loader:c,component:d})};return c}(g.Component);e.exports=a}),null);
__d("ReasonResource",["Promise","JSResourceReference","promiseDone"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.load=function(){var a=this;return new(b("Promise"))(function(c){b("promiseDone")(a.getFullComponent(),function(a){c(a.jsComponent)})})};d.getFullComponent=function(){return this.__reference.load()};d.setResourceReference=function(a){this.__reference=a;return this};return a}(b("JSResourceReference"));function a(a){return new g(a.getModuleId()).setResourceReference(a)}}),null);
__d("MercuryMessageBodyReact.bs",["ReasonReact.bs","MercuryMessageBody.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MercuryMessageBody.react"),{body:a},c)}f.make=a}),null);
__d("XUICloseButtonReact.bs",["ReasonReact.bs","bs_js_null_undefined","XUICloseButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h;switch(d){case 0:h="small";break;case 1:h="medium";break;case 2:h="large";break}return b("ReasonReact.bs").wrapJsForReason(b("XUICloseButton.react"),{className:b("bs_js_null_undefined").fromOption(a),onClick:e,tooltip:b("bs_js_null_undefined").fromOption(f),shade:c?"dark":"light",size:h},g)}f.make=a}),null);
__d("ReplyingToMessageReact.bs",["ix","cx","fbt","Image.bs","React","asset","bs_caml_option","ReasonReact.bs","XUICloseButtonReact.bs","MercuryAttachmentType","MercuryMessageBodyReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){var c=a.name,d=a.body,e=a.attachments,f=a.onCancelReplyingToMessage;a=a.isChatTab;var h,k=0;d!==void 0&&d!==""?h=[b("ReasonReact.bs").element(void 0,void 0,b("MercuryMessageBodyReact.bs").make(d,[])),null]:k=1;if(k===1){if(e.length!==1)d=[i._({"*":"{number of attachments in message being replied to} Attachments","_1":"{number of attachments in message being replied to} Attachment"},[i._param("number of attachments in message being replied to",String(e.length)),i._plural(e.length)]),g("596865")];else{k=e[0];d=k.attach_type===b("MercuryAttachmentType").PHOTO?[i._("Photo"),g("596858")]:k.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE?[i._("GIF"),g("596858")]:k.attach_type===b("MercuryAttachmentType").VIDEO?[i._("Video"),g("596874")]:k.attach_type===b("MercuryAttachmentType").STICKER||k.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER?[i._("Sticker"),g("596858")]:[i._("Attachment"),g("596852")]}h=[d[0],b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_6ees",void 0,void 0,void 0,d[1],void 0,void 0,void 0,void 0,[]))]}return j.jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("XUICloseButtonReact.bs").make("_67tv",1,a?1:2,f,void 0,[])),i._("Replying to")," ",j.jsx("strong",{children:i._("{name}",[i._param("name",c)])}),j.jsxs("div",{children:[h[0],h[1]],className:"_67tw _1nc6 ellipsis"})],className:(a?"_692o":"")+" _67tu"})}function a(a){var c={name:a.name,attachments:a.attachments,onCancelReplyingToMessage:a.onCancelReplyingToMessage,isChatTab:a.isChatTab};a=b("bs_caml_option").nullable_to_opt(a.body);a!==void 0&&(c.body=b("bs_caml_option").valFromOption(a));return k(c)}c=k;f.make=c;f.jsComponent=a}),null);
__d("WorkChatExtensionsDrawersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1696600907120234"};b.getQueryID=function(){return"148385269340310"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("WorkChatExtensionAvailabilityFetcher",["Promise","WebGraphQL","WebStorage","WorkChatExtensionsDrawersQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";f.setChatExtensionAvailability=i;f.checkHasChatExtension=a;var g,h=36e5;function i(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),"hasWorkChatExtension",a.toString()),g.setItemGuarded(g.getLocalStorage(),"hasWorkChatExtensionFetchTime",Date.now().toString())}function a(){return new(b("Promise"))(function(a,c){c=(g||(g=b("WebStorage"))).getLocalStorageForRead();var d=c?c.getItem("hasWorkChatExtension"):null;c=c?c.getItem("hasWorkChatExtensionFetchTime")||0:0;return d==="true"&&Date.now()-parseInt(c,10)<h?a(!0):b("WebGraphQL").exec(new(b("WorkChatExtensionsDrawersQueryWebGraphQLQuery"))({})).then(function(a){a=((a=a)!=null?(a=a.viewer)!=null?(a=a.messenger_platform_drawers_info)!=null?(a=a[0])!=null?a.drawer_elements:a:a:a:a)||[];a=a.length>0;i(a);return a})})}}),null);
__d("WorkGalahadChatSendButton.react",["cssVar","cx","fbt","Link.react","React","joinClasses","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j=b("React");function a(a){var c=a.className,d=a.customColor;a=a.onClick;d=d!==null?d:"#373e4c";return j.jsxs(b("Link.react"),{href:"#",role:"button",onClick:a,className:b("joinClasses")(c,"_7dch"),children:[j.jsx("span",{className:"dcqg3hgv s8nmnciq i8ovu4tj qbbcxcfp ib0kwflm jfygwcsh cpgkxmkd",children:i._("Send")}),j.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",version:"1.1",children:j.jsx("g",{stroke:"none",strokeWidth:"1",fill:d,fillRule:"evenodd",children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:d})})})]})}}),null);
__d("XMNCommercePageNullStateCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/page/nullstate/",{})}),null);
__d("isWebGLEnabled",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=null;function h(){try{var a=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(a){return!1}}function a(){g===null&&(g=h());return g}}),null);
__d("MessengerComposer.react",["cssVar","cx","fbt","invariant","AsyncRequest","AutoFocusableLink.react","BootloadOnRender.react","ChatPhotoUploader.react","CurrentUser","FBLogger","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryReadOnlyReason","MercuryShareAttachmentRenderLocations","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerActions","MessengerBlockDialogReact.bs","MessengerBotMenuDataFetcher","MessengerButtonReact.re","MessengerComposerButtonLabels","MessengerComposerInput.react","MessengerComposerPendingActions.react","MessengerConfirmBlockThreadDialogReact.bs","MessengerConfirmLeaveGroupDialogReact.bs","MessengerConstants","MessengerContextualDialog.react","MessengerDialogs.bs","MessengerFileSizeErrorDialogReact.bs","MessengerHotLikeButton.react","MessengerHotLikeUtils","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerQuickCamOrigins","MessengerResponsiveBlock.react","MessengerSendButtonReact.re","MessengerState.bs","MessengerURIStore","MessengerView","MNCommerceCTAProcessor","MNCommercePageSetting","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","P2PGKValues","React","ReasonBootloadOnInteraction.react","ReasonResource","ReplyingToMessageReact.bs","WorkBotLandingPageHelper","WorkChatExtensionAvailabilityFetcher","WorkFileUploadsGating","WorkGalahadChatSendButton.react","WorkGalahadSettings","XMessagingUnblockMessagesController","XMNCommercePageNullStateCTAController","XUISpinner.react","getPageIDFromThreadID","gkx","immutable","isWebGLEnabled","lazyLoadComponent","promiseDone","prop-types","requireCond","cr:1124632"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("lazyLoadComponent")(b("JSResource")("WorkChatPostButtonReact").__setRef("MessengerComposer.react")),m=b("lazyLoadComponent")(b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("MessengerComposer.react")),n=b("lazyLoadComponent")(b("JSResource")("MessengerUnconnectedThreadInfoTextReact").__setRef("MessengerComposer.react")),o=640,p=b("WorkGalahadSettings").isGalahadEnabled?320:360,q=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.refsGifUploader=null;d.handleFileUpload=function(a){d.refsUploader&&d.refsUploader.uploadFiles(a),d.exitCurrentMode()};d.focusInput=function(){d.refsInput&&d.refsInput.focus()};d.$50=function(a){d.refsGifUploader=a};d.$53=function(){var a=b("XMessagingUnblockMessagesController").getURIBuilder().getURI(),c=d.props.threadID;new(b("AsyncRequest"))(a).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(c)}).send()};d.$10=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);d.$54()["delete"](d.props.threadID);b("MessengerActions").selectThread(null);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint("inbox_banner").log()};d.$9=function(){var a;a=(a=d.props)!=null?(a=a.thread)!=null?a.thread_id:a:a;a=b("MercuryIDs").isGroupChat(a);if(a)d.$55();else{a=(a=d.props)!=null?(a=a.thread)!=null?a.other_user_fbid:a:a;var c=a?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)):null,e=c&&c.short_name;e&&b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerBlockDialogReact.bs").jsComponent,{onBlock:function(){d.$56(e)},contact:c})})}};d.$11=function(a){var c=d.props.thread,e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);a||new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint("inbox_banner").log()};d.$51=function(a,c){a.platformFBID.toString()===b("MercuryConfig").MessengerAppID?d.props.onStickerSelect(a.resultID.toString()):d.refsGifUploader&&d.refsGifUploader.uploadURL&&d.refsGifUploader.uploadURL({attribution_app_id:a.platformFBID,external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source})};d.$52=function(a){d.focusInput(),d.refsInput&&d.refsInput.insertEmoji(a)};d.$19=function(a){d.setState({currentValue:a})};d.$15=function(a,b,c){d.refsEmojiButton&&d.refsEmojiButton.hideFlyout();return d.props.onMessageSend&&d.props.onMessageSend(a,b,c)};d.$48=function(a){d.refsInput&&d.refsInput.triggerSend()};d.$49=function(a){return d.props.onStickerSelect(a)};d.$13=function(){if(d.state.nullStateCTA!==null)switch(d.state.nullStateCTA.action_type){case 1:break;case 4:default:d.setState({disableNullState:!0});b("MNCommercePostbackRefSendManager").hasMDotMeRef(d.$5())?(b("MNCommercePostbackCTADataManager").sendAndConfirm(d.state.nullStateCTA.id,d.state.nullStateCTA.title,d.props.threadID,null,d.$1,b("MNCommercePostbackRefSendManager").getMdotMeRef()),b("MessengerActions").changeMDotMeReferral()):b("MNCommercePostbackCTADataManager").sendAndConfirm(d.state.nullStateCTA.id,d.state.nullStateCTA.title,d.props.threadID,null,d.$1);b("MNCommerceCTAProcessor").logCTAClick(d.state.nullStateCTA);break}};d.$1=function(){d.setState({showNullState:!0,disableNullState:!1})};d.$1=d.$1.bind(babelHelpers.assertThisInitialized(d));d.state=d.$2();return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.threadID!==this.props.threadID||a.thread&&!this.props.thread?(this.setState(this.$2()),a.thread&&this.$3(a.thread,b("getPageIDFromThreadID")(a.threadID))):a.thread&&this.$4(a.thread,b("getPageIDFromThreadID")(a.threadID))&&this.setState({showNullState:!1})};d.componentDidMount=function(){var a=this;this.props.thread&&this.$3(this.props.thread,this.$5());var c=b("gkx")("678608");b("CurrentUser").isWorkUser()&&c&&b("promiseDone")(b("WorkChatExtensionAvailabilityFetcher").checkHasChatExtension(),function(b){return a.setState({hasWorkChatExtension:b})})};d.componentDidUpdate=function(a){(a.canReply!==this.props.canReply||a.replyingToMessage!==this.props.replyingToMessage||a.sharePreview!==this.props.sharePreview||a.fileUploader!==this.props.fileUploader)&&(this.props.onResize&&this.props.onResize());this.props.replyingToMessage&&a.replyingToMessage!==this.props.replyingToMessage&&this.focusInput();a=this.props.thread;a!=null&&(b("gkx")("1456662")||a.thread_fbid!=null)&&(this.$6(),this.$7())};d.render=function(){var a=this;if(!this.props.canReply)return this.$8();else if(this.props.thread&&this.props.threadID&&this.props.viewer&&b("MessageRequestUtils").shouldShowComposerPendingActions(this.props.thread)&&!this.state.pendingActionsBypassed)return k.jsx(b("MessengerComposerPendingActions.react"),{thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer,onAccept:function(){return a.setState({pendingActionsBypassed:!0})},onIgnoreBlock:this.$9,onDeleteDialogDeleteClick:this.$10,onDeleteDialogToggleClick:this.$11});var c=this.props.thread&&this.props.thread.message_count;b("MNCommercePostbackRefSendManager").sendMDotMeRef(this.$5(),c);if(this.state.showNullState&&this.state.nullStateCTA!==null)return k.jsxs("div",{className:"_2xh0",children:[this.$12(),k.jsx("div",{className:"_2xh4 _59w_",children:k.jsx(b("BootloadOnRender.react"),{component:k.jsx(b("LazyComponent.react"),{cta:this.state.nullStateCTA,onClick:this.$13,disabled:this.state.disableNullState,threadID:this.props.threadID}),loader:b("JSResource")("ChatPageComposerNullState.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("XUISpinner.react"),{size:"small"})})})]});var d=this.$14();c=k.jsxs(k.Fragment,{children:[b("cr:1124632")!=null&&this.props.threadID!=null?k.jsx(b("cr:1124632"),{threadID:this.props.threadID,onResize:this.props.onResize,onClick:this.$15}):null,k.jsx(b("MessengerResponsiveBlock.react"),{breakpointsToggles:function(a){return[a!=null&&a<=o,a]},children:function(c){var e=c[0];c=c[1];return k.jsxs("div",{"aria-label":i._("New message"),className:"_4rv3"+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyq":"")+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyv":""),role:"region",children:[a.props.thread&&b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(a.props.thread)?a.$16():null,a.props.replyingToMessage&&a.$17(),a.$18(a.props.threadID),k.jsxs("div",{className:"_5irm"+(e?" _1_73":""),children:[k.jsx(b("MessengerComposerInput.react"),{disableAutofocus:!!a.props.disableAutofocus,fileUploader:a.props.fileUploader,handleOnlyImageUploads:!1,isComposing:d,mentionsEnabled:a.props.mentionsEnabled,ref:function(b){return a.refsInput=b},onBeforeInput:function(){return a.refsEmojiButton&&a.refsEmojiButton.hideFlyout()},onResize:a.props.onResize,onMessageSend:a.$15,participants:a.props.participants,sharePreview:a.props.sharePreview,smallerEqual640:e,thread:a.props.thread,threadID:d?b("MessengerConstants").NEW_THREAD_KEY:a.props.threadID,pageID:a.$5(),viewer:a.props.viewer,onFileUpload:a.handleFileUpload,onChange:a.$19,showMenu:a.state.showMenu,disableInput:a.state.disableInput}),a.$20(c)]})]})}})]});var e=this.$5(),f=d?b("MessengerConstants").NEW_THREAD_KEY:this.props.threadID;return e&&!b("CurrentUser").isWorkUser()?k.jsx(b("BootloadOnRender.react"),{component:k.jsx(b("LazyComponent.react"),{onResize:this.props.onResize,originalElement:c,pageID:e,playLinkClassName:"_2xh6 _2xh7",showGameImage:!1,threadFBID:this.props.threadFBID,threadID:f}),loader:b("JSResource")("MessengerGameBotPlayButton.react").__setRef("MessengerComposer.react"),placeholder:c}):c};d.$18=function(a){if(!a||!this.$21())return null;var c=this.props,d=c.fileUploader;c=c.thread;c=c&&c.footer_color?c.footer_color:"#0084ff";return k.jsx(k.Suspense,{fallback:k.jsx(b("XUISpinner.react"),{className:"_2qf"}),children:k.jsx(m,{files:d!=null&&d.get("uploadedFiles")!=null?d.get("uploadedFiles"):b("immutable").Map(),small:!1,threadID:a,threadCustomColor:c,onClick:this.$22,onResize:this.props.onResize})})};d.$16=function(){var a;a=(a=this.props.thread)==null?void 0:a.other_user_fbid;if(!a)return null;a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(n,{name:a&&a.short_name,onBlock:this.$9,onDelete:this.$10,onToggle:this.$11,thread:this.props.thread||void 0})})};d.$17=function(){var a=this.props.replyingToMessage;return!a?null:k.jsx(b("ReplyingToMessageReact.bs").jsComponent,{name:this.$23(a),body:a.body,attachments:a.attachments,onCancelReplyingToMessage:this.props.onCancelReplyingToMessage})};d.$23=function(a){a=a.author?b("MessengerParticipants.bs").getNow(a.author):null;return a&&a.short_name};d.$22=function(a,c){b("MessengerActions").cancelFileUpload(a,c)};d.$20=function(a){var c=this;return this.state.disableInput===!0?null:k.jsxs("div",{ref:function(a){c.refsButtonsContainer=a},className:"_4rv4"+(b("WorkGalahadSettings").isGalahadEnabled?" _7cyw":""),children:[this.$24(a),this.$25()]})};d.$24=function(a){if(this.props.hideActions)return null;return a&&a<p?k.jsxs("div",{children:[k.jsxs("ul",{className:"_39bj",children:[this.$26(),b("CurrentUser").isWorkUser()&&b("WorkFileUploadsGating").canUploadFiles?this.$27():this.$28(),this.$29(),this.$30(),this.$31()]}),k.jsxs("ul",{className:"_39bj",children:[this.$32(),this.$33(),this.$34(),this.$35(),this.$36()]})]}):k.jsxs("ul",{className:"_39bj",children:[this.$26(),b("CurrentUser").isWorkUser()?this.$27():null,this.$28(),b("CurrentUser").isWorkUser()?this.$37():null,this.$29(),this.$30(),this.$31(),this.$32(),this.$33(),this.$34(),this.$35(),this.$36()]})};d.$38=function(a){b("FBLogger")("messenger_upload_file").warn("Uploading file is too large"),b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerFileSizeErrorDialogReact.bs").jsComponent,{error:a.error})})};d.handleTextDropped=function(a){this.refsInput&&this.refsInput.handleTextDropped(a)};d.$33=function(){return k.jsx("li",{children:this.$39()})};d.$39=function(){var a;if(!b("P2PGKValues").P2PVisible||!this.props.threadID||this.$40()||!this.props.p2pPaymentConfig||((a=this.props)!=null?(a=a.participants)!=null?a.size:a:a)===1)return null;a="_30yy _25pc _39bk";return k.jsx(b("BootloadOnRender.react"),{component:k.jsx(b("LazyComponent.react"),{className:a,ContextualDialog:b("MessengerContextualDialog.react"),thread:this.props.thread,threadID:this.props.threadID,p2pPaymentConfig:this.props.p2pPaymentConfig}),loader:b("JSResource")("P2PSendMoneyContainerBootloader.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:a,role:"button"})})};d.$36=function(){return b("gkx")("678582")&&this.props.threadID?k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{className:"_4rv5 _39bk"+(this.state.flyoutOpen?" _5jhb":""),location:b("MessengerQuickCamOrigins").MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:"_4rv5 _39bk",role:"button","aria-label":b("MessengerComposerButtonLabels").QuickCamButtonLabel})}):null};d.$32=function(){return!q||this.$14()?null:k.jsx("li",{children:k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{onVoiceClipCreate:this.props.onVoiceClipCreate}),loader:b("JSResource")("MessengerVoiceClipButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:"_4rv7 _39bk _30yy",role:"button","aria-label":b("MessengerComposerButtonLabels").VoiceClipButtonLabel})})})};d.$34=function(){if(b("gkx")("994335"))return null;if(this.props.thread&&this.props.thread.is_canonical)return null;return!this.props.threadFBID||this.$14()?null:k.jsx("li",{children:k.jsx(b("ReasonBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingButtonReact.bs").__setRef("MessengerComposer.react")),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:"_39bk _30yy _2o-b",role:"button","aria-label":b("MessengerComposerButtonLabels").GroupPollingButtonLabel})})})};d.$35=function(){var a=b("gkx")("678262")&&b("isWebGLEnabled")();return a&&this.props.threadFBID&&!this.$40()?k.jsx("li",{children:k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("JSResource")("MessengerGamesButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:"_39bk _30yy _4ce_",role:"button"})})}):null};d.$26=function(){return this.props.threadFBID&&!this.$40()&&this.state.hasWorkChatExtension?k.jsx("li",{children:k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{customColor:this.props.thread&&this.props.thread.solid_color,threadFBID:this.props.threadFBID}),loader:b("JSResource")("MessengerWorkplaceChatExtensionsButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:"_39bk _22k0 _30yy",role:"button"})})}):null};d.$41=function(a){var c=this,d=b("CurrentUser").isWorkUser()?!b("WorkFileUploadsGating").canUploadFiles:!1;return k.jsx("li",{className:"_39bk",children:k.jsx(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:!(this.props.threadID||this.$42()),ref:function(a){return c.refsUploader=a},imageClassName:(a=="files"?"_5vn8":"")+(a=="attachment"?" _46si":""),imagesOnly:d,inputClassname:"_260t",linkClassName:"_30yy _7hi7 _260u",focusInput:this.focusInput,onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$38,threadID:this.props.threadID})})};d.$43=function(){return this.$14()&&!this.$44()?!1:!0};d.$44=function(){return this.props.recipients&&this.props.recipients.count()===1};d.$28=function(){return!this.$43()?null:this.$41("files")};d.$27=function(){return!b("WorkFileUploadsGating").canUploadFiles||!this.$43()?null:this.$41("attachment")};d.$37=function(){var a,c=this.props.openPostComposerInSameWindow?"_self":"_blank";a=(a=this.props)!=null?(a=a.thread)!=null?(a=a.associated_object)!=null?a.action_link:a:a:a;if(!a){var d;a=(d=this.props)!=null?(d=d.thread)!=null?(d=d.work_associated_group)!=null?d.url:d:d:d}return a?b("gkx")("808098")?k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(l,{composerLink:a,target:c})}):null:null};d.$45=function(){return this.state.currentValue.length>0||this.$21()||this.$46()};d.$21=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadedFiles").size>0)};d.$46=function(){var a=this.props.sharePreview;return!!(a&&a.params&&a.type)};d.$47=function(){var a=this.props.fileUploader;return Boolean(a&&a.get("uploadingFiles").size>0)};d.$25=function(){var a=!(this.props.threadID||this.$42());return!a&&this.$45()&&!this.$47()?b("WorkGalahadSettings").isGalahadEnabled?k.jsx(b("WorkGalahadChatSendButton.react"),{customColor:this.props.thread?this.props.thread.solid_color:null,onClick:this.$48,className:(this.props.threadID?"_30yy":"")+" _38lh"}):k.jsx(b("MessengerSendButtonReact.re").make,{className:(this.props.threadID?"_30yy":"")+" _38lh",customColor:this.props.thread&&this.props.thread.solid_color||void 0,onClick:this.$48}):k.jsx(b("MessengerHotLikeButton.react"),{className:"_4rv9"+(this.props.threadID?" _30yy":""),disabled:a,customColor:this.props.thread&&this.props.thread.solid_color,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(this.props.thread)||void 0,sendSticker:this.$49,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID,renderSize:24,thread:this.props.thread})};d.$29=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _4rv6 _39bk";return k.jsx("li",{children:k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),disabled:!(this.props.threadID||this.$42()),getInput:function(){return a.refsInput},flyoutAlignment:"right",flyoutClassName:"_293j",flyoutWidth:285,onStickerSelect:this.props.onStickerSelect,threadID:this.props.threadID}),loader:b("JSResource")("ChatStickerButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").StickerButtonLabel})})})};d.$12=function(){var a;a=(a=this.props)!=null?(a=a.thread)!=null?a.other_user_fbid:a:a;a=a?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)):null;var c=a&&a.name||"page";if(this.state.nullStateCTA!==null)switch(this.state.nullStateCTA.action_type){case 1:return null;case 4:if(!b("MNCommercePostbackRefSendManager").hasMDotMeRef(this.$5())&&!this.state.nullStateCTA.instantgame_metadata&&!b("CurrentUser").isWorkUser())return k.jsx("div",{className:"_3zc8",children:i._("When you tap {cta title}, {name} will see your public info.",[i._param("cta title",this.state.nullStateCTA.title),i._param("name",c)])});else if(b("MNCommercePostbackRefSendManager").hasMDotMeRef(this.$5())){var d=this.$5();a=a&&a.vanity?"m.me/"+a.vanity:d?"m.me/"+d:"m.me";return k.jsx("div",{className:"_3zc8",children:i._("When you tap {cta title}, {name} will see your public info and that you opened their {link} link.",[i._param("cta title",this.state.nullStateCTA.title),i._param("name",c),i._param("link",a)])})}break;default:return null}return null};d.$30=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _yht _39bk";return k.jsxs("li",{children:[k.jsx("div",{style:{display:"none"},children:k.jsx(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:!1,ref:this.$50,imagesOnly:!1,focusInput:this.focusInput,onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$38})}),k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),getInput:function(){return a.refsInput},getQuery:function(){return null},location:b("MercuryShareAttachmentRenderLocations").MESSENGER,onSelect:this.$51}),loader:b("JSResource")("ChatContentSearchButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").ContentSearchButtonLabel})})]})};d.$31=function(){var a=this,c=(this.props.threadID?"_30yy":"")+" _5s2p _39bk";return k.jsx("li",{children:k.jsx(b("MercuryBootloadOnInteraction.react"),{component:k.jsx(b("LazyComponent.react"),{className:c,ContextualDialogClass:b("MessengerContextualDialog.react"),flyoutAlignment:"right",getInput:function(){return a.refsInput},onSelect:this.$52,onMount:function(b){return a.refsEmojiButton=b},sendCustomEmoji:this.props.onCustomLikeSelect,threadID:this.props.threadID}),loader:b("JSResource")("ChatEmojiButton.react").__setRef("MessengerComposer.react"),placeholder:k.jsx(b("AutoFocusableLink.react"),{className:c,role:"button","aria-label":b("MessengerComposerButtonLabels").EmojiButtonLabel})})})};d.$8=function(){var a=this;if(!this.props.thread||this.props.view===b("MessengerView").DETAIL.COMPOSE)return null;var c=this.props.thread,d=this.props.participants,e=!1,f=!1;if(c.cannot_reply_reason==="blocked"){e=!0;c.is_canonical===!0||j(0,4973);d!=null||j(0,4974);var g=c.other_user_fbid;g!=null||j(0,4975);d=d.get(b("MercuryIDs").getParticipantIDFromUserID(g));d!=null||j(0,4976);b("MessengerState.bs").compute(this.props.viewer,function(d){d=d.blocked_ids;b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(a.props.viewer,d,c)&&(f=!0)})}if(e){g=this.$40()?"page":"person";if(f)return k.jsx("div",{className:"_4rv3",children:k.jsx("div",{className:"_2wy4",children:i._("You've blocked messages from this {name}. {unblock_now_button}",[i._param("name",g),i._param("unblock_now_button",k.jsx(b("MessengerButtonReact.re").make,{label:i._("Unblock Now"),onClick:this.$53,type:"secondary"}))])})});else return k.jsx("div",{className:"_4rv3",children:k.jsx("div",{className:"_2wy4",children:i._("This person isn't available right now.")})})}return k.jsx("div",{className:"_4rv3",children:k.jsx("div",{className:"_2wy4",children:b("MercuryReadOnlyReason").getReason(c.has_email_participant)})})};d.$55=function(){var a=this,c,d=(c=this.props)!=null?(c=c.thread)!=null?c.thread_id:c:c;d&&b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,{onLeave:function(){var c=b("MessengerURIStore").getState().activeThreadID===d;a.$54().leaveGroup(d);c&&b("MessengerActions").selectThread(null)},isViewerAdmin:!1,thread:a.props.thread})})};d.$56=function(a){var c=this,d=this.props.threadID,e=d===b("MessengerURIStore").getState().activeThreadID;this.$54().blockIgnoreOnMessengerDotCom(e,d,function(){c.$57(a)})};d.$57=function(a){var c=this.props,d=c.threadID;c=c.thread;b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerConfirmBlockThreadDialogReact.bs").jsComponent,{participantName:a})});var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(null).log()};d.exitCurrentMode=function(){this.refsInput&&this.refsInput.exitCurrentMode()};d.$14=function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE};d.$42=function(){return!!(this.$14()&&this.props.recipients&&this.props.recipients.size)};d.$40=function(){return!!this.$5()};d.$5=function(){return b("getPageIDFromThreadID")(this.props.threadID)};d.$6=function(){var a=this,c=this.$5();c?b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({showMenu:b})},function(){a.setState({showMenu:!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED):this.setState({showMenu:!1})};d.$7=function(){var a=this,c=this.$5();c?b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({disableInput:b})},function(){a.setState({disableInput:!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED):this.setState({disableInput:!1})};d.$4=function(a,c){var d=a.message_count;c=!!c;if(b("CurrentUser").isWorkUser()&&c&&d===1&&this.props.viewer){c=b("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a.thread_id,0,1);return!b("WorkBotLandingPageHelper").shouldShowBotLandingPage(b("immutable").List(c))}return d>0};d.$58=function(a,c){c=b("WorkBotLandingPageHelper").shouldShowBotLandingPage(c);var d=!!a;d&&c&&this.$59(a)};d.$59=function(a){var c=b("XMNCommercePageNullStateCTAController").getURIBuilder();new(b("AsyncRequest"))().setURI(c.getURI()).setMethod("POST").setData({page_id:a}).setHandler(function(a){a&&a.payload?this.setState({showNullState:!0,nullStateCTA:a.payload}):this.setState({showNullState:!1,disableNullState:!1})}.bind(this)).send()};d.$3=function(a,c){var d=this,e=a.message_count,f=!!c;if(b("CurrentUser").isWorkUser()&&f&&e===1&&this.props.viewer){b("MessengerState.bs").getThreadMessagesRange(this.props.viewer,a.thread_id,0,1,function(a){return d.$58(c,b("immutable").List(a||[]))});return}a=e===0;f&&a?this.$59(c):this.setState({showNullState:!1,disableNullState:!1})};d.$2=function(){return{pendingActionsBypassed:!1,currentValue:"",nullStateCTA:null,showMenu:!1,disableInput:!1,showNullState:!1,disableNullState:!1}};d.$54=function(){var a;a=(a=this.props.viewer)!=null?a:b("CurrentUser").getID();return b("MercuryThreadActions").getForFBID(a)};d.testUtils_renderRawP2PSendMoneyButton=function(){return this.$39()};d.replyToMention=function(a){this.refsInput&&this.refsInput.addMention&&this.refsInput.addMention(a)};return c}(k.PureComponent);e.exports=a;a.propTypes={canReply:b("prop-types").bool,disableAutofocus:b("prop-types").bool,fileUploader:b("prop-types").object,hideActions:b("prop-types").bool,mentionsEnabled:b("prop-types").bool,onCustomLikeSelect:b("prop-types").func,onMessageSend:b("prop-types").func,onPhotoUploadComplete:b("prop-types").func,onPhotoUploadCancel:b("prop-types").func,onPhotoUploadFail:b("prop-types").func,onPhotoUploadSubmit:b("prop-types").func,onResize:b("prop-types").func,onStickerSelect:b("prop-types").func.isRequired,onVoiceClipCreate:b("prop-types").func,p2pPaymentConfig:b("prop-types").object,participants:b("prop-types").instanceOf(b("immutable").Map),recipients:b("prop-types").instanceOf(b("immutable").List),sharePreview:b("prop-types").object,threadID:b("prop-types").string,threadFBID:b("prop-types").string,thread:b("prop-types").object,view:b("prop-types").string,viewer:b("prop-types").string,replyingToMessage:b("prop-types").object,onCancelReplyingToMessage:b("prop-types").func,openPostComposerInSameWindow:b("prop-types").bool}}),null);
__d("MNBotsLoggerEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({BOT_COMPOSER_MENU_ICON_DISPLAYED:"bot_composer_menu_icon_displayed",BOT_COMPOSER_MENU_ICON_TAPPED:"bot_composer_menu_icon_tapped",BOT_COMPOSER_MENU_ITEM_DID_SELECT:"bot_composer_menu_item_did_select",BOT_COMPOSER_QUICK_REPLY_DISPLAYED:"bot_composer_quick_reply_displayed",BOT_COMPOSER_QUICK_REPLY_TAPPED:"bot_composer_quick_reply_tapped"});e.exports=a}),null);
__d("MessengerContextualDialogReact.bs",["bs_curry","ReasonReact.bs","bs_js_null_undefined","MessengerContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a===void 0)return;switch(a){case 0:return"center";case 1:return"left";case 2:return"right"}}function a(a,c,d,e,f,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerContextualDialog.react"),{alignment:b("bs_js_null_undefined").fromOption(g(a)),className:b("bs_js_null_undefined").fromOption(c),contextRef:d!==void 0?function(a){return b("bs_js_null_undefined").fromOption(b("bs_curry")._1(d,void 0))}:function(a){},offsetY:b("bs_js_null_undefined").fromOption(f),onBlur:b("bs_js_null_undefined").fromOption(e),onToggle:h,shown:b("bs_js_null_undefined").fromOption(i),width:b("bs_js_null_undefined").fromOption(j)},k)}f.stringOfAlignment=g;f.make=a}),null);
__d("MessengerFlyoutPlaceholderReact.bs",["React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a={padding:"30px",textAlign:"center"};return g.jsx("div",{children:g.jsx(b("XUISpinner.react"),{size:"large"}),style:a})}c=a;f.make=c}),null);
__d("MessengerFlyoutButtonReact.bs",["cx","bs_curry","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","AutoFocusableLink.react","MessengerContextualDialogReact.bs","MessengerFlyoutPlaceholderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a,c){var d=a.className,e=a.createFlyout,f=a.dialogClassName,g=a.disabled,i=a.flyoutAlignment,j=a.flyoutWidth,k=a.getInput,l=a.icon,m=a.onClick,n=a.onHideFlyout,o=a.title;a=a.testid;g=g!==void 0?g:!1;var p=h.useRef(null),q=h.useState(function(){return!1}),r=q[1],s=q[0];q=h.useState(function(){return!1});var t=q[1],u=q[0],v=h.useCallback(function(a){a=b("bs_curry")._1(k,void 0);if(!(a==null))return a.focus()},[k]),w=h.useCallback(function(a){b("bs_curry")._1(v,void 0);b("bs_curry")._1(t,function(a){return!1});if(n!==void 0)return b("bs_curry")._1(n,void 0)},[v,t,n]);h.useImperativeHandle(c,function(){return{hideFlyout:w}},[w]);q=function(a){a.stopPropagation();if(s)return b("bs_curry")._1(r,function(a){return!1});else{b("bs_curry")._1(t,function(a){return!a});if(m!==void 0)return b("bs_curry")._1(m,a);else return}};c=h.jsx(h.Suspense,{children:b("bs_curry")._2(e,w,u),fallback:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{})});e=u?b("ReasonReact.bs").element("contextualDialog",void 0,b("MessengerContextualDialogReact.bs").make(i!==void 0?i:1,b("bs_belt_Option").getWithDefault(f,""),function(a){return b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(p.current),function(a){return a})},w,10,function(a){return b("bs_curry")._1(t,function(b){return a})},u,b("bs_belt_Option").getWithDefault(j,278),c)):null;if(g)return h.jsx("div",{children:l,className:d});i={"aria-label":o,autoFocus:!1,children:h.jsxs(h.Fragment,{children:[l,e]}),className:b("joinClasses")(d,u?"open":""),href:"#",onMouseDown:function(a){return b("bs_curry")._1(r,function(a){return u})},onClick:q,ref:p,role:"button",title:o};a!==void 0&&(i["data-testid"]=b("bs_caml_option").valFromOption(a));return h.jsx(b("AutoFocusableLink.react"),i)}c=h.forwardRef(a);d=278;f.cFLYOUT_WIDTH=d;f.make=c}),null);
__d("MessengerMoreIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M7.5,9 L28.5,9 C29.3284271,9 30,9.67157288 30,10.5 C30,11.3284271 29.3284271,12 28.5,12 L7.5,12 C6.67157288,12 6,11.3284271 6,10.5 C6,9.67157288 6.67157288,9 7.5,9 Z M7.5,16.5 L28.5,16.5 C29.3284271,16.5 30,17.1715729 30,18 C30,18.8284271 29.3284271,19.5 28.5,19.5 L7.5,19.5 C6.67157288,19.5 6,18.8284271 6,18 C6,17.1715729 6.67157288,16.5 7.5,16.5 Z M7.5,24 L28.5,24 C29.3284271,24 30,24.6715729 30,25.5 C30,26.3284271 29.3284271,27 28.5,27 L7.5,27 C6.67157288,27 6,26.3284271 6,25.5 C6,24.6715729 6.67157288,24 7.5,24 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerBotMenuButtonReact.bs",["bs_curry","React","JSResource","lazyLoadComponent","MNBotsLoggerEvents","MessengerFlyoutButtonReact.bs","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerMoreIconSVGM4React.bs","MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.pageId,j=a.threadId;a=g.useState(function(){return!1});var k=a[1],l=a[0];a=g.useState(function(){});var m=a[1],n=a[0];g.useEffect(function(){new(b("MessengerBotsWebTypedLogger"))().setEvent(b("MNBotsLoggerEvents").BOT_COMPOSER_MENU_ICON_DISPLAYED).setPageID(i).log()},[i]);a=function(a){if(n!==void 0)return;else{b("bs_curry")._1(k,function(a){return!0});b("MessengerBotMenuDataFetcher").getMenuItems(i,function(a){b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},function(a){b("bs_curry")._1(m,function(a){return[]});return b("bs_curry")._1(k,function(a){return!1})});return}};var o=function(a){b("MessengerBotMenuDataFetcher").setMenuItemsCache(i,a);b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(k,function(a){return!1})},p=function(a,b){return g.createElement(h,{onEscKeyDown:a,shown:b,isLoading:l,menuItems:n,pageID:i,threadID:j,onClick:a})};return g.jsxs("div",{children:[g.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:p,flyoutAlignment:e,getInput:f,icon:b("MessengerMoreIconSVGM4React.bs").make(d),onClick:a,title:"",ref:function(a){return{contents:a}}}),g.jsx(b("MessengerBusinessPersistentMenuUpdateSubscriptionHandler.react"),{pageID:i,onUpdate:o})]})}c=a;f.bootloadedBotMenuFlyout=h;f.make=c}),null);
__d("MessengerCameraIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M18.01125,23.50245 C15.52875,23.50745 13.51225,21.49495 13.50775,19.00845 C13.50275,16.52145 15.51175,14.50195 17.99425,14.49695 C20.47675,14.49245 22.49325,16.50445 22.49775,18.99145 C22.50225,21.47795 20.49375,23.49745 18.01125,23.50245 M17.99825,12.49945 C14.40825,12.50695 11.50325,15.42245 11.51025,19.01245 C11.51675,22.60195 14.43275,25.50695 18.02275,25.49995 C21.61275,25.49295 24.51775,22.57745 24.51125,18.98795 C24.50425,15.39745 21.58825,12.49295 17.99825,12.49945 M26.50025,28.99995 L9.50025,28.99995 C7.29125,28.99995 5.50025,27.20895 5.50025,24.99995 L5.50025,13.99995 C5.50025,11.79095 7.29125,9.99995 9.50025,9.99995 L10.00025,9.99995 C10.96025,9.99995 11.88175,9.61845 12.56075,8.93945 L13.43925,8.06045 C14.11825,7.38195 15.03975,6.99995 16.00025,6.99995 L20.00025,6.99995 C20.96025,6.99995 21.88175,7.38195 22.56075,8.06045 L23.43925,8.93945 C24.11825,9.61845 25.03975,9.99995 26.00025,9.99995 L26.50025,9.99995 C28.70925,9.99995 30.50025,11.79095 30.50025,13.99995 L30.50025,24.99995 C30.50025,27.20895 28.70925,28.99995 26.50025,28.99995",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerMessageRequestsTypedLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("MessengerMessageRequestsTypedLogger"))()}f.make=a}),null);
__d("MessengerComposerPendingActionsM4React.bs",["React","bs_caml_obj","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerActions","MessengerDialogs.bs","MessengerURIStore","MessageRequestUtils","MercuryThreadActions","MessengerParticipants.bs","MessengerBlockDialogReact.bs","MessengerMessageRequestsTypedLogger.bs","MessengerComposerPendingActions.react","MessengerConfirmBlockThreadDialogReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return b("MercuryThreadActions").getForFBID(a)}function h(a,c,d){b("MessengerDialogs.bs").showDialog(function(a){return g.jsx(b("MessengerConfirmBlockThreadDialogReact.bs").make,{participantName:d})});var e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(void 0).setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(a)?"other":"pending").setThreadKey(e).setEntryPoint(void 0).log()}function i(a,c,d,e){var f=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,d);b("MercuryThreadActions").getForFBID(a).blockIgnoreOnMessengerDotCom(f,d,function(a){return h(c,d,e)})}function j(a,c,d,e){b("MercuryThreadActions").getForFBID(a)["delete"](d,null);b("MessengerActions").selectThread(null,null);e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(void 0).setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(c)?"other":"pending").setThreadKey(e).setEntryPoint("inbox_banner").log()}function k(a,c,d){if(d)return;d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,b("CurrentUser").getID());b("MessengerMessageRequestsTypedLogger.bs").make(void 0).setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessageRequestUtils").isFiltered(a)?"other":"pending").setThreadKey(d).setEntryPoint("inbox_banner").log()}function l(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,"other");d=b("bs_caml_obj").caml_equal(b("MessengerURIStore").getState().activeThreadID,c);if(d){b("MessengerActions").selectThread(null,null);return}}function m(a,c,d){var e=c.thread_id;if(b("MercuryIDs").isGroupChat(e))return l(a,e,void 0);d=c.other_user_fbid;if(d==null)return;var f=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(!(f==null))return b("MessengerDialogs.bs").showDialog(function(d){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(function(b){return i(a,c,e,f.short_name)},b("bs_caml_option").some(f),null,[]))})}function c(a){var c=a.thread,d=a.threadId,e=a.viewer;a=a.onAccept;return g.jsx(b("MessengerComposerPendingActions.react"),{thread:c,threadID:d,viewer:e,onAccept:a,onIgnoreBlock:function(a){return m(e,c,a)},onDeleteDialogDeleteClick:function(a){return j(e,c,d,a)},onDeleteDialogToggleClick:function(a){return k(c,d,a)}})}d=c;f.getThreadActions=a;f.handleAfterBlock=h;f.handleConfirmBlock=i;f.handleDeleteDialogDeleteClick=j;f.handleDeleteDialogToggleClick=k;f.handleIgnore=l;f.handleIgnoreBlock=m;f.make=d}),null);
__d("MessengerCurrencyEURIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,17.5 L15.0175,17.5 C15.0075,17.6645 15,17.83 15,18 C15,18.17 15.0075,18.3355 15.0175,18.5 L30.5,18.5 C30.776,18.5 31,18.276 31,18 C31,17.724 30.776,17.5 30.5,17.5 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,15 C5,15.276 5.224,15.5 5.5,15.5 L12.787,15.5 C13.5795,12.2965 16.0515,10.25 20.5,10.25 C20.835,10.25 21.15,10.267 21.4265,10.291 C21.9925,10.3395 22.476,10.7855 22.499,11.3535 C22.5255,12.0045 21.9945,12.5305 21.3505,12.5065 C21.2395,12.5025 21.1225,12.5 21,12.5 C17.971,12.5 16.214,13.6625 15.454,15.5 L30.5,15.5 C30.776,15.5 31,15.276 31,15 L31,12 C31,9.791 29.209,8 27,8 Z M30.5,20.5 L15.454,20.5 C16.214,22.3375 17.971,23.5 21,23.5 C21.111,23.5 21.218,23.498 21.32,23.4945 C21.874,23.4755 22.391,23.8595 22.4835,24.4065 C22.594,25.0575 22.1335,25.644 21.5025,25.7025 C21.2085,25.7295 20.8665,25.75 20.5,25.75 C16.0515,25.75 13.5795,23.7035 12.787,20.5 L5.5,20.5 C5.224,20.5 5,20.724 5,21 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,21 C31,20.724 30.776,20.5 30.5,20.5 Z M5.5,17.5 C5.224,17.5 5,17.724 5,18 C5,18.276 5.224,18.5 5.5,18.5 L12.5175,18.5 C12.5105,18.334 12.5,18.17 12.5,18 C12.5,17.83 12.5105,17.666 12.5175,17.5 L5.5,17.5 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyGBPIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,16.5 C5,16.776 5.224,17 5.5,17 L14.861,17 C14.661,16.204 14.4915,15.3075 14.4915,14.258 C14.4915,11.5845 16.4645,10 20,10 L21.9465,10 C22.4445,10 22.906,10.3405 22.9865,10.832 C23.088,11.4585 22.607,12 22,12 L20,12 C17.851,12 16.979,12.9685 16.979,14.478 C16.979,15.428 17.161,16.245 17.3695,17 L30.5,17 C30.776,17 31,16.776 31,16.5 L31,12 C31,9.791 29.209,8 27,8 M30.5,19 L17.895,19 C17.9505,19.2985 17.992,19.5965 17.992,19.898 C18.013,21.25 17.313,22.7855 16.085,23.488 L22.9355,23.488 C23.4355,23.488 23.899,23.83 23.979,24.3235 C24.0815,24.9525 23.5985,25.496 22.989,25.496 L13.511,25.496 C13.0015,25.496 12.5555,25.115 12.512,24.6075 C12.462,24.0215 12.7985,23.482 13.332,23.2585 C14.712,22.6805 15.5055,21.403 15.5145,19.9605 C15.5145,19.656 15.4615,19.3355 15.388,19 L5.5,19 C5.224,19 5,19.224 5,19.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,19.5 C31,19.224 30.776,19 30.5,19",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyPENIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{d:"M14.5,25.5 C11.638,25.5 10.3105,24.3635 9.6655,23.2965 C9.189,22.508 9.768,21.5 10.6895,21.5 C11.154,21.5 11.5605,21.765 11.806,22.1595 C12.2805,22.9205 13.185,23.484 14.605,23.484 C16.42,23.484 17.5,22.5775 17.5,21.2695 C17.5,20.204 16.7345,19.6445 15.2235,19.276 L12.9265,18.7165 C11.0375,18.284 9.4945,17.166 9.4945,14.803 C9.4945,12.312 11.442,10.5 14.5,10.5 C17.0295,10.5 18.65,11.5585 19.3465,12.84 C19.75,13.5815 19.17,14.4845 18.325,14.4845 C17.8545,14.4845 17.4335,14.218 17.2085,13.8045 C16.7965,13.049 15.897,12.5045 14.584,12.5045 C12.9895,12.5045 11.9815,13.3265 11.9815,14.603 C11.9815,15.5205 12.58,16.164 13.891,16.4695 L16.199,17.029 C18.34,17.525 19.9765,18.548 19.9765,21.048 C19.9765,23.594 18.0625,25.5 14.5,25.5 Z M9,8 L25.686,8 C25.938,8 26.1185,8.244 26.0445,8.4855 L20.1765,27.5585 C20.095,27.8215 19.853,28 19.5785,28 L9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 Z M28.4282,9.22705 C28.5762,8.74605 29.1507,8.62105 29.4862,8.88705 C30.4057,9.61705 31.0002,10.73455 31.0002,12.00005 L31.0002,24.00005 C31.0002,26.20905 29.2092,28.00005 27.0002,28.00005 L23.1602,28.00005 C22.9082,28.00005 22.7277,27.75605 22.8017,27.51455 L28.4282,9.22705 Z"}),fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyPHPIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M30.5,15.5 L23.483,15.5 C23.4915,15.664 23.5,15.829 23.5,16 C23.5,16.1715 23.4915,16.336 23.483,16.5 L30.5,16.5 C30.776,16.5 31,16.276 31,16 C31,15.724 30.776,15.5 30.5,15.5 Z M14.9935,19.004 L18.304,19.004 C19.3015,19.004 20.0505,18.685 20.5045,18 L14.9935,18 L14.9935,19.004 Z M27,8 L9,8 C6.791,8 5,9.791 5,12 L5,13.5 C5,13.776 5.224,14 5.5,14 L12.5,14 L12.5,11.75 C12.5,11.0595 13.0595,10.5 13.75,10.5 L18.5,10.5 C20.9585,10.5 22.646,11.7565 23.25,14 L30.5,14 C30.776,14 31,13.776 31,13.5 L31,12 C31,9.791 29.209,8 27,8 Z M14.9935,16.5 L20.9685,16.5 C20.9825,16.338 21,16.1795 21,16 C21,15.82 20.983,15.662 20.969,15.5 L14.9935,15.5 L14.9935,16.5 Z M30.5,18 L23.2515,18 C22.6485,20.25 20.96,21.5 18.5,21.5 L15,21.5 L15,24.25 C15,24.983 14.3695,25.5685 13.621,25.4935 C12.9705,25.4285 12.5,24.8325 12.5,24.1785 L12.5,18 L5.5,18 C5.224,18 5,18.2235 5,18.5 L5,24 C5,26.209 6.791,28 9,28 L27,28 C29.209,28 31,26.209 31,24 L31,18.5 C31,18.2235 30.776,18 30.5,18 Z M5.5,16.5 L12.5,16.5 L12.5,15.5 L5.5,15.5 C5.224,15.5 5,15.724 5,16 C5,16.276 5.224,16.5 5.5,16.5 Z M18.304,13.0005 L14.9935,13.0005 L14.9935,14 L20.512,14 C20.0585,13.311 19.306,13.0005 18.304,13.0005 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyTHBIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M15.4915,16.74 L17,16.74 L17,12.754 L15.4915,12.754 L15.4915,16.74 Z M16.5,8 L9,8 C6.791,8 5,9.791 5,12 L5,24 C5,26.209 6.791,28 9,28 L16.5,28 C16.7765,28 17,27.776 17,27.5 L17,25.496 L14.2505,25.496 C13.56,25.496 13.0005,24.9365 13.0005,24.246 L13.0005,11.755 C13.0005,11.0645 13.56,10.505 14.2505,10.505 L17,10.505 L17,8.5 C17,8.224 16.7765,8 16.5,8 Z M27,8 L19.5,8 C19.2235,8 19,8.224 19,8.5 L19,10.505 L19.447,10.505 C22.0425,10.505 23.5045,11.8995 23.5045,14.195 C23.5045,15.9855 22.2515,17.296 20.7455,17.479 L20.7455,17.5995 C22.5765,17.8085 23.999,19.0495 23.999,21.268 C23.999,23.898 21.967,25.448 19,25.492 L19,27.5 C19,27.776 19.2235,28 19.5,28 L27,28 C29.209,28 31,26.209 31,24 L31,12 C31,9.791 29.209,8 27,8 Z M15.4915,23.231 L17,23.231 L17,18.7325 L15.4915,18.7325 L15.4915,23.231 Z M21.0125,14.7035 C21.0125,13.505 20.2875,12.834 19,12.7675 L19,16.6715 C20.391,16.481 21.0125,15.844 21.0125,14.7035 Z M21.492,21.011 C21.492,19.6165 20.6045,18.828 19,18.7485 L19,23.18 C20.7545,23 21.492,22.2955 21.492,21.011 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCurrencyUSDIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M19.5034,28 C19.2274,28 19.0034,27.776 19.0034,27.5 L19.0034,25.435 C21.7154,25.1145 23.4769,23.556 23.4769,21.048 C23.4769,18.548 21.8399,17.5245 19.6994,17.029 L17.3914,16.47 C16.0799,16.164 15.4814,15.5205 15.4814,14.603 C15.4814,13.3265 16.4894,12.5045 18.0839,12.5045 C19.3974,12.5045 20.2964,13.0485 20.7084,13.8045 C20.9334,14.2175 21.3544,14.4845 21.8254,14.4845 C22.6699,14.4845 23.2504,13.5815 22.8469,12.8395 C22.1499,11.5585 20.7184,10.7645 19.0034,10.5565 L19.0034,8.5 C19.0034,8.224 19.2274,8 19.5034,8 L26.9999,8 C29.2094,8 30.9999,9.791 30.9999,12 L30.9999,24 C30.9999,26.209 29.2094,28 26.9999,28 L19.5034,28 Z",fill:a}),h.jsx("path",{d:"M9,28 C6.791,28 5,26.209 5,24 L5,12 C5,9.791 6.791,8 9,8 L16.5035,8 C16.7795,8 17.0035,8.224 17.0035,8.5 L17.0035,10.583 C14.7045,10.933 12.9945,12.4 12.9945,14.803 C12.9945,17.166 14.5375,18.284 16.4265,18.7165 L18.7235,19.2755 C20.2345,19.645 21,20.204 21,21.2695 C21,22.5775 19.92,23.4835 18.105,23.4835 C16.685,23.4835 15.7805,22.9205 15.306,22.1595 C15.0605,21.765 14.654,21.5 14.1895,21.5 C13.268,21.5 12.689,22.508 13.1655,23.296 C13.8105,24.363 14.9655,25.244 17.0035,25.449 L17.0035,27.5 C17.0035,27.776 16.7795,28 16.5035,28 L9,28 Z",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerEmojiButtonReact.bs",["fbt","bs_curry","React","JSResource","bs_caml_option","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerReactIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatEmojiFlyout.react").__setRef("MessengerEmojiButtonReact.bs"));function a(a,c){var d=a.className,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.onSelect,l=a.sendCustomEmoji,m=a.threadId;a=a.icon;var n=function(a){a=b("bs_curry")._1(j,void 0);if(!(a==null))return a.focus()},o=function(a){return n(void 0)},p=function(a,c){return h.createElement(i,{onCategorySelect:n,onEscKeyDown:a,onSelect:k,sendCustomEmoji:l,threadID:m,width:b("MessengerFlyoutButtonReact.bs").cFLYOUT_WIDTH})},q=g._("Choose an emoji");a=a!==void 0?b("bs_caml_option").valFromOption(a):b("MessengerReactIconSVGM4React.bs").makeSolid(e);return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:d,createFlyout:p,flyoutAlignment:f,getInput:j,icon:a,onClick:o,title:q,testid:"m4_emoji_button",ref:c})}c=h.forwardRef(a);f.bootloadedEmojiFlyout=i;f.make=c}),null);
__d("MessengerGamesIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M28,14 C26.8955,14 26,14.8955 26,16 C26,17.1045 26.8955,18 28,18 C29.1045,18 30,17.1045 30,16 C30,14.8955 29.1045,14 28,14 M24,18 C22.8955,18 22,18.8955 22,20 C22,21.1045 22.8955,22 24,22 C25.104,22 26,21.1045 26,20 C26,18.8955 25.104,18 24,18 M13,17 L11,17 L11,15 C11,14.448 10.552,14 10,14 C9.448,14 9,14.448 9,15 L9,17 L7,17 C6.448,17 6,17.448 6,18 C6,18.552 6.448,19 7,19 L9,19 L9,21 C9,21.552 9.448,22 10,22 C10.552,22 11,21.552 11,21 L11,19 L13,19 C13.552,19 14,18.552 14,18 C14,17.448 13.552,17 13,17 M25,27 L11,27 C6.0295,27 2,22.9705 2,18 C2,13.0295 6.0295,9 11,9 L25,9 C29.97,9 34,13.0295 34,18 C34,22.9705 29.97,27 25,27",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerGamesButtonReact.bs",["fbt","React","JSResource","lazyLoadComponent","BootloaderResource","MessengerFlyoutButtonReact.bs","MessengerGamesIconSVGM4React.bs","MessengerFlyoutPlaceholderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerGamesFlyout.react").__setRef("MessengerGamesButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.threadId;a=h.useState(function(){return b("BootloaderResource").read(b("JSResource")("GamesQuicksilverFunnelLogger").__setRef("MessengerGamesButtonReact.bs"))});var k=a[0];a=function(a){return k.logGameListOpen(k.getDefaultFunnelName())};var l=function(a){return k.logGameListDismiss(k.getDefaultFunnelName())},m=function(a,c){return h.createElement(i,{placeholder:h.jsx(b("MessengerFlyoutPlaceholderReact.bs").make,{}),threadID:j})},n=g._("Play a game");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:m,flyoutAlignment:e,getInput:f,icon:b("MessengerGamesIconSVGM4React.bs").make(d),onClick:a,onHideFlyout:l,title:n,ref:function(a){return{contents:a}}})}c=a;f.bootloadedGameFlyout=i;f.make=c}),null);
__d("MessengerGifIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.fill;return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M27.002,13.5 L22.502,13.5 C21.95,13.5 21.502,13.948 21.502,14.5 L21.502,21.5 C21.502,22.052 21.95,22.5 22.502,22.5 C23.054,22.5 23.502,22.052 23.502,21.5 L23.502,19.5 L26.502,19.5 C27.054,19.5 27.502,19.052 27.502,18.5 C27.502,17.948 27.054,17.5 26.502,17.5 L23.502,17.5 L23.502,15.5 L27.002,15.5 C27.554,15.5 28.002,15.052 28.002,14.5 C28.002,13.948 27.554,13.5 27.002,13.5 Z M19.502,14.5 C19.502,13.948 19.054,13.5 18.502,13.5 C17.95,13.5 17.502,13.948 17.502,14.5 L17.502,21.5 C17.502,22.052 17.95,22.5 18.502,22.5 C19.054,22.5 19.502,22.052 19.502,21.5 L19.502,14.5 Z M14.963,16.9995 L12.502,17 C11.95,17 11.502,17.448 11.502,18 C11.502,18.552 11.95,19 12.502,19 L13.8855,19 C13.7835,20.1495 13.095,21 11.829,21 C10.3875,21 9.4925,19.725 9.4925,17.95 C9.4925,16.207 10.4655,14.9785 11.886,14.9785 C12.6395,14.9785 13.109,15.3665 13.4295,15.764 C13.6765,16.0695 14,16.229 14.353,16.229 C15.0175,16.229 15.574,15.5085 15.094,14.791 C14.471,13.859 13.335,13.25 11.8795,13.25 C9.179,13.25 7.502,15.2135 7.502,17.9735 C7.502,20.7655 9.071,22.75 11.798,22.75 C14.352,22.75 16.002,20.982 16.002,17.986 C16.002,17.441 15.5365,16.9995 14.963,16.9995 Z M27,30 L17,30 C15.811,30 14.7455,29.48 14.0135,28.656 C13.6395,28.235 13.1,28 12.537,28 L9,28 C6.791,28 5,26.209 5,24 L5,10 C5,7.791 6.791,6 9,6 L19,6 C20.189,6 21.2545,6.52 21.9865,7.3435 C22.3605,7.7645 22.9,8 23.463,8 L27,8 C29.209,8 31,9.791 31,12 L31,26 C31,28.209 29.209,30 27,30 Z",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerGifButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerGifIconSVGM4React.bs","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ChatContentSearchFlyout.react").__setRef("MessengerGifButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,j=a.getInput,k=a.location,l=a.onSelect;a=function(a,c){return h.createElement(i,{location:b("MercuryShareAttachmentRenderLocations.bs").getValue(k),onEscKeyDown:a,onSelect:function(c){b("bs_curry")._1(l,c);return b("bs_curry")._1(a,void 0)}})};var m=g._("Choose a gif");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,disabled:d,flyoutAlignment:f,getInput:j,icon:h.jsx(b("MessengerGifIconSVGM4React.bs").make,{fill:e}),title:m})}c=a;f.bootloadedGifFlyout=i;f.make=c}),null);
__d("MessengerBarChartIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{id:"Fill-1",d:"M13,25.9966 L13,15.9966 C13,14.8921 12.1045,13.9966 11,13.9966 L9,13.9966 C7.8955,13.9966 7,14.8921 7,15.9966 L7,25.9966 C7,27.1011 7.8955,27.9966 9,27.9966 L11,27.9966 C12.1045,27.9966 13,27.1011 13,25.9966 M23,11.9966 L23,25.9966 C23,27.1011 23.8955,27.9966 25,27.9966 L27,27.9966 C28.1045,27.9966 29,27.1011 29,25.9966 L29,11.9966 C29,10.8921 28.1045,9.9966 27,9.9966 L25,9.9966 C23.8955,9.9966 23,10.8921 23,11.9966 M15,7.9966 L15,25.9966 C15,27.1011 15.8955,27.9966 17,27.9966 L19,27.9966 C20.1045,27.9966 21,27.1011 21,25.9966 L21,7.9966 C21,6.8921 20.1045,5.9966 19,5.9966 L17,5.9966 C15.8955,5.9966 15,6.8921 15,7.9966"}),id:"Group",fill:a}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerCreatePollFlyoutBootLoader.react",["JSResource","LazyComponent.react","MessengerSpinner.react","React","ReasonBootloadOnRender.react","ReasonResource"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("ReasonBootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{customColor:this.props.customColor,threadFBID:this.props.threadFBID,onHideDialog:this.props.hideFlyout}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingCreatePollFlyoutReact.bs").__setRef("MessengerCreatePollFlyoutBootLoader.react")),placeholder:g.jsx("div",{style:{padding:"15px",textAlign:"center",width:"125px"},children:g.jsx(b("MessengerSpinner.react"),{color:"grey"})})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerCreatePollFlyoutBootLoader.bs",["ReasonReact.bs","MessengerCreatePollFlyoutBootLoader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCreatePollFlyoutBootLoader.react"),{customColor:a,hideFlyout:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerGroupPollingButtonM4React.bs",["fbt","React","ReasonReact.bs","MessengerFlyoutButtonReact.bs","MessengerBarChartIconSVGM4React.bs","MessengerCreatePollFlyoutBootLoader.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,i=a.threadFbid;a=function(a,c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerCreatePollFlyoutBootLoader.bs").make(d,a,i,[]))};var j=g._("Create a poll");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,getInput:f,icon:b("MessengerBarChartIconSVGM4React.bs").make(d),title:j})}c=a;f.make=c}),null);
__d("MessengerPageUtils.bs",["MercuryIDs","bs_caml_option","CurrentUser","MercuryDispatcher","MercuryThreadActions","MessengerParticipants.bs","MercuryParticipantTypes"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).user_type===b("MercuryParticipantTypes").PAGE;else return!1}function a(a){a=a.other_user_fbid;if(a==null)return!1;else return g(b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))))}function h(a,c,d){c=b("MessengerParticipants.bs").getNow(c);if(c==null)return;c=Object.assign({},c);b("MercuryDispatcher").getForFBID(d).handleUpdate(Object.assign({},{participants:[Object.assign(c,{is_messenger_blocked:a})],preprocessed:!0}))}function c(a,c){var d=b("CurrentUser").getAccountID(),e=a.other_user_fbid;if(!(e==null))if(c){b("MercuryThreadActions").getForFBID(d).unblockOnMessengerDotCom(a.thread_id);return h(!1,b("MercuryIDs").getParticipantIDFromUserID(e),d)}else{b("MercuryThreadActions").getForFBID(d).blockOnMessengerDotCom(a.thread_id);return h(!0,b("MercuryIDs").getParticipantIDFromUserID(e),d)}}f.isPageParticipant=g;f.isPageThread=a;f.changeBlockedStatus=h;f.toggleBlock=c}),null);
__d("MessengerPlusCircleIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}function c(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",{style:a,d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12"})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"24",width:"24",viewBox:"0 0 24 24"})}f.make=a;f.makeWithPathStyle=c}),null);
__d("MessengerQuickCamButtonBootLoader.react",["AutoFocusableLink.react","JSResource","LazyComponent.react","MercuryBootloadOnInteraction.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return!a.htmlQC?null:g.jsx(b("MercuryBootloadOnInteraction.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},a)),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MessengerQuickCamButtonBootLoader.react"),placeholder:a.placeholder||g.jsx(b("AutoFocusableLink.react"),{label:"flyout button",className:a.className})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerQuickCamButtonBootLoader.bs",["gkx","bs_belt_Option","ReasonReact.bs","bs_js_null_undefined","MessengerQuickCamButtonBootLoader.react"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("678582");function a(a,c,d,e,f,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerQuickCamButtonBootLoader.react"),{className:a,htmlQC:g,fill:b("bs_belt_Option").getWithDefault(c,""),location:d,onSendButtonClick:e,placeholder:b("bs_js_null_undefined").fromOption(f),threadID:h,viewer:i},j)}f.htmlQCGk=g;f.make=a}),null);
__d("MessengerStagedFilesPreviewM4React.bs",["cx","cssVar","React","immutable","JSResource","bs_belt_Option","bs_caml_option","MessengerActions","XUISpinner.react","bs_js_null_undefined","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("MessengerStagedFilesPreviewM4React.bs"));function a(a){var c=a.fileUploader,d=a.onResize,e=a.thread;a=a.threadId;c=c!==void 0?c.uploadedFiles:b("immutable").Map([]);if(c.size===0)return null;e=e!==void 0?b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).footer_color),"#0084ff"):"#0084ff";return i.jsx(i.Suspense,{children:i.jsx("div",{children:i.jsx(j,{files:c,small:!1,threadCustomColor:e,threadID:a,onClick:function(a,c){b("MessengerActions").cancelFileUpload(a,c)},onResize:b("bs_js_null_undefined").fromOption(d)},"stage_file_preview"),className:"_8rdt"}),fallback:i.jsx(b("XUISpinner.react"),{className:"_2qf"})})}c=a;f.bootloadedStageFilePreview=j;f.make=c}),null);
__d("MessengerStickerIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M22.5,18.5 L27.998,18.5 C28.8885,18.5 29.335,19.577 28.705,20.207 L20.207,28.705 C19.577,29.335 18.5,28.8885 18.5,27.9975 L18.5,22.5 C18.5,20.291 20.291,18.5 22.5,18.5 M16.5,22.5 L16.5,28 C16.5,28.552 16.052,29 15.5,29 L11,29 C8.791,29 7,27.209 7,25 L7,11 C7,8.791 8.791,7 11,7 L25,7 C27.209,7 29,8.791 29,11 L29,15.5 C29,16.052 28.552,16.5 28,16.5 L22.5,16.5 C19.1865,16.5 16.5,19.1865 16.5,22.5",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerStickerButtonReact.bs",["cx","fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerStickerIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("StickersFlyout.react").__setRef("MessengerStickerButtonReact.bs"));function a(a){var c=a.className,d=a.disabled,e=a.fill,f=a.flyoutAlignment,g=a.getInput,k=a.onSelect;a=function(a,c){return i.createElement(j,{className:"_293j",onEscKeyDown:a,onStickerSelect:b("bs_curry").__3(k),shown:c})};var l=h._("Choose a sticker");return i.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,dialogClassName:"_5e-r",disabled:d,flyoutAlignment:f,getInput:g,icon:b("MessengerStickerIconSVGM4React.bs").make(e),title:l,testid:"messenger_sticker_button"})}c=a;f.bootloadedStickerFlyout=j;f.make=c}),null);
__d("MessengerDeclineDialogReact.bs",["fbt","bs_curry","React","bs_caml_obj","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerFRXBootloaderUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id)}function i(a){var c=a.name,d=a.onBlock,e=a.onDelete,f=a.onToggle,i=a.isGroupChat,j=a.thread,k=function(a){if(!a){b("bs_curry")._1(f,a);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)}};a=function(a){b("MessengerDialogs.bs").removeDialog(void 0,void 0);return b("bs_curry")._1(d,a)};var l=function(a){b("bs_curry")._1(e,void 0);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},m=function(a){return k(!1)},n=function(a){if(j!==void 0){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(b("bs_caml_option").valFromOption(j).thread_id);return}},o=i?g._("Leave Group"):g._("Block"),p=j!==void 0?b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(j).other_user_fbid,b("CurrentUser").getID()):!0,q=j!==void 0?b("bs_caml_option").valFromOption(j).message_count===0:!0,r=b("CurrentUser").isWorkUser(),s=b("CurrentUser").isWorkUser();return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,k,void 0,void 0,void 0,void 0,440,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:i||r||c===void 0?g._("Decline Conversation"):g._("Don't want to hear from {name}?",[g._param("name",c)])}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:i?g._("Would you like to leave the group? Group members will see that you've left."):c!==void 0?s?g._("Message request will be declined. Would you like to block {name} on Workplace Chat or delete these messages?",[g._param("name",c)]):g._("You can permanently delete the conversation, block {name} from sending you messages or tell us if something's wrong. We won't tell {name} you've taken these actions.",[g._param("name",c)]):g._({"Workplace Chat":"Message request will be declined. Would you like to block this person on Workplace Chat or delete these messages?","Messenger":"Message request will be declined. Would you like to block this person on Messenger or delete these messages?"},[g._enum(s?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})])}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(m,[])),j!==void 0&&!(p||q||!b("bs_caml_option").valFromOption(j).can_viewer_report||b("CurrentUser").isWorkUser())?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Something's Wrong"),void 0,void 0,n,0,void 0,void 0,void 0,[])):null,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Delete"),void 0,"danger",l,0,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,o,void 0,"danger",a,0,void 0,void 0,void 0,[]))]))]))}function c(a){var c={onBlock:a.onBlock,onDelete:a.onDelete,onToggle:a.onToggle,isGroupChat:a.isGroupChat},d=b("bs_caml_option").nullable_to_opt(a.name);d!==void 0&&(c.name=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.thread);d!==void 0&&(c.thread=b("bs_caml_option").valFromOption(d));return i(c)}d=i;f.handleReportThread=a;f.make=d;f.jsComponent=c}),null);
__d("MessengerUnconnectedThreadInfoTextReact.bs",["cx","fbt","React","Link.react","bs_caml_option","MessengerDialogs.bs","MessengerDeclineDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c,d,e,f){return b("MessengerDialogs.bs").showDialog(function(g){g={name:c,onBlock:d,onDelete:e,onToggle:f,isGroupChat:!1};a!==void 0&&(g.thread=b("bs_caml_option").valFromOption(a));return i.createElement(b("MessengerDeclineDialogReact.bs").make,g)})}function a(a){var c=a.name,d=a.onBlock,e=a.onDelete,f=a.onToggle,g=a.thread;return i.jsx("div",{children:i.jsxs("div",{children:[h._("If you reply, {name} will be able to call you and see information like your Active Status and when you've read messages.",[h._param("name",c)])," ",i.jsx(b("Link.react"),{className:"_74kv",onClick:function(a){return j(g,c,d,e,f)},children:h._("I don't want to hear from {name}",[h._param("name",c)])})]}),className:"_74ku"})}c=a;f.renderTDADialog=j;f.make=c}),null);
__d("MessengerMicrophoneIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("svg",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M14,28 L22,28 C22.552,28 23,28.448 23,29 C23,29.552 22.552,30 22,30 L14,30 C13.448,30 13,29.552 13,29 C13,28.448 13.448,28 14,28 M18,22.5 C15.239,22.5 13,20.2615 13,17.5 L13,11 C13,8.2385 15.239,6 18,6 C20.761,6 23,8.2385 23,11 L23,17.5 C23,20.2615 20.761,22.5 18,22.5 M18,26.5 C13.0295,26.5 9,22.4705 9,17.5 C9,16.948 9.448,16.5 10,16.5 C10.552,16.5 11,16.948 11,17.5 C11,21.366 14.134,24.5 18,24.5 C21.866,24.5 25.0005,21.366 25.0005,17.5 L25,17.5 C25,16.948 25.448,16.5 26,16.5 C26.552,16.5 27,16.948 27,17.5 C27,22.4705 22.9705,26.5 18,26.5",fill:a})]}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerVoiceClipButtonReact.bs",["fbt","bs_curry","React","JSResource","lazyLoadComponent","MessengerFlyoutButtonReact.bs","MessengerMicrophoneIconSVGM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("MessengerVoiceClipFlyout.react").__setRef("MessengerVoiceClipButtonReact.bs"));function a(a){var c=a.className,d=a.fill,e=a.flyoutAlignment,f=a.getInput,j=a.onVoiceClipCreate;a=function(a,c){return h.createElement(i,{onCancel:a,onStopAndGetVoiceClip:function(c){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(j,c)}})};var k=g._("Send a voice clip");return h.jsx(b("MessengerFlyoutButtonReact.bs").make,{className:c,createFlyout:a,flyoutAlignment:e,flyoutWidth:220,getInput:f,icon:b("MessengerMicrophoneIconSVGM4React.bs").make(d),title:k})}c=a;f.bootloadedVoiceClipFlyout=i;f.make=c}),null);
__d("P2PPaymentSupportedCurrency",[],(function(a,b,c,d,e,f){a=Object.freeze({USD:"USD",PEN:"PEN",PHP:"PHP",THB:"THB",VND:"VND",PLN:"PLN",NONE:"NONE"});e.exports=a}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.$3=function(){c.props.onMouseDown&&c.props.onMouseDown(),c.$1=c.props.isActive},c.$2=function(a){a.stopPropagation();if(c.$1){c.$1=!1;return}c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx(b("TooltipLink.react"),{alignH:"center",className:b("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$2,onMouseDown:this.$3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$4(),children:this.getButton()})};d.getButton=function(){return this.props.button?this.props.button:i.jsx("i",{className:"_5s8l"})};d.$4=function(){return this.props.isDisabled?null:h._("Send Money")};return c}(i.Component);e.exports=a}),null);
__d("P2PActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PAYMENT_METHODS_UPDATED:"credit_cards_updated",PAYMENT_METHODS_UPDATED_ERROR:"credit_cards_updated_error",CHANNEL_EVENTS_ALLOWED:"channel_events_allowed",CHANNEL_EVENTS_IGNORED:"channel_events_ignored",PAYMENT_METHOD_SAVING:"credit_card_saving",PAYMENT_METHOD_ADDED:"credit_card_added",PAYMENT_METHOD_ADDED_ERROR:"credit_card_added_error",PAYMENT_METHOD_DELETED:"credit_card_deleted",PAYMENT_METHOD_DELETED_ERROR:"credit_card_deleted_error",PAYMENT_METHOD_UPDATED:"credit_card_updated",PAYMENT_METHOD_UPDATED_ERROR:"credit_card_updated_error",PRESET_PAYMENT_METHOD_UPDATED:"preset_credit_card_updated",PRESET_PAYMENT_METHOD_UPDATED_ERROR:"preset_credit_card_updated_error",PAYMENT_METHOD_VERIFIED:"credit_card_verified",PAYMENT_METHOD_VERIFIED_ERROR:"credit_card_verified_error",TRANSFERS_UPDATED:"transfers_updated",TRANSFERS_UPDATED_ERROR:"transfers_updated_error",NUX_TRANSFERS_UPDATED:"nux_transfers_updated",TRANSFER_ADDED:"transfer_added",TRANSFER_ADDED_ERROR:"transfer_added_error",TRANSFER_UPDATED:"transfer_updated",TRANSFER_UPDATED_ERROR:"transfer_updated_error",TRANSFER_ACCEPTED:"transfer_accepted",TRANSFER_DECLINED:"transfer_declined",CHAT_SEND_VIEW_OPENED:"chat_send_view_opened",CHAT_SEND_VIEW_CLOSED:"chat_send_view_closed",BIN_NUMBER_VALIDATED:"bin_number_validated",BIN_NUMBER_VALIDATED_ERROR:"bin_number_validated_error",USER_ELIGIBILITY_UDPATED:"user_eligibility_updated",FRIENDS_LIST_UPDATED:"friends_list_updated",DIALOG_SHOWN:"dialog_shown",DIALOG_CLOSED:"dialog_closed",BANNER_STATES_UPDATED:"banner_states_updated",BANNER_DISMISSED:"banner_dismissed",BANNER_VIEWED:"banner_viewed",BANNER_COMPLETED:"banner_completed",PLATFORM_CONTEXT_ADDED:"platform_context_added",PLATFORM_CONTEXT_BANNER_DISMISSED:"platform_context_banner_dismissed",PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:"platform_context_product_item_sold",PLATFORM_CONTEXT_CHANGED:"platform_context_changed",EXTENSIVE_TRANSFER_DETAILS_UPDATED:"extensive_transfer_details_updated",PAYMENT_REQUEST_INITIATED:"payment_request_initiated",PAYMENT_REQUEST_INITIATED_COMPLETE:"payment_request_initiated_completed",PAYMENT_REQUEST_CREATED:"payment_request_created",PAYMENT_REQUEST_CREATED_ERROR:"payment_request_created_error",PAYMENT_REQUEST_UPDATED:"payment_request_updated",PAYMENT_REQUEST_DECLINE_INITIATED:"payment_request_decline_initiated",PAYMENT_REQUEST_DECLINED:"payment_request_declined",PAYMENT_REQUEST_DECLINE_ERROR:"payment_request_decline_error",PAYMENT_REQUESTS_FETCHED:"payment_requests_fetched",PAYMENT_REQUEST_CANCEL_INITIATED:"payment_request_cancel_initiated",PAYMENT_REQUEST_CANCELED:"payment_request_canceled",PAYMENT_REQUEST_CANCEL_ERROR:"payment_request_cancel_error"});e.exports=a}),null);
__d("P2PDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("P2PActions",["ChatOpenTab","ChatOpenTabEventLogger","FantaTabActions","MessengerEnvironment","P2PActionConstants","P2PDispatcher","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";f.updateCreditCards=a;f.updateCreditCardsError=c;f.ignoreCreditCardChannelEvents=d;f.allowCreditCardChannelEvents=e;f.creditCardSaving=g;f.addCreditCard=h;f.addCreditCardError=i;f.updatePresetCreditCard=j;f.updatePresetCreditCardError=k;f.updateCreditCard=l;f.updateCreditCardError=m;f.deleteCreditCard=n;f.deleteCreditCardError=o;f.verifyCreditCard=p;f.verifyCreditCardError=q;f.updateTransfers=r;f.updateTransfersError=s;f.updateNUXTransfers=t;f.transferAdded=u;f.transferAddedError=v;f.transferUpdated=w;f.transferUpdatedError=x;f.transferAccepted=y;f.transferDeclined=z;f.chatSendViewOpened=A;f.chatSendViewClosed=B;f.binNumberValidated=C;f.binNumberValidatedError=D;f.friendsListUpdated=E;f.userEligibilityUpdated=F;f.showDialog=G;f.hideDialog=H;f.bannerStatesUpdated=I;f.bannerDismissed=J;f.bannerCompleted=K;f.addPlatformContext=L;f.platformContextBannerDismissed=M;f.platformContextProductItemSold=N;f.platformContextChanged=O;f.extensiveTransferDetailsLoaded=P;f.paymentRequestInitiated=Q;f.paymentRequestInitiatedComplete=R;f.paymentRequestCreated=S;f.paymentRequestCreatedError=T;f.paymentRequestUpdated=U;f.paymentRequestDeclineInitiated=V;f.paymentRequestDeclined=W;f.paymentRequestDeclineError=X;f.paymentRequestCancelInitiated=Y;f.paymentRequestCanceled=Z;f.paymentRequestCancelError=$;f.paymentRequestsFetched=aa;function a(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED,data:a})}function c(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED_ERROR})}function d(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_IGNORED})}function e(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_ALLOWED})}function g(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_SAVING})}function h(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_ADDED,data:a})}function i(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_ADDED_ERROR,data:a})}function j(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_PAYMENT_METHOD_UPDATED,data:a})}function k(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_PAYMENT_METHOD_UPDATED_ERROR,data:a})}function l(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_UPDATED,data:a})}function m(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_UPDATED_ERROR,data:a})}function n(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_DELETED,data:a})}function o(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_DELETED_ERROR,data:a})}function p(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_VERIFIED,data:a})}function q(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHOD_VERIFIED_ERROR,data:a})}function r(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED,data:a})}function s(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED_ERROR,data:a})}function t(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").NUX_TRANSFERS_UPDATED,data:a})}function u(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED,data:a})}function v(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED_ERROR,data:a})}function w(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED,data:a})}function x(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED_ERROR,data:a})}function y(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ACCEPTED})}function z(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_DECLINED,data:a})}function A(a){function c(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_OPENED,data:a})}b("ChatOpenTab").canOpenTab()&&!a.fromChatTab?(a.fromChatTab||(b("FantaTabActions").openTab(a.threadID),b("ChatOpenTabEventLogger").logAutoOpen("p2pAction",a.threadID)),c()):(b("MessengerEnvironment").roomschatui||b("ifRequired")("MessengerActions",function(c){b("setImmediate")(function(){c.selectThread(a.threadID)})}),c())}function B(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED,data:a})}function C(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED,data:a})}function D(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED_ERROR,data:a})}function E(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").FRIENDS_LIST_UPDATED,data:a})}function F(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").USER_ELIGIBILITY_UDPATED,data:a})}function G(a,c){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_SHOWN,data:{dialogClass:a,dialogProps:c}})}function H(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_CLOSED})}function I(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_STATES_UPDATED,data:a})}function J(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_DISMISSED,data:a})}function K(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_COMPLETED,data:a})}function L(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_ADDED,data:a})}function M(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED,data:a})}function N(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD,data:a})}function O(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_CHANGED,data:a})}function P(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED,data:a})}function Q(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED})}function R(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED_COMPLETE})}function S(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED,data:a})}function T(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED_ERROR,data:a})}function U(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_UPDATED,data:a})}function V(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_INITIATED})}function W(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINED,data:a})}function X(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_ERROR,data:a})}function Y(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_INITIATED})}function Z(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCELED,data:a})}function $(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_ERROR,data:a})}function aa(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUESTS_FETCHED,data:a})}}),null);
__d("P2PLoadingMask.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.visible;a=a===void 0?!1:a;return!Boolean(a)?null:h.jsxs("div",{className:"_3de",children:[h.jsx(b("XUISpinner.react"),{background:"dark",size:"large",className:"_3df"}),h.jsx("div",{className:"_3dg"})]})};return c}(h.Component);e.exports=a}),null);
__d("P2PLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";var g="P2PPaymentLoggerConfig";a={log:function(a,c){c=babelHelpers["extends"]({event:a},c),b("BanzaiLogger").log(g,c)}};e.exports=a}),null);
__d("CreditCardFormParam",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCOUNT_ID:"account_id",ACCOUNT_COUNTRY_CODE:"account_country_code",APP_ID:"app_id",CARD_EXPIRATION:"exp",CARD_FBID:"cc_fbid",CARD_ID:"cc_id",CARD_TYPE:"cardType",CITY:"city",CONTEXT_ID:"context_id",COUNTRY:"country",CSC_LENGTH:"csc_length",EMAIL:"email",FIRST_NAME:"firstName",TRACKING_ID:"tracking_id",JSFAIL_SOURCE:"jsfail_source",KEYPRESS_TIMES:"kpts",LAST_NAME:"lastName",MONTH:"month",STATE:"state",STREET:"street",STREET_2:"street2",VALIDATE_ADDRESS:"validate_address",VALIDATE_NAME:"validate_name",VALIDATE_ZIP:"validate_zip",YEAR:"year",ZIP:"zip",CARD_HOLDER_NAME:"card_holder_name",VALIDATOR_CHECKS:"checks",CARD_NUMBER:"creditCardNumber",CSC:"csc",CARD_NUMBER_FIRST_6:"creditCardNumber_first6",CARD_NUMBER_LAST_4:"creditCardNumber_last4",CARD_NUMBER_TOKEN:"creditCardNumber_token",CSC_TOKEN:"csc_token",AUTH_LEVEL_FLAG:"auth_level",AUTH_AMOUNT:"auth_amount",AUTH_CURRENCY:"auth_currency",AUTO_EXPAND_AUTH_LEVEL_FLAG:"auto_expand_auth_level",PAYMENT_ITEM_TYPE:"payment_item_type",COMBINED_PAYMENT_TYPE:"combined_payment_type",RECEIVER_ID:"receiver_id",CREDENTIAL_ID:"credential_id",IS_STORED_BALANCE:"is_stored_balance",IS_CHECKOUT_ELIGIBLE:"is_checkout_eligible",CHECKOUT_SAVE_CC_WITH_AUTH:"checkout_save_cc_with_auth",CHECKOUT_FUND_AMOUNT:"checkout_fund_amount",FLOW_PLACEMENT:"flow_placement",FLOW_TYPE:"flow_type",STORED_BALANCE_STATUS:"stored_balance_status",SESSION_ID:"session_id",LOGGING_ID:"logging_id",IS_FROM_SUPPORT:"is_from_support",SOURCE_SUPPORT_FORM_ID:"source_support_form_id",GEO_COUNTRY:"geo_country"});e.exports=a}),null);
__d("P2PAPIUtils",["fbt","CreditCardFormParam","guid"],(function(a,b,c,d,e,f,g){var h=[1001,1004,1006,1002],i={getRandomDigits:function(a){return Math.random().toString().slice(2,2+a)},genRequestID:function(){return"id:"+b("guid")()+":"+Date.now()},genOfflineThreadingID:function(){return Date.now()+""+i.getRandomDigits(6)},getUncaughtErrorMessage:function(a){return a&&h.indexOf(a)!==-1?g._("Sorry, we were unable to complete your request. Please check that you are connected to the internet or refresh this page and try again."):g._("Sorry, something went wrong. Please try again later.")},prepareCardMutationData:function(a){var c={},d=a[b("CreditCardFormParam").CARD_NUMBER].replace(/ /g,"");c[b("CreditCardFormParam").CARD_NUMBER]=d;if(typeof a[b("CreditCardFormParam").CARD_EXPIRATION]==="string"){var e=a[(d=b("CreditCardFormParam")).CARD_EXPIRATION].split("/");c[d.MONTH]=e[0];c[d.YEAR]=e[1];c[d.CARD_EXPIRATION]={};c[d.CARD_EXPIRATION][d.MONTH]=c[d.MONTH];c[d.CARD_EXPIRATION][d.YEAR]=c[d.YEAR]}else{c[(d=b("CreditCardFormParam")).MONTH]=a[d.CARD_EXPIRATION][d.MONTH];c[d.YEAR]=a[d.CARD_EXPIRATION][d.YEAR]}return babelHelpers["extends"]({},a,c)}};e.exports=i}),null);
__d("P2PSendMoneyDialogStore",["EventEmitter","P2PActionConstants","P2PAPIUtils","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=36,h;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;h=new Map();b("P2PDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.onEventDispatched=function(a){var c=a.data;a=a.type;switch(a){case b("P2PActionConstants").CHAT_SEND_VIEW_OPENED:this.handleChatSendViewOpened(c);this.emit("change");break;case b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED:this.handleChatSendViewClosed(c);this.emit("change");break}};d.getStateByThreadID=function(a){return h.get(a)};d.handleChatSendViewOpened=function(a){h.set(a.threadID,{amount:a.amount,groupSendRecipientUserIDs:a.groupSendRecipientUserIDs,groupSendReceiptDetails:a.groupSendReceiptDetails,groupThreadFBID:a.groupThreadFBID,onCompletion:a.onCompletion,openRequestTab:a.openRequestTab,memoText:a.memoText&&a.memoText.substr(0,g),platformData:a.platformData,referrer:a.referrer,paymentRequestID:a.paymentRequestID,sendMoneyDialogShown:!0,sendMoneyNUXDismissed:a.sendMoneyNUXDismissed,useModal:a.useModal,offlineThreadingID:b("P2PAPIUtils").genOfflineThreadingID()})};d.handleChatSendViewClosed=function(a){h.set(a.threadID,{amount:"",groupSendRecipientUserIDs:[],groupSendReceiptDetails:null,groupThreadFBID:"",onCompletion:null,openRequestTab:!1,memoText:null,platformData:null,referrer:null,paymentRequestID:null,sendMoneyDialogShown:!1,sendMoneyNUXDismissed:!1,useModal:!1,offlineThreadingID:null})};d.isAnyChatSendViewOpen=function(){for(var a=h.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.sendMoneyDialogShown)return!0}return!1};return c}(b("EventEmitter"));c=new a();e.exports=c}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","DeferredComponent.react","MercuryIDs","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","createReactClass_DEPRECATED","emptyFunction","getPageIDFromThreadID","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("MessengerEnvironment").messengerui,j=i?282:260;a=b("createReactClass_DEPRECATED")({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:b("prop-types").node,className:b("prop-types").string,ContextualDialog:b("prop-types").func,flyoutAlignment:b("prop-types").oneOf(["left","center","right"]),fromChatTab:b("prop-types").bool,onTrigger:b("prop-types").func,participantIDs:b("prop-types").array,referrer:b("prop-types").string,threadID:b("prop-types").string},refs_dialog:null,refs_placeholderButton:null,getInitialState:function(){return{showPlaceholderDialog:!1,shouldBootloadImmediately:b("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_clicked:!1,_onComponentLoad:b("emptyFunction"),_bootloadCalled:!1,_sendMoneyDialogStoreSub:null,log:function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:"UI_Flow_P2P_Send"},c))},componentWillUnmount:function(){this.removeDialogStoreSub()},onDialogStoreChange:function(){this._bootloadComponentNow(),this.removeDialogStoreSub()},removeDialogStoreSub:function(){this._sendMoneyDialogStoreSub&&(this._sendMoneyDialogStoreSub.remove(),this._sendMoneyDialogStoreSub=null)},onPlaceholderClick:function(){var a=this.props.threadID?b("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log("UI_Actn_Send_Money_Button_Placeholder_Clicked",{object_id:a});this._bootloadComponentNow();this._clicked=!1},_handleDialogVisibility:function(a){!a?b("P2PActions").chatSendViewClosed({threadID:this.props.threadID}):b("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID,fromChatTab:this.props.fromChatTab}),this.setState({showPlaceholderDialog:a})},renderLayers:function(){var a=this,c={};if(this.state.showPlaceholderDialog){var d=this.props.ContextualDialog||b("XUIContextualDialog.react");c.placeholderDialog=h.jsx(d,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:i?"right":"left",contextRef:function(){return a.refs_placeholderButton},onBlur:function(){a._clicked||a._handleDialogVisibility(!1),a._clicked=!1},ref:function(b){return a.refs_dialog=b},shown:!0,width:j,position:"above",children:h.jsx("div",{className:"_c_5",children:h.jsx(b("P2PLoadingMask.react"),{visible:!0})})})}return c},render:function(){return this._isPageChat()?null:h.jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function(){var a=this;return h.jsx(b("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:!1,isDisabled:!1,isMessenger:i,onClick:this.onPlaceholderClick,onMouseDown:function(){a._clicked=!0},onMouseOver:this._bootloadComponentNow,ref:function(b){return a.refs_placeholderButton=b}})},_bootloadComponent:function(a){this._onComponentLoad=a.bind(this),this.state.shouldBootloadImmediately?this._bootloadComponentNow():this._sendMoneyDialogStoreSub=b("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function(){var a=this;if(this._bootloadCalled)return;this._bootloadCalled=!0;b("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(b){a.removeDialogStoreSub(),a._onComponentLoad(b),a.setState({showPlaceholderDialog:!1})},"P2PSendMoneyContainerBootloader.react")},_isPageChat:function(){return!!this._getPageID()},_getPageID:function(){return b("getPageIDFromThreadID")(this.props.threadID)}});c=a;e.exports=c}),null);
__d("P2PSendMoneyContainerBootloaderReact.bs",["bs_belt_Option","bs_caml_option","ReasonReact.bs","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react"],(function(a,b,c,d,e,f){"use strict";var g=b("P2PPaymentConfig").config;c=b("bs_belt_Option").map(g==null?void 0:b("bs_caml_option").some(g),function(a){return a.currencyCode});function a(a,c,d,e,f,h,i,j,k,l){return b("ReasonReact.bs").wrapJsForReason(b("P2PSendMoneyContainerBootloader.react"),{button:a,className:c,fromChatTab:b("bs_belt_Option").getWithDefault(d,!1),participantIDs:h,p2pPaymentConfig:b("bs_belt_Option").getWithDefault(f,g),flyoutAlignment:"left",referrer:i,thread:j,threadID:k,onTrigger:e},l)}f.config=g;f.currencyCode=c;f.make=a}),null);
__d("OmniMSuggestions_OmniMActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN_ACTION_TYPE:0,CREATE_EVENT:1,LOCATION:2,PAYMENT:3,POLL:4,STICKER:5,TEXT:6,TRANSPORTATION:7,ORDER_FOOD:8,MAKE_RESERVATION:9,SCHEDULE_CALL:10,LIVE_LOCATION:11,VIDEO_CALL:12,VOICE_CALL:13,SAVE_CONTENT:14,PLAY_GAME:15,SHARE_CONTACT:16,SEND_PHOTO:17,CREATE_REMINDER_DEPRECATED:18,CREATE_REMINDER:19,MARKETPLACE_SAFE_LOCATION:20,VIEW_SAVED:21,CHAT_EXTENSION:22,DAY_CAMERA:23,CALENDAR:24,GIF:25,PAGE_PROFILE:26,FEEDBACK:27,LOCAL_PAGES_PICKER:28,CREATE_SOCIAL_REX_REQUEST:29,ADD_SOCIAL_REX_RECOMMENDATION:30,ENABLE_TRANSLATION:31,CHECK_MARKETPLACE:32,SERVICES_APPOINTMENT:33,ADDRESS:34,REQUEST_PAYMENT:35,OFFER_PAYMENT:36,PAGE_CREATE_APPOINTMENT:37,ONE_CLICK_CREATE_APPOINTMENT:38,ADD_TO_GROUP_CHAT:39,VOICE_CLIP:40,CREATE_PERSONAL_REMINDER:41,WORK_APP_INTEGRATION:42,SHARE_TO_FACEBOOK:43,VOICE_ASSISTANT:44,MARKETPLACE_MARK_AS_X:45,SHARE_CONTACT_INFO:46,REQUEST_APPOINTMENT:47,MARKETPLACE_SAVE_TO_FAQ:48,INTEGRITY_BLOCK:49,SCHEDULE_PHONE_CALL:50,SMART_REPLY:51});e.exports=a}),null);
__d("WorkChatSuggestionButton.react",["React","Text.react","WIGIcon.react","WIGPressable.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.icon,d=a.label,e=a.onPress;a=a.isQuickReply;a=a===void 0?!1:a;var f=g.useState(!0),h=f[0],i=f[1];f=function(){e?e():null,i(!1)};return h?g.jsx("div",{className:"d3qy8rs6 kh1bt4hq thzm4xdn",children:g.jsx("span",{className:"c19r2vkt i2yem8cm snpb814a a1vt70ul nvb2uqik m4qils9p brrrwa7m t3k3x88u h4y7jwnr cz2zqk6i pf8t2of3 rr7cureg noe3hari ale2funn qctk5f2p",children:g.jsx(b("WIGPressable.react"),{display:"inline",onPress:f,overlayDisabled:!0,children:g.jsxs("div",{className:"ta8eqm4s hx9ojghx aa5x7xvh i2yem8cm rec76pb8 s4cxp3c9 fl5mvqbf rql8hti4 sbqx1y7x besomprw nlygpylr hhvjwakb gekupxos j2l1er6b er4jod18 kwfg7mzh ahcads71 h4y7jwnr tp8s54bt t7ahbhdd c42t48hm",children:[c?g.jsx("div",{className:a?"co320n8y i29qrqi0 jh22n2fz i2yem8cm":"co320n8y i29qrqi0",children:g.jsx(b("WIGIcon.react"),{color:"secondary",icon:c})}):null,d!=null?g.jsx(b("Text.react"),{className:"snpb814a kh1bt4hq co320n8y aw1jpamg hkc3k1si p9p2bx6h",children:d}):null]})})})}):null}}),null);
__d("WorkChatSmartReplies.react",["ix","CurrentUser","MessengerState.re","OmniMSuggestions_OmniMActionType","React","WorkChatSuggestionButton.react","emptyObject","fbicon","gkx","keyMirror","stylex","WorkChatSuggestionsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("keyMirror")(b("OmniMSuggestions_OmniMActionType"));function j(a,c){new(b("WorkChatSuggestionsTypedLogger"))().setSuggestionType(i.SMART_REPLY).setAppID(b("CurrentUser").getAppID()).setMessageID(c).setThreadID(a).log()}function a(a){var c=a.threadID,d=a.onClick,e=a.onResize,f=b("MessengerState.re").getThreadMessagesRangeNow(b("CurrentUser").getID(),c,0,1)[0];a=h.useState(!0);var k=a[0],l=a[1];h.useEffect(function(){e()},[f,k,e]);if(f==null||!b("gkx")("1115706"))return null;a=f.m_suggestions;if(a==null)return null;a=a.filter(function(a){return a.type===i.SMART_REPLY}).map(function(a,e){return h.jsx(b("WorkChatSuggestionButton.react"),{icon:b("fbicon")._(g("788340"),12),label:a.label,onPress:function(){d(a.label,b("emptyObject")),l(!1),j(c,f.message_id)},isQuickReply:!0},e)});return k&&a.length>0?h.jsxs("div",{className:"brrrwa7m h4y7jwnr",children:[" ",a," "]}):null}}),null);
__d("MessengerComposerM4React.bs",["cx","fbt","cssVar","invariant","bs_curry","React","gkx","bs_js_dict","bs_caml_array","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","P2PGKValues","ReasonReact.bs","AsyncRequest","MercuryConfig","MessengerView","MessengerState.bs","isWebGLEnabled","bs_caml_exceptions","MessengerDialogs.bs","bs_js_null_undefined","MercurySourceType","MessengerPageUtils.bs","MessageRequestUtils","MessengerButtonReact.bs","MercuryReadOnlyReason","MessengerHotLikeUtils","MessengerParticipants.bs","WorkFileUploadsGating","getPageIDFromThreadID","requestAnimationFrame","MessengerSettingsStore","MessengerSourceContext.bs","ReplyingToMessageReact.bs","AutoFocusableLink.react","ChatPhotoUploader.react","MessengerGifButtonReact.bs","MessengerQuickCamOrigins","MessengerSendButtonReact.bs","MessengerCustomColorUtils.bs","MessengerEmojiButtonReact.bs","MessengerGamesButtonReact.bs","WorkChatSmartReplies.react","MessengerBotMenuButtonReact.bs","MessengerStickerButtonReact.bs","P2PPaymentSupportedCurrency","MessengerComposerInput.react","MessengerGamesIconSVGM4React.bs","MessengerHotLikeButton.react","MessengerPhotoIconSVGM4React.bs","MessengerCameraIconSVGM4React.bs","MessengerVoiceClipButtonReact.bs","MessengerThreadCannotReplyReason","MercuryIgnoredBlockedParticipants.bs","MessengerFileSizeErrorDialogReact.bs","MessengerPlusCircleIconSVGM4React.bs","MessengerQuickCamButtonBootLoader.bs","MessengerCurrencyEURIconSVGM4React.bs","MessengerCurrencyGBPIconSVGM4React.bs","MessengerCurrencyPENIconSVGM4React.bs","MessengerCurrencyPHPIconSVGM4React.bs","MessengerCurrencyTHBIconSVGM4React.bs","MessengerCurrencyUSDIconSVGM4React.bs","MessengerGroupPollingButtonM4React.bs","MessengerStagedFilesPreviewM4React.bs","XMessagingUnblockMessagesController","P2PSendMoneyContainerBootloaderReact.bs","MessengerComposerPendingActionsM4React.bs","MessengerUnconnectedThreadInfoTextReact.bs"],(function(a,b,c,d,e,f,g,h,aa,i){"use strict";var j=b("React"),ba=b("bs_caml_exceptions").create("MessengerComposerM4React.TooManyIcons");function k(a,b){var c=a?1150:650;a=a?1e3:500;switch(b){case 0:b=c+1|0;return"(min-width: "+b+"px)";case 1:b=a+1|0;return"(min-width: "+b+"px) and (max-width: "+c+"px)";case 2:return"(max-width: "+a+"px)"}}function a(a){return b("bs_caml_option").nullable_to_opt(a.current)}function l(a){return j.jsx("div",{children:j.jsx("div",{children:h._("This person isn't available right now."),className:"_2wy4"}),className:"_4rv3"})}d={make:l};function m(a,c,d,e){new(b("AsyncRequest"))(b("XMessagingUnblockMessagesController").getURIBuilder().getURI()).setMethod("POST").setData({fbid:b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromThreadID(b("bs_js_null_undefined").fromOption(a)))}).send();if(c)return b("MessengerPageUtils.bs").changeBlockedStatus(!1,d,e)}function ca(a){var c=a.threadId,d=a.isPageChat,e=a.participantID,f=a.viewer;a=j.jsx(b("MessengerButtonReact.bs").make,{onClick:function(a){return m(c,d,e,f)},label:h._("Unblock Now"),type:1});return j.jsx("div",{children:j.jsx("div",{children:d?h._("You've blocked messages from this business. {unblock_now_button}",[h._param("unblock_now_button",a)]):h._("You've blocked messages from this person. {unblock_now_button}",[h._param("unblock_now_button",a)]),className:"_2wy4"}),className:"_4rv3"})}e={handleUnblock:m,make:ca};function c(a,c){var d=a.canReply,e=a.disableAutofocus,f=a.disableInput,g=a.fileUploader,aa=a.hideActions,m=a.mentionsEnabled,n=a.onCancelReplyingToMessage,da=a.onCustomLikeSelect,ea=a.onMessageSend,o=a.onPhotoUploadComplete,p=a.onPhotoUploadCancel,q=a.onPhotoUploadFail,r=a.onPhotoUploadSubmit,s=a.onResize,fa=a.onStickerSelect,t=a.onVoiceClipCreate,u=a.p2pPaymentConfig,v=a.participants,w=a.recipients,x=a.replyingToMessage,y=a.sharePreview,z=a.showBotMenu,A=a.thread,B=a.threadFbid,C=a.threadId,D=a.view,E=a.viewer;a=g==null?void 0:b("bs_caml_option").some(g);m=m==null?void 0:b("bs_caml_option").some(m);var ga=v==null?void 0:b("bs_caml_option").some(v),F=w==null?void 0:b("bs_caml_option").some(w),ha=y==null?void 0:b("bs_caml_option").some(y),G=A==null?void 0:b("bs_caml_option").some(A),H=B==null?void 0:b("bs_caml_option").some(B),I=b("getPageIDFromThreadID")(C),ia=I==null?void 0:b("bs_caml_option").some(I),J=C==null?void 0:b("bs_caml_option").some(C);D=D==null?void 0:b("bs_caml_option").some(D);var K=j.useRef(null),ja=j.useRef(null),ka=j.useRef(null),la=j.useRef(null),ma=j.useRef(null),L=K.current,na=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(ja.current),function(a){return a}),oa=ka.current,pa=ma.current,M=j.useState(function(){return""}),qa=M[1],ra=M[0];M=j.useState(function(){return!1});var sa=M[1],N=M[0];M=j.useState(function(){return!1});var ta=M[1],O=j.useState(function(){return 0}),P=O[1];O=O[0];var ua=j.useState(function(){return!1}),va=ua[1],wa=j.useState(function(){return{}}),xa=wa[1],ya=j.useState(function(){return{}}),za=ya[1],Q=j.useContext(b("MessengerSourceContext.bs").context),Aa=la.current;j.useLayoutEffect(function(){var a=Aa==null?0:Array.from(Aa.children).reduce(function(a,b){return(a+b.clientWidth|0)+8|0},0);b("bs_curry")._1(xa,function(a){return{width:"0px"}});b("bs_curry")._1(za,function(b){return{width:""+a+"px"}})},[J,Aa,F,xa,za]);j.useEffect(function(){s==null||b("bs_curry")._1(s,void 0)},[d,N,x,ha,a,s]);F=s==null?void 0:b("bs_caml_option").some(s);var R=!b("MessengerSettingsStore").getSettings().info_sidebar_collapsed,Ba=Q===b("MercurySourceType").WORK_ROOM_INCALL_CHAT||Q===b("MercurySourceType").MESSENGER_ROOM_INCALL_CHAT;j.useEffect(function(){var a=k(R,2),c=window.matchMedia(a);a=k(R,1);var d=window.matchMedia(a);a=k(R,0);var e=window.matchMedia(a);b("bs_curry")._1(P,function(a){if(Ba||c.matches)return 2;else if(d.matches)return 1;else return 0});var f=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 2})},g=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 1})},h=function(a){if(a.matches)return b("bs_curry")._1(P,function(a){return 0})};if(!Ba){c.addListener(f);d.addListener(g);e.addListener(h);return function(a){c.removeListener(f),d.removeListener(g),e.removeListener(h)}}},[R,P]);var S=function(a){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.author),function(a){a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return a.short_name})},T=navigator.mediaDevices;T=(T==null?!1:!(T.getUserMedia==null))||!(navigator.getUserMedia==null)||!(navigator.webkitGetUserMedia==null)||!(navigator.mozGetUserMedia==null)||!(navigator.msGetUserMedia==null);var U=D===b("MessengerView").DETAIL.COMPOSE;w=w==null?!1:w.count()>0&&U;var Ca=ia!==void 0;w=J!==void 0||w;y=y==null?!1:y.params!==null&&y.type!==null;var Da=g==null?!1:g.uploadedFiles.size>0;g=g==null?!1:g.uploadingFiles.size>0;var Ea=function(a){if(a==null)return!1;else return a};Da=ra.length!==0||Da||y;var Fa=function(a){if(!(L==null))return L.exitCurrentMode()},V=function(a){if(!(L==null))return L.focus()};y=function(a){if(a.platformFBID===b("MercuryConfig").MessengerAppID){b("bs_curry")._1(fa,a.resultID);return}if(oa==null)return;var c=b("bs_js_dict").get(a.media,"preview");if(c!==void 0)c=c.url;else{var d=b("bs_js_dict").get(a.media,"thumbnail");c=d!==void 0?d.url:""}return oa.uploadURL({attribution_app_id:a.platformFBID,external_image_url:a.source.url,preview_url:c,source:a.source})};var Ga=function(a){V(void 0);if(!(L==null))return L.insertEmoji(a)},Ha=function(a){pa==null||pa.uploadFiles(a);return Fa(void 0)},Ia=function(a){b("bs_curry")._1(qa,function(b){return a});if(a!==ra)return b("bs_curry")._1(sa,function(a){return!1})},Ja=function(a){a=K.current;if(!(a==null))return a.triggerSend()},Ka=function(a){};j.useImperativeHandle(c,function(){return{exitCurrentMode:Fa,focusInput:V,handleFileUpload:Ha,handleTextDropped:Ka}},[Fa,V,Ha]);c=function(a){return b("MessengerDialogs.bs").showDialog(function(c){return j.jsx(b("MessengerFileSizeErrorDialogReact.bs").make,{error:a==null?2:b("MessengerFileSizeErrorDialogReact.bs").errorOfString(a.error)})})};var La;if(x==null)La=null;else{S=S(x);S=S!==void 0?S:b("MessengerParticipants.bs").getDefaultName(void 0);La=j.createElement(b("ReplyingToMessageReact.bs").make,{name:S,body:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.body),""),attachments:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(x.attachments),[]),onCancelReplyingToMessage:n,isChatTab:!1})}S=C==null?null:j.jsx(b("MessengerStagedFilesPreviewM4React.bs").make,{fileUploader:a,onResize:F,thread:G,threadId:C});if(A==null||C==null||!b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(A))n=null;else{var W=A.other_user_fbid;if(W==null)n=null;else{W=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(W));n=W==null?null:j.jsx(j.Suspense,{children:j.createElement(b("MessengerUnconnectedThreadInfoTextReact.bs").make,{name:W.name,onBlock:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleIgnoreBlock(E,A,a)},onDelete:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogDeleteClick(E,A,C,a)},onToggle:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogToggleClick(A,C,a)},thread:A}),fallback:j.jsx("div",{})})}}if(A==null)W=b("MessengerCustomColorUtils.bs").defaultColor(void 0);else{var X=A.gradient_colors.length;if(X>0)W=b("bs_caml_array").get(A.gradient_colors,X-1|0);else{X=A.solid_color;W=X==null?b("MessengerCustomColorUtils.bs").defaultColor(void 0):X}}X="rgba(134, 142, 153, 0.75)";I=!(C==null)&&!(I==null)&&z?j.jsx("div",{children:j.jsx(b("MessengerBotMenuButtonReact.bs").make,{className:"_30yy",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},pageId:I,threadId:C}),className:"_7mkk"}):null;T=!T||U||Q===b("MercurySourceType").MESSENGER_ROOM_INCALL_CHAT?null:j.jsx(b("MessengerVoiceClipButtonReact.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},onVoiceClipCreate:t},"voice_clip_button");if(!b("P2PGKValues").P2PVisible||Ca||u==null||v==null||C==null||v.size===1)t=null;else{var Y=b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PEN)?b("MessengerCurrencyPENIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").PHP)?b("MessengerCurrencyPHPIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").EUR)?b("MessengerCurrencyEURIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").GBP)?b("MessengerCurrencyGBPIconSVGM4React.bs").make(W):b("P2PSendMoneyContainerBootloaderReact.bs").currencyCode===b("bs_caml_option").some(b("P2PPaymentSupportedCurrency").THB)?b("MessengerCurrencyTHBIconSVGM4React.bs").make(W):b("MessengerCurrencyUSDIconSVGM4React.bs").make(W);t=j.jsx(j.Suspense,{children:b("ReasonReact.bs").element(void 0,void 0,b("P2PSendMoneyContainerBootloaderReact.bs").make(Y,"_30yy _7oam",void 0,void 0,b("bs_caml_option").some(u),v.reduce(function(a,b,c,d){a.push(b.id);return a},[]),void 0,b("bs_js_null_undefined").fromOption(G),C,[])),fallback:j.jsx(b("AutoFocusableLink.react"),{children:Y,className:"_30yy _7oam",role:"button"})},"send_money_button")}u=!(A==null)&&!(B==null)&&!(A.is_canonical||U||b("gkx")("994335"))?j.jsx(b("MessengerGroupPollingButtonM4React.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},threadFbid:B},"group_poll_button"):null;Y=b("gkx")("678262")&&b("isWebGLEnabled")()&&H!==void 0&&!Ca&&Q!==b("MercurySourceType").MESSENGER_ROOM_INCALL_CHAT?j.jsx(j.Suspense,{children:j.jsx(b("MessengerGamesButtonReact.bs").make,{className:"_30yy _7oam",fill:W,flyoutAlignment:1,getInput:function(a){return K.current},threadId:J}),fallback:j.jsx(b("AutoFocusableLink.react"),{children:b("MessengerGamesIconSVGM4React.bs").make(W),className:"_30yy _7oam",role:"button"})},"games_button"):null;B=!(C==null)&&b("gkx")("678582")?b("ReasonReact.bs").element("quickcam_button",void 0,b("MessengerQuickCamButtonBootLoader.bs").make("_7oam",W,b("MessengerQuickCamOrigins").MESSENGER,function(a){},b("bs_caml_option").some(j.jsx(b("AutoFocusableLink.react"),{"aria-label":h._("Take a picture using quick cam"),children:b("MessengerCameraIconSVGM4React.bs").make(W),className:"_30yy _7oam"},"quickcam_button_placeholder")),C,E,[])):null;H=b("CurrentUser").isWorkUser()&&!b("WorkFileUploadsGating").canUploadFiles;Q=C==null?j.jsx("div",{children:j.jsx(b("MessengerPhotoIconSVGM4React.bs").make,{size:36,fill:X}),className:"_7oam"},"attachment_button_disabled"):j.jsx("div",{children:j.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,className:"_7oan",customUI:!0,disabled:!1,fill:W,imageClassName:"hidden_elem",imagesOnly:H,focusInput:V,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:c,threadID:C,viewer:E,ref:function(a){ma.current=a}}),className:"_30yy _7oam"},"attachment_button");var Z=!w;Z=j.jsx(b("MessengerStickerButtonReact.bs").make,{className:(Z?"":"_30yy")+" _7oam",disabled:Z,fill:Z?X:W,flyoutAlignment:1,getInput:function(a){return K.current},onSelect:function(a,c,d){b("bs_curry")._1(fa,a)}},"sticker_button");var $=!w;H=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:$,ref:function(a){ka.current=a},imagesOnly:H,focusInput:V,onAllUploadsComplete:o,onLastUploadFail:q,onLastUploadCancel:p,onSubmit:r,onUploadError:c}),style:{display:"none"}},"gif_uploader"),j.jsx(b("MessengerGifButtonReact.bs").make,{className:"_30yy _7oam",disabled:$,fill:$?X:W,flyoutAlignment:1,getInput:function(a){return K.current},location:2,onSelect:y},"gif_button")]},"gif_button");o=[T,t,Y,B,u];var Ma=G===void 0||!o.some(function(a){return a!==null});q=function(a){if(!Ma){a.stopPropagation();N||b("bs_curry")._1(ta,function(a){return!0});return b("bs_curry")._1(sa,function(a){return!a})}};if(o.length>6)throw{RE_EXN_ID:ba,_1:"Animation Currently Supports <= 6 Icons to add support for more please add new CSS rules in messengerComposer.css (more details there at: .messengerComposer/moreIconsOpen )",Error:new Error()};p=O!==0?j.jsx(j.Fragment,{children:o}):j.jsx(j.Fragment,{children:o.reverse()});r={fill:N||Ma?X:W};c=j.jsx("div",{children:j.jsx("div",{children:b("MessengerPlusCircleIconSVGM4React.bs").makeWithPathStyle(r),className:"_7mki"+(!Ma&&N?" _7mkj":"")+(Ma?" _7v3s":""),onTransitionEnd:function(a){if(!N){b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){b("requestAnimationFrame")(function(a){return b("bs_curry")._1(ta,function(a){return!1})})})});return}}}),className:"_7mkh"+(z?" _3-9a":""),onClick:q});$=[Q,Z,H];if(aa)y=null;else{var Na;switch(O){case 0:Na=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:p,ref:la,className:"_7mkk _7mkl"+(N?" _7oul":""),style:N?ya[0]:wa[0]}),j.jsx("div",{children:$.reverse(),className:"_7mkk"})]});break;case 1:Na=j.jsx("div",{children:$.reverse(),className:"_7mkk"});break;case 2:Na=null;break}y=j.jsxs(j.Fragment,{children:[I,c,Na]})}T=j.jsxs("div",{children:[O===2?j.jsx(j.Fragment,{children:$}):null,p],className:"_7mkk _7t1o"+(N?" _7t0e":"")+(N?"":" _7t0j")});t=aa?null:j.jsx(b("MessengerEmojiButtonReact.bs").make,{className:"_30yy _7odb",fill:W,flyoutAlignment:2,getInput:function(a){return K.current},onSelect:Ga,sendCustomEmoji:function(a,c,d){b("bs_curry")._3(da,a,c,d)},threadId:J,ref:ja});if(w&&Da&&!g)Y=j.jsx(b("MessengerSendButtonReact.bs").make,{className:(J!==void 0?"_30yy":"")+" _38lh _7kpi",customColor:W,onClick:Ja,useIcon:!0});else{B=b("MessengerHotLikeUtils").getCustomEmojiFromThread(G);u=B==null?void 0:b("bs_caml_option").some(B);o=!w;Y=j.jsx(b("MessengerHotLikeButton.react"),{className:(o?"":"_30yy")+" _4rv9 _6ymq"+(u===void 0?" _7kpj":"")+(u!==void 0?" _7v3t":""),customColor:o?X:W,customLike:B,disabled:o,renderSize:24,sendSticker:function(a){b("bs_curry")._1(fa,a)},sendCustomLike:function(a,c,d){b("bs_curry")._3(da,a,c,d)},threadID:J,thread:G})}r=j.jsx(b("WorkChatSmartReplies.react"),{threadID:J,onClick:ea,onResize:F});if(A==null||D===b("MessengerView").DETAIL.COMPOSE)z=null;else{q=A.cannot_reply_reason;Q=q==null?!1:q===b("MessengerThreadCannotReplyReason").BLOCKED;if(Q){A.is_canonical||i(0,4973);ga!==void 0||i(0,4974);A.other_user_fbid!==null||i(0,4975);Z=A.other_user_fbid;if(Z==null)z=j.jsx(l,{});else if(v==null)z=j.jsx(l,{});else{H=v.get(b("MercuryIDs").getParticipantIDFromUserID(Z));(H==null?void 0:b("bs_caml_option").some(H))!==void 0||i(0,4976);var Oa={state:!1};b("MessengerState.bs").compute(E,function(a){Oa.state=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(E,a.blocked_ids,A)});z=H==null?j.jsx(l,{}):Oa.state?j.jsx(ca,{threadId:J,isPageChat:Ca,participantID:H.id,viewer:E}):j.jsx(l,{})}}else z=j.jsx("div",{children:j.jsxs("div",{children:[I,j.jsx("div",{children:b("MercuryReadOnlyReason").getReason(A.has_email_participant),className:"_2wy4"})],className:"_5irm"}),className:"_4rv3"})}if(!d)return z;return!(A==null)&&!(C==null)&&b("MessageRequestUtils").shouldShowComposerPendingActions(A)&&!ua[0]?j.jsx(b("MessengerComposerPendingActionsM4React.bs").make,{thread:A,threadId:C,viewer:E,onAccept:function(a){return b("bs_curry")._1(va,function(a){return!0})}}):j.jsxs("div",{children:[r,n,x!==null?La:null,S,O!==0?T:null,j.jsxs("div",{children:[y,j.jsxs("div",{children:[j.jsx(b("MessengerComposerInput.react"),{disableAutofocus:e,disableInput:Ea(f),fileUploader:a,workChatContentApps:null,handleOnlyImageUploads:!1,isComposing:U,mentionsEnabled:m,onBeforeInput:function(a,c){if(na!==void 0){b("bs_caml_option").valFromOption(na).hideFlyout();return null}else return null},onChange:Ia,onFileUpload:Ha,onMessageSend:ea,onResize:F,pageID:ia,participants:ga,ref:K,smallerEqual640:!1,sharePreview:ha,showMenu:!1,thread:G,threadID:U?"new":J,viewer:E}),t],className:"_7kpk"+(M[0]&&O===0?" _7u0c":""),onClick:function(a){return b("bs_curry")._1(sa,function(a){return!1})}}),Y],className:"_5irm _7mkm"})],"aria-label":h._("New message"),className:"_4rv3 _7og6",role:"region"})}g=j.forwardRef(c);f.TooManyIcons=ba;f.getBreakpointMediaQuery=k;f.deref=a;f.Blocked=d;f.BlockedOther=e;f.make=g}),null);
__d("MessengerComposerM4React.re",["MessengerComposerM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerComposerM4React.bs").make;f.make=a}),null);
__d("MessengerEmojiUsageUtils",["MessengerSupportedEmojiUtils","Utf16"],(function(a,b,c,d,e,f){"use strict";f.findAllEmojis=a;var g=65039;function a(a){var c=[];a=b("MessengerSupportedEmojiUtils").parse(a);a.forEach(function(a){var d=[];a.emoji.forEach(function(a){a=b("Utf16").decode(a);a&&d.push(a)});d[d.length-1]===g&&d.pop();c.push(d)});return c}}),null);
__d("MessengerPageComposerM4React.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_belt_Option","bs_caml_option","AsyncRequest","MessengerActions","MNCommercePageSetting","MessengerParticipants.bs","getPageIDFromThreadID","MNCommerceCTAProcessor","MessengerComposerM4React.bs","MNCommerceCallToActionType","MessengerBotMenuDataFetcher","ChatPageComposerNullState.react","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","XMNCommercePageNullStateCTAController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a,c){var d=a.canReply,e=a.disableAutofocus,f=a.disableInput,g=a.fileUploader,j=a.hideActions,k=a.mentionsEnabled,l=a.onCancelReplyingToMessage,m=a.onCustomLikeSelect,n=a.onMessageSend,o=a.onPhotoUploadComplete,p=a.onPhotoUploadCancel,q=a.onPhotoUploadFail,r=a.onPhotoUploadSubmit,s=a.onResize,t=a.onStickerSelect,u=a.onVoiceClipCreate,v=a.p2pPaymentConfig,w=a.participants,x=a.recipients,y=a.replyingToMessage,z=a.sharePreview,A=a.thread,B=a.threadFbid,C=a.threadId,D=a.view;a=a.viewer;var E=i.useState(function(){return!1}),F=E[1],G=i.useState(function(){return null}),H=G[1],I=G[0];G=i.useState(function(){return!1});var J=G[1],K=i.useState(function(){return!1}),L=K[1],M=i.useState(function(){return!1}),N=M[1],O=b("getPageIDFromThreadID")(C),P=O==null?void 0:b("bs_caml_option").some(O),Q=function(a){var c=b("XMNCommercePageNullStateCTAController").getURIBuilder();new(b("AsyncRequest"))(c.getURI()).setMethod("POST").setData({page_id:a}).setHandler(function(a){b("bs_curry")._1(J,function(a){return!0});return b("bs_curry")._1(H,function(b){return a.payload})}).setErrorHandler(function(a){b("bs_curry")._1(J,function(a){return!1});return b("bs_curry")._1(F,function(a){return!1})}).send()};i.useEffect(function(){b("bs_curry")._1(F,function(a){return!1});b("bs_curry")._1(H,function(a){return null});b("bs_curry")._1(J,function(a){return!1});var a=0;A==null||O==null||A.message_count!==0?a=1:Q(O);a===1&&(b("bs_curry")._1(J,function(a){return!1}),b("bs_curry")._1(F,function(a){return!1}))},[A,C]);i.useEffect(function(){!(A==null)&&A.message_count!==0&&b("bs_curry")._1(J,function(a){return!1})});i.useEffect(function(){O==null?b("bs_curry")._1(L,function(a){return!1}):b("MessengerBotMenuDataFetcher").getHasPageSetting(O,function(a){return b("bs_curry")._1(L,function(b){return a})},function(a){return b("bs_curry")._1(L,function(a){return!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)},[P]);i.useEffect(function(){f==null?O==null?b("bs_curry")._1(N,function(a){return!1}):b("MessengerBotMenuDataFetcher").getHasPageSetting(O,function(a){return b("bs_curry")._1(N,function(b){return a})},function(a){return b("bs_curry")._1(N,function(a){return!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED):b("bs_curry")._1(N,function(a){return f})},[P]);var R=function(a){a=function(a){b("bs_curry")._1(J,function(a){return!0});return b("bs_curry")._1(F,function(a){return!1})};if(!(I==null)&&I.action_type!==b("MNCommerceCallToActionType").OPEN_NATIVE){b("bs_curry")._1(F,function(a){return!0});b("MNCommercePostbackRefSendManager").hasMDotMeRef(P)?(b("MNCommercePostbackCTADataManager").sendAndConfirm(I.id,I.title,C==null?void 0:b("bs_caml_option").some(C),null,a,b("MNCommercePostbackRefSendManager").getMdotMeRef()),b("MessengerActions").changeMDotMeReferral()):b("MNCommercePostbackCTADataManager").sendAndConfirm(I.id,I.title,C==null?void 0:b("bs_caml_option").some(C),null,a,null);b("MNCommerceCTAProcessor").logCTAClick(I);return}},S;if(I==null||I.action_type!==b("MNCommerceCallToActionType").POSTBACK)S=null;else{var T=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(A==null?void 0:b("bs_caml_option").some(A),function(a){return b("bs_caml_option").nullable_to_opt(a.other_user_fbid)}),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)))}),U=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(T,function(a){return a.name}),"page");if(!b("MNCommercePostbackRefSendManager").hasMDotMeRef(P)&&I.instantgame_metadata!==null)S=i.jsx("div",{children:h._("When you tap {cta title}, {name} will see your public info.",[h._param("cta title",I.title),h._param("name",U)]),className:"_3zc8"});else if(b("MNCommercePostbackRefSendManager").hasMDotMeRef(P)){T=b("bs_belt_Option").flatMap(T,function(a){return b("bs_caml_option").nullable_to_opt(a.vanity)});T=T!==void 0?"m.me/"+T:O==null?"m.me":"m.me/"+O;S=i.jsx("div",{children:h._("When you tap {cta title}, {name} will see your public info and that you opened their {link} link.",[h._param("cta title",I.title),h._param("name",U),h._param("link",T)]),className:"_3zc8"})}else S=null}U=A==null?null:A.message_count;b("MNCommercePostbackRefSendManager").sendMDotMeRef(P,U);return!(I==null)&&G[0]?i.jsxs("div",{children:[S,i.jsx("div",{children:i.jsx(b("ChatPageComposerNullState.react"),{cta:I,disabled:E[0],onClick:R,threadID:C==null?void 0:b("bs_caml_option").some(C)}),className:"_2xh4 _2xh4"})],className:"_2xh0"}):i.jsx(b("MessengerComposerM4React.bs").make,{canReply:d&&!M[0],disableAutofocus:e,disableInput:f,fileUploader:g,hideActions:j,mentionsEnabled:k,onCancelReplyingToMessage:l,onCustomLikeSelect:m,onMessageSend:n,onPhotoUploadComplete:o,onPhotoUploadCancel:p,onPhotoUploadFail:q,onPhotoUploadSubmit:r,onResize:s,onStickerSelect:t,onVoiceClipCreate:u,p2pPaymentConfig:v,participants:w,recipients:x,replyingToMessage:y,sharePreview:z,showBotMenu:K[0],thread:A,threadFbid:B,threadId:C,view:D,viewer:a,ref:c})}c=i.forwardRef(a);f.make=c}),null);
__d("MessengerPageComposerM4React.re",["MessengerPageComposerM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPageComposerM4React.bs").make;f.make=a}),null);
__d("MessengerSimpleDialogReact.bs",["fbt","React","bs_caml_option","ReasonReact.bs","ServerHTML.react","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var c=a.title,d=a.body;a=a.serverHTML;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:c}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:h.jsxs(h.Fragment,{children:[a!==void 0?h.createElement(b("ServerHTML.react"),{blob:b("bs_caml_option").valFromOption(a)}):null,d!==void 0?d:null]})}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={title:a.title},d=b("bs_caml_option").nullable_to_opt(a.body);d!==void 0&&(c.body=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.serverHTML);d!==void 0&&(c.serverHTML=b("bs_caml_option").valFromOption(d));return i(c)}c=i;f.make=c;f.jsComponent=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){f.getNewID=a;var g=1024;function a(){return(g++).toString()}}),null);
__d("MessengerComposerContainerImpl.react",["fbt","AsyncRequest","AsyncUploadRequest","Bootloader","CurrentUser","EmojiDispatcher","EmojiLikeUtils","EmojiState","KeyEventController","MercuryAttachment","MercuryConfig","MercuryIDs","MercuryLocalIDs","MercuryMessageActions","MercuryMessageObject","MercurySendMessageHandler","MercuryThreadActions","MercuryThreadIDMap","MercuryThreadInformer","MessageRequestUtils","MessengerActions","MessengerComposer.react","MessengerComposerActions","MessengerComposerM4React.re","MessengerDialogs.bs","MessengerEmojiUsageUtils","MessengerPageComposerM4React.re","MessengerSimpleDialogReact.bs","MessengerState.bs","MessengerSurfaceType.bs","MessengerView","MNPlatformTagsDataManager","P2PPaymentConfig","PhotosUploadID","React","ReactDOM","RepliedToMessageStatusForGraphQL","SubscriptionsHandler","XMessagingSetThreadNameController","getPageIDFromThreadID","gkx","immutable","prop-types","requireCond","cr:1192333","EmojiStateStore"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a,c,e){d.props.hostProps&&d.props.hostProps.messageSentCallback();b("EmojiState").updateRecentlyUsed(b("MessengerEmojiUsageUtils").findAllEmojis(a));if(!d.props.canReply){e&&e(null);return!1}var f=null,g=!1;d.$13(a,c)||(g=d.$14(function(e){var g=d.$2.constructUserGeneratedMessageObject(a,d.props.source,e);g=babelHelpers["extends"]({},g);e=b("MercuryIDs").getUserIDFromThreadID(e);if(b("MNPlatformTagsDataManager").hasThreadTags(e)){e=b("MNPlatformTagsDataManager").getThreadTags();g.tags=e||[]}c&&(c.shareable_attachment&&(g.shareable_attachment=c.shareable_attachment),c.profile_ranges&&(g.profile_ranges=g.profile_xmd=c.profile_ranges));f=g;return g}));e&&e(g?f:null);f=null;return g},d.$8=function(a,b){d.$3.cancelAttachmentPlaceholder(b.upload_id,b)},d.$7=function(a,b){d.$3.confirmAttachmentPlaceholder(b.upload_id,b)},d.$9=function(a,c){d.$3.cancelAttachmentPlaceholder(c.upload_id,c);var e=(c==null?void 0:(a=c.errorDialogParams)==null?void 0:a.title)||g._("Upload failed"),f=c==null?void 0:(a=c.errorDialogParams)==null?void 0:a.body;if(f!=null&&typeof f!=="string"&&f.__html!=null)b("MessengerDialogs.bs").showDialog(function(){return h.jsx(b("MessengerSimpleDialogReact.bs").jsComponent,{title:e,serverHTML:f})});else{var i=g._("Please try again. Make sure you are uploading a valid file.");b("MessengerDialogs.bs").showDialog(function(){return h.jsx(b("MessengerSimpleDialogReact.bs").jsComponent,{title:e,body:i})})}},d.$10=function(a,b){d.$14(function(a){return d.$2.constructAttachmentMessageObject(d.props.source,a)},function(a){d.$3.addAttachmentPlaceholder(a,b.upload_id,b),d.handleMessageSentToPendingThread()})},d.handleAudioUpload=function(a){var c="upload_"+b("PhotosUploadID").getNewID();d.$1.sendAttachment(d.props.threadID,i(c),d.props.source);var e={};e[c]=a;c=new(b("AsyncUploadRequest"))(b("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setRelativeTo(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))).setData({voice_clip:!0}).setFiles(e);d.$4.addSubscriptions(c.subscribe("success",function(a,b){return d.$15(b)}));c.send()},d.$11=function(a){return d.$14(function(b){return d.$2.constructStickerMessageObject(a,d.props.source,b)})},d.$12=function(a,c,e){var f=d.props.threadID,g=d.$2.constructUserGeneratedMessageObject(a.emoji,d.props.source,f);g.has_attachment=!1;return d.$14(function(a){b("EmojiLikeUtils").setEmojiSize(g,c);return b("EmojiLikeUtils").setEmojiSource(g,e)})},d.handleMessageSentToPendingThread=function(){d.props.thread&&b("MessageRequestUtils").isMessageRequest(d.props.thread)&&b("MercuryThreadActions").getForFBID(d.props.viewer).movePendingToInbox(d.props.threadID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("MercurySendMessageHandler").getForFBID(this.props.viewer);this.$3=b("MercuryMessageActions").getForFBID(this.props.viewer);this.$2=b("MercuryMessageObject").getForFBID(this.props.viewer);this.$5=b("MercuryThreadInformer").getForFBID(this.props.viewer);this.$4=new(b("SubscriptionsHandler"))();b("EmojiDispatcher").explicitlyRegisterStores([b("EmojiStateStore")]);this.props.onMount&&this.props.onMount(this);this.$4.addSubscriptions(b("KeyEventController").registerKey("ESCAPE",function(){a.props.replyingToMessage&&(a.props.onCancelReplyingToMessage&&a.props.onCancelReplyingToMessage())},function(a,c){var d=a.key==="Escape";return!!(d&&b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c))}))};d.componentWillUnmount=function(){this.$4.release()};d.focusInput=function(){this.refsComposer&&this.refsComposer.focusInput&&this.refsComposer.focusInput()};d.render=function(){var a,c=this;a=(a=this.props.thread)==null?void 0:a.composer_input_disabled;var d=this.props.hostProps?this.props.hostProps.hideActions:!1,e=this.props.surface===b("MessengerSurfaceType.bs").workQuickchat;a={canReply:this.props.canReply,disableAutofocus:this.props.disableAutofocus,disableInput:a,fileUploader:this.props.fileUploader,hideActions:d,mentionsEnabled:!0,onMessageSend:this.$6,onPhotoUploadComplete:this.$7,onPhotoUploadCancel:this.$8,onPhotoUploadFail:this.$9,onPhotoUploadSubmit:this.$10,onResize:this.props.onResize,onStickerSelect:this.$11,onCustomLikeSelect:this.$12,replyingToMessage:this.props.replyingToMessage,onCancelReplyingToMessage:this.props.onCancelReplyingToMessage,participants:this.props.participants,recipients:this.props.recipients,ref:function(a){return c.refsComposer=a},sharePreview:this.props.sharePreview,thread:this.props.thread,view:this.props.view,viewer:this.props.viewer};if(b("cr:1192333")&&!e)return h.jsx(b("cr:1192333").make,babelHelpers["extends"]({},a,{threadId:this.props.threadID,showBotMenu:!1,workChatContentApps:this.props.workChatContentApps}));else if(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")&&!e)if(b("getPageIDFromThreadID")(this.props.threadID))return h.jsx(b("MessengerPageComposerM4React.re").make,babelHelpers["extends"]({},a,{threadId:this.props.threadID,onVoiceClipCreate:this.handleAudioUpload,p2pPaymentConfig:b("P2PPaymentConfig").config,threadFbid:this.props.threadFBID}));else return h.jsx(b("MessengerComposerM4React.re").make,babelHelpers["extends"]({},a,{threadId:this.props.threadID,showBotMenu:!1,onVoiceClipCreate:this.handleAudioUpload,p2pPaymentConfig:b("P2PPaymentConfig").config,threadFbid:this.props.threadFBID}));else return h.jsx(b("MessengerComposer.react"),babelHelpers["extends"]({},a,{threadID:this.props.threadID,threadFBID:this.props.threadFBID,openPostComposerInSameWindow:this.props.openPostComposerInSameWindow,p2pPaymentConfig:b("P2PPaymentConfig").config,onVoiceClipCreate:this.handleAudioUpload}))};d.$13=function(a,b){return a?!1:!(b&&(b.shareable_attachment||b.profile_ranges.length>0))};d.$15=function(a){var b=a.getName();a=a.getResponse().payload.metadata[0].audio_id;this.$3.confirmAttachmentPlaceholder(b,{upload_id:b,audio_ids:[a]})};d.handleFileUpload=function(a){var b=this;a=a.reduce(function(a,b){var c=b.type.split("/")[0];a[c]?a[c].push(b):a.other.push(b);return a},{audio:[],image:[],other:[]});a.audio.forEach(function(a){return b.handleAudioUpload(a)});this.refsComposer&&this.refsComposer.handleFileUpload(a.image.concat(a.other))};d.handleTextDropped=function(a){this.refsComposer&&this.refsComposer.handleTextDropped(a)};d.$14=function(a,c){var d=this.props.threadID,e=this.props.recipients,f,g=!d&&e&&e.size>1;g&&(d=b("MercuryLocalIDs").generateThreadID(),f=this.props.newGroupName);if(!d)return!1;a=a(d);if(g){g=e.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray();b("MessengerState.bs").createNewLocalThread(this.props.viewer,d,g.concat(b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)));a.offline_threading_id=b("MercuryIDs").tokenize(d).value;a.specific_to_list=g}else this.props.participants!=null&&this.props.participants.size!=0&&(a.participants_to_hash=this.props.participants.map(function(a){return a.id}).toArray());if(this.props.replyingToMessage&&this.props.replyingToMessage.message_id){e=b("MessengerState.bs").getMessagesFromIDs(b("CurrentUser").getID(),[this.props.replyingToMessage.message_id]);e=e.length>0?e[0]:null;a.replied_to_message={status:e?b("RepliedToMessageStatusForGraphQL").VALID:b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE,message:e};this.props.onCancelReplyingToMessage&&this.props.onCancelReplyingToMessage()}c?c(a):this.$3.send(a,this.handleMessageSentToPendingThread);this.props.view===b("MessengerView").DETAIL.COMPOSE&&(b("MercuryAttachment").get(a).length>0&&b("MessengerComposerActions").moveDraftToNextThread(d),b("MessengerComposerActions").exitComposeState(),b("MercuryIDs").isLocalThread(d)?this.$5.subscribeOnce("messages-updated",function(a,c){a=b("MercuryThreadIDMap").get();if(a.canLinkExternally(d)){if(b("gkx")("836564")&&f&&f!==""){c=b("XMessagingSetThreadNameController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({thread_id:a.getServerIDFromClientIDNow(d),thread_name:f}).send();b("Bootloader").loadModules(["WorkChatActivityTypedLogger","WorkChatActivityEvent"],function(a,b){new a().setEvent(b.NAMED_GROUP_CHAT_CREATION_FROM_SLASH_CHAT).log()},"MessengerComposerContainerImpl.react")}b("MessengerActions").selectThread(d)}}):b("MessengerActions").selectThread(d));this.focusInput();return!0};d.resetDrag=function(){this.refsComposer&&this.refsComposer.exitCurrentMode()};return c}(h.PureComponent);e.exports=a;a.propTypes={canReply:(c=b("prop-types")).bool,disableAutofocus:c.bool,fileUploader:c.object,onMount:c.func,onResize:c.func,participants:c.instanceOf(b("immutable").Map),recipients:c.instanceOf(b("immutable").List),sharePreview:c.object,workChatContentApps:c.instanceOf(b("immutable").OrderedMap),hostProps:c.object,threadID:c.string,threadFBID:c.string,thread:c.object,view:c.string,viewer:c.string,replyingToMessage:c.object,onCancelReplyingToMessage:c.func,newGroupName:c.string,openPostComposerInSameWindow:c.bool};function i(a){return{upload_id:a,preview_attachments:[{upload_id:a,attach_type:"photo",preview_uploading:!0}]}}}),null);
__d("withMessengerSurface",["MessengerSurfaceContext.re","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c){var d;c===!0?c=g.forwardRef(function(c,d){var e=g.useContext(b("MessengerSurfaceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{ref:d,surface:e}))}):c=function(c){var d=g.useContext(b("MessengerSurfaceContext.re").context);return g.jsx(a,babelHelpers["extends"]({},c,{surface:d}))};c.displayName=((d=(d=a.displayName)!=null?d:a.name)!=null?d:"Component")+"WithMessengerSurface";return c}}),null);
__d("MessengerComposerContainer.react",["MessengerComposerContainerImpl.react","withMessengerSource","withMessengerSurface"],(function(a,b,c,d,e,f){"use strict";a=b("withMessengerSurface")(b("withMessengerSource")(b("MessengerComposerContainerImpl.react")));c=a;e.exports=c}),null);
__d("ChatTypingIndicatorsWrapper.bs",["React","bs_belt_MapString","MessengerState.bs","ChatTypingIndicators.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.indicatorClass,d=a.indicatorsDidHide,e=a.indicatorsDidShow,f=a.viewer,h=a.rootClassName,i=a.threadID;return g.jsx(b("MessengerState.bs").Provider.make,{fbid:f,children:function(a){return g.jsx(b("ChatTypingIndicators.react"),{indicatorClass:c,indicatorsDidShow:e,indicatorsDidHide:d,rootClassName:h,threadID:i,viewer:f,typingUserIDs:b("bs_belt_MapString").get(a.typing,i)},i)}})}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("enumerate",[],(function(a,b,c,d,e,f){"use strict";b=function(b){return b.FB_enumerate}(a);e.exports=b}),null);
__d("MercuryMessageGroup",["MercuryAttachmentLayoutTypeHelper","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","MessengerMessage.bs","enumerate"],(function(a,b,c,d,e,f){"use strict";var g={calculateMessageGroups:function(a,c){var d=[],e=null,f={value:null};a=b("enumerate")(a);var h;while(!(h=a.next()).done){var i=g.canAppendMessageToLastGroup(f.value,h.value,c);i||(e=[],d.push(e));e.push(h.value);f=h}return d},canAppendMessageToLastGroup:function(a,c,d){var e=b("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!a||h(a,d)||h(c,d)||a.author!=c.author||a.timestamp<c.timestamp-e||a.is_spoof_warning!==c.is_spoof_warning||a.page_admin_notes||c.replied_to_message||c.is_forwarded)return!1;d=b("MessengerMessage.bs").getPersona(a);e=b("MessengerMessage.bs").getPersona(c);return!d&&!e?!0:d===null||e===null?!1:d.id===e.id}};function h(a,c){var d=a.has_attachment;d&&(c===b("MercuryShareAttachmentRenderLocations").MESSENGER||c===b("MercuryShareAttachmentRenderLocations").CHAT)&&(d=i(a));return!!(b("MessengerLightweightActionUtils").isLWAMessage(a)||a.action_type=="ma-type:log-message"||d||a.html_body||a.body&&a.body.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function i(a){a=a.attachments[0];return!a||a.attach_type==="sticker"||a.attach_type==="animated_image"||b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}e.exports=g}),null);
__d("MessengerParticipantUtils.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("MessengerPersistantViewerKeyedSubscriptionComponent.bs",["bs_curry","React","bs_js_dict","bs_caml_option","CurrentUser","RemoteAction.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c={contents:0},d={},e=function(a,c){a=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();var e=b("bs_js_dict").get(d,a);if(e!==void 0)return b("RemoteAction.bs").send(e.remoteAction,c);e=f(a,void 0,void 0);return b("RemoteAction.bs").send(e.remoteAction,c)},f=function(f,h,i){i=h!==void 0?b("bs_caml_option").valFromOption(h):b("RemoteAction.bs").create(void 0);var j=new Set(),k={contents:b("bs_curry")._1(a.initialState,f)};b("RemoteAction.bs").subscribe(function(c){var d=k.contents;k.contents=b("bs_curry")._2(a.reducer,c,d);if(k.contents!==d){j.forEach(function(a){return b("bs_curry")._1(a.fn,void 0)});return}},i);h=function(a,d){var e=g.useState(function(){return k.contents}),f=e[1],h=e[0],l=g.useCallback(function(c){if(a!==void 0)if(b("bs_curry")._2(a,h,k.contents))return b("bs_curry")._1(f,function(a){return k.contents});else return;else return b("bs_curry")._1(f,function(a){return k.contents})},[a,h,k.contents]);g.useEffect(function(){c.contents=c.contents+1|0;var a=c.contents,d={id:a,fn:l};j.add(d);b("bs_curry")._1(l,void 0);return function(a){j["delete"](d)}},[l]);return b("bs_curry")._1(d,h)};i={remoteAction:i,componentFunction:h};d[f]=i;var l=b("bs_caml_option").some(f);b("bs_curry")._2(a.onFirstMount,f,function(a){return e(l,a)});return i},h=function(a){var c=a.shouldUpdate,e=a.remoteAction,g=a.fbid;a=a.children;g=g!==void 0?b("bs_caml_option").valFromOption(g):b("CurrentUser").getID();var h=b("bs_js_dict").get(d,g);if(h!==void 0)return b("bs_curry")._2(h.componentFunction,c,a);else return b("bs_curry")._2(f(g,e,void 0).componentFunction,c,a)};h.displayName="MessengerPersistantViewerKeyedSubscriptionComponent("+(a.displayName+")");return{make:h,send:e}}f.Make=a}),null);
__d("OnlineUserIds.bs",["bs_belt_Set","ParticipantId.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").make(b("ParticipantId.bs"))}function c(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}f.make=a;f.fromArray=c}),null);
__d("MessengerPresenceProvider.bs",["FBID.bs","bs_curry","React","Arbiter","bs_belt_Set","bs_caml_obj","bs_belt_Array","MercuryIDs","bs_belt_Option","bs_caml_option","OnlineUserIds.bs","ParticipantId.bs","PresenceStatus","PresencePrivacy","AvailableListConstants","MessengerPersistantViewerKeyedSubscriptionComponent.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=["privacy-changed","privacy-availability-changed","privacy-user-presence-response"];function a(a){return b("OnlineUserIds.bs").make(void 0)}function c(a,c){if(!a)return b("bs_belt_Set").fromArray(b("bs_belt_Array").map(b("PresenceStatus").getOnlineIDs(),function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)}),b("ParticipantId.bs"));a=a._0;var d=b("bs_caml_obj").caml_equal(b("PresenceStatus").get(a),b("AvailableListConstants").ACTIVE);if(d)return b("bs_belt_Set").add(c,b("MercuryIDs").getParticipantIDFromUserID(a));else return b("bs_belt_Set").remove(c,b("MercuryIDs").getParticipantIDFromUserID(a))}function d(a,c){b("PresencePrivacy").subscribe(h,function(a){return b("bs_curry")._1(c,0)}),b("bs_curry")._1(c,0),b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(a,d){if(d==null)return;a=b("FBID.bs").ofStringExn(d);return b("bs_curry")._1(c,{_0:a})})}a=b("MessengerPersistantViewerKeyedSubscriptionComponent.bs").Make({initialState:a,reducer:c,onFirstMount:d,displayName:"MessengerPresenceProvider"});var i=a.make;function j(a,c,d,e,f){f={children:e};a!==void 0&&(f.shouldUpdate=b("bs_caml_option").valFromOption(a));c!==void 0&&(f.remoteAction=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.fbid=b("bs_caml_option").valFromOption(d));return f}function k(a){var c=a.subscribeToIDs,d=a.remoteAction,e=a.fbid;a=a.children;d=j(function(a,d){if(c===void 0)return!1;d=b("bs_belt_Set").union(b("bs_belt_Set").diff(a,d),b("bs_belt_Set").diff(d,a));return!b("bs_belt_Set").isEmpty(b("bs_belt_Set").intersect(d,b("bs_caml_option").valFromOption(c)))},d,e,a,void 0);return g.createElement(i,d)}function e(a){var c=b("ParticipantId.bs"),d={children:a.children},e=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(a.subscribeToIDs),function(a){return b("bs_belt_Set").fromArray(a,c)});e!==void 0&&(d.subscribeToIDs=b("bs_caml_option").valFromOption(e));e=b("bs_caml_option").nullable_to_opt(a.fbid);e!==void 0&&(d.fbid=b("bs_caml_option").valFromOption(e));return k(d)}c=a.send;d=k;f.privacyEvents=h;f.send=c;f.makePropsOriginal=j;f.make=d;f.jsComponent=e}),null);
__d("MessageList.react",["cx","Actor","CurrentUser","MercuryIDs","MercuryMessageGroup","MercuryShareAttachmentRenderLocations","MessengerDomIDs.bs","MessengerLightweightActionUtils","MessengerMessage.bs","MessengerObjectAssociationType","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","React","ReactDOM","gkx","immutable","nullthrows","prop-types","requireCond","cr:832269","cr:1140097"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=2,j=1e3*60*60,k=6,l=function(a){var b;b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;switch(b){case"group_poll":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.question_id:b:b:b;case"instant_game_update":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.game_id:b:b:b;case"lightweight_event_create":case"lightweight_event_update":case"lightweight_event_delete":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_notify_before_event":case"lightweight_event_notify":case"lightweight_event_rsvp":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.event_id:b:b:b;case"confirm_friend_request":b=((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.friend_request_subtype:b:b:b)||((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.subtype:b:b:b);return!b||b.toLowerCase()!=="icebreaker"?null:o(a);case"messenger_icebreaker_vote_cast":return o(a);default:return null}},m=function(a){return b("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeMessageID:null,messageGroups:[],prevMessages:null,newMessagesGroupIndex:Infinity,lastReadTimestamp:((b=d.props.thread)==null?void 0:b.last_read_timestamp)||Infinity,newMessagesCountForDisplay:0},d.$5=function(a){d.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})},d.$6=function(a){d.setState({activeMessageID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){if(c.prevMessages!==a.messages)if(b("cr:832269")!=null){var d=c.lastReadTimestamp;c=a.location;var e=a.messages,f=a.thread,g=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);(f==null?void 0:f.snippet_sender)===g&&(d=Infinity);f=e.findLast(function(a){return a.author===g});f&&f.timestamp>d&&(d=f.timestamp);f=a.messages.filter(function(a){return a.timestamp<=d});var h=a.messages.filter(function(a){return a.timestamp>d});f=b("MercuryMessageGroup").calculateMessageGroups(f,c);c=b("MercuryMessageGroup").calculateMessageGroups(h,c);h=h.filter(function(a){return a.log_message_type==null}).size;return{messageGroups:[].concat(f,c),prevMessages:e,newMessagesGroupIndex:f.length,newMessagesCountForDisplay:h,lastReadTimestamp:d}}else return{messageGroups:b("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location),prevMessages:a.messages};else return null};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.DateBreak,e=c.forGameChat,f=c.location,g=c.selectedMessageId,o=c.MessageGroup,p=c.CollapsedLogMessageGroup,u=[],v=[];c=this.props.thread&&this.props.thread.solid_color;var w=c?{backgroundColor:c}:null,x=this.state.activeMessageID,y=this.state.messageGroups,z=y.length,A=this.props.readReceipts;c=A.last();var B=c?c.watermark:0,C=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),D={};for(var c=this.props.messages.size-1;c>=0;c--){var E=this.props.messages.get(c),F=l(E)||m(E);F&&!D[F]&&(D[F]=E.message_id)}var G=function(l){var G=l>0?y[l-1]:null;G=G&&G.length>0?G[G.length-1]:null;var I=y[l],J=I[0],K=I[I.length-1],L=!1;b("cr:832269")!=null&&l>0&&l===a.state.newMessagesGroupIndex&&a.state.newMessagesCountForDisplay>0&&u.push(h.jsx("div",{ref:"newMessageDivider",children:h.jsx(b("cr:832269"),{newMessagesCount:a.state.newMessagesCountForDisplay})},"new-message-divider"));if(!G||J.timestamp-G.timestamp>j){L=!0;G=h.jsx(d,{date:new Date(J.timestamp),ref:"db:"+J.message_id},"db:"+J.message_id);v.length===0&&u.push(G)}G=m(J);if(G&&D[G]!==J.message_id){G=a.$1(J,D);u.push(G);return"continue"}if(J.action_type=="ma-type:log-message"){G=(F=J)!=null?(F=F.log_message_data)!=null?F.message_type:F:F;var M=(E=J)!=null?(E=E.log_message_data)!=null?(E=E.untypedData)!=null?E.friend_request_subtype:E:E:E,N=G==="parties_presence",O=G==="instant_game_update",P=G==="group_poll";M=G==="messenger_icebreaker_vote_cast"||G==="confirm_friend_request"&&M&&M.toLowerCase()==="icebreaker";var Q=["lightweight_event_create","lightweight_event_update","lightweight_event_delete","lightweight_event_update_time","lightweight_event_update_title","lightweight_event_update_location","lightweight_event_notify_before_event","lightweight_event_notify","lightweight_event_rsvp"].includes(G);if((f===b("MercuryShareAttachmentRenderLocations").CHAT||f===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(J.log_message_type==="log:video-call"||J.log_message_type==="log:phone-call"||G==="messenger_call_log")){G=a.$2(J,C,y,z,l,A,B,K,D,g);u.push(G)}else{G=a.$3(J,D);c=J.message_id;!O&&!P&&!Q&&!M&&v.push(G);if(N)return"continue";(v.length===I.length||O||P||Q||M)&&(a.$4(v,u,c,w,p),v=[]);(O||P||Q||M)&&u.push(G)}return"continue"}I=b("immutable").List(I);var R=q(y,z,l,D),S=!s(A,I,R),T=r(B,K),U=t(a.props.deliveryTimestamp,K),V=I.first().author,W=b("MessengerMessage.bs").getPersona(K),X=C===J.author;N=X?0:k+i;var Y=a.props.maxBubbleWidth?a.props.maxBubbleWidth-N:null;u.push(h.jsx(b("MessengerPresenceProvider.bs").jsComponent,{subscribeToIDs:V?[V]:null,children:function(c){return h.jsx(o,{activeMessageID:n(x,I),author:V,deliveryTimestamp:U,forGameChat:e,hasDateBreak:L,isCanonical:a.props.isCanonical,isFromViewer:X,isPageMessage:a.props.isPageMessage,isOnline:V?b("MessengerParticipantUtils.bs").has(c,V):!1,lastReadTimestamp:T,maxBubbleWidth:Y,messages:I,nextTimestamp:R,onReactionSwap:a.props.onReactionSwap,onAttachmentLoad:a.props.onAttachmentLoad,onMessageDeselect:a.$5,onMessageSelect:a.$6,onStickerClick:a.props.onStickerClick,onReplyToMessage:a.props.onReplyToMessage,pageID:a.props.isPageMessage===!0?a.props.viewer:null,persona:W,readReceipts:S?A:b("immutable").OrderedMap(),ref:function(b){return a.refs["mg:"+J.message_id]=b},thread:a.props.thread,threadID:a.props.threadID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,selectedMessageId:g,rolesIDWithColor:a.props.rolesIDWithColor},"mg:"+J.message_id)}},"pp:"+J.message_id))};for(var H=0;H<z;H++){var I=G(H);if(I==="continue")continue}I=this.props.thread;G=this.props.threadID||(I==null?void 0:I.thread_id)||(I==null?void 0:I.thread_fbid);H=null;f===b("MercuryShareAttachmentRenderLocations").MESSENGER&&G&&!this.props.isPageMessage&&b("cr:1140097")&&!b("gkx")("1332693")&&((I==null?void 0:I.object_association_type)===b("MessengerObjectAssociationType").GENERAL_CHAT||(I==null?void 0:I.work_associated_group)!=null)&&(I==null?void 0:(G=I.participants)==null?void 0:G.length)===1&&(H=h.jsx(b("cr:1140097"),{}));return h.jsx(b("Actor").ActorProvider,{initialActorID:b("CurrentUser").getID(),readonly:!0,children:h.jsxs("div",{id:f===b("MercuryShareAttachmentRenderLocations").MESSENGER?b("MessengerDomIDs.bs").ids.CONVERSATION:null,children:[H,u]})})};d.getNewMessageDivider=function(){return this.refs.newMessageDivider};d.getMessageElement=function(a,c){if(c===!0){var d=this.refs["db:"+a];if(d)return b("ReactDOM").findDOMNode(d)}d=this.$7(a);if(!d)return null;d=d[0].message_id;var e=this.refs["mg:"+d];if(!e)return null;return c===!0&&d===a?b("ReactDOM").findDOMNode(e):e.getMessageElement(a)};d.getMessageComponent=function(a){var b=this.$7(a);if(!b)return null;b=b[0].message_id;b=this.refs["mg:"+b];return!b?null:b.getMessage(a)};d.$7=function(a){return this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})})};d.$4=function(a,b,c,d,e){a.length!==0&&(a.length>1?b.push(h.jsx(e,{style:d,children:a},"mg:"+c)):b.push(h.jsx("div",{children:a},"mg:"+c)))};d.$2=function(a,c,d,e,f,g,i,j,k,l){var m=this,n,o,p=this.props.MessageGroup;o=((o=a)!=null?(o=o.log_message_data)!=null?o.untypedData:o:o)||{};n=(n=a)!=null?(n=n.log_message_data)!=null?n.message_type:n:n;if(n==="messenger_call_log"){n={message_type:"messenger_call_log",call_capture_attachments:o.call_capture_attachments,caller:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(o.caller_id,"caller id")),callee:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(o.callee_id,"callee id")),server_info_data:o.server_info,thread_id:a.thread_fbid,answered:o.event!=="missed_call",log_message_type:o.video?"log:video-call":"log:phone-call",event:o.event,added_participants:null,removed_participants:null,untypedData:null,image:null,name:null};a=babelHelpers["extends"]({},a,{log_message_data:n})}o={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};n=babelHelpers["extends"]({},a,{attachments:[o],body:""});var u=b("immutable").List([n]),v=q(d,e,f,k),w=!s(g,u,v),x=r(i,j),y=t(this.props.deliveryTimestamp,j),z=u.first().author;return h.jsx(b("MessengerPresenceProvider.bs").jsComponent,{subscribeToIDs:z?[z]:null,children:function(d){return h.jsx(p,{author:u.first().author,deliveryTimestamp:y,forGameChat:m.props.forGameChat,isCanonical:m.props.isCanonical,isFromViewer:c===a.author,isOnline:z?b("MessengerParticipantUtils.bs").has(d,z):!1,isPageMessage:m.props.isPageMessage,lastReadTimestamp:x,maxBubbleWidth:m.props.maxBubbleWidth,messages:u,nextTimestamp:v,onAttachmentLoad:m.props.onAttachmentLoad,onMessageDeselect:m.$5,onMessageSelect:m.$6,onStickerClick:m.props.onStickerClick,readReceipts:w?g:b("immutable").OrderedMap(),selectedMessageId:l,thread:m.props.thread,threadID:m.props.threadID})}},a.message_id)};d.$3=function(a,c){var d=this.props.LogMessage,e=l(a);c=e?c[e]:null;return a.log_message_type!=="log:error-msg"?h.jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id):null};d.$1=function(a,c){c=c[b("nullthrows")(m(a),"other group id first message")];var d=this.props.LogMessage;return h.jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id)};return c}(h.PureComponent);e.exports=a;a.propTypes={CollapsedLogMessageGroup:(c=b("prop-types")).func.isRequired,DateBreak:c.func.isRequired,deliveryTimestamp:c.number.isRequired,forGameChat:c.bool,isCanonical:c.bool,isPageMessage:c.bool,location:c.string.isRequired,LogMessage:c.func.isRequired,loadMoreMessages:c.func,MessageGroup:c.func.isRequired,messages:c.instanceOf(b("immutable").List).isRequired,onReactionSwap:c.func,onAttachmentLoad:c.func,onStickerClick:c.func,onReplyToMessage:c.func,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,viewer:c.string.isRequired,thread:c.object,threadID:c.string,scrollToRepliedMessage:c.func,rolesIDWithColor:c.any};function n(a,b){return b.find(function(b){return b.message_id===a})?a:null}function o(a){return(a=a)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.icebreaker_type:a:a:a}function p(a){var b=(a==null?void 0:a.action_type)==="ma-type:log-message";a=(a==null?void 0:(a=a.log_message_data)==null?void 0:a.message_type)==="messenger_call_log";return b&&!a}function q(a,b,c,d){if(c>=b-1)return Infinity;var e=a[c+1][0],f=m(e);if(f&&d[f]!==e.message_id||p(e))return q(a,b,c+1,d);else return e.timestamp}function r(a,b){return b.timestamp>a?a:Infinity}function s(a,b,c){return b.isEmpty()||!a.isEmpty()&&(a.last().action<b.first().timestamp||a.first().action>=c)}function t(a,b){return b.timestamp>a?a:Infinity}}),null);
__d("MessengerAdsMessageSeenThreadFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743992");c=b("FalcoLoggerInternal").create("messenger_ads_message_seen_thread",a);e.exports=c}),null);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("BootloadOnRender.react"),{component:h.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:h.jsx("div",{className:"_497p",children:"..."})})};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=h._("See Latest Activity"),d=h._("See Less Activity");return i.jsxs("div",{className:"_497p"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":""),children:[i.jsx(b("Link.react"),{className:"_4ea1",onClick:function(){return a.setState(function(a){return{collapsed:!a.collapsed}})},children:this.state.collapsed?c:d}),this.state.collapsed?null:i.jsxs("div",{children:[i.jsx("div",{className:"_4ea2"}),this.props.children,i.jsx("div",{className:"_4ea2"})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:"click",HOVER:"hover"});e.exports=a}),null);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"});e.exports=a}),null);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log()}f.logItemImpression=a}),null);
__d("ProfileLink.react",["Link.react","React","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.hasHovercard!==!1?new(g||(g=b("URI")))("/ajax/hovercard/user.php").setQueryData({id:this.props.uid}):null;return h.jsx(b("Link.react"),babelHelpers["extends"]({},this.props,{"data-hovercard":a,href:(a=this.props.href)!=null?a:"/"+this.props.uid,tabIndex:(a=this.props.tabIndex)!=null?a:"0",children:this.props.children}))};return c}(h.Component);e.exports=a}),null);
__d("ProfileLinkReact.bs",["ReasonReact.bs","bs_js_null_undefined","ProfileLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),href:j.fromOption(c),onClick:j.fromOption(d),onMouseEnter:j.fromOption(e),onMouseLeave:j.fromOption(f),target:j.fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["cx","URI","bs_curry","React","Arbiter","Link.react","Badge.react","bs_caml_option","CurrentUser","ReasonReact.bs","ProfileLinkReact.bs","isMessengerDotComURI","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function k(a,c,d,e,f,g,k){var l=b("isMessengerDotComURI")(new(h||(h=b("URI")))(window.location.href)),m=b("CurrentUser").isWorkUser()?b("MessengerProfileLinkDomain").WORK_CHAT:l?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,n=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").HOVER)},o=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").CLICK)};return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a.send,0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a.send,1)});return b("bs_curry")._1(a.onUnmount,function(a){c.unsubscribe(),d.unsubscribe()})},didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(d){var h=i.jsxs("span",{children:[e,g?i.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null]});return i.jsx("span",{children:a!==void 0?l?i.jsx(b("Link.react"),{href:a,onClick:function(a){d.state.isHovercardShown&&n(void 0);return o(void 0)},target:c,children:h}):b("ReasonReact.bs").element(void 0,void 0,b("ProfileLinkReact.bs").make(void 0,void 0,function(a){return o(void 0)},void 0,function(a){if(d.state.isHovercardShown)return n(void 0)},void 0,f,[h])):h,className:"_6ybk"})},initialState:function(a){return{isHovercardShown:!1}},retainedProps:j.retainedProps,reducer:function(a,b){if(a)return{TAG:0,_0:{isHovercardShown:!1}};else return{TAG:0,_0:{isHovercardShown:!0}}},jsElementWrapped:j.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(b("bs_caml_option").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,a.isVerified,[])});f.component=j;f.make=k;f.jsComponent=a}),null);
__d("TimeSpentRoomTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP:"GROUP",EVENT:"EVENT",LOCAL_COMMUNITY:"LOCAL_COMMUNITY"});e.exports=a}),null);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessengerProfileLink.bs","MessengerTextWithEmoticons.react","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","prop-types","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j;b("requireWeak")("MessengerThreadImageReact.bs",function(a){j=a.jsComponent});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i.jsxs(b("ImageBlock.react"),{className:"_llj"+(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style,children:[this.$1(),i.jsxs("div",{className:"_lll",children:[this.$2(),this.$3(),this.$4()]})]}),c=this.props.associatedObject;c&&c.action_link&&(a=i.jsx(b("Link.react"),{href:c.action_link,target:"_blank",style:{textDecoration:"none"},children:a}));return a};d.$1=function(){var a=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,c=this.props.associatedObject,d=null;if(!this.props.contactName&&c&&a)d=i.jsx(b("Image.react"),{className:"_4ld- _1wrc",src:c.profile_picture});else if(this.props.thread){c=j&&a?j:b("MercuryThreadImage.react");d=i.jsx(c,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(d=i.jsx(b("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return i.jsx("div",{className:"_llk",children:d})};d.$2=function(){if(this.props.location!==b("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?i.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null,c=this.props.contactName;if(!c){var d=this.props.associatedObject;c=d?d.name:null}d=this.props.contactFBProfile;var e=this.props.contactID;return i.jsx("div",{className:"_llq",children:i.jsxs("span",{className:"_3oh-",children:[i.jsx(b("MessengerProfileLink.bs").jsComponent,{href:d,location:"context_banner",name:c,uid:e}),a]})})};d.$3=function(){return i.jsx("div",{className:"_1n-e _36zg",children:i.jsx(b("MessengerTextWithEmoticons.react"),{text:this.props.connectionContext||"",renderEmoticons:!1})})};d.$4=function(){if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=b("TimeSpentRoomTypeEnum")[a.room_type];var c=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return i.jsx("div",{className:"_1n-e",children:h._({"GROUP":"Go to {productName} Group","EVENT":"Go to {productName} Event"},[h._param("productName",c),h._enum(a,b("TimeSpentRoomTypeEnum$FbtEnum"))])})}return null}return i.jsx("div",{children:this.props.contextItems.map(function(a,c){return i.jsx("div",{className:"_1n-e",children:i.jsx(b("MessengerTextWithEmoticons.react"),{text:a||"",renderEmoticons:!1})},"item:"+c)})})};return c}(i.PureComponent);e.exports=a;a.propTypes={contactFBProfile:(c=b("prop-types")).string,contactID:c.string,contactName:c.string,associatedObject:c.object,connectionContext:c.string,contextItems:c.arrayOf(c.string).isRequired,isVerified:c.bool,location:c.string.isRequired,participantIDs:c.arrayOf(c.string),participants:c.instanceOf(b("immutable").Map),thread:c.object,viewer:c.string.isRequired}}),null);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=new Map();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$MessengerContextInformationStore1=function(a){if(h.get(a))return;var c=b("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).setHandler(d.$MessengerContextInformationStore2.bind(babelHelpers.assertThisInitialized(d),a));h.set(a,c);c.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getOrFetch=function(a){var c=g.get(a);c||b("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:b("TimeSlice").PropagationType.ORPHAN})(a);return c};d.$MessengerContextInformationStore2=function(a,b){g.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),h["delete"](a),this.emit("change")};return c}(b("EventEmitter"));c=new a();e.exports=c}),null);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});e.exports=a}),null);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationDispatcher"))({strict:!1});e.exports=a}),null);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function(a,b,c,d,e,f){"use strict";f.requestGreetingConfig=a;f.notifyGreetingConfigReceived=c;function a(a){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:a})}function c(a,c){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:a,payload:c})}}),null);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({pagesGreetingShouldShow:!1,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,icebreakers:null,showOrganicIntakeForm:!1,icebreakerTextForOrganicIntakeForm:null,icebreakerCtas:null}));e.exports=a}),null);
__d("XMercuryChatTabPagesNullStateConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/mercury/greeting/",{entry_point:{type:"Enum",enumType:1}})}),null);
__d("PagesMessagingMercuryChatTabStore",["invariant","AsyncRequest","FluxStore","MercuryIDs","MessengerDiscoveryEntryPoint","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabDispatcher","PagesMessagingMercuryChatTabState","XMercuryChatTabPagesNullStateConfigController","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesMessagingMercuryChatTabDispatcher"))||this;c.$PagesMessagingMercuryChatTabStore1=new Map();return c}var d=c.prototype;d.getStateByThread=function(a){this.$PagesMessagingMercuryChatTabStore1.has(a)||this.$PagesMessagingMercuryChatTabStore1.set(a,new(b("PagesMessagingMercuryChatTabState"))());a=this.$PagesMessagingMercuryChatTabStore1.get(a);a||g(0,2437);return a};d.__onDispatch=function(a){var c=a.actionType,d=a.payload;a=a.threadID;var e=this.getStateByThread(a);e||g(0,2438);switch(c){case b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(a);break;case b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(a,this.$PagesMessagingMercuryChatTabStore4(d,e));break}};d.$PagesMessagingMercuryChatTabStore2=function(a){var c="unknown";b("ifRequired")("FantaAppStore",function(d){d=d.getState().tabGroup.tabs.get(a);d&&d.entryPoint&&d.entryPoint[0]&&Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(d.entryPoint[0])!==-1&&(c=d.entryPoint[0])});var d=b("XMercuryChatTabPagesNullStateConfigController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({page_id:b("MercuryIDs").getUserIDFromThreadID(a),entry_point:c}).setHandler(function(c){return b("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(a,c.payload)}).send()};d.$PagesMessagingMercuryChatTabStore3=function(a,b){this.$PagesMessagingMercuryChatTabStore1.set(a,b),this.__emitChange()};d.$PagesMessagingMercuryChatTabStore4=function(a,b){var c=b.set("pagesGreetingShouldShow",a.pagesGreetingShouldShow).set("pagesGreetingContent",a.pagesGreetingContent).set("pageResponsiveness",a.pageResponsiveness).set("coverPhotoData",a.coverPhotoData).set("connectionContext",a.connectionContext).set("pageOnlineMessage",a.pageOnlineMessage).set("showOrganicIntakeForm",a.showOrganicIntakeForm).set("icebreakerTextForOrganicIntakeForm",a.icebreakerTextForOrganicIntakeForm);(b.icebreakers===null||b.icebreakers===void 0||Object.keys(b.icebreakers).length===0)&&(c=c.set("icebreakers",a.icebreakers));(b.icebreakerCtas===null||b.icebreakerCtas===void 0||b.icebreakerCtas.length===0)&&(c=c.set("icebreakerCtas",a.icebreakerCtas));return c};return c}(b("FluxStore"));a.__moduleID=e.id;c=new a();e.exports=c}),null);
__d("SpotlightProfilePicCropOptions",[],(function(a,b,c,d,e,f){f.getOptions=j;f.getOptionsAsRatio=a;var g=2.5,h=.8,i=320;function j(a,b,c){c===void 0&&(c=i);var d={},e=Math.min(b.x,b.y),f,j,k=a.facebox;k?(j=Math.max(k.size.x*b.x,k.size.y*b.y)*g,f=k.center):(j=h*e,a.focus&&(f=a.focus));k=b.x/a.original.width;d.height=d.width=Math.min(Math.max(j,c*k),e);f&&(d.center_x=Math.min(Math.max(f.x*b.x,d.width/2),b.x-d.width/2),d.center_y=Math.min(Math.max(f.y*b.y,d.height/2),b.y-d.height/2));return d}function a(a,b,c){c===void 0&&(c=i);a=j(a,b,c);c=Math.min(b.x,b.y);return{center:{x:a.center_x?a.center_x/b.x:.5,y:a.center_y?a.center_y/b.y:.5},size:{x:a.width/c,y:a.height/c}}}}),null);
__d("PhotoZoomCropDimensions",["BasicVector","SpotlightProfilePicCropOptions","clamp"],(function(a,b,c,d,e,f){var g=320,h=.5,i=.5,j=180,k=.05,l=3;function m(a,b){return Number(a.toFixed(b||l))}a=function(){var a=c.prototype;a.clone=function(){return new c(this.$2).setSize(this.$3.x,this.$3.y).setSmallestSize(this.$4.x,this.$4.y).setCenter(this.$1.x,this.$1.y).setZoom(this.$5)};function c(a){this.$2=a,this.setSmallestSize(j,j).setCenter(h,h),this.setSize(g,g).setZoom(i)}a.getArea=function(){var a=this.getPosition(),b=this.$3.div(this.$5);return{height:Math.round(b.y),width:Math.round(b.x),x:Math.round(Math.abs(a.left)/this.$5),y:Math.round(Math.abs(a.top)/this.$5)}};a.getPosition=function(){var a=this.$6();return{height:m(a.imageSize.y),left:m(this.$3.x/2-a.center.x),top:m(this.$3.y/2-a.center.y),width:m(a.imageSize.x)}};a.getRect=function(){var a=this.$6(),b=this.$3.div(this.$5);return{center:{x:a.center.x/a.imageSize.x,y:a.center.y/a.imageSize.y},size:{x:b.x,y:b.y}}};a.getSize=function(){return this.$3};a.getImageSize=function(){return this.$2};a.getSmallestSize=function(){return this.$4};a.getCenter=function(){return this.$1};a.getZoom=function(){return this.$5};a.getZoomRange=function(){var a=Math.min(this.$2.x,this.$2.y);return{max:this.$3.x/Math.min(this.$4.x,a),min:Math.max(this.$3.x/this.$2.x,this.$3.y/this.$2.y)}};a.hasSpaceToDrag=function(){var a=this.getZoomRange();return!(c.isSquare(this.$2)&&a.min===a.max)};a.isCurrentlyDragable=function(){var a=this.$6().imageSize;return a.x!==this.$3.x||a.y!==this.$3.y};a.moveByPixels=function(a,b){var c=this.$6();return this.moveBy(a/c.imageSize.x,b/c.imageSize.y)};a.moveBy=function(a,b){this.setCenter(this.$1.x+a,this.$1.y+b);a=this.$6();this.$1=a.center.div(a.imageSize.x,a.imageSize.y);return this};a.setCenter=function(a,c){this.$1=new(b("BasicVector"))(b("clamp")(a,0,1),b("clamp")(c,0,1));return this};a.setSize=function(a,c){this.$3=new(b("BasicVector"))(a,c);return this};a.setRatio=function(a,b){var c=this.$3.x*this.$3.y;a=Math.sqrt(c*a/b);return this.setSize(a,c/a)};a.setSmallestSize=function(a,c){this.$4=new(b("BasicVector"))(a,c);return this};a.setZoom=function(a){var c=this.getZoomRange();this.$5=b("clamp")(a,c.min,c.max);return this};a.cloneAndZoom=function(a){var b=this.clone();b.setZoom(a);return b};a.cloneAndMove=function(a,b){var c=this.clone();c.moveByPixels(a,b);return c};a.$7=function(a,c){var d=this.$3.x/2,e=this.$3.y/2;return new(b("BasicVector"))(b("clamp")(c.x,d,a.x-d),b("clamp")(c.y,e,a.y-e))};a.$6=function(){var a=this.$2.mul(this.$5);return{imageSize:a,center:this.$7(a,this.$1.mul(a.x,a.y))}};c.isSquare=function(a){return Math.abs(a.x/a.y-1)<k};c.fromProfilePhotoData=function(a,d){var e=new(b("BasicVector"))(a.original.width,a.original.height),f=new c(e);d?d=d:a.previousprofilepic?d=a.facebox||{center:{x:.5,y:.5},size:{x:1,y:1}}:d=b("SpotlightProfilePicCropOptions").getOptionsAsRatio(a,e);d.center&&f.setCenter(d.center.x,d.center.y);if(d.size&&d.size.x){a=d.size.x*e.x;f.setZoom(f.getSize().x/a)}return f};return c}();e.exports=a}),null);
__d("PhotoZoomCropImageConstants",[],(function(a,b,c,d,e,f){"use strict";a={TOP:"top",MIDDLE:"middle"};f.DRAG_INSTRUCTION_POSITION=a}),null);
__d("PhotoZoomCropImagePreview.react",["cx","Image.react","PhotoZoomCropDimensions","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.dimensions,c=this.props.size,d=a.getSize().x/c.x;d!==1&&(a=a.clone().setSize(c.x,c.y).setZoom(a.getZoom()/d));d=null;this.props.overlay&&(d=h.jsx("div",{className:"_1_fc"+(this.props.circular?" _3np9":""),children:this.props.overlay}));return h.jsxs("div",babelHelpers["extends"]({},this.props,{circular:this.props.circular?this.props.circular.toString():void 0,className:b("joinClasses")(this.props.className,"_1k3v"+(this.props.circular?" _3np9":"")),style:babelHelpers["extends"]({},this.props.style||{},{height:c.y,width:c.x}),children:[h.jsx(b("Image.react"),{className:"_1k3w",src:this.props.src,style:a.getPosition()}),d]}))};return c}(h.Component);e.exports=a;a.propTypes={dimensions:(c=b("prop-types")).instanceOf(b("PhotoZoomCropDimensions")).isRequired,overlay:c.element,size:c.shape({x:c.number.isRequired,y:c.number.isRequired}).isRequired,src:c.oneOfType([c.string,c.object]),style:c.object,className:c.string}}),null);
__d("PhotoZoomCropImage.react",["cx","fbt","ix","Event","Image.react","Keys","PhotoZoomCropImageConstants","PhotoZoomCropImagePreview.react","React","UserAgent","Vector","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={moved:!1},d.$6=function(a){d.$2=null;var c=0,e=0;switch(b("Event").getKeyCode(a)){case b("Keys").DOWN:e=k;break;case b("Keys").LEFT:c=-k;break;case b("Keys").RIGHT:c=k;break;case b("Keys").UP:e=-k;break}(c||e)&&(d.props.onMove(c,e),d.setState({moved:!0}))},d.$7=function(a){d.$9(a,b("Vector").getEventPosition(a))},d.$8=function(a){d.$9(a,b("Vector").getTouchEventPosition(a))},d.$3=function(a){d.$10(b("Vector").getEventPosition(a))},d.$4=function(a){d.$10(b("Vector").getTouchEventPosition(a))},d.$5=function(){d.$2=null},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("UserAgent").isBrowser("IE < 9")?document.documentElement:window;this.$1=b("Event").listen(a,{mousemove:this.$3,touchmove:this.$4,mouseup:this.$5,touchend:this.$5})};d.componentWillUnmount=function(){if(this.$1)for(var a in this.$1)this.$1[a]&&this.$1[a].remove(),this.$1[a]=null};d.render=function(){var a=this.props.dimensions,c=a.getSize(),d=null;this.props.overlay&&(d=j.jsx("div",{className:"_290- _8f5u",children:this.props.overlay}));var e=null;if(this.props.customControls)e=j.jsx("div",{className:this.props.enableDrag?"":"_3dfz",children:this.props.customControls});else{var f=this.props.moveStatus!==void 0?this.props.moveStatus:this.state.moved;e=j.jsx("div",{className:(this.props.dragPosition===b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.MIDDLE?"_6aza":"")+(this.props.dragPosition===b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.TOP?" _3dfy":"")+(f||!this.props.enableDrag?" _3dfz":""),children:j.jsxs("span",{className:"_3df-",children:[j.jsx(b("Image.react"),{className:"_3-8_ _3df_",src:i("22701")}),h._("Drag to Reposition")]})})}return j.jsxs("div",{circular:this.props.circular?this.props.circular.toString():void 0,className:b("joinClasses")(this.props.className,"_4on5"),style:babelHelpers["extends"]({},this.props.style||{},{height:c.y,width:c.x}),children:[j.jsx(b("PhotoZoomCropImagePreview.react"),{circular:this.props.circular,dimensions:a,onKeyDown:this.$6,overlay:this.props.overlay,size:c,src:this.props.src,tabIndex:this.props.isTabbable?0:null}),e,j.jsxs("div",{className:"_4on8",children:[j.jsx(b("Image.react"),{className:"_4on7"+(this.props.enableDrag?"":" _3mk2")+" _8f5u",onDragStart:b("Event").prevent,onMouseDown:this.$7,onTouchStart:this.$8,src:this.props.src,alt:this.props.altText,style:a.getPosition()}),d]})]})};d.$9=function(a,b){if(this.$2)return;this.props.stopPropagation?a.stopPropagation():a.preventDefault();this.$2=b};d.$10=function(a){var b=this.$2;if(!b||!this.props.enableDrag)return;b=b.sub(a);this.props.onMove(b.x,b.y);this.setState({moved:!0});this.$2=a};return c}(j.Component);e.exports=a;a.propTypes={circular:(c=b("prop-types")).bool,customControls:c.element,dimensions:c.object,enableDrag:c.bool,onMove:c.func,overlay:c.element,src:c.oneOfType([c.string,c.object]),altText:c.string,moveStatus:c.bool,dragPosition:c.string,isTabbable:c.bool};a.defaultProps={circular:!1,enableDrag:!0,dragPosition:b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.TOP,isTabbable:!0}}),null);
__d("xuiglyph",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){throw new Error("xuiglyph: Unexpected xuiglyph call.")}}),null);
__d("PhotoZoomCropMixin",["ix","cx","invariant","xuiglyph","Image.react","React"],(function(a,b,c,d,e,f,g,h,i,j){f.getDimensions=a;f.resetDimensions=c;f._handleMove=d;f._handleZoom=e;f._getDimensionsState=h;f._getMessage=j;f._getMessageMarkup=l;var k=b("React");function a(){return this._dims}function c(){this.setState(this.getInitialState())}function d(a,b){this._dims.moveByPixels(a,b),this.setState(this._getDimensionsState())}function e(a,b){this._dims.setZoom(a[0]);var c=this._getDimensionsState();c.position=b||a[0];this.setState(c)}function h(){return{dimensions:this._dims.getPosition(),zoom:this._dims.getZoom()}}function j(){var a,b;this.__getZoom||i(0,104);if(this.__getZoom()>1&&this.props.warningText)a=g("89108"),b=this.props.warningText;else if(this.props.messageText)a=g("89336"),b=this.props.messageText;else return null;return this._getMessageMarkup(a,b)}function l(a,c){return k.jsxs("div",{className:"_aym",children:[k.jsx(b("Image.react"),{className:"_a63",src:a}),c]})}}),null);
__d("ProfileWizardStrings",["fbt"],(function(a,b,c,d,e,f,g){a=g._("Cancel");f.CANCEL=a;b=g._("Choose From My Photos");f.CHOOSE_FROM_MY_PHOTOS=b;c=g._("Change your cover photo any time from the camera icon.");f.COVER_PHOTO_CHANGE_NOTICE=c;d=g._("The changes you made to your cover photo haven't been saved.");f.COVER_PHOTO_LEAVE_WARNING=d;e=g._("Change your profile picture any time from the camera icon.");f.PROFILE_PICTURE_CHANGE_NOTICE=e;a=g._("Save");f.SAVE=a;b=g._("Update Cover Photo");f.UPDATE_COVER_PHOTO=b;c=g._("Upload Photo");f.UPLOAD_PHOTO=c;d=g._("Update Profile Picture");f.UPDATE_PROFILE_PICTURE=d}),null);
__d("ProfileHeaderCoverPhotoControls.react",["cx","ProfileWizardStrings","React","XUIButton.react","focusWithinLayer"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=h.useRef();h.useEffect(function(){if(!c.current)return;b("focusWithinLayer")(c.current,!0)},[c]);return h.jsx("div",{className:"_1tg",id:"fbProfileHeaderCoverPhotoControl",children:h.jsxs("div",{className:"_1th",ref:c,children:[h.jsx(b("XUIButton.react"),{"data-testid":void 0,label:b("ProfileWizardStrings").SAVE,onClick:a.previewSaveHandler,size:"large",use:"confirm"}),h.jsx(b("XUIButton.react"),{label:b("ProfileWizardStrings").CANCEL,onClick:a.previewCancelHandler,size:"large"})]})})}}),null);
__d("ProfileHeaderSpinner.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.shown?null:h.jsx("div",{className:"_5mb0",children:h.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})};return c}(h.Component);e.exports=a}),null);
__d("ProfileHeaderViewShapes",["prop-types"],(function(a,b,c,d,e,f){c=(a=b("prop-types")).shape({focus:a.shape({height:a.number,width:a.number}),original:a.shape({height:a.number,width:a.number}),permalinkURI:a.string,source:a.number,uri:a.string,altText:a.string});f.COVER_PHOTO_DATA=c}),null);
__d("ProfileHeaderCoverPhoto.react",["ix","cx","BasicVector","Image.react","PhotoZoomCropDimensions","PhotoZoomCropImage.react","PhotoZoomCropMixin","ProfileHeaderCoverPhotoControls.react","ProfileHeaderSpinner.react","ProfileHeaderViewShapes","React","ReactComponentWithPureRenderMixin","asset","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ProfileHeaderCoverPhoto",_dims:null,mixins:[b("PhotoZoomCropMixin"),b("ReactComponentWithPureRenderMixin")],propTypes:{coverPhotoData:b("ProfileHeaderViewShapes").COVER_PHOTO_DATA.isRequired,customControls:(a=b("prop-types")).element,dragPosition:a.string,emptyCover:a.element,height:a.number.isRequired,hideDefaultButtons:a.bool,index:a.number,isHidden:a.bool,isLoading:a.bool,isRequestFromContextItems:a.bool,isTabbable:a.bool,moveStatus:a.bool,onMove:a.func,previewCancelHandler:a.func,previewMode:a.bool,previewSaveHandler:a.func,width:a.number.isRequired},focusRef:i.createRef(),getDefaultProps:function(){return{hideDefaultButtons:!1,onMove:function(){},previewCancelHandler:function(){},previewSaveHandler:function(){}}},getInitialState:function(){this._updateDimensions(this.props.coverPhotoData);return babelHelpers["extends"]({},this._getUpdatedDimensionsState())},UNSAFE_componentWillReceiveProps:function(a){var b=this.props.coverPhotoData;if(b.id===a.coverPhotoData.id&&this.props.previewMode===a.previewMode&&this.props.width===a.width){b=b.focus;if(!b)return;if(b.width===a.coverPhotoData.focus.width&&b.height===a.coverPhotoData.focus.height)return}this._updateDimensions(a.coverPhotoData,a.height,a.width);this.setState(babelHelpers["extends"]({},this._getUpdatedDimensionsState()))},_updateDimensions:function(a,c,d){var e=a.original;if(e==null)return;var f=new(b("BasicVector"))(e.width,e.height);f=new(b("PhotoZoomCropDimensions"))(f);f.setSize(d||this.props.width,c||this.props.height);d=a.focus;d&&f.setCenter(d.width,d.height);f.setZoom(f.getSize().x/e.width);this._dims=f},_getUpdatedDimensionsState:function(){return this._getDimensionsState()},_onMove:function(a,b){this._handleMove(a,b),this.props.onMove&&this.props.onMove(a,b,this.props.index)},render:function(){var a=this.props.coverPhotoData;if(a.uri){var c=!!(this.props.previewMode&&this._dims&&this._dims.isCurrentlyDragable());c=i.jsx(b("PhotoZoomCropImage.react"),{altText:a.altText,className:"_2oru"+(this.props.isHidden||this.props.isLoading?" _2orv":""),customControls:this.props.customControls,dimensions:this._dims,dragPosition:this.props.dragPosition,enableDrag:c,isTabbable:this.props.isTabbable,moveStatus:this.props.moveStatus,onMove:this._onMove,src:a.uri})}else if(this.props.emptyCover)c=this.props.emptyCover;else{a=this.props.isRequestFromContextItems||null;a!==null?c=i.jsx("div",{className:"_6ld6",children:i.jsx(b("Image.react"),{src:g("621934")})}):c=i.jsx("div",{className:"_2orw"})}a=null;this.props.previewMode&&!this.props.customControls&&!this.props.hideDefaultButtons&&(a=i.jsx(b("ProfileHeaderCoverPhotoControls.react"),{previewCancelHandler:this.props.previewCancelHandler,previewSaveHandler:this.props.previewSaveHandler}));return i.jsxs("div",{className:"_2orx",style:{height:this.props.height,width:this.props.width},children:[c,a,i.jsx(b("ProfileHeaderSpinner.react"),{shown:this.props.isLoading})]})},getOffsets:function(){var a=this.getDimensions().getPosition();return{x:a.left/a.width,y:a.top/a.height}},getCenter:function(){var a=this.getDimensions().getRect();return a.center},__getZoom:function(){return this.state.zoom}});d=c;e.exports=d}),null);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=83,j=284,k=60;function a(a){var c=a.coverPhotoData?h.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:a.coverPhotoData,height:i,width:j}):null;return h.jsxs("div",{className:"_fj3",children:[c,h.jsxs("div",{className:"_2-0o",children:[h.jsx(b("MercuryThreadImage.react"),{className:"_2gye",size:k,thread:a.thread,viewer:a.viewer}),")"]})]})}}),null);
__d("StoreAndPropBasedStateMixin",["invariant","FluxMixinLegacyInstrumentation","StoreBasedStateMixinHelper","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";a=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("FluxMixinLegacyInstrumentation").addInstrumentation({_callCalculateState:function(a){return this.constructor.calculateState(a)},getInitialState:function(){this._onInitialStateForInstrumentation&&this._onInitialStateForInstrumentation();return this._callCalculateState(this.props)},UNSAFE_componentWillMount:function(){var a=this;this.constructor.calculateState||g(0,3582);this._recalculateStateID=null;var d=function(){if(a.isMounted()){var b=a._collectStoreEmitsForInstrumentation?a._collectStoreEmitsForInstrumentation():null,c=a._callCalculateState(a.props),d=a._getCurrentDispatchForInstrumentation&&a._getCurrentDispatchForInstrumentation();a.setState(a._logStoreEmitsForInstrumentation!=null?function(){b!=null&&a._logStoreEmitsForInstrumentation&&a._logStoreEmitsForInstrumentation(b,d);return c}:c)}a._recalculateStateID=null};this._mixin=new(b("StoreBasedStateMixinHelper"))(c);this._mixin.subscribeCallback(function(){a._recalculateStateID===null&&(a._recalculateStateID=b("setImmediate")(d))},this._addStoreEmitForInstrumentation)},UNSAFE_componentWillReceiveProps:function(a){var b=this,c=this._callCalculateState(a),d=this._getCurrentDispatchForInstrumentation&&this._getCurrentDispatchForInstrumentation();this.setState(this._onReceivePropsForInstrumentation?function(){b._onReceivePropsForInstrumentation&&b._onReceivePropsForInstrumentation(d);return c}:c)},componentWillUnmount:function(){this._mixin&&this._mixin.release(),this._mixin=null}})};e.exports=a}),null);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","React","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","immutable","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("createReactClass_DEPRECATED")({displayName:"MessengerContextBannerContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerContextInformationStore"),b("PagesMessagingMercuryChatTabStore"))],propTypes:{location:(a=b("prop-types")).string.isRequired,onResize:a.func,otherUserFBIDs:a.arrayOf(a.string),thread:a.object,threadID:a.string,viewer:a.string.isRequired},statics:{calculateState:function(a){var c=a.thread,d=null;c?d=c&&c.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(d=a.otherUserFBIDs.map(function(a){return b("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var e=b("immutable").Map();d&&(e=e.withMutations(function(a){d&&d.forEach(function(c){a.set(c,b("MessengerParticipants.bs").getNow(c))})}));var f=null,g=null;c?(f=e.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id)),g=c.associated_object):f=d&&e.get(d[0]);c=b("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=c.coverPhotoData;return babelHelpers["extends"]({associatedObject:g,contact:f,coverPhotoData:a,participantIDs:d,participants:e},h.getContextInformation(f&&f.fbid&&f.fbid.toString()))},getContextInformation:function(a){var c;a&&(c=b("MessengerContextInformationStore").getOrFetch(a.toString()));return c||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==b("MercuryShareAttachmentRenderLocations").MESSENGER?g.jsx(b("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.thread!=null)return g.jsx(b("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return g.jsx(b("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.verification_status==="BLUE_VERIFIED",location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});c=h;e.exports=c}),null);
__d("MessengerDateBreak_DEPRECATED.react",["cx","FBLogger","React","WorkChatRedesignedMessageListCheck.re","formatDate","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.date.getTime()!==a.date.getTime()};d.render=function(){try{var a=b("formatDate")(this.props.date,{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return h.jsx("h4",{className:b("joinClasses")(this.props.className,"_497p"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w78":"")+" _2lpt"),children:h.jsx("time",{className:"_3oh-",children:a})})}catch(a){b("FBLogger")("messaging").mustfix("invalid timestamp: "+this.props.date.getTime());return null}};return c}(h.Component);e.exports=a;a.propTypes={date:b("prop-types").instanceOf(Date).isRequired}}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","React","ReactDOM","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","clearTimeout","createReactClass_DEPRECATED","getElementRect","getScrollPosition","joinClasses","prop-types","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerFlexArea",propTypes:{limitCalculationToParent:(a=b("prop-types")).bool,beforeResize:a.func,onResize:a.func,bottomOffset:a.number,maxHeight:a.oneOfType([a.number,a.oneOf[void 0,null]])},_subscriptions:null,_onResizeTimeout:null,getInitialState:function(){return{height:0}},componentDidMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.recalculateHeight,51)),b("MessengerSignals.bs").onResize(function(){a.recalculateHeight()}));this._subscriptions=c;b("setTimeoutAcrossTransitions")(this.recalculateHeight,0)},componentDidUpdate:function(a){a.maxHeight!==this.props.maxHeight&&this.recalculateHeight()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),b("clearTimeout")(this._onResizeTimeout)},render:function(){return h.jsx(b("ResponsiveBlock.react"),{className:b("joinClasses")(this.props.className,"_9hq"),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"},children:this.props.children})},recalculateHeight:function(){if(!this.isMounted())return;var a=b("ReactDOM").findDOMNode(this),c=a.parentNode,d=this.state.height,e=b("Vector").getViewportDimensions().y,f=!1;c&&b("Style").get(c,"display")==="none"&&(b("Style").set(c,"display","initial"),f=!0);var g=!1;c instanceof Element&&b("CSS").hasClass(c,"hidden_elem")&&(b("CSS").removeClass(c,"hidden_elem"),g=!0);if(this.props.limitCalculationToParent===!0&&c!=null&&c instanceof Element){var h=c.getBoundingClientRect().height;this.setState({height:h},this.props.onResize);return}e-=b("Vector").getElementPosition(c||a).y;h=b("getScrollPosition")(window);e+=h.y;this.props.bottomOffset&&(e-=this.props.bottomOffset);c&&(Array.from(c.childNodes).forEach(function(a){if(a.nodeType===Node.COMMENT_NODE||b("Style").get(a,"position")==="absolute")return;e-=b("getElementRect")(a).height}),e+=b("getElementRect")(a).height);f&&b("Style").set(c,"display","");g&&c instanceof Element&&b("CSS").addClass(c,"hidden_elem");(isNaN(e)||e<0)&&(e=0);this.props.maxHeight!=null&&(e=Math.min(this.props.maxHeight,e));e!==d&&(this.props.beforeResize&&this.props.beforeResize(),this.setState({height:e},this.props.onResize))},_handleResponsiveBlockResize:b("throttle")(function(a,c){if(!this.isMounted())return;c===this.state.height&&(this.props.beforeResize&&this.props.beforeResize(),b("clearTimeout")(this._onResizeTimeout),this.props.onResize&&(this._onResizeTimeout=b("setTimeoutAcrossTransitions")(this.props.onResize,0)))},51)});d=c;e.exports=d}),null);
__d("MessengerStickyVerticalScroller.react",["invariant","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=5,j=20,k={wrapper:{position:"relative"},detector:{position:"absolute",height:"100%",overflow:"auto",width:"1px",visibility:"hidden"},disabled:{display:"none"}},l=function(a){var c=a.children,d=a.style,e=a.onResize,f=a.enabled,i=h.useRef(),j=h.useRef(),l=h.useRef(),m=h.useRef();h.useEffect(function(){var a=b("nullthrows")(j.current),c=b("nullthrows")(l.current),d=b("nullthrows")(m.current),e=document.createElement("div");e.style.width="1px";a.appendChild(e);a=document.createElement("div");a.style.height="200%";a.style.width="1px";c.appendChild(a);i.current=d.clientHeight;o()},[]);h.useEffect(function(){f&&o()},[f]);function n(a){var c=b("nullthrows")(m.current),d=b("nullthrows")(i.current);d=c.clientHeight-d;a.stopPropagation();if(d===0)return;i.current=c.clientHeight;o();e()}function o(){var a,c=(a=b("nullthrows"))(j.current),d=a(l.current),e=a(m.current);a=a(c.firstChild);a instanceof HTMLDivElement||g(0,22392);a.style.height=e.clientHeight+1+"px";c.scrollTop=c.scrollHeight;d.scrollTop=d.scrollHeight}return h.jsxs("div",{style:babelHelpers["extends"]({},d,k.wrapper),ref:m,children:[h.jsx("div",{style:babelHelpers["extends"]({},k.detector,!f&&k.disabled),onScroll:n,ref:j}),h.jsx("div",{style:babelHelpers["extends"]({},k.detector,!f&&k.disabled),onScroll:n,ref:l}),c]})},m={container:{height:"100%",overflowX:"hidden",overflowY:"auto"}};a=h.forwardRef(function(a,c){var d=a.children,e=a.style,f=a.onScroll;a=a.initialAnchor;a=a===void 0?"bottom":a;var g=h.useRef(),k=h.useRef(-1),n=h.useRef(-1),o=h.useRef(-1),p=h.useState(a),q=p[0],r=p[1],s=h.useRef(a);h.useImperativeHandle(c,function(){return{scrollToBottom:function(){var a=b("nullthrows")(g.current);t();a.scrollTop=a.scrollHeight;o.current=a.scrollTop;r("bottom")},scrollToTop:function(){var a=b("nullthrows")(g.current);t();a.scrollTop=0;o.current=a.scrollTop;r("top")},getArea:function(){return{getScrollHeight:function(){var a=b("nullthrows")(g.current);return a.scrollHeight},getScrollTop:function(){var a=b("nullthrows")(g.current);return a.scrollTop},setScrollTop:function(a,c){c===void 0;c=b("nullthrows")(g.current);t();c.scrollTop=a},getElement:function(){return{getBoundingClientRect:function(){var a=b("nullthrows")(g.current);return{height:a.clientHeight}}}},isScrolledToBottom:function(){return q==="bottom"}}},scrollToPosition:function(a,c){c===void 0;c=b("nullthrows")(g.current);t();c.scrollTop=a},isScrolledToBottom:function(){return q==="bottom"},isScrolledToTop:function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=j}}});h.useEffect(function(){var a=b("nullthrows")(g.current);n.current=a.clientHeight;k.current=a.scrollHeight;s.current==="bottom"&&(a.scrollTop=a.scrollHeight);o.current=a.scrollTop},[]);function t(){var a=b("nullthrows")(g.current),c=a.clientHeight-n.current,d=a.scrollHeight-k.current;if(q==="bottom"){d=o.current+d-c;c=a.scrollHeight-a.clientHeight-d<i;a.scrollTop=c?a.scrollHeight:d}n.current=a.clientHeight;k.current=a.scrollHeight;o.current=a.scrollTop}function u(a){a=a.target.scrollTop;var c=b("nullthrows")(g.current);a!==o.current&&(o.current=a,n.current=c.clientHeight,r(k.current-n.current-o.current<i?"bottom":"top"),f!=null&&f());q==="top"&&(o.current=a,k.current=c.scrollHeight)}return h.jsx(l,{onResize:t,enabled:q==="bottom",style:e,children:h.jsx("div",{style:m.container,ref:g,onScroll:u,children:h.jsx(l,{onResize:t,enabled:q==="bottom",style:null,children:d})})})});c=a;e.exports=c}),null);
__d("MessengerFlexScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","MessengerStickyVerticalScroller.react","React","gkx","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("gkx")("1489717");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldTrackBottom:c.props.shouldStickToBottom},c.$2=function(){c.props.onScroll&&c.props.onScroll();if(!c.props.shouldStickToBottom)return;c.$3()},c.$1=function(){c.trackBottomIfRequired()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onMount&&this.props.onMount()};d.render=function(){return g.jsxs(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$1,ref:"flexArea",maxHeight:this.props.maxHeight,limitCalculationToParent:this.props.limitCalculationToParent,bottomOffset:this.props.bottomOffset,children:[this.props.flexChildren,this.props.shouldStickToBottom&&h?g.jsx(b("MessengerStickyVerticalScroller.react"),{style:{height:"100%",overflow:"hidden"},initialAnchor:"bottom",ref:"scrollable",onScroll:this.props.onScroll,children:this.props.children}):g.jsx(b("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$2,ref:"scrollable",tabIndex:this.props.tabIndex,children:this.props.children}),this.props.footerChildren]})};d.$3=function(){this.isScrolledToBottom()?this.setState({shouldTrackBottom:!0}):this.setState({shouldTrackBottom:!1})};d.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};d.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};d.trackBottomIfRequired=function(){this.state.shouldTrackBottom&&!h&&this.scrollToBottom()};d.overrideTrackBottom=function(a){this.setState({shouldTrackBottom:a})};d.scrollToBottom=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.scrollToPosition=function(a,b,c){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(a,b,c)};d.isScrolledToBottom=function(){var a=this.refs.scrollable;return a?a.isScrolledToBottom():!0};d.isScrolledToBottomWithHeight=function(a){return this.refs.scrollable.isScrolledToBottomWithHeight(a)};d.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};d.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};return c}(g.Component);e.exports=a;a.propTypes={flexChildren:(c=b("prop-types")).node,footerChildren:c.node,onMount:c.func,onScroll:c.func,shouldStickToBottom:c.bool,tabIndex:c.number,maxHeight:c.number,bottomOffset:c.number,limitCalculationToParent:c.bool}}),null);
__d("MessengerNewMessagesNoticeReact.bs",["cx","ix","fbt","React","Link.react","Image.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h("86939"),l=i._("New Messages");function a(a){var c=a.isOpen,d=a.onClick;a=a.label;a=a!==void 0?a:l;return j.jsx("div",{children:j.jsxs(b("Link.react"),{className:"_5f0v _4wzs",onClick:d,tabIndex:c?0:-1,children:[j.jsx(b("Image.react"),{className:"_4wzt",src:k}),j.jsx("div",{children:a,className:"_1bqr"})]}),"aria-hidden":!c,className:"_4wzq"+(c?" _4wzr":"")+(c?"":" _4-je")})}c=a;d=a;f.newMessageSrc=k;f.defaultLabel=l;f.make=c;f.jsComponent=d}),null);
__d("MessengerQuickReplyUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";f.localizeTitleIfNecessary=a;function a(a){return a.map(function(a){return a.content_type==="location"?Object.assign(a,{title:g._("Send Location")}):a})}}),null);
__d("MessengerReadReceipt.bs",["bs_array","Utils.bs","immutable","bs_caml_option","bs_belt_MapString","MercuryActionStatus"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e){c=c>=a.timestamp;var f=a.status;e=!e||d!==a.author;if(c)if(f==null)if(e)return!0;else return!1;else if(e)return f===b("MercuryActionStatus").SUCCESS;else return!1;else return!1}function a(a,c,d){if(c==null)return[];a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,e,f,h){if(g(c,e.watermark,f,b("Utils.bs").isTruthy(d)))return b("bs_array").append(a,[f]);else return a},[]);else return[]}function c(a,c){a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,b,d,e){if(a)return g(c,b.watermark,d,!1);else return!1},!0);else return!1}function d(a){return!b("bs_belt_MapString").isEmpty(a)}function e(a,c){if(b("bs_belt_MapString").isEmpty(a))return b("immutable").OrderedMap();a=b("bs_belt_MapString").get(a,c);if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return b("immutable").OrderedMap()}function h(a,c,d){a=b("bs_belt_MapString").get(a,c);if(a===void 0)return null;c=b("bs_caml_option").valFromOption(a).get(d);if(c==null)return null;else return c}var i;f.emptyReadReceipts=i;f.wasSeen=g;f.getSeenBy=a;f.wasSeenByAll=c;f.hasReadReceipts=d;f.getSeenTimestamps=e;f.getSeenTimestamp=h}),null);
__d("MessengerReadReceipt.re",["bs_curry","MessengerReadReceipt.bs"],(function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MessengerReadReceipt.bs").getSeenBy,a,c,d);return a};f.getSeenBy=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerReadReceipt.bs").getSeenTimestamps,a,c);return a};f.getSeenTimestamps=c}),null);
__d("MercuryTypingAnimationReact.bs",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.className;return h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"}),h.jsx("div",{className:"_5pd7"})],className:"_4b0g"}),className:b("joinClasses")("_4a0v _1x3z",a!==void 0?a:"")})}c=a;f.make=c}),null);
__d("MessengerBubbleReact.re",["MessengerBubble.react"],(function(a,b,c,d,e,f){a=b("MessengerBubble.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MessengerTypingIndicatorReact.bs",["cx","bs_curry","React","bs_js_dict","bs_caml_obj","immutable","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","MessengerPersonas.bs","MessengerParticipants.bs","WorkForeignEntityType","MessengerBubbleReact.re","MercuryTypingAnimationReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerTypingIndicatorReact");function a(a,c,d,e){var f=function(c,a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getMulti([a],function(d){b("bs_curry")._1(c.send,{TAG:0,_0:b("bs_js_dict").get(d,a)})}))},g=function(a){if(c==null)return;a=b("MercuryIDs").getUserIDFromParticipantID(c);if(!(a==null))return b("bs_caml_option").nullable_to_opt(b("MessengerPersonas.bs").getNow(a))};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:function(a){var d=a.state.author;if(d!==void 0)return;if(c==null)return;d=b("MessengerParticipants.bs").getNow(c);if(d==null)return b("bs_curry")._1(a.send,{TAG:1,_0:f(a,c)});else return b("bs_curry")._1(a.send,{TAG:0,_0:d==null?void 0:b("bs_caml_option").some(d)})},didUpdate:function(a){a=a.newSelf;var d=a.state.subscription.contents,e=a.state.author;if(d!==void 0)return;if(e!==void 0){if(c==null)return;if(b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e).id,c))return}if(!(c==null))return b("bs_curry")._1(a.send,{TAG:1,_0:f(a,c)})},willUnmount:function(a){a=a.state.subscription.contents;if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_caml_option").valFromOption(a))},shouldUpdate:i.shouldUpdate,render:function(c){var d=g(void 0);if(c.state.author===void 0&&d===void 0)return null;var e=c.state.author;d=d!==void 0?d.profile_picture_url:e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).image_src):void 0;e=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(c.state.author,function(a){return b("bs_caml_option").nullable_to_opt(a.work_foreign_entity_info)}),function(a){return b("bs_caml_option").some(a.type)});e=e!==void 0?b("CurrentUser").isWorkUser()&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e),b("WorkForeignEntityType").FOREIGN):!1;c=c.state.author;return h.jsxs("div",{children:[h.jsx("div",{children:h.createElement(b("MessengerProfileImageWrapperReact.bs").make,{isMessengerUser:c!==void 0?b("bs_caml_option").valFromOption(c).is_messenger_user:!1,size:32,className:"_1t_r",showBadge:e,children:d!==void 0?h.jsx(b("Image.react"),{alt:"",src:d,height:32,width:32}):h.jsx(b("Image.react"),{alt:"",height:32,width:32})}),className:"_1t_q"}),h.jsx("div",{children:h.jsx("div",{children:h.jsx(b("MessengerBubbleReact.re").make,{attachments:b("immutable").List([h.jsx(b("MercuryTypingAnimationReact.bs").make,{},"animation")]),body:"",className:"_3058",ref:a}),className:"_o46 _3erg _29_7"}),className:"_41ud"})],className:"_1t_p _1hbw"})},initialState:function(a){return{author:c==null?void 0:b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(c)),subscription:{contents:void 0}}},retainedProps:i.retainedProps,reducer:function(a,b){if(a.TAG){b.subscription.contents=a._0;return 0}b.subscription.contents=void 0;return{TAG:0,_0:{author:a._0,subscription:b.subscription}}},jsElementWrapped:i.jsElementWrapped}}c=32;f.component=i;f.cIMAGE_SIZE=c;f.make=a}),null);
__d("MessengerTypingIndicatorReact.re",["bs_curry","MessengerTypingIndicatorReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerTypingIndicatorReact.bs").component,function(a){return b("bs_curry")._4(b("MessengerTypingIndicatorReact.bs").make,a.setBubbleRef,a.userID,a.showName,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerUserInputActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UPDATE_USER_INPUT_REQUESTED:null});f.MessengerUserInputActions=a}),null);
__d("MessengerUserInputActionsHandler",["MessengerUserInputActions","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";f.updateUserInputRequested=a;function a(a,c,d){b("MessengerUserInputAppDispatcher").dispatch({type:b("MessengerUserInputActions").MessengerUserInputActions.UPDATE_USER_INPUT_REQUESTED,data:{isUserInputRequested:a,requestNumResults:c,requestType:d}})}}),null);
__d("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2269337216466106"};b.getQueryID=function(){return"489792994894664"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerUserProfileLocationUtils",["MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery","RelayFBEnvironment","RelayHooks","WebGraphQL","MessengerUserProfileLocationUtilsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";f.FetchMessengerUserRegionAndPostalCode=a;var g;function h(){return b("RelayHooks").fetchQuery(b("RelayFBEnvironment"),g!==void 0?g:g=b("MessengerUserProfileLocationUtilsQuery.graphql"),{}).toPromise()}function a(){return h().then(function(a){var c=null,d=null;a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.address;a!==null&&(c=(a==null?void 0:a.region)===""?null:a==null?void 0:a.region,d=(a==null?void 0:a.postal_code)===""?null:a==null?void 0:a.postal_code);if(c!==null&&d!==null)return{region:c,postal_code:d};else return b("WebGraphQL").exec(new(b("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery"))({})).then(function(a){a=(a=a)!=null?a.in_thread_user_fuzzy_location_search:a;if(a!==null){var b;c=c===null?(b=a)!=null?b.state:b:c;d=d===null?(b=a)!=null?b.zip_code:b:d}return{region:c,postal_code:d}})})}}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.onScroll=a;f.updateStore=c;f.deleteThread=d;f.deleteAllThreads=e;var g="messenger_video";f.Namespace=g;var h=b("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});f.Types=h;function a(a,c,d,e){b("MessengerFluxReduceDispatcher").dispatch({type:h.SCROLL,namespace:g,threadID:a,messageIDs:c,messageRectMap:d,viewportRect:e})}function c(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:h.UPDATE,namespace:g,threadID:a,messageIDs:c})}function d(a){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY,namespace:g,threadID:a})}function e(){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY_ALL,namespace:g})}}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","MessengerVideoAutoplayActions","immutable","MessengerFluxReduceDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerVideoAutoplayActions").Types,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.reduce=function(a,c){if(c.namespace!==b("MessengerVideoAutoplayActions").Namespace)return a;switch(c.type){case g.SCROLL:c.messageIDs&&(a=this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs));return this.$MessengerVideoAutoplayStore2(a,c.threadID,c.messageRectMap,c.viewportRect);case g.UPDATE:return this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs);case g.DESTROY:return this.$MessengerVideoAutoplayStore3(a,c.threadID);case g.DESTROY_ALL:return a.clear()}return a};d.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new h({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};d.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};d.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=this,g=null;c=c.map(function(a){if(g)return[a,!1];else{var b=f.$MessengerVideoAutoplayStore5(a,d,e);b&&(g=a);return[a,b]}}).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:g,videoVisibilityMap:c})};d.$MessengerVideoAutoplayStore2=function(a,b,c,d){var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};d.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};d.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};d.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};d.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};d.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("MessengerFluxReduceDispatcher"));e.exports=c}),null);
__d("MessengerViewerContactMethodsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1868889766468115"};b.getQueryID=function(){return"177554543035925"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerConversation.react",["ix","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatTypingIndicatorsWrapper.bs","CSS","CurrentUser","DOM","DOMDimensions","ErrorBoundary.react","Event","FantaPageGreetingLoader.react","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerActions","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerButtonReact.re","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak_DEPRECATED.react","MessengerDialogs.re","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerNewMessagesNoticeReact.bs","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.re","MessengerSpinner.react","MessengerThreadFetchLoggerUtil","MessengerThreadSearchActions","MessengerTypingIndicatorReact.re","MessengerUserInputActionsHandler","MessengerUserProfileLocationUtils","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MessengerViewerContactMethodsWebGraphQLQuery","Parent","React","ReactDOM","SubscriptionsHandler","UserActivity","WebGraphQL","WebMessengerConstants","WorkBotLandingPageHelper","WorkChatRedesignedMessageListCheck.re","WorkGalahadScrollToMessageEventEmitter","asset","emptyFunction","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","nullthrows","promiseDone","prop-types","requireCond","setImmediate","setTimeout","throttle","cr:1203488","cr:1071079","cr:1272775","cr:1071080","MessengerAdsMessageSeenThreadFalcoEvent"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");b("immutable").OrderedMap;var l=0,m=20,n=100,o=1e3,p=200,q=b("gkx")("833128"),r=b("gkx")("1489717"),s=b("lazyLoadComponent")(b("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react")),t=b("lazyLoadComponent")(b("JSResource")("OmniMSuggestionsContainer.react").__setRef("MessengerConversation.react"));function u(a,c){return!!(b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c)&&a.target instanceof Element&&b("Parent").bySelector(a.target,"._4_j4"))}var v={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={readReceipts:w(d.props),scrollingToUnreadMessage:!1,selectedMessageId:null,showUnreadNotice:!1,unreadCount:d.props.thread?d.props.thread.unread_count:0,width:0,viewerEmail:null,viewerPhone:null,viewerState:null,viewerZipCode:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1,renderScrollToBottom:!1},d.$1=null,d.$2=null,d.$3=null,d.$4=b("immutable").List(),d.$5=[],d.$6={originalScrollHeight:0,originalScrollTop:0},d.$7=function(){},d.$8=function(){},d.$16=function(){var a=d.$19();if(!d.refs||!a||d.props.isLoading){d.$5=[];return}var c=b("getPageIDFromThreadID")(d.props.threadID),e=d.refs.messageList;if(!e||!c){d.$5=[];return}var f=10,g=a.getElement().getBoundingClientRect(),h=[];d.$4.forEach(function(a){var e=a.message_id,i=d.refs.messageList.getMessageElement(e);if(i){i=i.getBoundingClientRect();i.top>g.top-f&&i.bottom<g.bottom+f&&(h.push(e),d.$5.includes(e)||(b("gkx")("1181700")?b("MessengerAdsMessageSeenThreadFalcoEvent").log(function(){return{message_id:e,ad_client_token:a.ad_client_token,ad_id:a.ad_id,page_id:c}}):b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,e,c)},"MessengerConversation.react")))}},babelHelpers.assertThisInitialized(d));d.$5=h},d.$20=function(){b("MessengerThreadFetchLoggerUtil").markerEnd(d.props.threadID,2),d.$20=b("emptyFunction")},d.$41=function(){var a;return((a=d.props.contact)==null?void 0:a.user_type)==="page"&&b("getPageIDFromThreadID")(d.props.threadID)!==null},d.$43=function(){d.state.renderScrollToBottom?(d.scrollToBottom(!0),d.setState({renderScrollToBottom:!1})):b("MessengerActions").changeMid(null)},d.$42=function(){d.setState({isLandingPageDismissed:!0})},d.$9=function(){var a=d.$19();a&&a.pageUp();return!1},d.$10=function(){var a=d.$19();a&&a.pageDown();return!1},d.$11=function(a){if(a.target===document.body){d.scrollToTop();return!1}return null},d.$12=function(a){if(a.target===document.body){d.scrollToBottom();return!1}return null},d.$15=function(){if(!d.refs)return;if(!d.refs.scrollable)return;var a=d.$19(),c=d.refs.quickReply;c&&b("CSS").conditionClass(c,"_1mzg",!d.isScrolledToBottom());d.$13();d.$14();a&&d.state.unreadCount&&d.$26(a)&&d.setState({showUnreadNotice:!1,unreadCount:0});a&&a.isScrolledToBottom()&&d.setState({renderScrollToBottom:!1});d.$46(a);d.$47(a);d.$8()},d.$45=function(a){a.preventDefault(),d.setState({showUnreadNotice:!1}),d.$22(!0)},d.$14=function(){if(d.props.messages.size===0||d.props.thread&&d.props.thread.unread_count===0||!d.isScrolledToBottom())return;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?d.props.onRead(d.props.threadID):d.$3||(d.$3=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(d.$18(),d.props.onRead(d.props.threadID))}))},d.handleResize=function(){if(!d.refs)return;if(d.refs.scrollable){d.refs.scrollable.handleResize();var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(d.refs.scrollable)).width;a!==d.state.width&&d.setState({width:a})}a=d.refs.quickReply;a&&b("CSS").conditionClass(a,"_1mzg",!d.isScrolledToBottom());r||d.trackBottomIfRequired()},d.$17=function(a){d.props.messages.some(function(b){return b.message_id===a})?d.$24(a,!0,function(){d.setState({selectedMessageId:a})}):(d.setState({selectedMessageId:null,shouldJumpToMessage:!0}),b("MessengerActions").changeMid(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c,d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.handleResize,50)),(c=b("KeyEventController")).registerKey("PAGE_UP",this.$9,u),c.registerKey("PAGE_DOWN",this.$10,u),c.registerKey("HOME",this.$11,u),c.registerKey("END",this.$12,u));this.$2=d;this.$13();this.handleResize();this.$14();this.$7=b("throttle")(this.$15,n);this.$8=b("throttle")(this.$16,o);this.$4=this.props.messages.filter(function(a){return a.is_sponsored});this.$8();b("WorkGalahadScrollToMessageEventEmitter").addListener("scrollToMessage",function(b){a.$17(b)})};d.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$18(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$4=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:w(a)})};d.componentWillUnmount=function(){this.$18(),this.$2&&this.$2.release(),this.$1!=null&&window.clearTimeout(this.$1),b("WorkGalahadScrollToMessageEventEmitter").removeAllListeners("scrollToMessage")};d.UNSAFE_componentWillUpdate=function(){var a=this.$19();a?this.$6={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$6={originalScrollHeight:0,originalScrollTop:0}};d.componentDidUpdate=function(a,c){var d=this;if(!this.refs)return;if(!this.refs.scrollable)return;(!this.props.isLoading||!this.props.messages.isEmpty())&&this.$20();c=this.props.threadID!==a.threadID;if(c&&!r||y(a,this.props))this.scrollToBottom(),this.$21();else if(!r||a.isLoading&&!a.messages.isEmpty()){c=this.$19();if(c){var e=c.getScrollHeight();if(e!==this.$6.originalScrollHeight){e=c.getScrollHeight()-this.$6.originalScrollHeight+this.$6.originalScrollTop;this.refs.scrollable.scrollToPosition(e)}else this.$21()}}this.props.messages!==a.messages&&(this.$14(),this.state.scrollingToUnreadMessage&&this.$22(!1),this.$23());c=this.props.selectedMessage;this.state.shouldJumpToMessage&&c&&this.$24(c,!0,function(){d.setState({shouldJumpToMessage:!1})});this.$1=b("setTimeout")(function(){var a=d.$19(),c=d.state.unreadCount;d.trackBottomIfRequired();if(a&&d.state.unreadCount&&!d.state.scrollingToUnreadMessage&&!d.props.isLoading&&d.props.selectedMessage==null&&!d.$25()){d.$26(a)?d.setState({showUnreadNotice:!1,unreadCount:0}):c==1&&((c=d.props.messages.last())==null?void 0:c.log_message_type)!==null?d.setState({showUnreadNotice:!1,unreadCount:0}):d.setState({showUnreadNotice:!0})}d.$13();d.$8();b("setImmediate")(function(){var c=d.props.selectedMessage;a&&c!=null&&!d.props.scrolledToMid&&b("MessengerThreadSearchActions").scrollToMessage(c)})},0)};d.render=function(){var a=this,c;if(this.props.isLoading&&this.props.messages.isEmpty())return this.$27();var d=this.props.messages.last(),e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);this.$28(d);var f=this.$29(d),g=this.$30(d);this.$31(d);e=d&&d.author!==e?f||g:null;f=null;if(Array.isArray(e)){g=e.every(function(b){return b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null||b.content_type==="user_state"&&a.state.viewerState===null||b.content_type==="user_zip_code"&&a.state.viewerZipCode===null});if(!g){g=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(e);f=k.jsx(b("BootloadOnRender.react"),{component:k.jsx(b("LazyComponent.react"),{options:g,threadID:d.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:b("MessengerQuickCamOrigins").MESSENGER,messageId:d.message_id,pageId:b("MercuryIDs").getUserIDFromParticipantID(d.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:d.is_sponsored,useM4QR:this.props.useM4QR,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone,viewerState:this.state.viewerState,viewerZipCode:this.state.viewerZipCode}),loader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:k.jsx("div",{})})}}e=null;g=null;f&&(e=k.jsx("div",{className:"_51op",children:k.jsx("div",{className:"_51oq",onResize:this.handleResize})}),g=k.jsx("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize,children:f},"quick_reply"));d=j._("Messages");f=j._("Load more...");var h=this.$32(),i=null;if(b("cr:1071079")!=null&&b("cr:1071080")!=null&&b("cr:1071080").shouldRenderChatNullState(this.props.messages,this.props.threadID,(c=this.props.contact)==null?void 0:c.user_type,this.props.viewer)){((c=this.props.thread)==null?void 0:c.work_associated_group)!=null&&b("cr:1272775")!=null?i=k.jsx(b("cr:1272775"),{group:this.props.thread.work_associated_group},"work_teamwork_chat_nullstate"):i=k.jsx(b("cr:1071079"),{messageType:b("nullthrows")(b("cr:1071080").getNullStateMessageType(this.props.threadID,this.props.viewer))},"work_teamwork_chat_nullstate")}return k.jsxs(k.Fragment,{children:[k.jsx(b("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$33(),footerChildren:[g,i],onMount:function(){return b("setImmediate")(a.$14)},onScroll:this.props.useManualFetch?void 0:this.$7,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0,bottomOffset:this.props.bottomOffset,children:k.jsxs("div",{"aria-label":d,className:b("joinClasses")("__i_"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w74":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2k":""),this.props.innerClassName),role:"region",children:[k.jsx("h3",{className:"accessible_elem",children:d}),this.$34(),this.props.useManualFetch&&!this.props.upExhausted?k.jsx("div",{className:"_7fim",children:k.jsx(b("MessengerButtonReact.re").make,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,a.props.threadID)},type:"primary",use:"default"})}):null,this.$35(),this.$36()&&k.jsx(b("FantaPageGreetingLoader.react"),{thread:this.props.thread,threadID:this.props.threadID}),i?null:h||k.jsx(b("MessageList.react"),{DateBreak:b("MessengerDateBreak_DEPRECATED.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:b("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),MessageGroup:b("cr:1203488"),messages:this.props.messages,onAttachmentLoad:this.$37(this.props.threadID),onReactionSwap:this.$38,onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",selectedMessageId:this.state.selectedMessageId,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$17}),this.props.useManualFetch&&!this.props.downExhausted?k.jsx("div",{className:"_7fim",children:k.jsx(b("MessengerButtonReact.re").make,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN,a.props.threadID)},type:"primary",use:"default"})}):null,e,k.jsx(b("ChatTypingIndicatorsWrapper.bs").jsComponent,{indicatorClass:b("MessengerTypingIndicatorReact.re").component,indicatorsDidShow:function(){a.trackBottomIfRequired()},rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),b("gkx")("1501033")&&k.jsx(b("ErrorBoundary.react"),{context:{project:"omnim"},children:k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(t,{threadID:this.props.threadID,lastMessage:this.props.messages.last(),trackBottom:function(){return a.trackBottomIfRequired()}})})})]})}),b("WorkChatRedesignedMessageListCheck.re").enabled?this.$39():this.$40()]})};d.$32=function(){if(!b("CurrentUser").isWorkUser())return null;if(!this.$41())return null;if(this.state.isLandingPageDismissed===!0)return null;return this.props.contact&&b("WorkBotLandingPageHelper").shouldShowBotLandingPage(this.props.messages)?k.jsx(k.Suspense,{fallback:k.jsx(b("MessengerSpinner.react"),{}),children:k.jsx(s,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$42})}):null};d.$40=function(){var a=this.$19();if(a){a=a.getElement().getBoundingClientRect().height;a={top:a-74+"px"}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?k.jsx(b("Link.react"),{"aria-label":j._("Jump to the last message"),style:a,className:"_69xg",onClick:this.$43,children:k.jsx(b("Image.react"),{className:"_69xi",src:g("415099")})}):null};d.$39=function(){return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?k.jsx(b("Link.react"),{className:"_8wfp",onClick:this.$43,children:j._("Back to Latest")}):null};d.$29=function(a){var b=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var c=a&&a.message_classification==="ad_message";c&&Array.isArray(a&&a.quick_replies)&&(b=a&&a.quick_replies);return b};d.$30=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};d.$44=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.user_input};d.$28=function(a){var c=b("gkx")("964442");if(c){c=this.$44(a);if(!c){b("MessengerUserInputActionsHandler").updateUserInputRequested(!1,l);return}else c.type==="address_auto_complete"&&b("MessengerUserInputActionsHandler").updateUserInputRequested(!0,c.data.num_results,c.type)}return};d.$13=function(){if(this.props.useManualFetch)return;var a=this.$19();a&&a.getScrollTop()<m&&(this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,this.props.threadID),this.$23())};d.$31=function(a){var c=this;a=this.$30(a);if(!a)return;a.some(function(a){return a.content_type==="user_state"||a.content_type==="user_zip_code"})&&(!this.state.viewerState||!this.state.viewerZipCode)&&b("promiseDone")(b("MessengerUserProfileLocationUtils").FetchMessengerUserRegionAndPostalCode(),function(a){var b=a==null?void 0:a.region;a=a==null?void 0:a.postal_code;c.setState({viewerState:b,viewerZipCode:a})});a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var d=b?b.find(function(a){return a.is_preferred}):null;!d&&b&&(d=b[0]);b=a?a.find(function(a){return a.is_primary}):null;c.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=d)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})})};d.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};d.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};d.$33=function(){return k.jsx(b("MessengerNewMessagesNoticeReact.bs").jsComponent,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} unread messages","_1":"1 unread message"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$45})};d.$34=function(){return!this.props.isLoaded||this.props.hideContextBanner?null:k.jsx(b("MessengerContextBannerContainer.react"),{location:b("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};d.$35=function(){return this.props.isLoaded?null:k.jsx("div",{className:"_2k8v",children:this.props.isLoading?k.jsx(b("MessengerSpinner.react"),{}):null})};d.$27=function(){return k.jsx("div",{className:"_4xu0",children:k.jsx(b("MessengerSpinner.react"),{className:"_4xu1",size:b("MessengerSpinner.react").large_size})})};d.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};d.scrollToBottom=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.$37=function(a){var b=this;if(v[a])return v[a];var c=function(){if(b.props.threadID!==a||r)return;b.trackBottomIfRequired()};v[a]=c;return c};d.$38=function(a){b("promiseDone")(b("JSResource")("MessengerSolidReactionDialogReact.re").__setRef("MessengerConversation.react").load().then(function(c){var d=c.make;b("MessengerDialogs.re").showDialog(function(){return k.jsx(d,{isSolid:a})})}))};d.$21=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){(a.props.threadID===d||r)&&a.trackBottomIfRequired(),e.remove()})})};d.$48=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};d.$26=function(a){var b=this,c=this.props.messages,d=this.$48();if(!d)return!1;var e=a.getElement().getBoundingClientRect();return c.filter(function(a){return a&&a.timestamp<=d.timestamp}).some(function(a){a=b.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>e.top&&a.top<e.bottom})};d.$25=function(){if(q&&this.state.unreadCount<p){var a;this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=(a=this.refs.messageList)==null?void 0:a.getNewMessageDivider();var c=this.$19();if(!a||!c)return!1;a=a.getBoundingClientRect().top;var d=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,e=c.getElement().getBoundingClientRect();if(a<e.top){a=a+Math.abs(d)-e.height*.2;c.setScrollTop(a,!1);this.setState({renderScrollToBottom:!0,unreadCount:0});return!0}}return!1};d.$22=function(a){var b=this;if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var c=this.$48();if(!c){this.scrollToTop(!1);return}this.$24(c.message_id,a,function(){b.setState({scrollingToUnreadMessage:!1,unreadCount:0})})};d.$24=function(a,c,d){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var e=this.$19();if(!a||!e)return;a=a.getBoundingClientRect().top;var f=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,g=e.getElement().getBoundingClientRect().height;a=a+Math.abs(f)-g/2;e.setScrollTop(a,c,{callback:d})};d.$19=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};d.$18=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};d.$49=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};d.$46=function(a){var c=this.refs.messageList;if(!c||!a)return;var d=[];a=a.getElement().getBoundingClientRect();var e=b("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),f=e||this.$49()||b("immutable").List();f.map(function(a){var e=b("MessengerAttachmentRenderer").getVideoElem(a,c);e&&d.push([a,e.getBoundingClientRect()])});d.length&&b("MessengerVideoAutoplayActions").onScroll(this.props.threadID,e?null:f,b("immutable").Map(d),a)};d.$50=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};d.$47=function(a){var c=this;b("ifRequired")("MessengerSphericalRendererActions",function(d){b("ifRequired")("MessengerSphericalRendererStore",function(e){var f=c.refs.messageList;if(!f||!a)return;var g=[],h=a.getElement().getBoundingClientRect();e=e.getMessageIDs(c.props.threadID);e=e||c.$50()||b("immutable").List();e.map(function(a){var c=b("MessengerAttachmentRenderer").getSphericalPhotoElem(a,f);c&&g.push([a,c.getBoundingClientRect()])});g.length&&d.onScroll(c.props.threadID,e,b("immutable").Map(g),h)},function(){})},function(){})};d.$23=function(){var a=this;b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$49());var c=this.$50();c&&c.count()!==0&&b("ifRequired")("MessengerSphericalRendererActions",function(b){b.updateStore(a.props.threadID,c)},function(){b("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(b,d){b.updateStore(a.props.threadID,c)},"MessengerConversation.react")})};d.$36=function(){if(b("CurrentUser").isWorkUser())return!1;return this.props.messages.size!==0?!1:!0};return c}(k.PureComponent);e.exports=a;a.propTypes={contact:(c=b("prop-types")).instanceOf(b("ImmutableObject")),deliveryTimestamp:c.number.isRequired,downExhausted:c.bool,fetchMessages:c.func.isRequired,hideContextBanner:c.bool,innerClassName:c.string,isCanonical:c.bool,isLoaded:c.bool,isLoading:c.bool,isMessengerAdPreview:c.bool,messages:c.instanceOf(b("immutable").List).isRequired,onVoiceClipCreate:c.func,onReplyToMessage:c.func,readReceipts:c.any,thread:c.object,threadID:c.string.isRequired,upExhausted:c.bool,useM4QR:c.bool,useManualFetch:c.bool,viewer:c.string.isRequired,selectedMessage:c.string,isSearchResult:c.bool};function w(a){var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.re").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);c=a.messages.findLast(function(a){return(a==null?void 0:a.action_type)!=="ma-type:log-message"||(a==null?void 0:(a=a.log_message_data)==null?void 0:a.message_type)==="messenger_call_log"});var f=(c==null?void 0:c.timestamp)||Infinity;return d.withMutations(function(c){b("immutable").Seq(a.messages).reverse().forEach(function(a){if(e.size===0)return!1;if(!e.has(a.author))return;if(a.action_type==="ma-type:log-message")return;c.update(a.author,function(b){if(!b)return b;if(f<b.watermark)return x(f);else if(b.watermark<=a.timestamp)return x(a.timestamp);return b});e["delete"](a.author)})}).sortBy(function(a){return a.watermark})}function x(a){return{watermark:a,action:a}}function y(a,c){var d=b("MercuryIDs").getParticipantIDFromUserID(c.viewer);return c.threadID===a.threadID&&c.messages!==a.messages&&!c.messages.isEmpty()&&c.messages.last()!==a.messages.last()&&c.messages.last().author===d&&(!r||!a.isLoading)}}),null);
__d("MercuryMessageStore",["CurrentUser","LogHistory","MercuryAPIArgsSource","MercuryMessagingLightswitch","MercuryThreadInformer","MercuryThreadlistConstants","MessengerState.bs","SubscriptionsHandler","mixInEventEmitter","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("mercury_message_store");a=function(){function a(a,c,d){var e=this;this.$5=a;this.$1=d||b("CurrentUser").getID();this.$2=1;this.$3=c||b("MercuryThreadlistConstants").RECENT_MESSAGES_LIMIT;this.$6=d?b("MercuryThreadInformer").getForFBID(d):b("MercuryThreadInformer").get();this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(this.$6.subscribe("messages-received",function(a,b){return e.$7(b)}),this.$6.subscribe("messages-updated",function(a,b){return b[e.$5]&&e.$8(b[e.$5])}),this.$6.subscribe("messages-deleted",function(a,b){return b[e.$5]&&e.$9(b[e.$5])}),this.$6.subscribe("messages-reordered",function(a,b){return b[e.$5]&&e.$10()}),this.$6.subscribe("thread-invalidated",function(a,b){return b[e.$5]&&e.$11()}));var f=this.$12();b("MercuryMessagingLightswitch").guard(function(){g.debug("constructed",JSON.stringify({threadID:e.$5,messageCount:f}))});f<this.$3?this.$13():b("setImmediate")(function(){e.$10()})}var c=a.prototype;c.destroy=function(){var a=this;this.$4&&this.$4.release();this.removeAllListeners();b("MercuryMessagingLightswitch").guard(function(){g.debug("destroyed",JSON.stringify({threadID:a.$5}))})};c.subscribe=function(a){return this.addRetroactiveListener("updated",a)};c.fetchMoreMessages=function(){if(this.hasFetchedAll())return!1;this.$13();return!0};c.hasFetchedAll=function(){return b("MessengerState.bs").hasLoadedAllMessages(this.$1,this.$5)||b("MessengerState.bs").isNewEmptyLocalThread(this.$1,this.$5)};c.$12=function(){return b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5).length};c.$13=function(){var a=this,c=this.$3;b("MessengerState.bs").getThreadMessagesRange(this.$1,this.$5,this.$12(),c,this.$14.bind(this),null,b("MercuryAPIArgsSource").MERCURY);this.$2<10&&(this.$2+=1);b("MessengerState.bs").hasLoadedNMessages(this.$1,this.$5,c+this.$12())&&b("setImmediate")(function(){a.$10()})};c.$14=function(c){var d=this;b("MercuryMessagingLightswitch").guard(function(){g.debug("fetch_messages",JSON.stringify({threadID:d.$5,fetchedMessagesCount:c&&c.length||0,messageCount:d.$12()}))});c&&!c.length&&!this.$12()&&this.$15(a.THREAD_IS_EMPTY)};c.$7=function(b){var c=[];b=b[this.$5];b&&b.length&&(c=c.concat(b.filter(function(a){return!!a})));c.length&&this.$15(a.MESSAGES_RECEIVED)};c.$8=function(b){this.$15(a.MESSAGES_CHANGED)};c.$9=function(b){this.$15(a.MESSAGES_DELETED,b)};c.$10=function(){this.$15(a.MESSAGES_REORDERED)};c.$11=function(){this.$2=1,this.$13()};c.$15=function(a,c){var d=b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5);this.releaseHeldEventType("updated");this.emitAndHold("updated",{messages:d,deletedMessages:c,eventType:a})};return a}();e.exports=a;Object.assign(a,{MESSAGES_FETCHED:"fetched",MESSAGES_CHANGED:"changed",MESSAGES_RECEIVED:"received",MESSAGES_REORDERED:"reordered",MESSAGES_DELETED:"deleted",THREAD_IS_EMPTY:"thread-is-empty"});b("mixInEventEmitter")(a,{updated:!0})}),null);
__d("MessengerBlockedGroupThreadWarningDialogReact.bs",["fbt","bs_curry","React","ReasonReact.bs","CacheStorage","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var b=a.length;if(b>=3){var c=String(a.length-2|0);return g._("{person1}, {person2} and {number} others are in this group. If you continue, you and they will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("person1",a[0]),g._param("person2",a[1]),g._param("number",c)])}switch(b){case 0:return g._("People you've blocked are in this conversation. If you see this conversation, you'll get each other's messages to the group.");case 1:c=a[0];return g._("You've blocked {name}. If you continue, you and {name} will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("name",c)]);case 2:b=a[0];c=a[1];return g._("{person1} and {person2} are in this group. If you continue, you and they will be able to call, video chat, and see each other's messages and activity in this group.",[g._param("person1",b),g._param("person2",c)])}}function j(a){var b=a.length;if(b!==1)if(b!==0)return g._("People you've blocked are in this group");else return g._("See Conversation?");b=a[0];return g._("{name} is in this group",[g._param("name",b)])}var k=g._("Cancel"),l=g._("Leave Group"),m=g._("See Conversation"),n=new(b("CacheStorage"))("localstorage");function a(a){return"see_blocked_group:"+a}function c(a,b){n.set("see_blocked_group:"+a,b,!0)}function d(a){return n.get("see_blocked_group:"+a,!1)}var o=b("ReasonReact.bs").reducerComponent("MessengerBlockedGroupThreadWarningDialogReact");function p(a,c,d,e,f,g){return{debugName:o.debugName,reactClassInternal:o.reactClassInternal,handedOffState:o.handedOffState,getDerivedStateFromProps:o.getDerivedStateFromProps,didMount:o.didMount,didUpdate:o.didUpdate,willUnmount:o.willUnmount,shouldUpdate:o.shouldUpdate,render:function(g){var n,o;return(n=b("ReasonReact.bs")).element(void 0,void 0,(o=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,g.state.shown,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h.createElement(b("MessengerDialogTitleReact.bs").make,{children:j(f)})}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:h.createElement(b("MessengerDialogTitleReact.bs").make,{children:i(f)})}),n.element(void 0,void 0,o.Footer.make(void 0,void 0,[n.element(void 0,void 0,o.Button.make(1,k,void 0,void 0,function(a){a.stopPropagation();b("bs_curry")._1(d,e);return b("bs_curry")._1(g.send,0)},1,void 0,void 0,void 0,[])),n.element(void 0,void 0,o.Button.make(1,l,void 0,void 0,function(a){a.stopPropagation();b("bs_curry")._1(c,e);return b("bs_curry")._1(g.send,0)},1,void 0,void 0,void 0,[])),n.element(void 0,void 0,o.Button.make(1,m,void 0,"danger",function(c){c.stopPropagation();b("bs_curry")._1(a,void 0);return b("bs_curry")._1(g.send,0)},0,void 0,void 0,void 0,[]))]))]))},initialState:function(a){return{shown:!0}},retainedProps:o.retainedProps,reducer:function(a,b){return{TAG:0,_0:{shown:!1}}},jsElementWrapped:o.jsElementWrapped}}e=b("ReasonReact.bs").wrapReasonForJs(o,function(a){return p(a.onSee,a.onLeave,a.onCancel,a.prevThreadID,a.blockedNames,[])});f.bodyText=i;f.titleText=j;f.cancelText=k;f.leaveText=l;f.seeConvoText=m;f.storage=n;f.getSeeConversationCacheKey=a;f.setWantsToSee=c;f.getWantsToSee=d;f.component=o;f.make=p;f.jsComponent=e}),null);
__d("MessengerIgnoredGroupThreadWarningDialogReact.bs",["cx","fbt","bs_curry","React","CurrentUser","ReasonReact.bs","CacheStorage","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("People you've ignored are in this group."),k=h._("People you've permanently hidden are in this chat."),l=h._("If you ignore this group, you can find it in Spam."),m=h._("If you permanently hide this chat, you can find it in 'Permanently Hidden'."),n=h._("Ignore group?"),o=h._("Permanently Hide chat?"),p=h._("Cancel"),q=h._("Ignore Group"),r=h._("Permanently Hide"),s=h._("See Group"),t=h._("See Chat"),u=new(b("CacheStorage"))("localstorage");function a(a){return"see_ignored_group:"+a}function c(a,b){u.set("see_ignored_group:"+a,b,!0)}function d(a){return u.get("see_ignored_group:"+a,!1)}function v(a){if(!a)return b("MessengerDialogs.bs").removeDialog(void 0,void 0)}function e(a){var c=a.onSee,d=a.onIgnore,e=a.onCancel,f=a.prevThreadID;a=a.threadID;var g=function(a){a.stopPropagation();b("bs_curry")._1(c,void 0);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},h=function(a){a.stopPropagation();b("bs_curry")._1(d,f);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},u=function(a){a.stopPropagation();b("bs_curry")._1(e,f);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},w=b("CurrentUser").isWorkUser();a=new(b("IgnoreMessagesTypedLogger"))().setEvent("group_with_ignored_person_warning").setThreadID(a).setPlatform("messengerdotcom");a.log();return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:i.createElement(b("MessengerDialogTitleReact.bs").make,{children:w?o:n})}),i.createElement(b("MessengerDialogBodyReact.bs").make,{children:[i.jsx("div",{children:w?k:j}),i.jsx("div",{children:w?m:l,className:"_3-8x"})]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,p,void 0,void 0,u,1,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,w?t:s,void 0,void 0,g,1,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(1,w?r:q,void 0,"danger",h,0,void 0,void 0,void 0,[]))]))]))}g=e;h=e;f.bodyTextPeopleInGroup=j;f.workBodyTextPeopleInGroup=k;f.bodyTextEffects=l;f.workBodyTextEffects=m;f.titleText=n;f.workTitleText=o;f.cancelText=p;f.ignoreText=q;f.workIgnoreText=r;f.seeConvoText=s;f.workSeeConvoText=t;f.storage=u;f.getSeeConversationCacheKey=a;f.setWantsToSee=c;f.getWantsToSee=d;f.handleToggle=v;f.make=g;f.jsComponent=h}),null);
__d("MessengerLeaveGroupAction",["MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryThreadInfo","MercuryTriodeSourceUtil"],(function(a,b,c,d,e,f){f.leaveGroup=a;function a(a,c){if(b("MercuryThreadInfo").isEmptyLocalThread(a))return;var d=b("MercuryMessageObject").getForFBID(c);d=d.constructLogMessageObject(b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),a.thread_id,"log:unsubscribe",{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(c)]});a=b("MercuryMessageActions").getForFBID(c);a.send(d)}}),null);
__d("MessengerServerErrorDialogReact.bs",["fbt","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("An unexpected problem was encountered. Please try again later."),j=g._("Temporary Failure");function a(a,c){var d=a.onMount;h.useEffect(function(){b("bs_curry")._1(d,void 0)},[]);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:i}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(0,g._("OK"),void 0,void 0,void 0,0,void 0,void 0,void 0,[]))]))]))}c=a;d=a;f.message=i;f.title=j;f.make=c;f.jsComponent=d}),null);
__d("MessengerConversationContainer.react",["Bootloader","ImmutableObject","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageStore","MercuryThreadActions","gkx","immutable","MessagingTagConstants","MessengerActions","MessengerBlockedGroupThreadWarningDialogReact.bs","MessengerConfig","MessengerConversation.react","MessengerDialogs.bs","MessengerHotLikePreviewEvents","MessengerIgnoredGroupThreadWarningDialogReact.bs","MessengerLeaveGroupAction","MessengerState.bs","MessengerParticipantUtils.bs","MessengerParticipants.bs","prop-types","React","SubscriptionsHandler","MessengerServerErrorDialogReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryThreadActions").get(),h=b("MessengerDialogs.bs"),i=b("React"),j=b("MessengerBlockedGroupThreadWarningDialogReact.bs").jsComponent,k=b("MessengerIgnoredGroupThreadWarningDialogReact.bs").jsComponent,l=200,m=b("gkx")("833128");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoaded:!1,isLoading:!0,messages:b("immutable").List()},d.$2=void 0,d.$3=!1,d.$4=void 0,d.$5=void 0,d.$6=void 0,d.$7=!1,d.$14=function(){d.refs.conversation&&d.refs.conversation.scrollToBottom&&typeof d.refs.conversation.scrollToBottom==="function"&&d.refs.conversation.scrollToBottom()},d.$16=function(){var a=d.props.thread;if(a==null)return;b("MessengerBlockedGroupThreadWarningDialogReact.bs").setWantsToSee(a.thread_id,!0)},d.$19=function(){var a=d.props.thread;if(a==null)return;b("MessengerIgnoredGroupThreadWarningDialogReact.bs").setWantsToSee(a.thread_id,!0)},d.$17=function(a){var c=d.props.thread;if(c==null)return;b("MessengerLeaveGroupAction").leaveGroup(c,d.props.viewer);d.$21(a)},d.$20=function(a){var c=d.props.thread;if(c==null)return;var e=c.thread_id;g.changeFolder(e,b("MessagingTagConstants").other);b("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(a,c,d){new a().setEvent(c.IGNORE_CONFIRMED).setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(e)).setPlatform(d.MESSENGERDOTCOM).log()},"MessengerConversationContainer.react");d.$21(a)},d.$18=function(a){d.$21(a)},d.$13=function(){if(d.state.isLoading||d.state.isLoaded)return;d.setState({isLoading:!0});d.$1.fetchMoreMessages()||d.setState({isLoading:!1,isLoaded:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$2&&this.$2.release(),window.clearTimeout(this.$6)};d.componentDidMount=function(){this.$8(this.props.threadID),this.$9()?this.$10():this.$11()&&this.$12()};d.componentDidUpdate=function(a){var b=this.props.threadID!==a.threadID;b&&(this.$9()?this.$10(a.threadID):this.$11()&&this.$12(a.threadID))};d.UNSAFE_componentWillReceiveProps=function(a){this.props.threadID!==a.threadID&&(this.setState({isLoading:!0,messages:b("immutable").List()}),this.$8(a.threadID))};d.render=function(){var a=this,c=this.state.messages;c=c.some(function(a){return a.log_message_type==="log:error-msg"});b("MessengerConfig").ErrorDialog&&c&&!this.$7&&h.showDialog(function(){return i.jsx(b("MessengerServerErrorDialogReact.bs").jsComponent,{onMount:function(){return a.$7=!0}})});return i.jsx(b("MessengerConversation.react"),{className:this.props.className,contact:this.props.contact,deliveryTimestamp:this.props.deliveryTimestamp,fetchMessages:this.$13,isCanonical:b("MercuryIDs").isCanonical(this.props.threadID),isLoading:this.state.isLoading,isLoaded:this.state.isLoaded,hideContextBanner:this.props.hideContextBanner,messages:this.state.messages,onRead:this.props.onMarkRead,onVoiceClipCreate:this.props.onVoiceClipCreate,onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.props.readReceipts,ref:"conversation",thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer,bottomOffset:this.props.bottomOffset})};d.handleResize=function(){this.refs.conversation.handleResize()};d.isScrolledToBottom=function(){return!!(this.refs.conversation&&this.refs.conversation.isScrolledToBottom())};d.$9=function(){var a=this,c=this.props.thread;if(c==null)return!1;var d=c.thread_id;if(!this.$15())return!1;var e=!1;b("MessengerState.bs").compute(this.props.viewer,function(d){d=d.blocked_ids;b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(a.props.viewer,d,c)&&(e=!0)});if(!e)return!1;d=b("MessengerBlockedGroupThreadWarningDialogReact.bs").getWantsToSee(d);return d?!1:!0};d.$11=function(){var a=this.props.thread;if(a==null)return!1;var c=a.thread_id;if(!this.$15())return!1;if(a.folder!=="inbox")return!1;if(!b("MessengerParticipantUtils.bs").areParticipantsInGroupThread(this.props.fbid,this.props.ignoredIds,a))return!1;a=b("MessengerIgnoredGroupThreadWarningDialogReact.bs").getWantsToSee(c);return a?!1:!0};d.$15=function(){var a=this.props.thread;if(a==null)return!1;if(b("MercuryIDs").isCanonical(this.props.threadID))return!1;return!a.is_subscribed?!1:!0};d.$10=function(a){var c=this,d=this.props.thread,e=[];b("MessengerState.bs").compute(this.props.viewer,function(a){a=a.blocked_ids;a=b("MercuryIgnoredBlockedParticipants.bs").participantsInGroupThread(c.props.viewer,a,d);a.length>=1&&a.forEach(function(a){b("MessengerParticipants.bs").get(a,function(a){e.push(a.name)})})});b("MessengerDialogs.bs").showDialog(function(){return i.jsx(j,{onSee:c.$16,onLeave:c.$17,onCancel:c.$18,prevThreadID:a,blockedNames:e})})};d.$12=function(a){var c=this;b("MessengerDialogs.bs").showDialog(function(){return i.jsx(k,{onSee:c.$19,onIgnore:c.$20,onCancel:c.$18,prevThreadID:a,threadID:b("MercuryIDs").getThreadFBIDFromThreadID(c.props.threadID)})})};d.$21=function(a){a==null&&b("MessengerActions").selectThread(null),b("MessengerActions").selectThread(a)};d.$22=function(){return m&&this.props.thread!=null&&this.props.thread.unread_count!=null&&this.props.thread.unread_count>0&&this.props.thread.unread_count<l?b("MessengerConfig").MessageLoadCount+this.props.thread.unread_count:b("MessengerConfig").MessageLoadCount};d.$8=function(a){var c=this;if(!a)return;this.setState({isLoaded:!1});this.$1&&this.$1.destroy();this.$7=!1;this.$1=new(b("MercuryMessageStore"))(a,this.$22());window.clearTimeout(this.$6);this.$6=window.setTimeout(function(){c.props.thread&&c.props.thread.message_count<1&&c.setState({isLoaded:!0,isLoading:!1})},6e3);this.$2&&this.$2.release();this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.subscribe(function(a){c.setState({messages:c.$23(b("immutable").List(a.messages)),isLoading:!1})}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(b){if(a!==b.thread_id)return;c.$3=!0;c.$4=b;c.setState(function(a){return{messages:c.$23(a.messages)}});window.clearInterval(c.$5);c.$5=window.setInterval(c.$14,50)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(a){window.clearInterval(c.$5)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(a){window.clearInterval(c.$5)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,function(){c.$3=!1,c.$4=null}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP_EMOJI,function(){c.$3=!1,c.$4=null}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,function(){window.clearInterval(c.$5),c.$3=!1,c.setState(function(a){return{messages:c.$23(a.messages)}})}))};d.$23=function(a){this.$3?a=a.set(a.size,this.$4):(a=a.filterNot(function(a){return a.is_like_preview}),this.$4=null);return a};return c}(i.PureComponent);e.exports=a;a.propTypes={contact:(c=b("prop-types")).instanceOf(b("ImmutableObject")),deliveryTimestamp:c.number.isRequired,readReceipts:c.any,fbid:c.string.isRequired,hideContextBanner:c.bool,ignoredIds:c.any,onMarkRead:c.func.isRequired,onVoiceClipCreate:c.func,onReplyToMessage:c.func,thread:c.object,threadID:c.string.isRequired,viewer:c.string.isRequired,bottomOffset:c.number}}),null);
__d("MessengerDeliveryReceipt.bs",["bs_belt_Option","bs_belt_MapString"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(a,c),0)}c=b("bs_belt_Option").getWithDefault;f.$pipe$question=c;f.getDeliveryTimeOfThread=a}),null);
__d("MessengerForeignUserCompanyNameReact.bs",["React","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.className;a=a.companyName;if(a===void 0)return null;a={children:a};c!==void 0&&(a.className=b("bs_caml_option").valFromOption(c));return g.jsx("span",a)}c=a;f.make=c}),null);
__d("MessengerInfoIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"Fill-17",d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a})],id:"Group"}),id:"info-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerInfoPanelButtonReact.bs",["ix","cx","Image.bs","React","asset","CurrentUser","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={height:"32px",width:"32px"};function k(a){return i.jsx("svg",{children:i.jsx("g",{children:i.jsx("g",{children:i.jsx("path",{style:{fill:a},d:"M32,10c-12.2,0-22,9.8-22,22s9.8,22,22,22s22-9.8,22-22S44.2,10,32,10z M32,19c1.6,0,3,1.4,3,3s-1.4,3-3,3 c-1.6,0-3-1.4-3-3S30.4,19,32,19z M36,45h-2h-4h-2v-1h2V29h-2v-1h2h4v1v15h2V45z"})})}),viewBox:"0 0 64 64"})}function l(a){var b={fill:a};return i.jsxs("svg",{children:[i.jsxs("g",{children:[i.jsx("polygon",{style:b,points:"34,44 34,29 34,28 30,28 28,28 28,29 30,29 30,44 28,44 28,45 30,45 34,45 36,45 36,44"}),i.jsx("circle",{style:b,cx:"32",cy:"22",r:"3"})]}),i.jsx("path",{style:{fill:"none",stroke:a,strokeMiterlimit:"10",strokeWidth:"2"},d:"M32,11c11.6,0,21,9.4,21,21s-9.4,21-21,21s-21-9.4-21-21S20.4,11,32,11z"})],style:{stroke:a},viewBox:"0 0 64 64"})}function a(a,c){if(b("CurrentUser").isWorkUser())return i.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,c?g("413962"):g("413953"),void 0,void 0,void 0,void 0,[])),className:"_2phz"});else return i.jsx("div",{children:c?l(a):k(a),style:j})}f.svgWrapperStyle=j;f.selected=k;f.notSelected=l;f.make=a}),null);
__d("MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3530845116946073"};b.getQueryID=function(){return"326274538595029"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomsChatJoinRoomButtonUtils",["regeneratorRuntime","MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery","WebGraphQL"],(function(a,b,c,d,e,f){"use strict";f.fetchRoomUrl=a;function a(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("WebGraphQL").exec(new(b("MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery"))({thread_id:a})));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)}}),null);
__d("MessengerJoinRoomButton.react",["ix","fbt","Image.react","MercuryIDs","MessengerRoomsChatJoinRoomButtonUtils","React","RoomsChatUserActionsFalcoEvent","URI","ZenonAbstractButton.react","asset","promiseDone","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React");function a(a){var c=b("MercuryIDs").getThreadFBIDFromThreadID(a.threadID);a=k.useState(null);var d=a[0],e=a[1];a=k.useState(null);var f=a[0],j=a[1];k.useEffect(function(){b("promiseDone")(b("MessengerRoomsChatJoinRoomButtonUtils").fetchRoomUrl(c),function(a){var b;e(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_url);j(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(a=b.rtc_room_door)==null?void 0:a.link_hash)})},[e,c,f,j]);return d!=null&&f!=null?k.jsxs(b("ZenonAbstractButton.react"),{className:"dq4g6rjb k27skwkl fsf7x5fv h5fs5mea dtqh1a21 pdqhzjwd jao8r537 rt34pxt2 js4msrqk ggolc4ur iwso50tu f5m7p0br im547bx5 jl2a5g8c alzwoclg",onClick:function(){b("RoomsChatUserActionsFalcoEvent").log(function(){var a;return{event:"button_tap",event_type:"header_video_button",extra_data:null,funnel_session_id:"",link_hash:f,thread_fbid:(a=c)!=null?a:"0"}}),(i||(i=b("URI"))).goURIOnNewWindow(d)},children:[k.jsx(b("Image.react"),{className:"a60616oh nhe0l0td",src:g("377019")}),k.jsx("span",{className:"mln2r6ah eay0q90j iryl7rsq eohcrkr5 igjjae4c nfkogyam nthtkgg5",children:h._("JOIN")})]}):null}(j||(j=b("stylex"))).inject(".nthtkgg5{margin-top:5px}",1);j.inject(".nfkogyam{font-size:0.8125rem}",1);j.inject(".igjjae4c{font-weight:bold}",1);j.inject(".eohcrkr5{height:16px}",1);j.inject(".iryl7rsq{width:32px}",1);j.inject(".eay0q90j{margin-left:6.5px}",1,".eay0q90j{margin-right:6.5px}");j.inject(".mln2r6ah{margin-right:10px}",1,".mln2r6ah{margin-left:10px}");j.inject(".nhe0l0td{margin-top:6.5px}",1);j.inject(".a60616oh{margin-left:10px}",1,".a60616oh{margin-right:10px}");j.inject(".alzwoclg{display:flex}",1);j.inject(".jl2a5g8c{flex-direction:row}",1);j.inject(".im547bx5{background-color:#5AD539}",1);j.inject(".f5m7p0br{border-top:none}",.3);j.inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");j.inject(".ggolc4ur{border-bottom:none}",.3);j.inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");j.inject(".rt34pxt2{border-top-left-radius:18px}",1,".rt34pxt2{border-top-right-radius:18px}");j.inject(".jao8r537{border-top-right-radius:18px}",1,".jao8r537{border-top-left-radius:18px}");j.inject(".pdqhzjwd{border-bottom-right-radius:18px}",1,".pdqhzjwd{border-bottom-left-radius:18px}");j.inject(".dtqh1a21{border-bottom-left-radius:18px}",1,".dtqh1a21{border-bottom-right-radius:18px}");j.inject(".h5fs5mea{color:white}",1);j.inject(".fsf7x5fv{cursor:pointer}",1);j.inject(".k27skwkl{height:28px}",1);j.inject(".dq4g6rjb{width:82px}",1)}),null);
__d("MessengerPresenceStatusReact.bs",["fbt","React","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.className,d=a.isUserActive,e=a.lastActive;a=a.platform;var f,i=0;d&&a!==void 0?f=g._("Active on {platform}",[g._param("platform",a)]):i=1;i===1&&(f=e!==void 0?g._("Active {time} ago",[g._param("time",e)]):null);d={children:f};c!==void 0&&(d.className=b("bs_caml_option").valFromOption(c));return h.jsx("div",d)}c=a;f.make=c}),null);
__d("MercuryParticipantsImageM4React.bs",["bs_curry","React","gkx","bs_caml_option","MessengerFacepileM4React.bs","MessengerParticipantsImages.bs","MessengerProfileImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,h=a.participants,i=a.size,j=a.storiesRingEligible,k=a.totalParticipants,l=a.hasUnreadStories;a=a.imageContainerRef;var m=g.useRef(!1),n=g.useRef(void 0),o=g.useState(function(){return[]}),p=o[1];o=o[0];g.useEffect(function(){m.current=!0;return function(a){m.current=!1;a=n.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).remove;return b("bs_curry")._1(a,void 0)}},[]);g.useEffect(function(){var a=n.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;b("bs_curry")._1(a,void 0)}h.length!==0?n.current=b("bs_caml_option").some(b("MessengerParticipantsImages.bs").getOrderedBigImageMultiWithSize(h,function(a){var c=a.reduce(function(a,b){b==null||a.push(b);return a},[]);if(m.current)return b("bs_curry")._1(p,function(a){return c})},i)):b("bs_curry")._1(p,function(a){return[]})},[e,h,i,p]);var q=h.length;if(q!==1){if(q===0)return null}else if(o.length===1){q=o[0];f=b("gkx")("863504")?f:void 0;q={src:q,size:i};c!==void 0&&(q.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(q.className=b("bs_caml_option").valFromOption(d));f!==void 0&&(q.isActive=b("bs_caml_option").valFromOption(f));j!==void 0&&(q.storiesRingEligible=b("bs_caml_option").valFromOption(j));l!==void 0&&(q.hasUnreadStories=b("bs_caml_option").valFromOption(l));a!==void 0&&(q.imageContainerRef=b("bs_caml_option").valFromOption(a));return g.jsx(b("MessengerProfileImageM4React.bs").make,q)}f={srcs:o,size:i};c!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.className=b("bs_caml_option").valFromOption(d));e!==void 0&&(f.expanded=b("bs_caml_option").valFromOption(e));k!==void 0&&(f.totalParticipants=b("bs_caml_option").valFromOption(k));return g.jsx(b("MessengerFacepileM4React.bs").make,f)}c=a;f.make=c}),null);
__d("MercuryParticipantsImageM4React.re",["MercuryParticipantsImageM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MercuryParticipantsImageM4React.bs").make;f.make=a}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainer.react",["JSResource","MercuryIDs","MercuryParticipantsImageM4React.re","lazyLoadComponent","React","RelayFBEnvironment","RelayModern","MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("lazyLoadComponent")(b("JSResource")("MessengerStoriesRingPresenceMontageQueryContainer.react").__setRef("MessengerStoriesRingPresenceMessageQueryContainer.react")),i=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,j=a.participants,k=a.size,l=a.storiesRingEligible,m=a.thread,n=a.totalParticipants;a=b("MercuryIDs").getThreadFBIDFromThreadID(m.thread_id);var o=i.jsx(b("MercuryParticipantsImageM4React.re").make,{borderColor:c,className:d,expanded:e,isActive:f,participants:j,size:k,storiesRingEligible:l,totalParticipants:n});return i.jsx(b("RelayModern").QueryRenderer,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"),variables:{threadFBID:a},render:function(a){a=a.props;return a?i.jsx(i.Suspense,{fallback:o,children:i.jsx(h,{borderColor:c,className:d,expanded:e,isActive:f,messageThread:a.message_thread,participants:j,size:k,storiesRingEligible:l,totalParticipants:n})}):o}})}}),null);
__d("MessengerThreadImageM4React.bs",["React","MercuryIDs","bs_belt_Option","MessengerStoriesRingPresenceMessageQueryContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,h=a.size,i=a.storiesRingEligible,j=a.thread;a=a.viewer;var k=j.square_image_src!==null?j.square_image_src:j.image_src;if(!(k==null))return g.jsx("div",{className:b("bs_belt_Option").getWithDefault(d,""),style:{backgroundImage:"url("+k+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",height:""+h+"px",width:""+h+"px",backgroundSize:"cover",borderRadius:"50%"}});k=j.participants;var l=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MercuryIDs").isCanonical(j.thread_id);var m,n=0;if(k.length!==1)n=1;else{var o=k[0];o===l?m=k:n=1}if(n===1){o=k.filter(function(a){return a!==l});m=a?o:o.slice(0,3)}return g.jsx(b("MessengerStoriesRingPresenceMessageQueryContainer.react"),{borderColor:c,className:d,expanded:e,isActive:f,participants:m,size:h,storiesRingEligible:i,thread:j,totalParticipants:k.length})}c=a;f.make=c}),null);
__d("MessengerProfilePresenceReact.bs",["React","bs_belt_Set","bs_caml_option","ParticipantId.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","MessengerThreadImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.size,h=a.storiesRingEligible,i=a.thread,j=a.viewer;a=function(a){a=b("MessengerParticipantUtils.bs").findIntersection(j,a,i).length>0;a={isActive:a,size:f,thread:i,viewer:j};c!==void 0&&(a.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(a.className=b("bs_caml_option").valFromOption(d));e!==void 0&&(a.expanded=b("bs_caml_option").valFromOption(e));h!==void 0&&(a.storiesRingEligible=b("bs_caml_option").valFromOption(h));return g.jsx(b("MessengerThreadImageM4React.bs").make,a)};return g.jsx(b("MessengerPresenceProvider.bs").make,{subscribeToIDs:b("bs_belt_Set").fromArray(i.participants,b("ParticipantId.bs")),children:a})}c=a;f.make=c}),null);
__d("MessengerRTCCallButtonWrapper.react",["React","immutable","requireCond","cr:1238180"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("cr:1238180"),babelHelpers["extends"]({},a))}}),null);
__d("MessengerWebDriverTestIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",SSO_LOGIN_BUTTON:"sso_login_button",INFO_PANEL_BUTTON:"info_panel_button",STICKER:"sticker",SIDEBAR_ITEM:"sidebar_item",DESKTOP_LOGIN_VIEW:"XMessengerDotComLoginViewPlaceholder",CHAT_INPUT:"chat_input:plaintext",CHAT_INPUT_RICH:"chat_input:rich-input"});e.exports=a}),null);
__d("MontageThreadViewContainer.react",["JSResource","React","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MontageThreadViewContainerImpl.react").__setRef("MontageThreadViewContainer.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx(g.Suspense,{fallback:g.jsx("div",{}),children:g.jsx(h,babelHelpers["extends"]({},this.props))})};return b}(g.PureComponent);e.exports=a}),null);
__d("WorkChatDoNotDisturbStatusReact.bs",["bs_curry","WorkChatDoNotDisturbStatus"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("WorkChatDoNotDisturbStatus").component;if(c==null)return null;else return b("bs_curry")._1(c,a)}f.make=a}),null);
__d("messengerCalculateTruncationState",["Style"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){if(!e||!c)return;f=f?f.offsetWidth:0;e=Math.ceil(.5*(a.offsetWidth+e.offsetWidth));var g=a.offsetWidth-d.offsetWidth-12;if(e<=g)b("Style").set(a,"text-align","center"),b("Style").set(c,"width","auto"),b("Style").set(c,"margin-left","auto");else{document.body.dir==="rtl"?b("Style").set(a,"text-align","right"):(b("Style").set(a,"text-align","left"),b("Style").set(c,"margin-left",f+"px"));e=Math.max(a.offsetWidth-f-d.offsetWidth-11,0);b("Style").set(c,"width",e+"px")}}}),null);
__d("MessengerDetailViewHeaderReact.bs",["cx","fbt","FBID.bs","bs_curry","Event","React","gkx","qex","ReactDOM","debounce","Bootloader","Link.react","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","FBRTCSupport","MercuryConfig","MessengerDomIDs.bs","bs_js_null_undefined","MercuryThreadInfo","MessageRequestUtils","MessagingThreadType","WorkForeignEntityInfo.bs","MercuryParticipantTypes","MercuryThreadTitleReact.bs","MessengerLocalTimeReact.bs","MessengerCustomColorUtils.bs","MessengerJoinableModeType","MessengerWebDriverTestIDs","MessengerGroupThreadSubType","MessengerInfoIconSVGM4React.bs","MessengerThreadImageM4React.bs","MessengerPresenceStatusReact.bs","MessengerInfoPanelButtonReact.bs","MessengerJoinRoomButton.react","MessengerProfilePresenceReact.bs","MessengerDotComAndInboxM4Check.bs","WorkChatDoNotDisturbStatusReact.bs","MontageThreadViewContainer.react","messengerCalculateTruncationState","MessengerRTCCallButtonWrapper.react","MessengerForeignUserCompanyNameReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){var c,d=(c=b("bs_js_null_undefined")).fromOption(a.root.contents),e=c.fromOption(a.title.contents),f=c.fromOption(a.buttons.contents),g=c.fromOption(a.mercuryTitle.contents);c=c.fromOption(a.montage.contents);return b("messengerCalculateTruncationState")(d,e,f,g,c)}function k(a,c){c.state.mercuryTitle.contents=a==null?void 0:b("bs_caml_option").some(b("ReactDOM").findDOMNode(a))}function l(a,c){c.state.title.contents=a==null?void 0:b("bs_caml_option").some(a)}function m(a,c){c.state.root.contents=a==null?void 0:b("bs_caml_option").some(a)}function n(a,c){c.state.buttons.contents=a==null?void 0:b("bs_caml_option").some(a)}function o(a,c){c.state.montage.contents=a==null?void 0:b("bs_caml_option").some(a)}function p(a,c,d,e){if(a.has_montage&&!1&&b("MercuryConfig").MontageThreadViewer)return i.jsx("div",{children:i.jsx(b("MontageThreadViewContainer.react"),{threadID:a.thread_id,montageData:c,participants:d,shouldUseRelay:!1}),ref:b("bs_curry")._1(e.handle,o),className:"_1cwz"});else return null}function q(a,c,d,e){if(b("CurrentUser").isWorkUser())return null;if(a===void 0)return null;a=b("bs_caml_option").valFromOption(a);var f=a.contact.user_type===b("MercuryParticipantTypes").PAGE;if(!f)return null;f=e.state.userControls.contents;if(f!==void 0){e=a.contact.is_messenger_blocked;a=a.contact.fbid;f=i.createElement(f.make,{className:"_3xb9 _30yy",isMuted:b("MercuryThreadInfo").isMuted(c),isBlocked:e,pageID:a,threadID:c.thread_id,viewer:d})}else f=null;return i.jsx("li",{children:f})}function r(a,c){c=c.filter(function(b,c,d){if(b==null)return!1;else return b.fbid!==a});var d=c.count();c=c.first();if(d!==1)return null;if(c==null)return null;d={className:"_5eu7"};c=b("bs_caml_option").nullable_to_opt(c.timezone);c!==void 0&&(d.participantTimeZone=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerLocalTimeReact.bs").make,d)}function s(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).group_thread_subtype===b("MessengerGroupThreadSubType").CHAT_FOR_ROOM_THREAD;else return!1}function t(a,c){var d=s(c),e=!b("FBRTCSupport").isMobileDevice();a=a!==void 0?b("bs_caml_option").valFromOption(a).contact.user_type===b("MercuryParticipantTypes").PAGE:!1;var f=c!==void 0?b("bs_caml_option").valFromOption(c).joinable_mode===b("MessengerJoinableModeType").JOINABLE:!1;if(c!==void 0){var g=b("bs_caml_option").valFromOption(c);g=(g.participants.length>1||g.thread_type===b("MessagingThreadType").GROUP)&&b("MercuryThreadInfo").canReply(g)&&!b("MessageRequestUtils").isMessageRequest(g)}else g=!1;c=c!==void 0?b("bs_caml_option").valFromOption(c).thread_type===b("MessagingThreadType").MARKETPLACE:!1;if(e&&!a&&!f&&g&&!c)return!d;else return!1}var u=b("MessengerDotComAndInboxM4Check.bs").yes?"_17w2 _6ybr":"_17w2",v=b("MessengerDotComAndInboxM4Check.bs").yes?"_5743 _6y4y":"_5743",w=b("MessengerDotComAndInboxM4Check.bs").yes?"_fl2 _6ymr":"_fl2",x=b("ReasonReact.bs").reducerComponent("MessengerDetailViewHeaderReact");function y(a,c,d,e,f,g,o,y,z){var A;if(g!==void 0){z=b("bs_caml_option").valFromOption(g);if(b("MessengerDotComAndInboxM4Check.bs").yes){var B=z.gradient_colors;A=B.length!==0?B[0]:b("MessengerCustomColorUtils.bs").customColorOrBlue(z)}else A=b("MessengerCustomColorUtils.bs").customColorOrBlue(z)}else A=b("MessengerCustomColorUtils.bs").defaultColor(void 0);var C=b("CurrentUser").isWorkUser()?f.filter(function(a,b,c){if(a==null)return!1;else return a.user_type!==null}):f,D=function(c){if(!t(a,g))return null;if(g===void 0)return null;var d=b("bs_caml_option").valFromOption(g),e=d.thread_id;return i.jsx("li",{children:i.jsx(b("MessengerRTCCallButtonWrapper.react"),{className:"_30yy",customColor:A,isVideo:!1,participants:C,thread:d,threadID:e,viewer:c,calleeName:a!==void 0?b("bs_caml_option").valFromOption(a).contact.name:"",isCalleeActive:a!==void 0?b("bs_caml_option").valFromOption(a).isUserActive:null})})},E=function(c){if(!t(a,g))return null;if(g===void 0)return null;var d=b("bs_caml_option").valFromOption(g),e=d.thread_id;if(a!==void 0){var f=b("bs_caml_option").valFromOption(a).isUserActive;f=f?"_3qfl":""}else f="";return i.jsxs("li",{children:[i.jsx(b("MessengerRTCCallButtonWrapper.react"),{className:"_30yy",customColor:A,isVideo:!0,participants:C,thread:d,threadID:e,viewer:c,calleeName:a!==void 0?b("bs_caml_option").valFromOption(a).contact.name:"",isCalleeActive:a!==void 0?b("bs_caml_option").valFromOption(a).isUserActive:null}),i.jsx("div",{className:f})]})},F=function(a){if(b("qex")._("1740667")&&s(g)&&g!==void 0)return i.jsx("li",{children:i.jsx(b("MessengerJoinRoomButton.react"),{threadID:b("bs_caml_option").valFromOption(g).thread_id})});else return null};if(a!==void 0){B=b("bs_caml_option").valFromOption(a).availabilityStatusData;z=B==null?[!1,""]:[B.isDoNotDisturb,B.description]}else z=[!1,""];var G=z[1],H=z[0],I=a!==void 0?!b("WorkForeignEntityInfo.bs").isCoworker(b("bs_caml_option").valFromOption(a).contact):!1,J=function(a){if(!b("CurrentUser").isWorkUser())return null;a={className:"_6f6k",isDoNotDisturb:H,description:G};g!==void 0&&(a.thread=b("bs_caml_option").valFromOption(g));return i.jsx(b("WorkChatDoNotDisturbStatusReact.bs").make,a)},K=function(c){if(a===void 0)return[!1,null];c=b("bs_caml_option").valFromOption(a);var d={className:"_2v6o",isUserActive:c.isUserActive},e=b("bs_caml_option").nullable_to_opt(c.lastActive);e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));e=b("bs_caml_option").nullable_to_opt(c.platform);e!==void 0&&(d.platform=b("bs_caml_option").valFromOption(e));return[!0,i.createElement(b("MessengerPresenceStatusReact.bs").make,d)]},L=function(c){if(!b("CurrentUser").isWorkUser()||!I)return[!1,null];if(a===void 0)return[!1,null];c=b("bs_caml_option").valFromOption(a);var d=c.contact.company_name;if(d==null)return[!1,null];else return[!0,i.createElement(b("MessengerForeignUserCompanyNameReact.bs").make,{className:"_6krh",companyName:b("bs_caml_option").nullable_to_opt(c.contact.company_name)})]};return{debugName:x.debugName,reactClassInternal:x.reactClassInternal,handedOffState:x.handedOffState,getDerivedStateFromProps:x.getDerivedStateFromProps,didMount:function(a){if(!b("MessengerDotComAndInboxM4Check.bs").yes){var c=b("Event").listen(window,"resize",b("debounce")(function(b){return j(a.state)},20));b("bs_curry")._1(a.onUnmount,function(a){return c.remove()})}b("Bootloader").loadModules(["MessengerUserControlsButtonReact.bs"],function(b){a.state.userControls.contents=b},"MessengerDetailViewHeaderReact.bs")},didUpdate:function(a){if(!b("MessengerDotComAndInboxM4Check.bs").yes)return j(a.newSelf.state)},willUnmount:x.willUnmount,shouldUpdate:x.shouldUpdate,render:function(j){if(o===void 0)return null;if(g===void 0)return null;var s=b("bs_caml_option").valFromOption(g),t=b("bs_caml_option").valFromOption(o),x=h._("Conversation Information"),z=K(void 0),B=z[0],C=L(void 0),G=J(void 0);if(b("MessengerDotComAndInboxM4Check.bs").yes){var M=s.has_montage&&b("MercuryConfig").MontageThreadViewer&&b("gkx")("972782")&&b("gkx")("995308");M=b("gkx")("863504")?i.createElement(b("MessengerProfilePresenceReact.bs").make,{className:"_6ynm",size:40,storiesRingEligible:M,thread:s,viewer:t}):i.createElement(b("MessengerThreadImageM4React.bs").make,{className:"_6ynm",size:40,storiesRingEligible:M,thread:s,viewer:t})}else M=null;return i.jsxs("div",{children:[p(s,y,f,j),i.jsxs("div",{children:[M,i.jsxs("div",{children:[i.jsxs("h2",{children:[G,b("ReasonReact.bs").element(void 0,b("bs_curry")._1(j.handle,k),b("MercuryThreadTitleReact.bs").make("_3oh-",b("bs_belt_Option").getWithDefault(d,0),s,t,void 0,void 0,void 0,void 0,[]))],className:u,id:b("MessengerDomIDs.bs").ids.THREAD_TITLE}),H||!B||b("CurrentUser").isWorkUser()&&I?null:z[1],r(t,f),C[1]],className:b("MessengerDotComAndInboxM4Check.bs").yes?"_6ynn":""})],ref:b("bs_curry")._1(j.handle,l),className:v},"threadTitle"),i.jsxs("ul",{children:[q(a,s,t,j),F(void 0),D(t),E(t),i.jsxs("li",{children:[i.cloneElement(i.jsx(b("Link.react"),{"aria-expanded":!c,"aria-label":x,className:"_30yy",onClick:e,role:"button",title:x,children:b("MessengerDotComAndInboxM4Check.bs").yes?c?i.jsx("div",{children:b("MessengerInfoIconSVGM4React.bs").make(A),className:"_6yms"}):i.jsxs("div",{children:[i.jsx("div",{className:"_6y4z",style:{backgroundColor:A}}),b("MessengerInfoIconSVGM4React.bs").make(A)],className:"_6yms"}):b("MessengerInfoPanelButtonReact.bs").make(A,c)}),{"data-testid":b("MessengerWebDriverTestIDs").INFO_PANEL_BUTTON}),i.jsx("div",{"aria-owns":b("MessengerDomIDs.bs").ids.THREAD_INFO_PANEL})]})],ref:b("bs_curry")._1(j.handle,n),className:w},"buttonsContainer")],ref:b("bs_curry")._1(j.handle,m),className:"_673w"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ynl":"")+(!C[0]&&(!B||H)?" _1_fz":"")})},initialState:function(a){return{root:{contents:void 0},title:{contents:void 0},buttons:{contents:void 0},mercuryTitle:{contents:void 0},montage:{contents:void 0},userControls:{contents:void 0}}},retainedProps:x.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:x.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(x,function(a){return y(b("bs_caml_option").nullable_to_opt(a.contactData),a.infoPanelCollapsed,b("bs_caml_option").nullable_to_opt(a.maxTitle),a.onInfoPanelToggle,a.participants,b("bs_caml_option").nullable_to_opt(a.thread),b("FBID.bs").ofString(a.viewer),a.montageData,[])});f.calculateTruncationState=j;f.findMercuryTitle=k;f.findTitle=l;f.findRoot=m;f.findButtons=n;f.findMontage=o;f.renderMontageThread=p;f.renderUserControls=q;f.renderLocalTime=r;f.isRoomsChat=s;f.shouldShowCallButton=t;f.titleElemClasses=u;f.titleClasses=v;f.buttonsContainerClasses=w;f.component=x;f.make=y;f.jsComponent=a}),null);
__d("MessengerDetailViewHeaderContainer.react",["ImmutableObject","MercuryIDs","MercuryThreadIDMap","MessengerActions","MessengerComposerActions","MessengerComposeViewHeader.react","MessengerDetailViewHeaderReact.bs","MessengerState.bs","MessengerView","React","immutable","prop-types","requireCond","shallowEqual","cr:1269789"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.getUniqueID(),e=a.getType(),f=a.getAuxiliaryData()||{};if(e==="thread"){var g=b("MercuryThreadIDMap").getForFBID(d.props.viewer);g.getClientIDFromServerID(c,function(a){b("MessengerComposerActions").moveDraftToNextThread(a),b("MessengerActions").selectThread(a)});b("MessengerComposerActions").exitComposeState()}else if(c===d.props.viewer&&d.props.recipients.size===0||e==="page"||e==="internal_bot_page"&&!f.canViewerAddToGroupChat){g=b("MercuryIDs").getThreadIDFromUserID(c);b("MessengerComposerActions").moveDraftToNextThread(g);b("MessengerComposerActions").exitComposeState();b("MessengerActions").selectThread(b("MercuryIDs").getThreadIDFromUserID(c))}else b("MessengerComposerActions").addToken(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=a.contactData;a=babelHelpers.objectWithoutPropertiesLoose(a,["contactData"]);var d=this.props,e=d.contactData;d=babelHelpers.objectWithoutPropertiesLoose(d,["contactData"]);return!b("shallowEqual")(a,d)||!b("shallowEqual")(c,e)};d.render=function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE?b("cr:1269789")!=null?g.jsx(b("cr:1269789"),{onAddRecipient:this.$1,onRemoveRecipient:this.$2,recipients:this.props.recipients}):g.jsx(b("MessengerComposeViewHeader.react"),{forceHideClearButton:!0,onAddRecipient:this.$1,onRemoveRecipient:this.$2,onResize:this.props.onResize,onClear:null,thread:this.props.thread,recipients:this.props.recipients,viewer:this.props.viewer,isWorkUser:this.props.isWorkUser,shouldShowCreateGroupButton:this.props.shouldShowCreateGroupButton,onCreateGroupButtonClicked:this.props.onCreateGroupButtonClicked}):g.jsx(b("MessengerDetailViewHeaderReact.bs").jsComponent,{contactData:this.props.contactData,infoPanelCollapsed:this.props.infoPanelCollapsed,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer,shouldUseRelay:!1,montageData:b("MessengerState.bs").montage(this.props.messengerState)})};d.$2=function(a){b("MessengerComposerActions").removeToken(a)};return c}(g.Component);e.exports=a;a.propTypes={contactData:(c=b("prop-types")).object,infoPanelCollapsed:c.bool.isRequired,onInfoPanelToggle:c.func.isRequired,onResize:c.func.isRequired,participants:c.instanceOf(b("immutable").Map).isRequired,recipients:c.instanceOf(b("immutable").List).isRequired,thread:c.instanceOf(b("ImmutableObject")),view:c.string,viewer:c.string.isRequired,isWorkUser:c.bool.isRequired,messengerState:c.object.isRequired,shouldShowCreateGroupButton:c.bool,onCreateGroupButtonClicked:c.func}}),null);
__d("MessengerGalahadGating.bs",["WorkGalahadSettings","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("WorkGalahadSettings").isGalahadEnabled)return b("MessengerEnvironment").facebookdotcom;else return!1}f.isGalahadUIEnabled=a}),null);
__d("WorkChatAvailabilityStatusLoader",["Promise","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";f.getStoreEnforce=a;f.getActionsEnforce=c;f.isLoaded=d;f.load=e;a=null;f._store=a;c=null;f._actions=c;d=null;f._promise=d;function a(){b("nullthrows")(this._store,"Status store is not loaded");return this._store}function c(){b("nullthrows")(this._actions,"Status actions is not loaded");return this._actions}function d(){return this._store!=null&&this._actions!=null}function e(){var a=this;this._promise||(this._promise=new(b("Promise"))(function(c){b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,d){a._store=d,a._actions=b,c({store:d,actions:b})},"WorkChatAvailabilityStatusLoader")}));return this._promise}}),null);
__d("MessengerPresenceStatusUtils",["fbt","AvailableListConstants","CurrentUser","LastActiveTimes","MercuryIDs","PresenceStatus","WorkChatAvailabilityStatusLoader"],(function(a,b,c,d,e,f,g){"use strict";f.getStatusFromCanonicalThread=a;function a(a,c){var d=null;if(c&&c.is_canonical){a=a.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id));if(a){a.is_messenger_user?c=b("CurrentUser").isWorkUser()?g._("Workplace Chat"):g._("Messenger"):c=b("CurrentUser").isWorkUser()?g._("Workplace"):g._("Facebook");var e=null,f=!1;if(b("WorkChatAvailabilityStatusLoader").isLoaded()&&b("CurrentUser").isWorkUser()){var h=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();e={isDoNotDisturb:h.getIsDoNotDisturb(a.fbid),description:h.getDescriptionWithUserName(a.short_name,a.fbid)};f=e.isDoNotDisturb}h=b("PresenceStatus").get(a.fbid);var i,j;h!==b("AvailableListConstants").ACTIVE&&(i=b("LastActiveTimes").get(a.fbid),j=b("LastActiveTimes").getShortDisplay(a.fbid));h=h===b("AvailableListConstants").ACTIVE&&!f;d={contact:a,platform:c,isUserActive:h,availabilityStatusData:e,lastActiveTS:f?null:i,lastActive:f?null:j}}}return d}}),null);
__d("CoworkerThreadContextBanner.react",["ix","cx","fbt","FlexLayout.react","Image.react","MessengerEnvironment","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j=b("React");function a(a){a=b("MessengerEnvironment").messengerui;return j.jsx("div",{className:(a?"":"_80n8")+(a?" _1li-":""),children:j.jsxs(b("FlexLayout.react"),{className:(a?"":"_80n9")+(a?" _80nc":""),align:"center",children:[j.jsx("div",{className:"_80nd"+(a?"":" _80ne")+(a?" _80nf":""),children:j.jsx(b("Image.react"),{src:g("558200")})}),j.jsxs("div",{className:"_80ng",children:[j.jsx(b("XUIText.react"),{className:"_80nh",children:i._("Member of your Coworker group")}),j.jsx(b("XUIText.react"),{className:"_80ni",children:i._("Coworker conversation")})]})]})})}}),null);
__d("FantaFRXUtil",["AsyncRequest","FRXURI","MercuryIDs","MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";f.isFRXEligible=a;f.isEmptyThread=c;f.FRXClicked=d;f.FRXClickedForEmptyThread=e;var g=b("MercuryThreadIDMap").get();function a(a,c){return b("MercuryIDs").isLocalThread(c)?!1:a!=null&&a.thread_fbid!==null&&a.message_count>0}function c(a){return a!=null&&a.thread_id!==null&&g.getServerIDFromClientIDNow(a.thread_id)==null}function d(a,c,d,e){e===void 0&&(e="report_button");var f=b("MercuryIDs").getUserIDFromThreadID(a)||"",h=btoa("EntMessengerViewer1To1Thread:"+f),i="messenger_direct_thread_details";if(Boolean(c)){c=b("MercuryIDs").isLocalThread(a);c=c?g.getServerIDFromClientIDNow(a):b("MercuryIDs").getThreadFBIDFromThreadID(a);c!=null&&(h=btoa("EntMessengerViewerGroupThread:"+c),i="messenger_group_thread_details");d!=null&&(f=b("MercuryIDs").getUserIDFromParticipantID(d),i="messenger_group_thread_members_list")}a=b("FRXURI").withEntMessageThread({reportable_ent_token:h,story_location:i,entry_point:e,responsible_id:f});new(b("AsyncRequest"))(a).send()}function e(a,c){c===void 0&&(c="report_button");a=b("MercuryIDs").getUserIDFromThreadID(a)||"";var d="messenger_empty_direct_thread";d=b("FRXURI").withEntMessageThread({reportable_ent_token:a,story_location:d,entry_point:c,responsible_id:a});new(b("AsyncRequest"))(d).send()}}),null);
__d("MessengerContactListRowActions",["AsyncRequest","FantaFRXUtil","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MessengerContactActions.re","MessengerContactAdapters","URI","immutable"],(function(a,b,c,d,e,f){"use strict";f.handleContactActions=a;var g;function a(a){var c=a.action,d=a.contact,e=a.viewer,f=a.thread,h=a.participants;a=a.handleContactSelect;d=b("MessengerContactAdapters").fromMercuryParticipant(d);if(b("MercuryIDs").getUserIDFromParticipantID(d.uid)!==e)switch(c){case b("MessengerContactActions.re").actions.MESSAGE:a(d);break;case b("MessengerContactActions.re").actions.PROFILE:h=h.get(d.uid);h&&h.href?window.open(h.href):a(d);break;case b("MessengerContactActions.re").actions.REMOVE:if(!b("MercuryThreadInfo").isEmptyLocalThread(f)){h=new(g||(g=b("URI")))("/chat/remove_participants/");h.addQueryData({uid:b("MercuryIDs").getUserIDFromParticipantID(d.uid),tid:f.thread_fbid});a=new(b("AsyncRequest"))(h);a.send()}break;case b("MessengerContactActions.re").actions.REPORT_GROUP_CHAT_USER:b("FantaFRXUtil").FRXClicked(f.thread_id,!0,d.uid);break}h=b("MercuryIDs").getUserIDFromParticipantID(d.uid);a=f.thread_fbid;if(h==null||a==null)return;switch(c){case b("MessengerContactActions.re").actions.REMOVE_OWNER:b("MercuryThreadInfo").isEmptyLocalThread(f)||b("MercuryThreadActions").getForFBID(e).changeGroupAdmins(a,[h],!1);break;case b("MessengerContactActions.re").actions.ADD_OWNER:b("MercuryThreadInfo").isEmptyLocalThread(f)||b("MercuryThreadActions").getForFBID(e).changeGroupAdmins(a,[h],!0);break}}}),null);
__d("CustomColorHighlightingReact.bs",["ReasonReact.bs","bs_js_null_undefined","CustomColorHighlighting.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("CustomColorHighlighting.react"),{customColor:b("bs_js_null_undefined").fromOption(a)},c)}f.make=a}),null);
__d("MessengerInfoPanelSectionReact.bs",["cx","Keys","bs_curry","React","ReasonReact.bs","CustomColorHighlightingReact.bs","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a,b,c){if(b!==void 0&&b&&c!==void 0)if(c)return h.jsx("div",{"aria-label":a,"aria-expanded":!1,className:"_1lj1 _3vo-",role:"button",tabIndex:0});else return h.jsx("div",{"aria-label":a,"aria-expanded":!0,className:"_1lj1",role:"button",tabIndex:0});else return null}function j(a,c,d,e){var f=function(a){if(d!==void 0)return b("bs_curry")._1(d,void 0)},g=function(a){a.preventDefault();return f(void 0)},j=function(a){if(a.keyCode===b("Keys").RETURN||a.keyCode===b("Keys").SPACE){a.preventDefault();return f(void 0)}},k=a!==void 0&&a&&!(c!==void 0&&c)?!0:!1;if(e===void 0)return null;var l=b("MessengerDotComAndInboxM4Check.bs").yes?"_1lj0 _6ybm":"_1lj0";return h.cloneElement(h.jsxs("h4",{children:[e,i(e,a,c)],"aria-expanded":k,className:l,onKeyDown:j,onClick:g}),{"aria-pressed":"true"})}function a(a){var c=a.customColor,d=a.isCollapsible,e=a.isCollapsed,f=a.onToggle,g=a.title;a=a.children;a=h.Children.toArray(a);return h.jsxs("div",{children:[h.jsx("div",{className:"_1li-"}),j(d,e,f,g),h.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("CustomColorHighlightingReact.bs").make(c,a)),className:"_1li_"})],className:"_1lix"+(d===!0?" _1liy":"")+(d===!0&&e===!0?" _1liz":"")})}c=a;d=a;f.renderChevron=i;f.renderHeader=j;f.make=c;f.jsComponent=d}),null);
__d("MessengerInfoPanelAssociatedObjectSection.react",["cx","fbt","CurrentUser","Image.react","Link.react","MessengerInfoPanelSectionReact.bs","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.isCollapsed,e=c.onToggle,f=c.associatedObject;c=c.customColor;a=(a=f.verse_group_link)!=null?a:f.action_link+"?ref=MessengerInfoPanelAssociatedObjectSection";return i.jsx(b("MessengerInfoPanelSectionReact.bs").jsComponent,{customColor:c,isCollapsible:!0,isCollapsed:d,onToggle:e,title:h._("Part of"),children:i.jsxs(b("Link.react"),{href:a,target:"_blank",style:{textDecoration:"none"},className:"_35-k",children:[this.$1(),this.$2()]})})};d.$1=function(){var a=this.props.associatedObject;a=a.profile_picture;return i.jsx("div",{children:i.jsx(b("Image.react"),{className:"_35-n",src:a})})};d.$2=function(){var a=this.props.associatedObject,c=a.name,d=b("TimeSpentRoomTypeEnum")[a.room_type];a=a.verse_group_link;var e=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return i.jsxs("div",{className:"_35-o",children:[i.jsx("div",{className:"_35-p",children:c}),i.jsxs("div",{className:"_35-q",children:[!a&&h._({"GROUP":"Go to {productName} Group","EVENT":"Go to {productName} Event"},[h._param("productName",e),h._enum(d,b("TimeSpentRoomTypeEnum$FbtEnum"))]),a&&h._("Go to Facebook Chat Group")]})]})};return c}(i.PureComponent);e.exports=a;a.propTypes={isCollapsed:(c=b("prop-types")).bool.isRequired,onToggle:c.func.isRequired,customColor:c.string,associatedObject:c.instanceOf(Object).isRequired}}),null);
__d("AbstractCheckboxInput.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=h.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.useLabel,e=a["data-testid"];e=babelHelpers.objectWithoutPropertiesLoose(a,["className","useLabel","data-testid"]);return!d?h.jsx("input",babelHelpers["extends"]({},e,{"data-testid":void 0,className:c,ref:this.$1,type:"checkbox"})):h.jsxs("label",{className:b("joinClasses")(c,"_kv1"),"data-testid":void 0,children:[h.jsx("input",babelHelpers["extends"]({},e,{className:null,ref:this.$1,type:"checkbox"})),h.jsx("span",{className:"_66ul","data-hover":this.props.tooltip!=null?"tooltip":null,"data-tooltip-content":this.props.tooltip})]})};d.focusInput=function(){this.$1.current&&this.$1.current.focus()};d.blurInput=function(){this.$1.current&&this.$1.current.blur()};d.setIndeterminate=function(){this.$1.current&&(this.$1.current.indeterminate=!0)};d.isIndeterminate=function(){return this.$1.current?this.$1.current.indeterminate:!1};return c}(h.Component);e.exports=a;a.defaultProps={useLabel:!0}}),null);
__d("FBToggleSwitch.react",["cx","AbstractCheckboxInput.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onToggle&&c.props.disabled!==!0&&c.props.onToggle(a.target.checked)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a="_ypo"+(this.props.animate?" _ypp":"")+(this.props.disabled?" _ypq":"")+(this.props.size==="large"?" _1dfi":""),c,d;this.props.indeterminate===!0?d=this.props.checked:c=this.props.checked;return h.jsx(b("AbstractCheckboxInput.react"),babelHelpers["extends"]({},this.props,{checked:c,className:b("joinClasses")(this.props.className,a),defaultChecked:d,onChange:this.$1,children:void 0}))};return c}(h.Component);a.propTypes={animate:(c=b("prop-types")).bool,indeterminate:c.bool,onToggle:c.func,disabled:c.bool,tooltip:c.oneOfType([c.node,c.string]),size:c.oneOf(["normal","large"])};e.exports=a}),null);
__d("MessengerCheckmarkIconSVGM4React.bs",["React","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.size;a=String(b("bs_belt_Option").getWithDefault(a,36))+"px";return g.jsxs("svg",{children:[g.jsx("defs",{children:g.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"})}),g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("mask",{children:g.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"}),id:"mask-2",fill:"white"}),g.jsx("path",{id:"Fill-1",d:"M13.4397101,26.0625 L6.43933525,19.062 C5.85355492,18.476 5.85355492,17.526 6.43933525,16.9405 C7.02511558,16.354 7.97475947,16.354 8.5605398,16.9405 L14.4998126,22.8805 L27.4394602,9.9395 C28.0252405,9.3535 28.9748844,9.3535 29.5606648,9.9395 C30.1464451,10.525 30.1464451,11.4755 29.5606648,12.061 L15.5604148,26.0625 C14.9751343,26.6485 14.0249906,26.6485 13.4397101,26.0625 Z",fill:"#000000",mask:"url(#mask-2)"})]})})],height:a,width:a,viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerCheckmarkIconSVGM4React.re",["MessengerCheckmarkIconSVGM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCheckmarkIconSVGM4React.bs").make;f.make=a}),null);
__d("MessengerCrossIconSVGM4React.bs",["React","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.size;a=String(b("bs_belt_Option").getWithDefault(a,36))+"px";return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"Fill-1",d:"M24.4386402,26.5608358 L18.4998126,20.6218774 L12.5614847,26.5608358 C11.9754458,27.1463881 11.0251934,27.1463881 10.4391545,26.5608358 C9.85361517,25.974784 9.85361517,25.0250103 10.4391545,24.4389584 L16.377982,18.5 L10.4391545,12.5610416 C9.85361517,11.9754893 9.85361517,11.025216 10.4391545,10.4391642 C11.0251934,9.85361194 11.9754458,9.85361194 12.5614847,10.4391642 L18.4998126,16.3786222 L24.4386402,10.4391642 C25.0246791,9.85361194 25.9744319,9.85361194 26.5604708,10.4391642 C27.1465097,11.025216 27.1465097,11.9754893 26.5604708,12.5610416 L20.6211437,18.5 L26.5604708,24.4389584 C27.1465097,25.0250103 27.1465097,25.974784 26.5604708,26.5608358 C25.9744319,27.1463881 25.0246791,27.1463881 24.4386402,26.5608358 Z",fill:"#000000"})],id:"Cancel"}),id:"cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:a,width:a,viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerCrossIconSVGM4React.re",["MessengerCrossIconSVGM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCrossIconSVGM4React.bs").make;f.make=a}),null);
__d("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1574519202665847"};b.getQueryID=function(){return"337579896759283"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("MessengerApprovalRequester.react",["cx","fbt","CurrentUser","Link.react","MercuryIDs","MercuryThreadActions","MessengerParticipants.bs","MessengerCheckmarkIconSVGM4React.re","MessengerContactImageReact.bs","MessengerCrossIconSVGM4React.re","MessengerDotComAndInboxM4Check.bs","MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation","MessengerTextWithEmoticons.react","React","ShimButton.react","WebGraphQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryThreadActions").get(),j=b("React"),k=32,l=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w _7tla":"_3szo";function m(a,c,d){if(!c||d===null)return null;var e=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(c));e=e&&e.name;if(!e)return null;if(d===0)return b("CurrentUser").isWorkUser()&&a===c?h._("Requested to join"):h._("Added by {inviter}.",[h._param("inviter",e)]);else if(d===1)return h._("Invited by {inviter}.",[h._param("inviter",e)]);return null}function n(a){var c=a.name,d=a.imageSRC,e=a.inviterFBID,f=a.isMessengerUser,g=a.requestSource;a=a.userFBID;c=j.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c});a=m(a,e,g);e=a?j.jsxs("span",{className:"_4e87",children:[j.jsx("div",{children:c}),j.jsx("div",{className:"_4egt",children:a})]}):j.jsx("span",{className:"_3tkx",children:c});return j.jsxs("div",{className:"_3szq _4fq",children:[j.jsx(b("MessengerContactImageReact.bs").jsComponent,{className:"_5l39 _5rmm",isMessengerUser:f,size:k,src:d}),e]})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(b("MessengerDotComAndInboxM4Check.bs").yes)return this.$1();else return this.$2()};d.$1=function(){var a=this.props,c=a.isAdminRequired,d=a.isMessengerUser,e=a.imageSRC,f=a.name,g=a.inviterFBID,i=a.requestSource;a=a.userFBID;c=c?h._("Approve"):h._("Accept");return j.jsxs("div",{className:l,children:[j.jsx(n,{userFBID:a,name:f,imageSRC:e,inviterFBID:g,isMessengerUser:d,requestSource:i}),j.jsxs("div",{className:"_4fs _7tlb",children:[j.jsx(b("ShimButton.react"),{"aria-label":h._("Ignore"),className:"_7tlc _3-91",href:"#",onClick:this.$3.bind(this),children:j.jsx(b("MessengerCrossIconSVGM4React.re").make,{size:20})}),j.jsx(b("ShimButton.react"),{"aria-label":c,className:"_7tlc",href:"#",onClick:this.$4.bind(this),children:j.jsx(b("MessengerCheckmarkIconSVGM4React.re").make,{size:20})})]})]})};d.$2=function(){var a=this.props,c=a.isAdminRequired,d=a.isMessengerUser,e=a.imageSRC,f=a.name,g=a.inviterFBID,i=a.requestSource;a=a.userFBID;c=c?h._("Approve"):h._("Accept");return j.jsxs("div",{className:l,children:[j.jsx(n,{userFBID:a,name:f,imageSRC:e,inviterFBID:g,isMessengerUser:d,requestSource:i}),j.jsxs("div",{className:"_3ihq _4fs",children:[j.jsx(b("Link.react"),{className:"_5a73",href:"#",onClick:this.$4.bind(this),children:c}),j.jsx("span",{className:"_1m8c"}),j.jsx(b("Link.react"),{className:"_5a73",href:"#",onClick:this.$3.bind(this),children:h._("Ignore")})]})]})};d.$4=function(a){a=this.props;var c=a.isAdminRequired,d=a.threadFBID,e=a.userFBID;a=a.onUpdated;c?b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:d,user_ids:[e],response:"ACCEPT",surface:"ADMIN_MODEL_APPROVAL_CENTER"}})):i.acceptToJoinableGroup(d,e);a&&a(e)};d.$3=function(a){a=this.props;var c=a.isAdminRequired,d=a.threadFBID,e=a.userFBID;a=a.onUpdated;c?b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:d,user_ids:[e],response:"DENY",surface:"ADMIN_MODEL_APPROVAL_CENTER"}})):i.rejectToJoinableGroup(d,e);a&&a(e)};return c}(j.Component);e.exports=a}),null);
__d("MessengerInfoPanelGroupSection.react",["cx","fbt","FBToggleSwitch.react","MercuryThreadActions","MessengerApprovalQueueUtils","immutable","MessengerAdminGroupUtils","MessengerApprovalRequester.react","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelSectionReact.bs","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MercuryThreadActions").get(),j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={approvalQueue:b("immutable").Map()};return c}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.thread)};d.render=function(){return j.jsxs("div",{children:[this.$2(),this.$3()]})};d.UNSAFE_componentWillReceiveProps=function(a){this.$1(a.thread)};d.$1=function(a){var c=this;if(!a)return;b("MessengerApprovalQueueUtils").getApprovalQueueParticipants(a,function(a){return c.setState({approvalQueue:a})})};d.$2=function(){return!b("MessengerAdminGroupUtils").showGroupOptionsSection(this.props.thread)?null:j.jsx(b("MessengerInfoPanelSectionReact.bs").jsComponent,{customColor:this.props.thread.solid_color,isCollapsible:!0,isCollapsed:this.props.isOptionsCollapsed,onToggle:this.props.onOptionsToggle,title:h._("Group Options"),children:j.jsx("div",{className:"_3iho",children:this.$4()})})};d.$4=function(){var a=this.props,c=a.viewer,d=a.thread;a=b("MessengerAdminGroupUtils").isApprovalOpenThread(d);if(!b("MessengerAdminGroupUtils").showJoinableApprovalToggle(d,c))return null;c=b("MessengerAdminGroupUtils").isAdminRequired(d);var e=c?h._("Require Admin Approval"):h._("New member approval");c=c?j.jsx("div",{className:"_3ihp"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _87b_":""),children:h._("Require an admin to approve all requests to join the group chat")}):j.jsx("div",{className:"_3ihp",children:h._("Approve who can join the group")});return j.jsxs("div",{className:"_3szo _2ya9",children:[j.jsxs("div",{className:"_3szq",children:[e,c]}),j.jsx(b("FBToggleSwitch.react"),{animate:!0,"aria-label":e,checked:!a,onToggle:function(a){return i.setApprovalMode(a?1:0,d)}})]})};d.$3=function(){var a=this.props,c=a.viewer,d=a.thread,e=d.thread_fbid;if(!e||!b("MessengerAdminGroupUtils").showApprovalQueue(d,c))return null;a=b("MessengerAdminGroupUtils").getPendingRequestNumber(d);c=b("MessengerAdminGroupUtils").isAdminRequired(d)?h._("Member Requests ({memberRequestCount})",[h._param("memberRequestCount",a)]):h._("Pending Requests ({pendingRequestCount})",[h._param("pendingRequestCount",a)]);return j.jsx(b("MessengerInfoPanelSectionReact.bs").jsComponent,{customColor:this.props.thread.solid_color,isCollapsible:!0,isCollapsed:this.props.isApprovalsCollapsed,onToggle:this.props.onApprovalToggle,title:c,children:j.jsx("div",{className:"_3iho _3oh-",children:this.state.approvalQueue.map(function(a){var c=a.fbid;return c&&j.jsx(b("MessengerApprovalRequester.react"),{imageSRC:a.image_src,inviterFBID:a.inviter_id,requestSource:a.request_source,isAdminRequired:b("MessengerAdminGroupUtils").isAdminRequired(d),isMessengerUser:a.is_messenger_user,name:a.name,threadFBID:e,userFBID:c,onUpdated:null},a.id)}).toArray()})})};return c}(j.Component);e.exports=a}),null);
__d("MessagingThreadCustomizationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation",DELETE_ALL_SETTING:"delete_all_setting",RELATIONSHIP_STATUS_UPDATE:"relationship_status_update",TESTBOT:"testbot",SET_FROM_MESSAGE:"set_from_message",GROUP_NULL_STATE:"group_null_state",TEST:"test",VERSE_SIDEBAR:"verse_sidebar",CHAT_LIGHT_SPEED:"chat_light_speed",THEME_DEPRECATION:"theme_deprecation"});e.exports=a}),null);
__d("MercuryGenericConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MAX_THREAD_NAME_LENGTH:250,MAX_GROUP_THREAD_DESCRIPTION_LENGTH:1e3});e.exports=a}),null);
__d("createContentStateForTextWithMessengerEmoji",["ContentState","DraftModifier","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=b("ContentState").createFromText("");while(a){var d=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(a);if(d){var e=d.offset+d.length,f=a.substr(0,d.is_supported?d.offset:e);e=a.substr(e);c=b("DraftModifier").insertText(c,c.getSelectionAfter(),f);d.is_supported&&(c=b("insertMessengerEmojiIntoContentState")(d.emoji_key,c,c.getSelectionAfter(),c.getFirstBlock().getInlineStyleAt(0)));a=e}else break}a&&(c=b("DraftModifier").insertText(c,c.getSelectionAfter(),a));return c}}),null);
__d("handlePastedTextForMessengerEmoji",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){c=c-a;a=e.getSelection();a.isCollapsed()||(c+=1+a.getEndOffset()-a.getStartOffset());if(c<=0)return e;d=d.slice(0,c);c=a.isCollapsed()?b("DraftModifier").insertText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle()):b("DraftModifier").replaceText(e.getCurrentContent(),a,d,e.getCurrentInlineStyle());return b("EditorState").push(e,c,"insert-characters")}}),null);
__d("MessengerTextWithEmojiInput.react",["cx","CompositeDraftDecorator","DraftEditor.react","EditorState","MessengerEmojiSpan.react","React","XUICloseButton.react","createContentStateForTextWithMessengerEmoji","getEntityMatcher","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handlePastedTextForMessengerEmoji","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a){if(a!==d.state.editorState){var b=!a.getCurrentContent().hasText();d.setState({editorState:a,isEmpty:b});d.props.onChange&&d.props.onChange(a)}},d.$3=function(a,c){if(d.props.maxLength!=null&&d.props.maxLength<=d.getValue().length&&c.getSelection().isCollapsed())return"handled";a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return"not-handled";d.setState({editorState:a});return"handled"},d.$4=function(a,c,e){c=d.props.maxLength;if(c!=null){c=b("handlePastedTextForMessengerEmoji")(d.getValue().length,c,a,e);d.setState({editorState:c});return"handled"}return"not-handled"},d.$5=function(a,b){if(d.props.onReturn){d.props.onReturn(a,b);return"handled"}return"not-handled"},d.$8=function(){var a=d.$1("");d.setState({editorState:a});d.props.onChange&&d.props.onChange(a)},d.state={editorState:d.$1(d.props.initialValue),isEmpty:d.props.initialValue==null||d.props.initialValue.length===0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){return b("EditorState").createWithContent(b("createContentStateForTextWithMessengerEmoji")(a||""),this.$2())};d.componentDidMount=function(){this.props.disableAutoFocus!==!0&&b("setImmediate")(this.focusInput.bind(this))};d.render=function(){var a;a=(a=this.props.placeholder)==null?void 0:a.toString();return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_30e7"),children:[h.jsx("div",{className:"_5j5f _3oh-",children:h.jsx(b("DraftEditor.react"),{editorState:this.state.editorState,handleBeforeInput:this.$3,handlePastedText:this.$4,handleReturn:this.$5,onChange:this.$6,placeholder:a,ref:"input",spellCheck:!1,stripPastedStyles:!0,textAlignment:"left"})}),this.props.showLengthIndicator===!0&&this.props.maxLength!=null?this.$7():null,h.jsx(b("XUICloseButton.react"),{size:"small",onClick:this.$8,className:(this.state.isEmpty?"hidden_elem":"")+" _5j5l"})]})};d.$7=function(){return this.getValue().length!==0?h.jsxs("div",{className:"_32y6",children:[this.getValue().length,"/",this.props.maxLength]}):h.jsx("div",{className:"_32y6"})};d.$2=function(){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"}),component:b("MessengerEmojiSpan.react")}])};d.getValue=function(){var a=this.state.editorState.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};d.focusInput=function(){this.refs.input.focus(),this.$6(b("EditorState").moveFocusToEnd(this.state.editorState))};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerTextWithEmojiInputReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEmojiInput.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEmojiInput.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),onReturn:j.fromOption(c),maxLength:j.fromOption(d),onChange:j.fromOption(e),placeholder:j.fromOption(f),initialValue:j.fromOption(g),showLengthIndicator:j.fromOption(h)},i)}f.make=a}),null);
__d("MessengerEditGroupThreadDescriptionDialogReact.bs",["cx","fbt","bs_curry","React","bs_string","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MercuryGenericConstants","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerTextWithEmojiInputReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerEditGroupThreadDescriptionDialogReact");function k(a,c){c.state.descriptionInputRef.contents=a==null?void 0:b("bs_caml_option").some(a)}function a(a,c,d,e){var f=function(a){if(!a){d!==void 0&&b("bs_curry")._1(d,void 0);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)}},g=function(d,e){d=e.state.descriptionInputRef.contents;if(d!==void 0){e=b("bs_string").trim(b("bs_caml_option").valFromOption(d).getValue());d=e===a;d||c===void 0||b("bs_curry")._1(c,e)}return f(!1)};return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:j.didMount,didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(c){var d,e,j=(d=b("ReasonReact.bs")).element(void 0,b("bs_curry")._1(c.handle,k),b("MessengerTextWithEmojiInputReact.bs").make("_1n7c",void 0,b("MercuryGenericConstants").MAX_GROUP_THREAD_DESCRIPTION_LENGTH,void 0,h._("What's this group about?"),a,!0,[]));return d.element(void 0,void 0,(e=b("MessengerDialogReact.bs")).Dialog.make("_1cyb",void 0,f,void 0,void 0,void 0,void 0,500,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Edit Group Description")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_3yb4",children:[i.jsx("div",{children:h._("Anyone with the group link will be able to see this description."),className:"_1cyc"}),j]}),d.element(void 0,void 0,e.Footer.make(void 0,void 0,[d.element(void 0,void 0,e.CancelButton.make(void 0,[])),d.element(void 0,void 0,e.Button.make(void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(c.handle,g),0,void 0,void 0,void 0,[]))]))]))},initialState:function(a){return{descriptionInputRef:{contents:void 0}}},retainedProps:j.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:j.jsElementWrapped}}f.component=j;f.setDescriptionInputRef=k;f.make=a}),null);
__d("MessengerInfoPanelGroupThreadDescriptionSectionReact.bs",["cx","fbt","Keys","React","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","LitestandEllipsis","MessengerTextWithEmoticons.react","MessengerEditGroupThreadDescriptionDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.actionsEnabled,d=a.onEdit;a=a.thread;var e=i.useRef({description:void 0,descriptionText:void 0}),f=a.description,g=f==null?"":f,j=function(a){a=e.current.description;if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus()};f=function(a){e.current.description=a==null?void 0:b("bs_caml_option").some(a)};var k=function(a){e.current.descriptionText=a==null?void 0:b("bs_caml_option").some(a)},l=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerEditGroupThreadDescriptionDialogReact.bs").make(g,d,j,[]))})},m=function(a){a.preventDefault();return l(void 0)},n=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return l(void 0)}};a=a.description;a=a==null?[h._("What's this group about?"),!0]:[i.jsx(b("MessengerTextWithEmoticons.react"),{text:a}),!1];i.useEffect(function(){var a=e.current.descriptionText;a!==void 0&&b("LitestandEllipsis").add(b("bs_caml_option").valFromOption(a),65,null)},[e.current.descriptionText]);return i.jsx("div",{children:i.jsx("div",{children:i.jsx("div",{children:a[0],ref:k,className:"_69e1 _69e2"+(a[1]?" _69e3":"")}),ref:f,className:"_69e0"+(c?"":" disabled"),role:"button",tabIndex:0,onKeyDown:n,onClick:m}),className:"_69d_"})}c=i.memo(a,function(a,b){if(a.thread===b.thread)return a.actionsEnabled===b.actionsEnabled;else return!1});f.make=c}),null);
__d("MessengerInfoPanelGroupThreadDescriptionContainerReact.bs",["cx","fbt","React","bs_caml_option","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelSectionReact.bs","MessagingThreadCustomizationSource","MessengerInfoPanelGroupThreadDescriptionSectionReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isCollapsed,d=a.onToggle,e=a.thread,f=a.viewer;if(!e.is_subscribed||b("MessageRequestUtils").isMessageRequest(e))return null;a=b("MessengerAdminGroupUtils").canUpdateThreadDescription(e,f);var g=function(a){if(!b("MercuryThreadInfo").isEmptyLocalThread(e)){b("MercuryThreadActions").getForFBID(f).changeGroupThreadDescription(e.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return}};a=i.jsx("div",{children:i.jsx(b("MessengerInfoPanelGroupThreadDescriptionSectionReact.bs").make,{actionsEnabled:a,onEdit:g,thread:e}),className:"_4izw"});g={isCollapsible:!0,isCollapsed:c,onToggle:d,title:h._("Group Description"),children:a};c=b("bs_caml_option").nullable_to_opt(e.solid_color);c!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(c));return i.jsx(b("MessengerInfoPanelSectionReact.bs").make,g)}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerProfileLinkLocation",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTEXT_BANNER:"context_banner",INFOPANEL:"infopanel"});e.exports=a}),null);
__d("WorkMultiCompanyChatBetaNotice.bs",["cx","fbt","React","gkx","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=a.isMultiCompany;var c=b("gkx")("678587"),d=b("CurrentUser").isWorkUser();if(c&&d&&a)return i.jsx("div",{children:h._("You have early access to multi-company chat"),className:"_3eus"});else return null}c=a;f.make=c}),null);
__d("MessengerInfoPanelContactNameSectionM4React.bs",["cx","React","bs_caml_option","ReasonReact.bs","MessengerProfileLink.bs","WorkForeignEntityInfo.bs","MessengerLocalTimeReact.bs","MessengerPresenceStatusReact.bs","MessengerProfileLinkLocation","WorkMultiCompanyChatBetaNotice.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_3eur _6ybk",j="_3eus _6_mz";function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.platform;a=a.renderedImage;var g=c.title;d={isUserActive:d};e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));f!==void 0&&(d.platform=b("bs_caml_option").valFromOption(f));e={className:"_5uh"};f=b("bs_caml_option").nullable_to_opt(c.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return h.jsxs(h.Fragment,{children:[a,h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("span",{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileLink.bs").make(b("bs_caml_option").nullable_to_opt(c.href),"_blank",b("MessengerProfileLinkLocation").INFOPANEL,c.name,c.fbid,c.verification_status==="BLUE_VERIFIED",[])),className:"_3oh-"}),className:i}),g==null?null:h.jsx("span",{children:g,className:j}),h.jsx("div",{children:h.createElement(b("MessengerPresenceStatusReact.bs").make,d),className:j}),h.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:!b("WorkForeignEntityInfo.bs").isCoworker(c)}),h.jsx("div",{children:h.createElement(b("MessengerLocalTimeReact.bs").make,e)})],className:"_2jnt _6_m-"})]})}c=a;f.nameClasses=i;f.subtextClasses=j;f.make=c}),null);
__d("MessengerGroupThreadTitleWithEmojiInputReact.bs",["cx","fbt","bs_curry","React","EditorState","getEntityMatcher","DraftEditor.react","MessengerButtonReact.bs","CompositeDraftDecorator","MercuryGenericConstants","MessengerEmojiSpan.react","createContentStateForTextWithMessengerEmoji"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH,k=h._("Name This Conversation");function l(a){return b("EditorState").createWithContent(b("createContentStateForTextWithMessengerEmoji")(a),new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"}),component:b("MessengerEmojiSpan.react")}]))}function a(a){var c=a.onSubmit,d=a.initialValue;a=a.enabled;var e=i.useReducer(function(a,b){if(!b)return{editorState:l(d)};b=b._0;if(b===a.editorState)return a;else return{editorState:b}},{editorState:l(d)}),f=e[1],g=e[0];e=function(a,d){b("bs_curry")._1(c,d.getCurrentContent().getPlainText());return"handled"};var m=function(a){return b("bs_curry")._1(c,g.editorState.getCurrentContent().getPlainText())},n=g.editorState.getCurrentContent().getPlainText(),o=n.length,p=o>j;n=d!==n;var q=a&&n,r=a&&n&&!p;return i.jsxs(i.Fragment,{children:[i.jsx("div",{children:i.createElement(b("DraftEditor.react"),{editorState:g.editorState,handleReturn:e,onChange:function(a){return b("bs_curry")._1(f,{_0:a})},placeholder:k,spellCheck:!1,stripPastedStyles:!0,textAlignment:"center",readOnly:!a}),className:"_3oh- _71bm"+(g.editorState.getSelection().getHasFocus()?" _71bn":"")+(a?" _71bo":"")+(a?"":" _71bp")+(n&&p?" _71bq":"")}),i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("MessengerButtonReact.bs").make,{ariaHidden:!q,role:"button",tabIndex:q?0:-1,onClick:function(a){return b("bs_curry")._1(f,0)},label:h._("Cancel"),type:0,use:1}),className:"_71b-"+(q?" _71b_":"")}),i.jsx("div",{className:"_71bz"}),i.jsxs("div",{children:[i.jsxs("div",{children:[""+o,"/",""+j],className:"_71bv"+(a&&n&&p?" _71bw":"")}),i.jsx("div",{children:i.jsx(b("MessengerButtonReact.bs").make,{ariaHidden:!r,role:"button",tabIndex:r?0:-1,onClick:m,disabled:!r,label:h._("Save"),type:0}),className:"_71cr"+(r?" _71cs":"")})],className:"_71cq"})],className:"_71bs"+(a&&n?" _71bt":"")})]})}c=a;f.maxLength=j;f.placeholder=k;f.createEditorState=l;f.make=c}),null);
__d("DOMClone",["DataStoreConfig"],(function(a,b,c,d,e,f){a={shallowClone:function(a){return g(a,!1)},deepClone:function(a){return g(a,!0)}};function g(a,c){a=a.cloneNode(c);typeof a.__FB_TOKEN!=="undefined"&&delete a.__FB_TOKEN;typeof a[b("DataStoreConfig").expandoKey]!=="undefined"&&delete a[b("DataStoreConfig").expandoKey];return a}e.exports=a}),null);
__d("FileInput",["cx","ArbiterMixin","DOM","DOMClone","Event","Focus","Keys","UserAgent_DEPRECATED","mixin"],(function(a,b,c,d,e,f,g){var h=b("UserAgent_DEPRECATED").ie();a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.container=c;f.control=d;c=b("DOM").scry(f.container,"a")[0];c&&c.removeAttribute("href");d=b("DOM").create("div",{className:"_3jk"},e);b("DOM").appendContent(f.control,d);f._boundHandleChange=f._handleChange.bind(babelHelpers.assertThisInitialized(f));h&&(f._boundHandleIEKeyDown=f._handleIEKeyDown.bind(babelHelpers.assertThisInitialized(f)));f._setInputElement(e);return f}var d=c.prototype;d.getValue=function(){return this.input.value};d.getInput=function(){return this.input};d.getContainer=function(){return this.container};d.getControl=function(){return this.control};d.clear=function(){this.input.value="";if(this.input.value!==""){var a=b("DOMClone").deepClone(this.input);b("DOM").replace(this.input,a);this._setInputElement(a)}};d.destroy=function(){this._focus.remove(),this._focus=null,this._listener.remove(),this._listener=null,h&&(this._IEKeyDownListener.remove(),this._IEKeyDownListener=null),this.container=null,this.control=null,this.input=null};d._setInputElement=function(a){this.input=a,this._focus&&this._focus.remove(),this._focus=b("Focus").relocate(a,this.control),this._listener&&this._listener.remove(),this._listener=b("Event").listen(a,"change",this._boundHandleChange),h&&(this._IEKeyDownListener&&this._IEKeyDownListener.remove(),this._IEKeyDownListener=b("Event").listen(a,"keydown",this._boundHandleIEKeyDown))};d._handleChange=function(a){this.inform("change",a);if(this.input){var c=this.input.form;c&&h<9&&b("Event").fire(c,"change",a)}};d._handleIEKeyDown=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0);this.input.dispatchEvent(a)}};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("MessengerThreadPhotoUploader.react",["cx","fbt","FileInput","FileInputUploader","Link.react","MercuryConfig","MessengerDotComAndInboxM4Check.bs","MessengerPhotoIconSVGM4React.bs","React","ReactDOM","SubscriptionsHandler","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadPhotoUploader",_fileInput:null,_subscriptions:null,_uploader:null,_uploadIsInProgress:!1,propTypes:{onComplete:(a=b("prop-types")).func.isRequired,onFail:a.func,onStart:a.func,uri:a.string},getDefaultProps:function(){return{uri:b("MercuryConfig").upload_url}},componentDidMount:function(){var a=b("ReactDOM").findDOMNode(this.refs.input),c=new(b("FileInput"))(b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.uploadButton),a);a=new(b("FileInputUploader"))(a).setURI(this.props.uri).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(a.subscribe("success",this._handleAllUploadsCompleted),a.subscribe("failure",this._handleLastUploadFailed));this._subscriptions=d;this._uploader=a;this._fileInput=c},componentWillUnmount:function(){this._uploadIsInProgress||this._doUnmountComponents()},render:function(){var a=h._("Click to change the image");return i.jsxs("form",{action:this.props.uri,method:"post",ref:"form",children:[i.jsx("input",{type:"hidden",name:"attach_id",ref:"attachID"}),i.jsx("input",{type:"hidden",name:"images_only",value:"true"}),i.jsxs("div",{className:"_m _4q60"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _2lyy")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _80cm":""),children:[b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerPhotoIconSVGM4React.bs").make({fill:"#000000",size:24}):null,i.jsx(b("Link.react"),{className:"_4q61 _2lyz",ref:"uploadButton",children:i.jsx("span",{"aria-hidden":"true",children:h._("Edit")})}),i.jsx("input",{"aria-label":h._("Change group photo"),type:"file",className:"_n",name:"attachment[]",accept:".jpg,.png,.jpeg,.bmp,.tif,.tiff",ref:"input",onChange:this._handleFileInputChange,title:a})]})]})},_handleAllUploadsCompleted:function(a,b){this._uploadIsInProgress=!1,this.props.onComplete&&this.props.onComplete(b.response.payload),this.isMounted()||this._doUnmountComponents()},_handleLastUploadFailed:function(a,b){this._uploadIsInProgress=!1,this.props.onFail&&this.props.onFail(b),this.isMounted()||this._doUnmountComponents()},_handleFileInputChange:function(a){a.target.value&&this._uploader&&(this._uploader.send(),this._uploadIsInProgress=!0,this.props.onStart&&this.props.onStart())},_doUnmountComponents:function(){this._subscriptions&&this._subscriptions.release(),this._fileInput&&this._fileInput.destroy(),delete this._subscriptions,delete this._uploader}});d=c;e.exports=d}),null);
__d("MessengerThreadPhotoUploaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerThreadPhotoUploader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadPhotoUploader.react"),{onComplete:a,onFail:b("bs_js_null_undefined").fromOption(c),onStart:b("bs_js_null_undefined").fromOption(d),uri:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MessengerInfoPanelThreadNameSectionM4React.bs",["cx","bs_curry","React","bs_caml_obj","bs_caml_option","ReasonReact.bs","MessengerSpinnerReact.bs","MessengerThreadPhotoUploaderReact.bs","MessengerGroupThreadTitleWithEmojiInputReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelThreadNameSectionM4React");function a(a,c,d,e,f,g){var j=function(a,c){var e=c.state.threadIDForPhotoUpload;e!==void 0&&b("bs_curry")._1(d,[b("bs_caml_option").valFromOption(e),a]);return b("bs_curry")._1(c.send,0)};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:function(a){var c=a.threadIDForPhotoUpload;if(c!==void 0&&b("bs_caml_obj").caml_notequal(b("bs_caml_option").valFromOption(c),f.thread_id))return{isUploadingPhoto:!1,threadIDForPhotoUpload:b("bs_caml_option").some(f.thread_id)};else return a},didMount:i.didMount,didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(d){var g=d.send,i=d.state;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[e,a&&!i.isUploadingPhoto?h.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadPhotoUploaderReact.bs").make(b("bs_curry")._1(d.handle,j),function(a){return b("bs_curry")._1(g,1)},function(a){return b("bs_curry")._1(g,{_0:f.thread_id})},void 0,[])),className:"_80co"}):null,i.isUploadingPhoto?h.jsx("div",{children:h.createElement(b("MessengerSpinnerReact.bs").make,{}),className:"_7103"}):null],className:"_7101"+(i.isUploadingPhoto?" _7102":"")}),h.createElement(b("MessengerGroupThreadTitleWithEmojiInputReact.bs").make,{onSubmit:c,initialValue:f.name,enabled:a})]})},initialState:function(a){return{isUploadingPhoto:!1,threadIDForPhotoUpload:void 0}},retainedProps:i.retainedProps,reducer:function(a){if(typeof a==="number")return function(a){return{TAG:0,_0:{isUploadingPhoto:!1,threadIDForPhotoUpload:void 0}}};var c=a._0;return function(a){return{TAG:0,_0:{isUploadingPhoto:!0,threadIDForPhotoUpload:b("bs_caml_option").some(c)}}}},jsElementWrapped:i.jsElementWrapped}}f.component=i;f.make=a}),null);
__d("MessengerInfoPanelNameSectionM4React.bs",["cx","bs_curry","React","gkx","bs_caml_option","ReasonReact.bs","MercuryConfig","MessengerAdminGroupUtils","MessengerThreadImageM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelThreadNameSectionM4React.bs","MessengerInfoPanelContactNameSectionM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.onThreadNameChange,g=a.onThreadPhotoChange,i=a.platform,j=a.thread;a=a.viewer;e=e==null?void 0:b("bs_caml_option").some(e);var k=j.has_montage&&b("MercuryConfig").MontageThreadViewer&&b("gkx")("972782")&&b("gkx")("995308");if(c!==void 0){c={contact:b("bs_caml_option").valFromOption(c),isUserActive:d,renderedImage:h.createElement(b("MessengerThreadImageM4React.bs").make,{expanded:!0,size:100,storiesRingEligible:k,thread:j,viewer:a})};e!==void 0&&(c.lastActive=b("bs_caml_option").valFromOption(e));i!==void 0&&(c.platform=b("bs_caml_option").valFromOption(i));d=h.createElement(b("MessengerInfoPanelContactNameSectionM4React.bs").make,c)}else{k=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(j,a);e=function(a){return b("bs_curry")._2(g,a[0],a[1])};d=b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelThreadNameSectionM4React.bs").make(k,function(a){if(a!==j.name)return b("bs_curry")._1(f,a)},e,h.createElement(b("MessengerThreadImageM4React.bs").make,{expanded:!0,size:100,thread:j,viewer:a}),j,[]))}return h.jsx("div",{children:d,className:"_1jt6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _710_":"")})}c=a;f.make=c}),null);
__d("MessengerInfoPanelNameSectionM4React.re",["MessengerInfoPanelNameSectionM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerInfoPanelNameSectionM4React.bs").make;f.make=a}),null);
__d("MessengerInfoPanelContactNameSectionReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","MessengerProfileLink.bs","WorkForeignEntityInfo.bs","MessengerLocalTimeReact.bs","MessengerPresenceStatusReact.bs","MessengerProfileLinkLocation","WorkMultiCompanyChatBetaNotice.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="_3eur",j="_3eus";function a(a){var c=a.contact,d=a.isUserActive,e=a.lastActive,f=a.platform;a=a.renderedImage;var g=c.title;d={isUserActive:d};e!==void 0&&(d.lastActive=b("bs_caml_option").valFromOption(e));f!==void 0&&(d.platform=b("bs_caml_option").valFromOption(f));e={className:"_5uh"};f=b("bs_caml_option").nullable_to_opt(c.timezone);f!==void 0&&(e.participantTimeZone=b("bs_caml_option").valFromOption(f));return h.jsxs("div",{children:[a,h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("span",{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileLink.bs").make(b("bs_caml_option").nullable_to_opt(c.href),"_blank",b("MessengerProfileLinkLocation").INFOPANEL,c.name,c.fbid,!1,[])),className:"_3oh-"}),className:i}),g==null?null:h.jsx("span",{children:g,className:j}),h.jsx("div",{children:h.createElement(b("MessengerPresenceStatusReact.bs").make,d),className:j}),h.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:!b("WorkForeignEntityInfo.bs").isCoworker(c)}),h.jsx("div",{children:h.createElement(b("MessengerLocalTimeReact.bs").make,e)})],className:"_2jnt"})],className:"_2jnq"})}c=a;f.nameClasses=i;f.subtextClasses=j;f.make=c}),null);
__d("MessengerInfoPanelThreadNameSectionReact.bs",["cx","fbt","Keys","bs_curry","React","bs_string","bs_caml_obj","setTimeout","bs_belt_Option","bs_caml_option","ReasonReact.bs","clearTimeout","setImmediate","MessengerButtonReact.bs","MessengerSpinnerReact.bs","MercuryGenericConstants","MercuryThreadTitleReact.bs","WorkMultiCompanyChatBetaNotice.bs","MessengerTextWithEmojiInputReact.bs","MessengerThreadPhotoUploaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){c=a.current;if(c!==void 0)return b("bs_caml_option").valFromOption(c).focusInput()}var k=i.jsx("div",{children:i.createElement(b("MessengerSpinnerReact.bs").make,{}),className:"_2jnw"});function l(a,c){c=a.current;if(c!==void 0)return b("bs_caml_option").valFromOption(c).focus()}function m(a,c,d,e){e.stopPropagation();e=a.current;e!==void 0&&b("bs_curry")._1(d,b("bs_string").trim(b("bs_caml_option").valFromOption(e).getValue()));return b("setImmediate")(function(a){return l(c,a)})}function n(a,c,d){var e=d.relatedTarget;if(!(e==null)&&d.currentTarget.contains(e)){d.stopPropagation();return}if(c>=2)return b("bs_curry")._1(a,0);else return b("bs_curry")._1(a,1)}function o(a,c,d,e,f,g){return i.jsxs("div",{children:[i.jsx("div",{children:b("ReasonReact.bs").element(void 0,function(c){a.current=c==null?void 0:b("bs_caml_option").some(c)},b("MessengerTextWithEmojiInputReact.bs").make("_2jnz",function(b){return m(a,e,f,b)},b("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH,void 0,h._("Name This Conversation"),g.name,void 0,[])),className:"_2jny"}),i.jsx("div",{children:i.createElement(b("MessengerButtonReact.bs").make,{role:"button",onClick:function(b){return m(a,e,f,b)},label:h._("Done"),type:0}),className:"_2jn-"})],className:"_2jnx",onBlur:function(a){return n(c,d,a)}})}function p(a,c,d,e){e.stopPropagation();if(a&&c===1)return b("bs_curry")._1(d,0)}function q(a,c,d,e){var f=e.charCode;if(a!==1||!(f===b("Keys").RETURN||f===b("Keys").SPACE))return;else{e.preventDefault();e.stopPropagation();if(c)return b("bs_curry")._1(d,0);else return}}function a(a,c){var d=a.actionsEnabled,e=a.onThreadNameChange,f=a.onThreadPhotoChange,g=a.renderedImage,h=a.thread,l=a.toggleIsEditingName,m=a.isEditingName,n=a.viewer;a=a.isMultiCompany;var r=i.useReducer(function(a,c){if(typeof c==="number")return{isUploadingPhoto:!1,threadIDForPhotoUpload:void 0};else return{isUploadingPhoto:!0,threadIDForPhotoUpload:b("bs_caml_option").some(c._0)}},{isUploadingPhoto:!1,threadIDForPhotoUpload:void 0}),s=r[1],t=r[0],u=i.useMemo(function(){var a=t.threadIDForPhotoUpload;if(a!==void 0&&b("bs_caml_obj").caml_notequal(b("bs_caml_option").valFromOption(a),h.thread_id))return{isUploadingPhoto:!1,threadIDForPhotoUpload:b("bs_caml_option").some(h.thread_id)};else return t},[h,t]),v=i.useRef(void 0),w=i.useRef(void 0);i.useEffect(function(){if(m===1)return;var a=b("setTimeout")(function(a){return j(w,a)},1);return function(c){b("clearTimeout")(a)}},[m]);r=m!==1;var x={className:"_2jnq"};c=b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a});c!==void 0&&(x.ref=b("bs_caml_option").valFromOption(c));return i.createElement("div",x,i.jsxs("div",{children:[g,u.isUploadingPhoto?k:null,d?b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadPhotoUploaderReact.bs").make(function(a){var c=u.threadIDForPhotoUpload;c!==void 0&&b("bs_curry")._1(f,[b("bs_caml_option").valFromOption(c),a]);return b("bs_curry")._1(s,0)},function(a){return b("bs_curry")._1(s,1)},function(a){return b("bs_curry")._1(s,{_0:h.thread_id})},void 0,[])):null],className:"_2jnr"+(u.isUploadingPhoto?" _2jns":"")}),i.jsx("div",{children:i.jsxs("div",{children:[r?o(w,l,m,v,e,h):b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTitleReact.bs").make("_2jnv",void 0,h,n,void 0,!1,!1,void 0,[])),i.createElement(b("WorkMultiCompanyChatBetaNotice.bs").make,{isMultiCompany:a})],className:"_2jnu"}),ref:function(a){v.current=a==null?void 0:b("bs_caml_option").some(a)},className:"_2jnt"+(r?"":" _1sw_")+(d?"":" disabled"),role:r?"":"button",tabIndex:0,onKeyPress:function(a){return q(m,d,l,a)},onClick:function(a){return p(d,m,l,a)}}))}c=i.forwardRef(a);f.focusThreadNameInput=j;f.spinner=k;f.focusEditThreadNameButton=l;f.handleNameEdited=m;f.handleEditAbandoned=n;f.renderNameInput=o;f.handleThreadTitleClick=p;f.handleThreadTitleKeyPress=q;f.make=c}),null);
__d("MessengerDeleteDialogReact.bs",["fbt","bs_curry","React","gkx","CurrentUser","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerDeleteDialogReact");function a(a,c,d,e,f,j,k){return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:i.didMount,didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(i){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,i.state.shown,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Delete Conversation")}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:b("CurrentUser").isWorkUser()?g._("Deleting message history cannot be undone. You will still receive any new messages in this chat."):g._("This will permanently delete the conversation history.")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Delete"),void 0,"danger",function(a){b("bs_curry")._1(j,void 0);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])),!c&&a==="inbox"?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,b("CurrentUser").isWorkUser()?g._("Hide"):!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Hide Conversation"):g._("Archive"),void 0,"danger",function(a){b("bs_curry")._1(e,a);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])):a==="pending"?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,d?g._("Ignore"):g._("Block"),void 0,"danger",function(a){b("bs_curry")._1(f,void 0);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])):null]))]))},initialState:function(a){return{shown:!0}},retainedProps:i.retainedProps,reducer:function(a,b){return{TAG:0,_0:{shown:!1}}},jsElementWrapped:i.jsElementWrapped}}f.component=i;f.make=a}),null);
__d("MessengerDotsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("g",{children:a.jsx("path",{id:"Fill-1",d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z"}),id:"Page-1",fill:"#000000"}),id:"dots-3-horizontal",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerIgnoreDialogReact.bs",["cx","fbt","bs_curry","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){var c=a.onIgnore,d=a.onToggle,e=a.contact,f=a.threadID;a=a.isGroupChat;var g=function(a){b("bs_curry")._1(c,void 0);return b("bs_curry")._1(d,!1)};e=e!==void 0?b("bs_caml_option").valFromOption(e).short_name:void 0;if(!(f==null)){f=new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_clicked").setThreadID(f).setPlatform("messengerdotcom");f.log()}return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:a?h._("Ignore group?"):h._("Ignore this conversation?")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{children:i.jsx("div",{children:a?h._("You won't be notified when someone messages this group, and the group will move to Spam. We won't tell anyone in the group that the messages have been ignored."):h._("You won't be notified when {short_name_or_description} messages you directly, and the conversation will move to Spam. We won't tell {sameParam} that the messages have been ignored.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(e,h._("this person"))),h._param("sameParam",b("bs_belt_Option").getWithDefault(e,h._("this person")))]),className:"_1q73"})}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Ignore Messages"),void 0,"danger",g,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onIgnore:a.onIgnore,onToggle:a.onToggle,threadID:a.threadID,isGroupChat:a.isGroupChat};a=b("bs_caml_option").nullable_to_opt(a.contact);a!==void 0&&(c.contact=b("bs_caml_option").valFromOption(a));return j(c)}c=b("bs_belt_Option").getWithDefault;d=j;f.$pipe$question=c;f.make=d;f.jsComponent=a}),null);
__d("MessengerRadioButtonReact.bs",["cx","React","bs_caml_option","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c={checked:a.checked,className:"__rm",disabled:a.disabled,name:a.name,onChange:a.onChange,value:a.value};a=b("bs_caml_option").undefined_to_opt(a.id);a!==void 0&&(c.id=b("bs_caml_option").valFromOption(a));return h.createElement(b("XUIRadioInput.react"),c)}f.make=a}),null);
__d("MessengerRadioList.react",["invariant","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","MessengerRadioButtonReact.bs","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.target instanceof HTMLInputElement||g(0,761),c.props.onSelect&&c.props.onSelect(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("li",{className:this.props.className,children:h.jsxs(b("InputLabel_DEPRECATED.react"),{display:"inline",children:[h.jsx(b("MessengerRadioButtonReact.bs").make,{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this.$1,value:this.props.value}),h.jsx(b("InputLabelLabel_DEPRECATED.react"),{children:this.props.children})]})})};return c}(h.Component);a.propTypes={disabled:(c=b("prop-types")).bool,name:c.string,onSelect:c.func,selectedValue:c.any,value:c.any};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=h.Children.map(this.props.children,function(a){return h.cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return h.jsx("ul",babelHelpers["extends"]({},this.props,{name:null,children:a}))};return b}(h.Component);e.exports=d;d.propTypes={name:c.string,onValueChange:c.func,selectedValue:c.any};d.Item=a}),null);
__d("MessengerMuteDialogReact.bs",["cx","fbt","bs_curry","React","ReasonReact.bs","MessengerDomIDs.bs","MessengerDialog.react","MessengerRadioList.react","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){if(typeof a==="number")return-1;else if(a.TAG)return a._0*3600;else return a._0*60}var k={TAG:0,_0:15},l={TAG:1,_0:1},m={TAG:1,_0:8},n={TAG:1,_0:24},o=b("ReasonReact.bs").reducerComponent("MessengerMuteDialogReact");function a(a,c){return{debugName:o.debugName,reactClassInternal:o.reactClassInternal,handedOffState:o.handedOffState,getDerivedStateFromProps:o.getDerivedStateFromProps,didMount:o.didMount,didUpdate:o.didUpdate,willUnmount:o.willUnmount,shouldUpdate:o.shouldUpdate,render:function(a){var c,d=a.state;return i.jsxs(b("MessengerDialog.react"),{shown:d.shown,titleID:b("MessengerDomIDs.bs").ids.MUTE_DIALOG_TITLE,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Mute Conversation")}),i.jsxs(b("MessengerDialogBody.react"),{children:[i.jsx("div",{children:h._("You will continue to receive \u0040mention notifications while muted."),className:"_3-96"}),i.jsxs(c=b("MessengerRadioList.react"),{name:"messengerMuteOptions",onValueChange:function(c){return b("bs_curry")._1(a.send,{_0:c})},selectedValue:d.muteSetting,children:[i.jsx(c.Item,{value:k,children:h._("For 15 minutes")}),i.jsx(c.Item,{value:l,children:h._("For 1 hour")}),i.jsx(c.Item,{value:m,children:h._("For 8 hours")}),i.jsx(c.Item,{value:n,children:h._("For 24 hours")}),i.jsx(c.Item,{value:0,children:h._("Until I turn it back on")})]})]}),i.jsxs(b("MessengerDialogFooter.react"),{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.jsx(b("MessengerDialogButton.react"),{label:h._("Mute"),onClick:function(c){return b("bs_curry")._1(a.send,0)},type:"primary"})]})]})},initialState:function(a){return{muteSetting:k,shown:!0}},retainedProps:o.retainedProps,reducer:function(c,d){if(c)return{TAG:0,_0:{muteSetting:c._0,shown:d.shown}};else return{TAG:2,_0:{muteSetting:d.muteSetting,shown:!1},_1:function(c){return b("bs_curry")._1(a,j(c.state.muteSetting))}}},jsElementWrapped:o.jsElementWrapped}}c=0;f.convertMuteToSeconds=j;f.fifteenMinutes=k;f.oneHour=l;f.eightHours=m;f.twentyFourHours=n;f.always=c;f.component=o;f.make=a}),null);
__d("MessengerP2BFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f){"use strict";f.bootloadOpenFRXDialog=a;function a(a){b("Bootloader").loadModules(["MessengerP2BFRXUtils","FRXEntryPoint","NFXStoryLocation"],function(b,c,d){b.openFRXDialog(a,d.MESSENGER_P2B_DIRECT_THREAD_DETAILS,c.REPORT_BUTTON)},"MessengerP2BFRXBootloaderUtils")}}),null);
__d("MessengerContactListReact.re",["react","MessengerContactList.react","bs_curry"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=b("MessengerContactList.react");f.makeTypeChecked=i;a=function(a){var c={actionsClass:a.actionsClass,admins:a.admins,className:a.className,contactAdapter:a.contactAdapter,disableRole:a.disableRole,extraActionsEnabled:a.extraActionsEnabled,listSections:a.listSections,onAction:a.onAction==null?a.onAction:function(c,d){c=b("bs_curry")._2(a.onAction,c,d);return c},onSelect:a.onSelect==null?a.onSelect:function(c,d){c=b("bs_curry")._2(a.onSelect,c,d);return c},rowClassName:a.rowClassName,viewer:a.viewer,thread:a.thread,children:a.children};c=h.createElement(i,c);return c};f.make=a}),null);
__d("WorkChatReportParticipantDialogReact.bs",["cx","fbt","React","immutable","MercuryIDs","FantaFRXUtil","ImmutableObject","MessengerDialogs.bs","MessengerDialog.react","MercuryParticipantTypes","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return new(b("ImmutableObject"))({alias:a.vanity,uid:a.id,photo:a.image_src,title:a.name,type:a.user_type,isMessengerUser:a.is_messenger_user,href:a.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:a.work_foreign_entity_info})}function a(a){var c=a.participants,d=a.thread,e=a.viewer;a=function(a,c){b("FantaFRXUtil").FRXClicked(d.thread_id,!0,a.id);return b("MessengerDialogs.bs").removeAllDialogs(void 0)};c=c.filter(function(a,c,d){if(a==null)return!1;if(a.user_type===b("MercuryParticipantTypes").PAGE)return!1;c=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(c==null)return!1;else return c!==e}).toArray();var f=i.jsxs(i.Fragment,{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Report User")}),i.jsx("div",{className:"_8hif"})]});return i.jsxs(b("MessengerDialog.react"),{className:"_84gd",type:"default",width:350,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:f}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_84ge",children:i.jsx(b("MessengerContactListReact.re").make,{contactAdapter:j,disableRole:!0,extraActionsEnabled:!0,listSections:b("immutable").OrderedMap([[[null],c]]),onSelect:a,rowClassName:"_84gf",viewer:e,thread:d})})]})}c=a;d=a;f.fromMercuryParticipant=j;f.make=c;f.jsComponent=d}),null);
__d("WorkGalahadBeeperDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("WorkGalahadBeeperStore",["FluxReduceStore","NotificationBeeperConst","WorkGalahadBeeperDispatcher","filterObject","mapObject"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{beeps:{},fading:!1,hovering:!1}};d.$WorkGalahadBeeperStore1=function(a,b){return a.type==="default"?babelHelpers["extends"]({},a,{state:b}):babelHelpers["extends"]({},a,{state:b})};d.$WorkGalahadBeeperStore2=function(a){return a.type==="default"?babelHelpers["extends"]({},a,{xouted:!0}):babelHelpers["extends"]({},a,{xouted:!0})};d.$WorkGalahadBeeperStore3=function(a){var c=this;return babelHelpers["extends"]({},a,{beeps:(g||(g=b("mapObject")))(a.beeps,function(a){return a.state===b("NotificationBeeperConst").BeepStates.READY_TO_HIDE?c.$WorkGalahadBeeperStore1(a,b("NotificationBeeperConst").BeepStates.FADING_OUT):a}),fading:!0})};d.$WorkGalahadBeeperStore4=function(a){return!a.fading?a:babelHelpers["extends"]({},a,{beeps:b("filterObject")(a.beeps,function(a){return a.state!==b("NotificationBeeperConst").BeepStates.FADING_OUT}),fading:!1})};d.$WorkGalahadBeeperStore5=function(a){var c=this;return babelHelpers["extends"]({},a,{beeps:(g||(g=b("mapObject")))(a.beeps,function(a){return a.state===b("NotificationBeeperConst").BeepStates.PENDING?c.$WorkGalahadBeeperStore1(a,b("NotificationBeeperConst").BeepStates.READY_TO_HIDE):a})})};d.getRenderedBeeps=function(){return b("filterObject")(this.getState().beeps,function(a){return a.state===b("NotificationBeeperConst").BeepStates.READY_TO_HIDE})};d.reduce=function(a,c){var d;switch(c.type){case"galahad/beeper_hide":return this.$WorkGalahadBeeperStore3(a);case"galahad/beeper_add":var e=a.fading?b("NotificationBeeperConst").BeepStates.PENDING:b("NotificationBeeperConst").BeepStates.READY_TO_HIDE;return babelHelpers["extends"]({},a,{beeps:babelHelpers["extends"]({},a.beeps,(d={},d[c.beep.id]=this.$WorkGalahadBeeperStore1(c.beep,e),d))});case"galahad/beeper_xout":e=a.beeps[c.beeperID];return e==null?a:babelHelpers["extends"]({},a,{beeps:babelHelpers["extends"]({},a.beeps,(d={},d[c.beeperID]=this.$WorkGalahadBeeperStore2(e),d))});case"galahad/beeper_finish_hide":return this.$WorkGalahadBeeperStore5(this.$WorkGalahadBeeperStore4(a));case"galahad/beeper_mouse_enter":return babelHelpers["extends"]({},this.$WorkGalahadBeeperStore5(a),{hovering:!0,fading:!1});case"galahad/beeper_mouse_leave":return babelHelpers["extends"]({},a,{hovering:!1});case"galahad/beepers_clear":return babelHelpers["extends"]({},a,{beeps:b("filterObject")(a.beeps,function(a){return a.type!=="default"})});case"galahad/chat_beepers_clear":return babelHelpers["extends"]({},a,{beeps:b("filterObject")(a.beeps,function(a){return a.type!=="chat"})});case"galahad/all_beepers_clear":return babelHelpers["extends"]({},a,{beeps:{}});default:return a}};d.getChatBeeps=function(){return b("filterObject")((g||(g=b("mapObject")))(this.getState().beeps,function(a){return a.type==="chat"&&a.xouted!==!0?a:null}),Boolean)};d.getBeeps=function(){return b("filterObject")((g||(g=b("mapObject")))(this.getState().beeps,function(a){return a.type==="default"&&a.xouted!==!0?a:null}),Boolean)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadBeeperDispatcher"));e.exports=c}),null);
__d("WorkGalahadBeeperActions",["NotificationBeeperConst","NotificationSound","WorkGalahadBeeperDispatcher","WorkGalahadBeeperStore","clearTimeout","forEachObject","gkx","setImmediateAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=null,i=!1;a=function(a){a.shouldPlaySound&&b("setImmediateAcrossTransitions")(function(){return m(a.id)}),b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_add",beep:a})};f.addBeeper=a;c=function(a){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_xout",beeperID:a})};f.xoutBeeper=c;var j=function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_finish_hide"})},k=function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_hide"}),b("setTimeoutAcrossTransitions")(j,b("NotificationBeeperConst").FADE_OUT_LENGTH)},l=function(a){g&&b("clearTimeout")(g),g=b("setTimeoutAcrossTransitions")(k,a!=null?a:b("NotificationBeeperConst").IDLE_DELAY)};f.waitHide=l;d=function(){g&&b("clearTimeout")(g),b("setImmediateAcrossTransitions")(function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_mouse_enter"});var a=b("WorkGalahadBeeperStore").getRenderedBeeps();b("forEachObject")(a,function(a){return a.onSeen&&a.onSeen()})})};f.onMouseEnter=d;e=function(){l(b("NotificationBeeperConst").ACTIVE_DELAY_LONG),b("setImmediateAcrossTransitions")(function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_mouse_leave"})})};f.onMouseLeave=e;a=function(a){i=a};f.setSoundEnabled=a;c=function(a){h=new(b("NotificationSound"))(a)};f.setSoundPath=c;var m=function(a){i&&h!=null&&h.play(a)};f.playSound=m;var n=function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beepers_clear"})};f.clearAllNotificationBeeps=n;var o=function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/chat_beepers_clear"})};f.clearAllChatBeeps=o;d=function(){b("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/all_beepers_clear"})};f.clearAllBeeps=d;e=function(a){a==="notifications"?n():a==="chats"?o():a==="home"&&b("gkx")("997564")&&o()};f.clearBeepsForTabID=e}),null);
__d("WorkGalahadQuickChatActions",["MercuryIDs","WorkGalahadBeeperActions","WorkGalahadBeeperStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";f.hide=a;f.close=c;f.showCompose=d;f.openThreadID=e;f.showInbox=g;f.hideInbox=h;function a(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hide"})}function c(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/close"})}function d(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showCompose"})}function e(a){if(!b("MercuryIDs").isValidThreadID(a))return;b("WorkGalahadBeeperStore").getChatBeeps()[a]&&b("WorkGalahadBeeperActions").xoutBeeper(a);b("WorkGalahadDispatcher").dispatch({type:"quickChat/openThreadID",threadID:a})}function g(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showInbox"})}function h(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hideInbox"})}}),null);
__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","Keys","bs_curry","React","gkx","bs_caml_obj","QE2Logger","immutable","JSResource","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","joinClasses","MessengerDialogs.bs","BootloaderResource","MessengerPageUtils.bs","MessengerMenu.react","MessengerParticipants.bs","MessengerGalahadGating.bs","MessengerAdminGroupUtils","MessengerMuteDialogReact.bs","MessengerBlockDialogReact.bs","MessengerDeleteDialogReact.bs","MessengerIgnoreDialogReact.bs","MessengerPopoverMenu.react","MessengerDotsIconSVGM4React.bs","MessengerFRXBootloaderUtils","WorkGalahadQuickChatActions","MessengerDotComAndInboxM4Check.bs","MessengerP2BFRXBootloaderUtils","WorkChatReportParticipantDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("JSResource")("WorkChatHideDialogReact.bs").__setRef("MessengerThreadlistRowActionsReact.bs");function k(a,b,c,d){return{onIgnore:a,onArchive:b,onToggle:c}}function l(a){return i.createElement(b("BootloaderResource").read(j).make,a)}d={reasonResource:j,makeProps:k,make:l};function m(a,c){if(!b("CurrentUser").isWorkUser()&&!a.is_archived&&a.folder!=="other")if(c)return!0;else if(a.folder==="inbox")return b("MercuryIDs").isGroupChat(a.thread_id);else return!1;else return!1}function n(a){if(!a)return b("MessengerDialogs.bs").removeDialog(void 0,void 0)}function o(a){a.preventDefault(),a.stopPropagation()}var p=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),q="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":""),r="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+" _4-0i"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":"");function a(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(a.other_user_fbid)}function s(a){var c=a.is_canonical,d=b("CurrentUser").isWorkUser();if(c||!d){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id);return}else return b("MessengerDialogs.bs").showDialog(function(c){return i.createElement(b("WorkChatReportParticipantDialogReact.bs").make,{participants:b("immutable").OrderedMap(a.participants.map(function(a){return[a,b("MessengerParticipants.bs").getNow(a)]})),thread:a,viewer:b("CurrentUser").getID()})})}function c(a){b("MessengerFRXBootloaderUtils").bootloadEmptyThreadFRXDialog(a.thread_id)}function t(a,c,d,e,f,g,j,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,aa){var Q=a!==void 0?a:"",R=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDeleteDialogReact.bs").make(P.folder,P.is_archived,d,v,H,w,[]))})},S=function(a){if(f)return b("bs_curry")._1(E,void 0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(A,[]))})},T=function(a){if(u)if(F!==void 0)return b("bs_curry")._1(F,void 0);else return;else if(B!==void 0)return b("bs_curry")._1(B,void 0);else return},U=function(a){if(j)return b("bs_curry")._1(y,void 0);else return b("bs_curry")._1(z,void 0)},V=function(a){return b("MessengerDialogs.bs").showDialog(function(a){a={onIgnore:G,onToggle:n,threadID:P.thread_fbid,isGroupChat:b("MercuryIDs").isGroupChat(P.thread_id)};c!==void 0&&(a.contact=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerIgnoreDialogReact.bs").make,a)})},W=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return i.jsx(l,k(G,v,n,void 0))})},X=function(a){if(t)return b("bs_curry")._1(I,void 0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(H,c,P.thread_fbid,[]))})},Y=function(a){return b("MessengerPageUtils.bs").toggleBlock(P,t)},Z=function(a){return s(P)},ba=function(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(P.other_user_fbid)},$=function(a){return{handleIgnoreClick:V,handleBlockClick:X,handleBlockPageClick:Y,handleWorkHideClick:W,handleDeleteClick:R,handleMarkReadClick:U,handleMuteClick:S,handlePinClick:T,handleReportPageThread:ba,handleReportThread:Z}};return{debugName:p.debugName,reactClassInternal:p.reactClassInternal,handedOffState:p.handedOffState,getDerivedStateFromProps:p.getDerivedStateFromProps,didMount:p.didMount,didUpdate:p.didUpdate,willUnmount:p.willUnmount,shouldUpdate:function(a){var b=a.newSelf;a=a.oldSelf;if(b.retainedProps||b.retainedProps!==a.retainedProps)return!0;else return b.state!==a.state},render:function(a){var c=a.state;b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",b("CurrentUser").getID());if(g){var k=u?h._("Unpin"):h._("Pin"),l=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(P);l=l?P.participants.length===1?h._("Delete Group and Chat"):h._("Leave Group and Chat"):e?d?h._("Leave Chat"):h._("Leave Room"):h._("Leave Group");var n=h._("Ignore Messages"),p=t?h._("Unblock Messages"):h._("Block Messages"),s=t?h._("Turn On Messages"):h._("Turn Off Messages"),w=b("bs_caml_obj").caml_equal(P.other_user_fbid,b("CurrentUser").getID()),y=P.message_count===0,z=P.thread_id,A=b("MessengerGalahadGating.bs").isGalahadUIEnabled(void 0),B=M===!0;if(B){var D={label:h._("Rename")};C!==void 0&&(D.onclick=b("bs_caml_option").valFromOption(C));D=i.jsx(b("MessengerMenu.react").Item,D)}else D=null;if(J){l={label:l};x!==void 0&&(l.onclick=b("bs_caml_option").valFromOption(x));l=i.jsx(b("MessengerMenu.react").Item,l)}else l=null;A=i.jsxs(b("MessengerMenu.react"),{children:[A?i.jsx(b("MessengerMenu.react").Item,{label:h._("Open Quick Chat"),onclick:function(a){b("WorkGalahadQuickChatActions").openThreadID(z)}}):null,D,B?i.jsx(b("MessengerMenu.react").Separator,{}):null,L===!0?i.jsx(b("MessengerMenu.react").Item,{label:k,onclick:c.handlePinClick}):null,i.jsx(b("MessengerMenu.react").Item,{label:f?h._("Unmute"):h._("Mute"),onclick:c.handleMuteClick}),i.jsx(b("MessengerMenu.react").Separator,{}),l,P.is_archived||P.folder!=="inbox"?null:i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?h._("Hide"):h._("Archive"),onclick:b("CurrentUser").isWorkUser()?W:v}),i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Delete Message History"):h._("Delete"),onclick:c.handleDeleteClick}),i.jsx(b("MessengerMenu.react").Separator,{}),P.is_archived?null:i.jsx(b("MessengerMenu.react").Item,{label:j?h._("Mark as Read"):h._("Mark as Unread"),onclick:c.handleMarkReadClick}),w||y||!P.can_viewer_report?null:N===!0?i.jsx(b("MessengerMenu.react").Item,{label:h._("Something's Wrong"),onclick:c.handleReportPageThread}):i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Report Chat"):h._("Something's Wrong"),onclick:c.handleReportThread}),m(P,K)?i.jsx(b("MessengerMenu.react").Item,{label:n,onclick:c.handleIgnoreClick}):null,K?i.jsx(b("MessengerMenu.react").Item,{label:p,onclick:c.handleBlockClick}):b("MessengerPageUtils.bs").isPageThread(P)?i.jsx(b("MessengerMenu.react").Item,{label:s,onclick:c.handleBlockPageClick}):null]});D=Q===""?r:b("joinClasses")(Q,r);return i.jsx("div",{children:i.jsx(b("MessengerPopoverMenu.react"),{disableArrowKeyActivation:!0,isOpen:g,menu:A,onHide:function(c){return b("bs_curry")._1(a.send,1)},ref:function(c){return b("bs_curry")._1(a.send,{_0:c==null?void 0:b("bs_caml_option").some(c)})},children:i.jsx("div",{children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null,ref:"button","aria-label":h._("Conversation actions"),className:D,role:"button",tabIndex:0,onClick:o})}),className:"_3d85"})}B=Q===""?q:b("joinClasses")(Q,q);return i.jsx("div",{children:i.jsx("div",{children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null,ref:"button","aria-label":h._("Conversation actions"),className:B,role:"button",tabIndex:O,onKeyUp:function(c){return b("bs_curry")._1(a.send,c.keyCode===b("Keys").RETURN?0:2)},onClick:function(c){return b("bs_curry")._1(a.send,0)}}),className:"_3d85"})},initialState:$,retainedProps:g,reducer:function(a,c){if(typeof a==="number")switch(a){case 0:return{TAG:2,_0:$(void 0),_1:function(a){return b("bs_curry")._1(D,!0)}};case 1:return{TAG:1,_0:function(a){return b("bs_curry")._1(D,!1)}};case 2:return 0}else{c=a._0;if(c===void 0)return 0;var d=b("bs_caml_option").valFromOption(c);return{TAG:1,_0:function(a){return d.showPopover()}}}},jsElementWrapped:p.jsElementWrapped}}e=b("ReasonReact.bs").wrapReasonForJs(p,function(a){var c,d=a.tabIndex;return t((c=b("bs_caml_option")).nullable_to_opt(a.className),c.nullable_to_opt(a.contact),a.isGroupChat,a.isJoinableThread,a.isMuted,a.isOpen,a.isUnread,a.isBlocked,a.isPinned,a.onArchive,a.onDelete,c.nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,c.nullable_to_opt(a.onRename),a.onToggle,a.onUnmute,a.onUnpin,a.onIgnore,a.onBlock,a.onUnblock,a.showLeaveGroup,a.showBlock,c.nullable_to_opt(a.showPin),c.nullable_to_opt(a.showRename),c.nullable_to_opt(a.showReport),d==null?-1:d,a.thread,[])});f.WorkChatHideDialogReact=d;f.shouldRenderIgnoreMessagesButton=m;f.handleReasonDialogToggle=n;f.handleClick=o;f.component=p;f.actionButtonClassesClosed=q;f.actionButtonClassesOpen=r;f.handleReportPageThread=a;f.handleReportThread=s;f.handleReportEmptyThread=c;f.make=t;f.jsComponent=e}),null);
__d("MessengerInfoPanelNameSectionReact.bs",["cx","bs_curry","React","gkx","bs_caml_obj","bs_caml_option","ReasonReact.bs","MercuryThreadInfo","WorkForeignEntityInfo.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerProfilePresenceReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerThreadlistRowActionsReact.bs","MessengerInfoPanelThreadNameSectionReact.bs","MessengerInfoPanelContactNameSectionReact.bs","MessengerInfoPanelThreadNameSectionM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelNameSectionReact");function j(a,b){b.state.threadSection.contents=!(a==null)}function k(a,c,d,e,f,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){var E=function(c){var e=c.send,i=B.is_subscribed&&!B.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(B,C);return h.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistRowActionsReact.bs").make(void 0,a,b("MessengerAdminGroupUtils").isGroupChat(B),b("MessengerAdminGroupUtils").isJoinableThread(B),b("MercuryThreadInfo").isMuted(B),c.state.actionsOpen,B.unread_count>0,d,B.is_pinned,o,f,g,k,l,m,n,function(a){return b("bs_curry")._1(e,0)},function(a){return b("bs_curry")._1(e,{TAG:1,_0:a})},r,v,s,t,u,z,w,void 0,i,A,0,B,[])),className:"_3-ne"})},F=function(a){return b("bs_curry")._2(q,a[0],a[1])};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:function(a){if(b("bs_caml_obj").caml_equal(a.threadID,B.thread_id))return a;else return{actionsOpen:a.actionsOpen,isEditingName:1,threadSection:a.threadSection,threadID:B.thread_id}},didMount:i.didMount,didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(d){var f=B.is_subscribed||B.is_canonical;if(a!==void 0){var g={contact:b("bs_caml_option").valFromOption(a),isUserActive:c,renderedImage:b("MessengerDotComAndInboxM4Check.bs").yes&&b("gkx")("863504")?h.createElement(b("MessengerProfilePresenceReact.bs").make,{expanded:!0,size:50,thread:B,viewer:C}):h.createElement(b("MessengerThreadImageReact.bs").make,{size:50,participants:x,thread:B,viewer:C})};e!==void 0&&(g.lastActive=b("bs_caml_option").valFromOption(e));y!==void 0&&(g.platform=b("bs_caml_option").valFromOption(y));g=h.createElement(b("MessengerInfoPanelContactNameSectionReact.bs").make,g)}else{var i=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(B,C),k=b("gkx")("863504")?h.createElement(b("MessengerProfilePresenceReact.bs").make,{expanded:!0,size:50,thread:B,viewer:C}):h.createElement(b("MessengerThreadImageReact.bs").make,{size:50,participants:x,thread:B,viewer:C});g=b("MessengerDotComAndInboxM4Check.bs").yes?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(d.handle,j),b("MessengerInfoPanelThreadNameSectionM4React.bs").make(i,function(a){a!==B.name&&b("bs_curry")._1(p,a);return b("bs_curry")._1(d.send,1)},F,k,B,[])):h.jsx(b("MessengerInfoPanelThreadNameSectionReact.bs").make,{actionsEnabled:i,onThreadNameChange:function(a){a!==B.name&&b("bs_curry")._1(p,a);return b("bs_curry")._1(d.send,1)},onThreadPhotoChange:F,renderedImage:h.jsx(b("MessengerThreadImageReact.bs").make,{size:50,participants:x,thread:B,viewer:C}),thread:B,toggleIsEditingName:function(a){return b("bs_curry")._1(d.send,{TAG:0,_0:a})},isEditingName:d.state.isEditingName,viewer:C,isMultiCompany:!b("WorkForeignEntityInfo.bs").areAllCoworkers(x),ref:b("bs_curry")._1(d.handle,j)})}return h.jsxs("div",{children:[g,f?E(d):null],className:"_1jt6"})},initialState:function(a){return{actionsOpen:!1,isEditingName:1,threadSection:{contents:!1},threadID:B.thread_id}},retainedProps:i.retainedProps,reducer:function(a,b){if(typeof a==="number")if(a===0)if(b.threadSection.contents)return{TAG:0,_0:{actionsOpen:b.actionsOpen,isEditingName:0,threadSection:b.threadSection,threadID:b.threadID}};else return 0;else return{TAG:0,_0:{actionsOpen:b.actionsOpen,isEditingName:1,threadSection:b.threadSection,threadID:b.threadID}};else if(a.TAG)return{TAG:0,_0:{actionsOpen:a._0,isEditingName:b.isEditingName,threadSection:b.threadSection,threadID:b.threadID}};else return{TAG:0,_0:{actionsOpen:b.actionsOpen,isEditingName:a._0,threadSection:b.threadSection,threadID:b.threadID}}},jsElementWrapped:i.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c;return k((c=b("bs_caml_option")).nullable_to_opt(a.contact),a.isUserActive,a.isBlocked,c.nullable_to_opt(a.lastActive),a.onDelete,c.nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,a.onArchive,a.onThreadNameChange,a.onThreadPhotoChange,a.onUnmute,a.onIgnore,a.onBlock,a.onUnblock,a.onUnpin,a.showBlock,a.participants,c.nullable_to_opt(a.platform),a.showLeaveGroup,a.showReport,a.thread,a.viewer,[])});c=50;f.component=i;f.imageSize=c;f.setThreadSectionRef=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerAddIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var b=a.label,c=a.className;a=a.customColor;return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:b}),g.jsx("path",{clipRule:"evenodd",d:"M16,0 V32 M0,16 H32",fill:"none",fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})],viewBox:"-8 -8 48 48"}),className:c})}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerMakeAsOwnerDialogReact.bs",["bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c,d=a.onMakeOwner,e=a.onToggle,f=a.name,h=a.isUserViewer;a=a.isAdminRequired;var i=function(a){b("bs_curry")._1(e,!1);if(d!==void 0)return b("bs_curry")._1(d,a)},j=b("MessengerAdminGroupUtils").getMakeOwnerTitleText(a,h);f=b("MessengerAdminGroupUtils").getMakeOwnerBodyText(a,h,f);a=b("MessengerAdminGroupUtils").getMakeOwnerButtonText(a,h);return(h=b("ReasonReact.bs")).element(void 0,void 0,(c=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:f}),h.element(void 0,void 0,c.Footer.make(void 0,void 0,[h.element(void 0,void 0,c.CancelButton.make(void 0,[])),h.element(void 0,void 0,c.Button.make(void 0,a,void 0,"danger",i,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,name:a.name,isUserViewer:a.isUserViewer,isAdminRequired:a.isAdminRequired};a=b("bs_caml_option").nullable_to_opt(a.onMakeOwner);a!==void 0&&(c.onMakeOwner=b("bs_caml_option").valFromOption(a));return h(c)}c=h;f.make=c;f.jsComponent=a}),null);
__d("MessengerRemoveAsOwnerDialogReact.bs",["bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.onRemove,d=a.onToggle,e=a.name,f=a.isUserViewer,h=a.isLastAdminInThread;a=a.isAdminRequired;var i=function(a){b("bs_curry")._1(d,!1);if(c!==void 0)return b("bs_curry")._1(c,a)},j=b("MessengerAdminGroupUtils").getRemoveOwnerTitleText(a);f=b("MessengerAdminGroupUtils").getRemoveOwnerBodyText(a,f,h,e);h=b("MessengerAdminGroupUtils").getRemoveOwnerButtonText(a);return(e=b("ReasonReact.bs")).element(void 0,void 0,(a=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:f}),e.element(void 0,void 0,a.Footer.make(void 0,void 0,[e.element(void 0,void 0,a.CancelButton.make(void 0,[])),e.element(void 0,void 0,a.Button.make(void 0,h,void 0,"danger",i,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,name:a.name,isUserViewer:a.isUserViewer,isLastAdminInThread:a.isLastAdminInThread,isAdminRequired:a.isAdminRequired};a=b("bs_caml_option").nullable_to_opt(a.onRemove);a!==void 0&&(c.onRemove=b("bs_caml_option").valFromOption(a));return h(c)}c=h;f.make=c;f.jsComponent=a}),null);
__d("MessengerRemoveFromGroupDialogReact.bs",["fbt","bs_curry","React","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){var c=a.onRemove,d=a.onToggle,e=a.isWorkSyncedChat;a=a.isUserBot;var f=function(a){b("bs_curry")._1(d,!1);if(c!==void 0)return b("bs_curry")._1(c,a)};a=a&&b("CurrentUser").isWorkUser()?g._("Are you sure you want to remove this bot from the conversation?"):e?g._("Are you sure you want to remove this person from the group? They will no longer be able to send or receive new messages. They will also be removed from the group."):g._("Are you sure you want to remove this person from the conversation? They will no longer be able to send or receive new messages.");e=e?g._("Remove from Group and Chat"):g._("Remove from Group");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:e}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:a}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Remove"),void 0,"danger",f,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onToggle:a.onToggle,isWorkSyncedChat:a.isWorkSyncedChat,isUserBot:a.isUserBot};a=b("bs_caml_option").nullable_to_opt(a.onRemove);a!==void 0&&(c.onRemove=b("bs_caml_option").valFromOption(a));return i(c)}c=i;f.make=c;f.jsComponent=a}),null);
__d("MessengerInfoPanelContactActions.react",["cx","fbt","CurrentUser","ImmutableObject","MercuryIDs","MessengerAdminGroupUtils","MessengerContactActions.re","MessengerDialogs.bs","MessengerMakeAsOwnerDialogReact.bs","MessengerMenu.react","MessengerParticipants.bs","MessengerPopoverMenu.react","MessengerRemoveAsOwnerDialogReact.bs","MessengerRemoveFromGroupDialogReact.bs","MessengerState.bs","MessengerURIStore","React","ReactComponentWithPureRenderMixin","ShimButton.react","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerMenu.react").Item,k=b("MessengerMenu.react").Separator;c=b("createReactClass_DEPRECATED")({displayName:"MessengerInfoPanelContactActions",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerURIStore"))],propTypes:{admins:(a=b("prop-types")).object,extrasEnabled:a.bool.isRequired,contact:a.instanceOf(b("ImmutableObject")).isRequired,isAdminRequired:a.bool.isRequired,isOpen:a.bool,onAction:a.func.isRequired,onToggle:a.func.isRequired,viewer:a.string.isRequired},statics:{calculateState:function(a){var c=b("MessengerURIStore").getState().activeThreadID;a=c?b("MessengerState.bs").getThreadMetaNow(a.viewer,c):null;return{thread:a}}},render:function(){var a=this,c=this._isViewerAdmin(),d=b("CurrentUser").isWorkUser(),e=b("MessengerAdminGroupUtils").isAdmin(this.props.admins,this.props.contact.uid),f=this._isUserViewer(),g=b("MessengerAdminGroupUtils").canRemoveAdmin(c,e,this._getUserAdminType(),this.state.thread)?i.jsx(j,{label:h._("Remove As Admin"),onclick:this._handleRemoveAsOwnerClick}):null,k=null;c=b("MessengerAdminGroupUtils").canMakeOthersAdmins(c,e,this.state.thread);e=b("MessengerAdminGroupUtils").canMakeSelfAdmin(f,this.state.thread);(c||e)&&(k=i.jsx(j,{label:h._("Make Admin"),onclick:this._hanleMakeOwnerClick}));if(f)if(k||g)c=i.jsxs(b("MessengerMenu.react"),{children:[k,g]});else return null;else c=i.jsxs(b("MessengerMenu.react"),{children:[i.jsx(j,{label:h._("Message"),onclick:this._makeActionHandler(b("MessengerContactActions.re").actions.MESSAGE)}),this.props.contact.href?i.jsx(j,{label:h._("View Profile"),onclick:this._makeActionHandler(b("MessengerContactActions.re").actions.PROFILE)}):null,d?i.jsx(j,{label:h._("Report User"),onclick:this._makeActionHandler(b("MessengerContactActions.re").actions.REPORT_GROUP_CHAT_USER)}):null,k,g,this._renderExtras()]});return i.jsx(b("MessengerPopoverMenu.react"),{menu:c,onHide:function(){return a.props.onToggle(!1)},onShow:function(){return a.props.onToggle(!0)},children:i.jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_57gs"+(this.props.isOpen?" _57gt":"")),onClick:this._handleClick})})},_renderExtras:function(){if(!this.props.extrasEnabled)return null;var a=[i.jsx(k,{},"separator")],c=this._isViewerAdmin();b("MessengerAdminGroupUtils").canRemoveFromGroup(c,this._getUserAdminType(),this.state.thread)&&a.push(i.jsx(j,{label:h._("Remove from Group"),onclick:this._handleRemoveClick},"remove-from-group"));return a.length>=2?a:null},_handleClick:function(a){a.stopPropagation(),a.preventDefault()},_makeActionHandler:function(a){var b=this;return function(c){b._handleClick(c),b.props.onAction(a,c)}},_handleRemoveClick:function(a){var c=this;this._handleClick(a);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerRemoveFromGroupDialogReact.bs").jsComponent,{onToggle:c._handleDialogToggle,onRemove:c._handleDialogRemoveClick,isWorkSyncedChat:b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(c.state.thread),isUserBot:c._isUserBot()})})},_handleRemoveAsOwnerClick:function(a){var c=this;this._handleClick(a);var d=b("MessengerParticipants.bs").getNow(this.props.contact.uid);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerRemoveAsOwnerDialogReact.bs").jsComponent,{isAdminRequired:c.props.isAdminRequired,isLastAdminInThread:c.props.admins&&Object.keys(c.props.admins).length===1,isUserViewer:c._isUserViewer(),name:d&&d.name,onToggle:c._handleDialogToggle,onRemove:c._handleOwnerRemoveClick})})},_handleDialogRemoveClick:function(a){this.props.onAction(b("MessengerContactActions.re").actions.REMOVE,a)},_handleOwnerRemoveClick:function(a){this.props.onAction(b("MessengerContactActions.re").actions.REMOVE_OWNER,a)},_hanleMakeOwnerClick:function(a){var c=this;this._handleClick(a);var d=b("MessengerParticipants.bs").getNow(this.props.contact.uid);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerMakeAsOwnerDialogReact.bs").jsComponent,{onToggle:c._handleDialogToggle,onMakeOwner:c._handleOwnerAddClick,name:d&&d.name,isAdminRequired:c.props.isAdminRequired,isUserViewer:c._isUserViewer()})})},_handleOwnerAddClick:function(a){this.props.onAction(b("MessengerContactActions.re").actions.ADD_OWNER,a)},_handleDialogToggle:function(a){a||b("MessengerDialogs.bs").removeDialog()},_isUserViewer:function(){return b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)===this.props.contact.uid},_isUserBot:function(){return this.props.contact.workForeignEntityInfo===null},_isViewerAdmin:function(){return b("MessengerAdminGroupUtils").isAdmin(this.props.admins,this.props.viewer)},_getUserAdminType:function(){var a=b("MercuryIDs").isValid(this.props.contact.uid)&&b("MercuryIDs").getUserIDFromParticipantID(this.props.contact.uid);return this.props.admins&&a?this.props.admins[a]:null}});d=c;e.exports=d}),null);
__d("MessengerSortParticipants",["immutable"],(function(a,b,c,d,e,f){f.sortAlphabeticalWithAdmins=a;function a(a,b){var c=b.filter(function(b){return!!b&&a&&a.indexOf(b.fbid)!==-1}).toArray().sort(function(a,b){return((a=a.name)!=null?a:"").localeCompare((a=b.name)!=null?a:"")});b=b.filter(function(b){return!!b&&(!a||a.indexOf(b.fbid)===-1)}).toArray().sort(function(a,b){return((a=a.name)!=null?a:"").localeCompare((a=b.name)!=null?a:"")});return c.concat(b)}}),null);
__d("MessengerInfoPanelPeopleSectionReact.bs",["ix","cx","fbt","cssVar","React","gkx","bs_caml_obj","asset","immutable","Link.react","MercuryIDs","bs_caml_option","CurrentUser","Image.react","bs_js_null_undefined","MessageRequestUtils","MessengerAddIconSVGReact.bs","MessengerAdminGroupUtils","MessengerSortParticipants","MessengerContactListReact.re","MessengerInfoPanelSectionReact.bs","MessengerInfoPanelContactActions.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");function a(a){var c=a.admins,d=a.canViewerReply,e=a.contactAdapter,f=a.isCollapsed,h=a.isViewerSubscribed,j=a.onAddPeopleClick,l=a.onContactAction,m=a.onContactSelect,n=a.onToggle,o=a.participants,p=a.thread;a=a.viewer;var q=function(a){if(!d||b("MessageRequestUtils").isMessageRequest(p)||b("bs_caml_obj").caml_equal(p.group_thread_subtype,13)||b("bs_caml_obj").caml_equal(p.group_thread_subtype,15))return null;a=b("MessengerAdminGroupUtils").shouldInvite(p)?i._("Invite"):i._("Add People");var c=p.solid_color;c=c==null?b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff":c;c=b("CurrentUser").isWorkUser()?k.jsx("div",{children:k.jsx(b("Image.react"),{src:g("461758")}),className:"_3-8n _3-8u"}):k.jsx(b("MessengerAddIconSVGReact.bs").make,{label:i._("add to group"),className:"_4rpi",customColor:c});return k.jsxs(b("Link.react"),{className:"_4rph",onClick:j,children:[c,k.jsx("div",{children:a,className:"_4rpj"})]})};o=p.folder==="pending"&&b("gkx")("890873")?o["delete"](b("MercuryIDs").getParticipantIDFromUserID(a)):o;e={actionsClass:b("MessengerInfoPanelContactActions.react"),className:"_4wc-",contactAdapter:e,disableRole:!0,extraActionsEnabled:h,listSections:b("immutable").OrderedMap([[[null],b("MessengerSortParticipants").sortAlphabeticalWithAdmins(c==null?b("bs_js_null_undefined").fromOption([]):b("bs_js_null_undefined").fromOption(Object.keys(c)),o)]]),onAction:l,onSelect:m,viewer:a,thread:p};h=c==null?void 0:b("bs_caml_option").some(c);h!==void 0&&(e.admins=b("bs_caml_option").valFromOption(h));o={isCollapsible:!0,isCollapsed:f,onToggle:n,title:i._("People"),children:[q(void 0),k.jsx(b("MessengerContactListReact.re").make,e)]};l=b("bs_caml_option").nullable_to_opt(p.solid_color);l!==void 0&&(o.customColor=b("bs_caml_option").valFromOption(l));return k.createElement(b("MessengerInfoPanelSectionReact.bs").make,o)}c=a;f.make=c}),null);
__d("MessengerInfoPanelPeopleSectionReact.re",["MessengerInfoPanelPeopleSectionReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerInfoPanelPeopleSectionReact.bs").make;f.make=a}),null);
__d("MessengerBlockIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-19",d:"M26,16 L10,16 C9.448,16 9,16.448 9,17 L9,19 C9,19.552 9.448,20 10,20 L26,20 C26.552,20 27,19.552 27,19 L27,17 C27,16.448 26.552,16 26,16 M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30",fill:"#000000"})],id:"minus-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerInfoPanelBlockReact.bs",["cx","fbt","Keys","bs_curry","React","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerBlockDialogReact.bs","MessengerBlockIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.contact,d=a.isBlocked,e=a.onBlock,f=a.onUnblock,g=a.showBlock,j=a.thread,k=function(a){if(d)return b("bs_curry")._1(f,void 0);else{var g=c!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c)):void 0;return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(e,g,j.thread_fbid,[]))})}};if(!g)return null;a=d?h._("Unblock Messages"):h._("Block Messages");return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx("div",{children:b("MessengerBlockIconSVGM4React.bs").icon,className:"_7hu1"}),className:"_3szp"}),i.jsx("div",{children:a,className:"_3szq"})],className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return k(void 0)}},onClick:function(a){a.preventDefault();a.stopPropagation();return k(void 0)}})}c=a;f.make=c}),null);
__d("MessengerMessageCrossIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("g",{children:a.jsx("path",{id:"Fill-1",d:"M6.01700638,17.4668416 L6.01700638,17.4658421 L6.01700638,17.4648425 C6.01750656,10.8121778 11.0393898,6.0192206 18.0085032,6.0192206 C19.7721646,6.0192206 21.4057772,6.33208726 22.8678254,6.90084485 C23.5320745,7.15873494 23.7126422,8.01536984 23.2089534,8.51965492 L8.43691384,23.2983562 C8.09728648,23.6382114 7.52607228,23.5527478 7.303989,23.1264295 C6.7647868,22.0923702 6.01700638,20.4455721 6.01700638,17.4668416 M29.669376,7.74698423 L27.914718,9.50223614 C27.6101038,9.8071062 27.5725897,10.2879013 27.8286858,10.6342537 C29.2097036,12.5004583 30,14.8349633 30,17.4648425 L30,17.4658421 L30,17.4668416 C29.9994998,24.1195063 24.9781168,28.9904303 18.0085032,28.9904303 C16.8470677,28.9904303 15.7411529,28.8869744 14.7027635,28.6335824 C13.83994,28.423172 12.9391022,28.4446629 12.0977867,28.7315406 L8.73902714,29.7626012 C8.33687633,29.8995428 7.80567713,30 7.26647493,30 C6.55470802,30 6,29.6171632 6,29.023916 C6,28.7640268 6.09453545,28.5026382 6.29310992,28.3042227 L28.2943604,6.29310387 C28.7235213,5.86328706 29.4472927,5.90626874 29.8174315,6.42154913 C30.1085407,6.82637659 30.0215081,7.3946344 29.669376,7.74698423"}),id:"Page-1",fill:"#000000"}),id:"message-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerInfoPanelIgnoreMessagesReact.bs",["cx","fbt","Keys","React","MercuryIDs","bs_caml_option","MessengerDialogs.bs","MessengerIgnoreDialogReact.bs","MessengerThreadlistRowActionsReact.bs","MessengerMessageCrossIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.contact,d=a.onIgnore,e=a.showBlock,f=a.thread,g=function(a){var e=c==null?void 0:b("bs_caml_option").some(c);return b("MessengerDialogs.bs").showDialog(function(a){a={onIgnore:d,onToggle:function(a){if(!a)return b("MessengerDialogs.bs").removeDialog(void 0,void 0)},threadID:f.thread_fbid,isGroupChat:b("MercuryIDs").isGroupChat(f.thread_id)};e!==void 0&&(a.contact=b("bs_caml_option").valFromOption(e));return i.createElement(b("MessengerIgnoreDialogReact.bs").make,a)})};if(b("MessengerThreadlistRowActionsReact.bs").shouldRenderIgnoreMessagesButton(f,e))return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx("div",{children:b("MessengerMessageCrossIconSVGM4React.bs").icon,className:"_7hu0"}),className:"_3szp"}),i.jsx("div",{children:h._("Ignore Messages"),className:"_3szq"})],className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return g(void 0)}},onClick:function(a){a.preventDefault();a.stopPropagation();return g(void 0)}});else return null}c=a;f.make=c}),null);
__d("MessengerInfoPanelManageMessagesM4React.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_belt_Option","bs_caml_option","MessengerPageUtils.bs","FBToggleSwitch.react","MessengerParticipants.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return!1;a=b("MessengerParticipants.bs").getNow(a);if(a==null)return!1;else return a.is_business_enabled}var k="_3szo _6y4w";function l(a){if(b("bs_caml_option").nullable_to_opt(a.other_user_fbid)!==void 0)return j(a);else return!1}function m(a){if(!l(a))return;a=a.other_user_fbid;if(!(a==null))return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))),function(a){return a.is_messenger_blocked})}function a(a){var c=a.thread;a=c.other_user_fbid;var d=i.useState(function(){});if(a==null)return null;a=d[0];if(!l(c))return null;var e=m(c);a!==e&&b("bs_curry")._1(d[1],function(a){return e});d=function(a){return b("MessengerPageUtils.bs").toggleBlock(c,a)};var f=h._("Receive Messages");return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("FBToggleSwitch.react"),{animate:!0,"aria-label":f,checked:a!==!0,onToggle:d}),className:"_7lgv"}),i.jsxs("span",{children:[f,i.jsx("span",{children:a===!0?h._("You aren't receiving messages"):h._("You're receiving messages"),className:"_7lgy"})],className:"_3szq _7lgw _7lgx"})],className:k})}c=i.memo(a);d=a;f.isBusinessEnabled=j;f.rowClasses=k;f.shouldDisplay=l;f.getBlocked=m;f.makeNoMemo=d;f.make=c}),null);
__d("MessengerCautionIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-5",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-23",d:"M20.0051526,16.0130814 C20.0051526,16.3394431 19.9651454,16.6653049 19.8856311,16.9816708 L19.1705023,19.8389596 C19.0734848,20.2287943 18.7234217,20.5006791 18.3218494,20.5006791 L17.6877352,20.5006791 C17.2861628,20.5006791 16.9360998,20.2287943 16.8390823,19.8389596 L16.1239535,16.9816708 C16.0444392,16.6653049 16.004432,16.3394431 16.004432,16.0130814 L16.004432,12.258673 C16.004432,11.8443486 16.3404925,11.5094905 16.7545671,11.5094905 L19.2550175,11.5094905 C19.6690921,11.5094905 20.0051526,11.8443486 20.0051526,12.258673 L20.0051526,16.0130814 Z M18.0047923,25.9968492 C16.9000933,25.9968492 16.004432,25.1017286 16.004432,23.9986962 C16.004432,22.8946642 16.9000933,22.0000435 18.0047923,22.0000435 C19.1094913,22.0000435 20.0051526,22.8946642 20.0051526,23.9986962 C20.0051526,25.1017286 19.1094913,25.9968492 18.0047923,25.9968492 Z M30.6590717,24.2660829 L20.1356761,6.22722976 C19.1805041,4.59092341 16.8225793,4.59092341 15.8674073,6.22722976 L5.34401171,24.2660829 C4.37883786,25.919382 5.56755198,28 7.47789609,28 L28.5246872,28 C30.4350313,28 31.6237455,25.919382 30.6590717,24.2660829 Z",fill:"#000000"})],id:"Group"}),id:"caution-triangle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerInfoPanelReportReact.bs",["cx","fbt","Keys","React","gkx","bs_caml_obj","CurrentUser","WorkModeConfig","MessengerCautionIconSVGM4React.bs","MessengerThreadlistRowActionsReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isPage,d=a.thread,e=d.message_count===0,f=function(a){if(c)return b("MessengerThreadlistRowActionsReact.bs").handleReportPageThread(d);else if(e&&b("gkx")("914895")&&!b("CurrentUser").isWorkUser())return b("MessengerThreadlistRowActionsReact.bs").handleReportEmptyThread(d);else return b("MessengerThreadlistRowActionsReact.bs").handleReportThread(d)};a=b("bs_caml_obj").caml_equal(d.other_user_fbid,b("CurrentUser").getID());var g=h._("Something's Wrong");g=i.jsxs("div",{children:[i.jsx("div",{children:i.jsx("div",{children:b("MessengerCautionIconSVGM4React.bs").icon,className:"_7hty"}),className:"_3szp"}),i.jsxs("div",{children:[g,i.jsx("span",{children:h._("Give feedback and report conversation"),className:"_7ht_"})],className:"_3szq _7htz _7ht-"})],className:"_3szo _6y4w",role:"button",tabIndex:0,onKeyDown:function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return f(void 0)}},onClick:function(a){a.preventDefault();a.stopPropagation();return f(void 0)}});if(a)return null;else if(b("CurrentUser").isWorkUser())if(e||b("WorkModeConfig").is_premium)return null;else return g;else if(c)if(e)return null;else return g;else if(e&&!b("gkx")("914895"))return null;else return g}c=a;f.make=c}),null);
__d("MessengerCompositeMuteSettingsDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("messengerCompositeMuteSettingsDialogReactComponent").__setRef("MessengerCompositeMuteSettingsDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerCompositeMuteSettingsDialogBootloaderReact.bs",["ReasonReact.bs","MessengerCompositeMuteSettingsDialogBootloader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCompositeMuteSettingsDialogBootloader.react"),{isMuted:a,mentionsMuted:c,reactionsMuted:d,showMentions:e,onMentionsMute:f,onReactionsMute:g,onMute:h,onToggle:i},j)}f.make=a}),null);
__d("MessengerMutedIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("path",{id:"Mask",d:"M29.6764631,7.74622879 C30.0291732,7.39372879 30.1157248,6.82622879 29.8250516,6.42172879 C29.4548311,5.90622879 28.7303995,5.86322879 28.301644,6.29322879 L6.29303147,28.2897288 C5.86327542,28.7187288 5.90630105,29.4417288 6.42160807,29.8127288 C6.82584891,30.1032288 7.39368723,30.0172288 7.74589707,29.6652288 L10.8277332,26.5847288 C11.2029568,26.2102288 11.7117599,25.9997288 12.2415756,25.9997288 L27.4856578,25.9997288 C28.3336631,25.9997288 29.0555932,25.3052288 29.0125676,24.4587288 C28.9285175,22.8162288 27.143454,23.3142288 26.8132572,20.9437288 L25.7396176,12.7867288 L25.7381167,12.7772288 C25.6575687,12.1682288 25.8651924,11.5557288 26.2999514,11.1212288 L29.6764631,7.74622879 Z M20.5105021,27.9977288 L15.5100229,27.9977288 C15.1973366,27.9977288 14.944686,28.2727288 15.0042215,28.5727288 C15.2783849,29.9532288 16.5196244,30.9952288 18.0105126,30.9952288 C19.5004003,30.9952288 20.7421401,29.9532288 21.0158032,28.5727288 C21.0763392,28.2727288 20.8231884,27.9977288 20.5105021,27.9977288 Z M10.4465061,21.2792288 L22.7128142,9.01972879 C23.1460724,8.58672879 23.085036,7.86922879 22.5892406,7.50822879 C21.2979713,6.56822879 19.713027,6.01622879 18.0105126,6.01622879 C14.0976814,6.01622879 10.7912114,8.91272879 10.2814077,12.7867288 L9.24028741,20.6847288 C9.15223495,21.3572288 9.96672022,21.7587288 10.4465061,21.2792288 Z",fill:"#ffffff"}),id:"bell-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.iconWhite=c}),null);
__d("MessengerNotificationsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-19",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-24",d:"M15.5120016,28 L20.4879984,28 C20.7988428,28 21.0505024,28.2755 20.9913177,28.5755 C20.718272,29.957 19.482852,31 18.0002487,31 C16.517148,31 15.281728,29.957 15.0086823,28.5755 C14.9494976,28.2755 15.2011572,28 15.5120016,28 M18,6 C21.910881,6 25.2161675,8.899 25.7263259,12.776 L26.7996071,20.94 C27.1293863,23.312 28.914191,22.814 28.9981348,24.458 C29.0416057,25.305 28.3190896,26 27.4706577,26 L8.5288426,26 C7.68091044,26 6.95839429,25.305 7.00186518,24.458 C7.0853093,22.814 8.87011406,23.312 9.20039288,20.94 L10.2736741,12.776 C10.7838325,8.899 14.089119,6 18,6",fill:"#000000"})],id:"bell",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerNotificationsIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("defs",{children:g.jsx("circle",{id:"path-1",cx:"1",cy:"1",r:"1"})}),g.jsxs("g",{children:[g.jsx("rect",{id:"Bounds",height:"18",width:"18",x:"0",y:"0"}),g.jsx("path",{d:"M9,16.5 C9.828,16.5 10.5,15.828 10.5,15 L7.5,15\nC7.5,15.828 8.172,16.5 9,16.5",fill:b}),g.jsx("path",{d:"M13,10 L13,7.5 C13,5.562 11.622,3.948 9.793,3.58\nC9.914,3.414 10,3.221 10,3 C10,2.448 9.552,2 9,2 C8.448,2\n8,2.448 8,3 C8,3.221 8.086,3.414 8.207,3.58 C6.378,3.948\n5,5.562 5,7.5 L5,10 C5,11.105 4,12 4,12 L3.70537567,12.2946243\nC3.31580745,12.6841926 3.31640625,13.3164062\n3.70537567,13.7053757 L4,14 L14,14 L14.2946243,13.7053757\nC14.6841926,13.3158074 14.6835937,12.6835938\n14.2946243,12.2946243 L14,12 C14,12 13,11.105 13,10 Z",stroke:b,strokeWidth:"4%"})],fill:"none",fillRule:"evenodd"})],height:"24",width:"24",viewBox:"0 0 18 18"}),className:a})}f.make=a}),null);
__d("MessengerNotificationsButtonReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","asset","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerMuteUtils.bs","MessengerCustomColorUtils.bs","MessengerMutedIconSVGM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerNotificationsIconSVGReact.bs","MessengerNotificationsIconSVGM4React.bs","MessengerCompositeMuteSettingsDialogBootloaderReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){if(a)return;a=c.state.dialogContext.contents;if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus()}function l(a,c){c.state.dialogContext.contents=a==null?void 0:b("bs_caml_option").some(a)}var m=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",n=b("ReasonReact.bs").reducerComponent("MessengerNotificationsButtonReact");function a(a,c,d,e,f,h,o,p,q){var r=function(d){return b("MessengerDialogs.bs").showDialog(function(g){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerCompositeMuteSettingsDialogBootloaderReact.bs").make(a,c,e,!p.is_canonical,f,o,h,b("bs_curry")._1(d.handle,k),[]))})},s=function(a,b){a.preventDefault();a.stopPropagation();return r(b)},t=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a.stopPropagation();return r(c)}},u=function(a){if(d===void 0)return null;if(d===0)return null;a=b("MessengerMuteUtils.bs").mutedUntilLabel(d);if(a!==void 0)return j.jsx("span",{children:a,className:"_3x6v"});else return null};return{debugName:n.debugName,reactClassInternal:n.reactClassInternal,handedOffState:n.handedOffState,getDerivedStateFromProps:n.getDerivedStateFromProps,didMount:n.didMount,didUpdate:n.didUpdate,willUnmount:n.willUnmount,shouldUpdate:n.shouldUpdate,render:function(c){return j.jsxs("div",{children:[j.jsx("div",{children:b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470464"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:a?b("MessengerMutedIconSVGM4React.bs").iconWhite:b("MessengerNotificationsIconSVGM4React.bs").icon,className:"_6ybz"+(a?" _7ipg":"")}):b("MessengerNotificationsIconSVGReact.bs").make("_3wh2",b("MessengerCustomColorUtils.bs").customColorOrBlue(p)),className:"_3szp"}),j.jsxs("div",{children:[i._("Notifications"),u(void 0)],className:"_3szq _6b46"+(d?" _6b47":"")})],ref:b("bs_curry")._1(c.handle,l),className:m,role:"button",tabIndex:0,onKeyDown:b("bs_curry")._1(c.handle,t),onClick:b("bs_curry")._1(c.handle,s)})},initialState:function(a){return{dialogContext:{contents:void 0}}},retainedProps:n.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:n.jsElementWrapped}}f.handleDialogToggle=k;f.setRef=l;f.rowClasses=m;f.component=n;f.make=a}),null);
__d("MessengerMuteButtonContainerReact.bs",["bs_caml_option","ReasonReact.bs","MercuryThreadInfo","MercuryThreadActions","MessengerNotificationsButtonReact.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.thread,d=a.viewer;a=function(a){b("MercuryThreadActions").getForFBID(d).updateMuteSetting(c.thread_id,a)};var e=function(a){b("MercuryThreadActions").getForFBID(d).updateMentionsMuteSetting(c.thread_id,a)},f=function(a){b("MercuryThreadActions").getForFBID(d).updateReactionsMuteSetting(c.thread_id,a)},g=b("MercuryThreadInfo").isMuted(c),h=b("MercuryThreadInfo").getMuteSetting(c);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerNotificationsButtonReact.bs").make(g,b("MercuryThreadInfo").areMentionsMuted(c),h==null?void 0:b("bs_caml_option").some(h),b("MercuryThreadInfo").areReactionsMuted(c),e,a,f,c,[]))}c=a;f.make=c}),null);
__d("MessengerInfoPanelPrivacySupportOptionsContainerReact.bs",["fbt","React","bs_caml_option","MessengerInfoPanelBlockReact.bs","MessengerInfoPanelReportReact.bs","MessengerInfoPanelSectionReact.bs","MessengerMuteButtonContainerReact.bs","MessengerInfoPanelIgnoreMessagesReact.bs","MessengerInfoPanelManageMessagesM4React.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.contact,d=a.isBlocked,e=a.isCollapsed,f=a.isPage,i=a.showBlock,j=a.thread,k=a.viewer,l=a.onBlock,m=a.onIgnore,n=a.onUnblock;a=a.onToggle;e={isCollapsible:!0,isCollapsed:e,onToggle:a,title:g._("Privacy & Support"),children:null};a=b("bs_caml_option").nullable_to_opt(j.solid_color);a!==void 0&&(e.customColor=b("bs_caml_option").valFromOption(a));return h.createElement(b("MessengerInfoPanelSectionReact.bs").make,e,h.createElement(b("MessengerMuteButtonContainerReact.bs").make,{thread:j,viewer:k}),h.createElement(h.Suspense,{children:h.createElement(b("MessengerInfoPanelManageMessagesM4React.bs").make,{thread:j}),fallback:null}),h.createElement(b("MessengerInfoPanelIgnoreMessagesReact.bs").make,{contact:c,isBlocked:d,onIgnore:m,showBlock:i,thread:j}),h.createElement(b("MessengerInfoPanelBlockReact.bs").make,{contact:c,isBlocked:d,onBlock:l,onUnblock:n,showBlock:i,thread:j}),h.createElement(b("MessengerInfoPanelReportReact.bs").make,{isPage:f,thread:j}))}c=a;f.make=c}),null);
__d("MessengerThreadSearchIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M15.499,9.000053 C11.909,9.000053 8.9995,11.9106492 8.9995,15.5009175 C8.9995,19.0911858 11.909,22.0022817 15.499,22.0022817 C19.0885,22.0022817 21.998,19.0911858 21.998,15.5009175 C21.998,11.9106492 19.0885,9.000053 15.499,9.000053 Z M25.4875,28.30874 L21.6335,23.8523894 C21.313,23.482068 20.7755,23.4056049 20.355,23.6574834 C18.934,24.5085729 17.276,25.0023347 15.499,25.0023347 C10.253,25.0023347 6,20.7483865 6,15.5009175 C6,10.2539482 10.253,6 15.499,6 C20.7445,6 24.9975,10.2539482 24.9975,15.5009175 C24.9975,17.2770608 24.5045,18.9357608 23.655,20.3565755 C23.4065,20.7708757 23.491,21.3016197 23.8555,21.6184668 L28.3065,25.4841024 L25.4875,28.30874 Z M28.3065,25.4841024 C29.183,26.2452352 29.231,27.5915859 28.4105,28.4131896 C27.591,29.2352931 26.247,29.1873162 25.4875,28.30874 L28.3065,25.4841024 Z",fill:"#000000"})],id:"Search"}),id:"magnifying-glass",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerThreadSearchIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"search conversation"}),g.jsx("circle",{cx:"28",cy:"28",fill:"none",r:"14",stroke:b,strokeMiterlimit:"10",strokeWidth:"2"}),g.jsx("path",{clipRule:"evenodd",d:"M50,50L37.9,37.9",fill:"none",fillRule:"evenodd",stroke:b,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})],viewBox:"8 8 48 48"}),className:a})}f.make=a}),null);
__d("MessengerInfoPanelSearchReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","asset","Bootloader","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerURIStore","MessengerSearchActions","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerThreadSearchIconSVGReact.bs","MessengerThreadSearchIconSVGM4React.bs","MessengerContentSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){a=b("MessengerURIStore").getState().query;b("MessengerSearchActions").changeQuery(a==null?"":void 0)}function l(a){var c=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("MessengerURIStore").getState().query),"");b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger.bs"],function(a){return b("bs_curry")._2(a.startFunnel,c,b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_WITHIN_THREAD)},"MessengerInfoPanelSearchReact.bs");return k(void 0)}function m(a){a.preventDefault();return l(void 0)}function n(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return k(void 0)}}var o=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function a(a){a=a.thread;return j.jsxs("div",{children:[j.jsx("div",{children:b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("465522"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:b("MessengerThreadSearchIconSVGM4React.bs").icon,className:"_6ybv"}):b("MessengerThreadSearchIconSVGReact.bs").make("_6b45",b("MessengerCustomColorUtils.bs").customColorOrBlue(a)),className:"_3szp"}),j.jsx("div",{children:i._("Search in Conversation"),className:"_3szq"})],className:o,tabIndex:0,onKeyDown:n,onClick:m})}c=b("bs_belt_Option").getWithDefault;d=a;e=a;f.$pipe$question=c;f.showQuery=k;f.handleSearchThread=l;f.handleSearchThreadClick=m;f.handleSearchThreadKeyDown=n;f.rowClasses=o;f.make=d;f.jsComponent=e}),null);
__d("AARRGGBBColor.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"#"+a.slice(2,8)}f.toHex=a}),null);
__d("ImmutableArray.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.slice(0)}function b(a){return a.slice(0)}f.fromArray=a;f.toArray=b}),null);
__d("CustomizeChatGradientItemReact.bs",["cx","React","bs_belt_Option","bs_caml_option","AARRGGBBColor.bs","ImmutableArray.bs","MessengerColors"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;var c=a.gradient_colors;c=c!==void 0?b("MessengerColors").makeRadialGradient(b("ImmutableArray.bs").toArray(b("bs_caml_option").valFromOption(c).map(b("AARRGGBBColor.bs").toHex)),b("bs_belt_Option").getWithDefault(a.is_reversed_for_picker,!1)):"";return h.jsx("div",{"aria-label":a.accessibility_label,className:"_6kld",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color),backgroundImage:c}})}c=a;f.make=c}),null);
__d("CustomizeChatSolidItemReact.bs",["cx","React","AARRGGBBColor.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;return h.jsx("div",{"aria-label":a.accessibility_label,className:"_6kle",style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}})}c=a;f.make=c}),null);
__d("MessengerThreadTheme.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.gradient_colors;if(a!==void 0)return b("bs_caml_option").valFromOption(a).length!==0;else return!1}f.isGradient=a}),null);
__d("CustomizeChatColorItemReact.bs",["cx","React","Image.react","AARRGGBBColor.bs","MessengerThreadTheme.bs","CustomizeChatSolidItemReact.bs","CustomizeChatGradientItemReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.theme;var c=a.icon_uri;if(c!==void 0)return h.jsx(b("Image.react"),{className:"_6kle",alt:a.accessibility_label,src:c,style:{backgroundColor:b("AARRGGBBColor.bs").toHex(a.fallback_color)}});else if(b("MessengerThreadTheme.bs").isGradient(a))return h.jsx(b("CustomizeChatGradientItemReact.bs").make,{theme:a});else return h.jsx(b("CustomizeChatSolidItemReact.bs").make,{theme:a})}c=a;f.make=c}),null);
__d("MessengerChangeColorDialogReact.bs",["ix","cx","fbt","bs_curry","Image.bs","React","bs_belt_Array","bs_caml_option","fbglyph","ReasonReact.bs","AARRGGBBColor.bs","MessengerDialogs.bs","MessengerDialogReact.bs","CustomizeThreadThemeUtil","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","CustomizeChatColorItemReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReasonReact.bs").reducerComponent("MessengerChangeColorDialogReact");function l(a,c,d,e){var f=function(a){if(!a){b("bs_curry")._1(d,void 0);return b("MessengerDialogs.bs").removeDialog(void 0,void 0)}};return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:k.getDerivedStateFromProps,didMount:function(a){b("CustomizeThreadThemeUtil").fetchThemesForMessenger(function(c){return b("bs_curry")._1(a.send,{TAG:1,_0:c})})},didUpdate:k.didUpdate,willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(c){var d=b("bs_belt_Array").map(c.state.themes,function(d){var e=b("AARRGGBBColor.bs").toHex(d.fallback_color),f=e.toLowerCase()===a.toLowerCase();return j.jsxs("div",{children:[f?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_gs2",void 0,void 0,void 0,g("140201"),void 0,void 0,void 0,void 0,[])):null,j.createElement(b("CustomizeChatColorItemReact.bs").make,{theme:d})],className:"_gs0",tabIndex:0,onClick:function(a){return b("bs_curry")._1(c.send,{TAG:0,_0:d})}},e)}),e=i._("Pick a color for this conversation");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_gs3",b("bs_caml_option").some(e),f,void 0,c.state.shown,void 0,void 0,335,void 0,void 0,[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:e}),j.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_7h5n",children:[j.jsx("div",{children:i._("Everyone in this conversation will see this."),className:"_28he"}),j.jsx("div",{children:d,className:"_gs4"})]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[]))]))]))},initialState:function(a){return{shown:!0,themes:[]}},retainedProps:k.retainedProps,reducer:function(d,e){if(d.TAG)return{TAG:0,_0:{shown:e.shown,themes:d._0}};var f=d._0;if(b("AARRGGBBColor.bs").toHex(f.fallback_color).toLowerCase()!==a.toLowerCase())return{TAG:2,_0:{shown:!1,themes:e.themes},_1:function(a){return b("bs_curry")._1(c,f.id)}};else return{TAG:0,_0:{shown:!1,themes:e.themes}}},jsElementWrapped:k.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.currentColor,a.onSave,a.onClose,[])});c="Unknown Color";f.component=k;f.unknownColor=c;f.make=l;f.jsComponent=a}),null);
__d("MessengerChangeColorIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"colors@2x"}),g.jsx("path",{d:"M912,1569a3,3,0,1,1-3,3A3,3,0,0,1,912,1569Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M924,1569a3,3,0,1,1-3,3A3,3,0,0,1,924,1569Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M931,1579a3,3,0,1,1-3,3A3,3,0,0,1,931,1579Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M905,1579a3,3,0,1,1-3,3A3,3,0,0,1,905,1579Z",fill:b,transform:"translate(-895.5 -1561.5)"}),g.jsx("path",{d:"M918,1562a22,22,0,0,0,0,44,3.67,3.67,0,0,0,2.71-6.14,3.65,3.65,0,0,1,2.74-6.09h4.33A12.23,12.23,0,0,0,940,1581.56C940,1570.75,930.15,1562,918,1562Z",fill:"transparent",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4%",transform:"translate(-895.5 -1561.5)"})],viewBox:"-1 -1 47 47"}),className:a})}f.make=a}),null);
__d("MessengerInfoPanelCustomColorReact.bs",["cx","fbt","Keys","React","gkx","ReasonReact.bs","MessengerColors","MessengerDialogs.bs","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerChangeColorDialogReact.bs","MessengerChangeColorIconSVGReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function a(a){var c=a.thread,d=a.onChange,e=i.useRef(null),f=function(a){a=e.current;if(!(a==null))return a.focus()},g=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerChangeColorDialogReact.bs").make(b("MessengerCustomColorUtils.bs").customColorOrBlue(c),d,f,[]))})};a=function(a){a.preventDefault();return g(void 0)};var k=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return g(void 0)}};if(c.customization_enabled)return i.jsxs("div",{children:[i.jsx("div",{children:b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx("div",{children:i.jsx("div",{children:i.jsx("div",{className:"_6ymf"}),className:"_6yme",style:b("MessengerColors").makeLinearGradient(c.gradient_colors,c.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(void 0))}),className:"_6ymp"}):b("MessengerChangeColorIconSVGReact.bs").make("_17vc",b("MessengerCustomColorUtils.bs").customColorOrBlue(c)),className:"_3szp"}),i.jsx("div",{children:b("gkx")("1229783")?h._("Change Theme"):h._("Change Color"),className:"_3szq"})],ref:e,className:j,tabIndex:0,onKeyDown:k,onClick:a});else return null}c=a;f.rowClasses=j;f.make=c}),null);
__d("MessengerInfoPanelEmoji.react",["ix","cx","fbt","Bootloader","CurrentUser","EmojiLikeConstants","Image.react","ImmutableObject","Keys","MercuryShareAttachmentRenderLocations","MessengerCustomColorUtils.bs","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","asset","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",l=b("MessengerDotComAndInboxM4Check.bs").yes?"_6ybx":"";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault(),d.$5()},d.$3=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),d.$5())},d.$6=function(){d.$1&&d.$1.focus()},d.$4=function(a){d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.thread.customization_enabled)return null;var a=this.props.thread.custom_like_icon&&this.props.thread.custom_like_icon.emoji?b("MessengerSupportedEmojiUtils").getNewEmojiData(this.props.thread.custom_like_icon.emoji,b("EmojiLikeConstants").size.SMALL):null;a=a&&a.url?j.jsx(b("Image.react"),{src:a.url,className:"_12cp"}):b("CurrentUser").isWorkUser()?j.jsx(b("Image.react"),{src:g("470537")}):b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx(b("MessengerHotLikeIconSVGM4React.bs").make,{color:this.props.thread.gradient_colors&&this.props.thread.gradient_colors.length?this.props.thread.gradient_colors[this.props.thread.gradient_colors.length-1]:this.props.thread.solid_color?this.props.thread.solid_color:b("MessengerCustomColorUtils.bs").defaultColor()}):j.jsx(b("MessengerHotLikeOutlineSVG.react"),{color:this.props.thread.solid_color?this.props.thread.solid_color:"",height:"24px",width:"24px",location:b("MercuryShareAttachmentRenderLocations").MESSENGER});return j.jsxs("div",{className:k,onClick:this.$2,onKeyDown:this.$3,ref:this.$4,role:"button",tabIndex:"0",children:[j.jsx("div",{className:"_3szp",children:j.jsx("div",{className:l,children:a})}),j.jsx("div",{className:"_3szq",children:i._("Change Emoji")})]})};d.$5=function(){var a=this;b("Bootloader").loadModules(["MessengerChangeEmojiDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return j.jsx(d,{currentEmoji:a.props.thread.custom_like_icon?a.props.thread.custom_like_icon.emoji:String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI),onClose:a.$6,onSave:a.props.onChange})})},"MessengerInfoPanelEmoji.react")};return c}(j.PureComponent);e.exports=a;a.propTypes={thread:b("prop-types").instanceOf(b("ImmutableObject")).isRequired,viewer:b("prop-types").string.isRequired,onChange:b("prop-types").func.isRequired}}),null);
__d("MNCommerceDialogStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";f.showDialog=a;f.hideDialog=c;function a(a,c){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.SHOW,dialogContainer:a,state:c})}function c(){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.HIDE})}}),null);
__d("MNCommercePromotionManageBlockDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MNCommercePromotionManageBlockDialogContainer.react").__setRef("MNCommercePromotionManageBlockDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("ShimButtonReact.bs",["ReasonReact.bs","ShimButton.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("ShimButton.react"),{className:b("bs_js_null_undefined").fromOption(a),inline:b("bs_js_null_undefined").fromOption(c),onClick:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MessengerInfoPanelManageMessagesReact.bs",["cx","fbt","React","MercuryIDs","ReasonReact.bs","ShimButtonReact.bs","MessengerParticipants.bs","MNCommerceDialogStateActions","MessengerDotComAndInboxM4Check.bs","MNCommercePromotionManageBlockDialogBootloader.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return!1;a=b("MessengerParticipants.bs").getNow(a);if(a==null)return!1;else return a.is_business_enabled}var k=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo";function a(a){var c=a.thread;a=function(a){a.preventDefault(),a.stopPropagation(),b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogBootloader.react"),{pageID:c.other_user_fbid})};if(j(c))return i.jsxs("div",{children:[i.jsx("div",{className:"_3szp"}),b("ReasonReact.bs").element(void 0,void 0,b("ShimButtonReact.bs").make("_3szq",!0,a,[h._("Manage Messages")]))],className:k});else return null}c=a;f.isBusinessEnabled=j;f.rowClasses=k;f.make=c}),null);
__d("MessengerEditNicknameDialogReact.bs",["cx","fbt","bs_curry","React","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBody.react","MessengerDialogHeaderReact.bs","MessengerDialogFooter.react","MessengerTextWithEmojiInputReact.bs","MessagingThreadCustomizationConfig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReasonReact.bs").reducerComponent("MessengerEditNicknameDialogReact");function k(a,c){c.state.input.contents=a==null?void 0:b("bs_caml_option").some(a)}function a(a,c,d,e,f,g){var l=function(f,g){f=g.state.input.contents;g=f!==void 0?b("bs_caml_option").valFromOption(f).getValue().trim():void 0;f=0;g!==void 0&&!(g===""&&c===void 0)&&(f=1);if(f===1&&g!==c){f=b("MercuryIDs").getUserIDFromParticipantID(a.id);f==null||b("bs_curry")._1(d,[f,g])}return b("bs_curry")._1(e,!1)};return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:j.didMount,didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(d){var e=a.name,g=b("MercuryIDs").getUserIDFromParticipantID(a.id),j,m=0;g==null||g!==f?m=1:j=h._("Edit Your Nickname");m===1&&(j=h._("Edit Nickname for {personName}",[h._param("personName",e)]));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make("_2c1u",b("bs_caml_option").some(j),void 0,void 0,void 0,void 0,void 0,400,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:j}),i.createElement(b("MessengerDialogBody.react"),{children:i.jsxs(i.Fragment,{children:[i.jsx("div",{children:h._("Everyone in this conversation will see this."),className:"_-bo"}),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(d.handle,k),b("MessengerTextWithEmojiInputReact.bs").make("_2c1v",b("bs_curry")._1(d.handle,l),b("MessagingThreadCustomizationConfig").maxNicknameLength,void 0,e,c,void 0,[]))]})}),i.createElement(b("MessengerDialogFooter.react"),{children:i.jsxs(i.Fragment,{children:[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(d.handle,l),0,void 0,void 0,void 0,[]))]})})]))},initialState:function(a){return{input:{contents:void 0}}},retainedProps:j.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:j.jsElementWrapped}}f.component=j;f.setInput=k;f.make=a}),null);
__d("MessengerEditNicknamesDialogReact.bs",["cx","fbt","bs_curry","React","bs_js_dict","immutable","MercuryIDs","ReasonReact.bs","ImmutableObject","MessengerDialogs.bs","MessengerDialog.react","MessengerAdminGroupUtils","MessengerDialogBody.react","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re","MessengerEditNicknameDialogReact.bs","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(c.id),e;if(d==null||a==null)e=[c.name,""];else{a=b("bs_js_dict").get(a,d);e=a!==void 0?[a,c.name]:[c.name,""]}return new(b("ImmutableObject"))({alias:c.vanity,uid:c.id,photo:c.image_src,title:e[0],subtitle:e[1],type:c.user_type,isMessengerUser:c.is_messenger_user,href:c.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:c.work_foreign_entity_info})}function a(a){var c=a.participants,d=a.thread,e=a.onSave,f=a.onClose,g=a.viewer,k=function(a){if(!a){b("bs_curry")._1(f,void 0);return b("MessengerDialogs.bs").removeAllDialogs(void 0)}};a=function(a,c){c=b("MercuryIDs").getUserIDFromParticipantID(a.id);var f=d.custom_nickname,h=!(c==null)&&!(f==null)?b("bs_js_dict").get(f,c):void 0;return b("MessengerDialogs.bs").showDialog(function(c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerEditNicknameDialogReact.bs").make(a,h,e,k,g,[]))})};c=c.filter(function(a,c,e){if(a==null)return!1;c=b("MessengerAdminGroupUtils").isJoinableThread(d);e=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(c)if(e==null)return!1;else return e===g;else return!0}).toArray();var l=h._("Edit Nicknames"),m=i.jsxs(i.Fragment,{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.createElement(b("MessengerDialogTitleReact.bs").make,{children:l}),i.jsx("div",{className:"_8c_i"})]}),n=d.custom_nickname;return i.jsxs(b("MessengerDialog.react"),{className:"_4h9n",label:l,onToggle:k,type:"default",width:350,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:m}),i.jsx(b("MessengerDialogBody.react"),{className:"_4h9o",children:i.jsx(b("MessengerContactListReact.re").make,{contactAdapter:function(a){return j(n,a)},disableRole:!0,listSections:b("immutable").OrderedMap([[[null],c]]),onSelect:a,rowClassName:"_44kr",viewer:g,thread:d})})]})}c=a;d=a;f.fromMercuryParticipant=j;f.make=c;f.jsComponent=d}),null);
__d("MessengerEditNicknamesIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("mask",{children:a.jsx("polygon",{id:"path-1",points:"0 36 36 36 36 0 0 0"}),id:"mask-2",fill:"white"}),a.jsx("g",{id:"Clip-4"}),a.jsx("path",{id:"Fill-1",d:"M18.3042,15.77345 L12.9857,26.39495 C12.7662,26.83245 12.4477,27.21345 12.0552,27.50745 L8.2607,30.34495 C7.7407,30.73395 6.9992,30.36245 6.9992,29.71245 L6.9992,24.98495 C6.9992,24.49545 7.1137,24.01295 7.3332,23.57495 L12.6547,12.94745 C12.8522,12.55245 13.3322,12.39195 13.7272,12.58995 L17.9467,14.69895 C18.3422,14.89645 18.5022,15.37795 18.3042,15.77345 Z M19.9172,12.55245 C19.7192,12.94745 19.2392,13.10745 18.8442,12.90995 L14.6247,10.80095 C14.2292,10.60295 14.0692,10.12145 14.2667,9.72595 L15.4537,7.35495 C16.2287,5.80595 18.0962,5.05145 19.6687,5.77695 C21.2937,6.52695 21.9652,8.46245 21.1697,10.04895 L19.9172,12.55245 Z M28.9882,29.66445 C28.9082,30.15645 28.4462,30.49645 27.9477,30.49645 L12.4167,30.49645 C12.0117,30.49645 11.8392,29.98145 12.1632,29.73845 L13.2767,28.90095 C13.6257,28.63845 14.0507,28.49645 14.4877,28.49645 L28.0012,28.49645 C28.6087,28.49645 29.0902,29.03795 28.9882,29.66445 Z",fill:"#000000",mask:"url(#mask-2)"})],id:"Group"}),id:"pencil-underline",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",version:"1.1",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerEditNicknamesIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"nicknames"}),g.jsx("path",{d:"M899,1204h38v2H899v-2Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"}),g.jsx("path",{d:"M927.57,1172.17l-22.32,22.36-0.72,5,5-.72,22.32-22.36ZM908.8,1196.6l-1.41-1.41L929,1173.61l1.41,1.41Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"}),g.jsx("path",{d:"M932.93,1175.36l2.07-2.13a6,6,0,0,0-1.33-3,5.72,5.72,0,0,0-2.91-1.28l-2.07,2.13Z",fill:b,fillRule:"evenodd",transform:"translate(-898.99 -1168.99)"})],viewBox:"0 0 38 37.01"}),className:a})}f.make=a}),null);
__d("MessengerInfoPanelNicknamesReact.bs",["ix","cx","fbt","Keys","bs_curry","Image.bs","React","asset","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerDialogs.bs","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerEditNicknamesDialogReact.bs","MessengerEditNicknamesIconSVGReact.bs","MessengerEditNicknamesIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){a=c.state.handleRef.contents;if(a!==void 0)return b("bs_caml_option").valFromOption(a).focus()}function l(a,c){c.state.handleRef.contents=a==null?void 0:b("bs_caml_option").some(a)}var m=b("MessengerDotComAndInboxM4Check.bs").yes?"_3szo _6y4w":"_3szo",n=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelNicknamesReact");function a(a,c,d,e,f){var h=function(f){return b("MessengerDialogs.bs").showDialog(function(g){return j.createElement(b("MessengerEditNicknamesDialogReact.bs").make,{participants:a,thread:c,onSave:e,onClose:b("bs_curry")._1(f.handle,k),viewer:d})})},o=function(a,b){a.preventDefault();return h(b)},p=function(a,c){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return h(c)}};return{debugName:n.debugName,reactClassInternal:n.reactClassInternal,handedOffState:n.handedOffState,getDerivedStateFromProps:n.getDerivedStateFromProps,didMount:n.didMount,didUpdate:n.didUpdate,willUnmount:n.willUnmount,shouldUpdate:n.shouldUpdate,render:function(a){if(c.customization_enabled)return j.jsxs("div",{children:[j.jsx("div",{children:b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("461749"),void 0,void 0,void 0,void 0,[])):b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:b("MessengerEditNicknamesIconSVGM4React.bs").icon,className:"_6y56"}):b("MessengerEditNicknamesIconSVGReact.bs").make("_5odt",b("MessengerCustomColorUtils.bs").customColorOrBlue(c)),className:"_3szp"}),j.jsx("div",{children:i._("Edit Nicknames"),className:"_3szq"})],ref:b("bs_curry")._1(a.handle,l),className:m,role:"button",tabIndex:0,onKeyDown:b("bs_curry")._1(a.handle,p),onClick:b("bs_curry")._1(a.handle,o)});else return null},initialState:function(a){return{handleRef:{contents:void 0}}},retainedProps:n.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:n.jsElementWrapped}}f.handleDialogClose=k;f.setHandleRef=l;f.rowClasses=m;f.component=n;f.make=a}),null);
__d("MessengerInfoPanelThreadOptionsContainerReact.bs",["fbt","bs_curry","React","gkx","QE2Logger","Bootloader","bs_caml_option","ReasonReact.bs","MessengerConfig","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelEmoji.react","MessengerInfoPanelSearchReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelSectionReact.bs","MessengerInfoPanelNicknamesReact.bs","MessengerMuteButtonContainerReact.bs","MessagingThreadCustomizationSource","MessengerInfoPanelCustomColorReact.bs","MessengerInfoPanelManageMessagesReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelThreadOptionsContainerReact");function j(a,c,d){b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",d);a=a.state.messengerInfoPanelPinningThread;if(a!==void 0)return h.createElement(a.make,{thread:c,viewer:d});else return null}function k(a,c,d,e,f,k){var l=function(a,c){if(!b("MercuryThreadInfo").isEmptyLocalThread(d)){b("MercuryThreadActions").getForFBID(e).changeThreadTheme(d.thread_id,a,"SETTINGS");return}},m=function(a,c){if(!b("MercuryThreadInfo").isEmptyLocalThread(d)){b("MercuryThreadActions").getForFBID(e).changeThreadEmoji(d.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return}},n=function(a,c){if(!b("MercuryThreadInfo").isEmptyLocalThread(d)){b("MercuryThreadActions").getForFBID(e).changeThreadNicknames(d.thread_id,a[0],a[1],b("MessagingThreadCustomizationSource").SETTINGS);return}};return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:function(a){if(b("MessengerConfig").MPT>0){b("Bootloader").loadModules(["MessengerInfoPanelPinningThreadReact.bs"],function(c){return b("bs_curry")._1(a.send,{_0:c})},"MessengerInfoPanelThreadOptionsContainerReact.bs");return}},didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(i){if(!d.is_subscribed||b("MessageRequestUtils").isMessageRequest(d))return null;var k=b("MessengerAdminGroupUtils").canUpdateThreadCustomization(d,e),o=k?h.jsx(b("MessengerInfoPanelCustomColorReact.bs").make,{thread:d,onChange:b("bs_curry")._1(i.handle,l)}):null;k=k?h.createElement(b("MessengerInfoPanelEmoji.react"),{thread:d,viewer:e,onChange:b("bs_curry")._1(i.handle,m)}):null;var p={isCollapsible:!0,isCollapsed:a,onToggle:f,title:g._("More Actions"),children:null},q=b("bs_caml_option").nullable_to_opt(d.solid_color);q!==void 0&&(p.customColor=b("bs_caml_option").valFromOption(q));return h.createElement(b("MessengerInfoPanelSectionReact.bs").make,p,b("gkx")("860320")?null:h.createElement(b("MessengerInfoPanelSearchReact.bs").make,{thread:d}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelNicknamesReact.bs").make(c,d,e,b("bs_curry")._1(i.handle,n),[])),o,k,b("MessengerDotComAndInboxM4Check.bs").yes?null:h.createElement(b("MessengerInfoPanelManageMessagesReact.bs").make,{thread:d,viewer:e}),b("MessengerDotComAndInboxM4Check.bs").yes?null:h.createElement(b("MessengerMuteButtonContainerReact.bs").make,{thread:d,viewer:e}),j(i,d,e))},initialState:function(a){return{messengerInfoPanelPinningThread:void 0}},retainedProps:i.retainedProps,reducer:function(a,b){return{TAG:0,_0:{messengerInfoPanelPinningThread:a._0}}},jsElementWrapped:i.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return k(a.isCollapsed,a.participants,a.thread,a.viewer,a.onToggle,[])});f.component=i;f.renderMessengerInfoPanelPinningThread=j;f.make=k;f.jsComponent=a}),null);
__d("FBClipboardLinkReact.bs",["bs_caml_option","ReasonReactCompat.bs","FBClipboardLink.react"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h,i,j,k,l){return function(m){m={value:d};a!==void 0&&(m.className=b("bs_caml_option").valFromOption(a));c!==void 0&&(m.label=b("bs_caml_option").valFromOption(c));e!==void 0&&(m.tooltip=b("bs_caml_option").valFromOption(e));f!==void 0&&(m.tooltipSuccess=b("bs_caml_option").valFromOption(f));g!==void 0&&(m.tooltipSuccessDuration=b("bs_caml_option").valFromOption(g));h!==void 0&&(m.onComplete=b("bs_caml_option").valFromOption(h));i!==void 0&&(m.position=b("bs_caml_option").valFromOption(i));j!==void 0&&(m.alignment=b("bs_caml_option").valFromOption(j));k!==void 0&&(m.stopPropagation=b("bs_caml_option").valFromOption(k));l!==void 0&&(m.preventDefaultOnClick=b("bs_caml_option").valFromOption(l));return m}}function a(a,c,d,e,f,h,i,j,k,l,m,n){return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FBClipboardLink.react"),g(a,c,d,e,f,h,i,j,k,l,m)(void 0),n)}f.componentProps=g;f.make=a}),null);
__d("WorkChatActivityTypedLogger.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 0:return"group_sync_new_post_button_click";case 1:return"notifs_jewel_links_click";case 2:return"nav_tab_click";case 3:return"info_panel_profile_link_click";case 4:return"notifs_jewel_click";case 5:return"info_panel_group_sync_top_link_click";case 6:return"info_panel_group_sync_about_link_click";case 7:return"info_panel_group_sync_posts_link_click";case 8:return"info_panel_group_sync_saved_link_click";case 9:return"info_panel_group_sync_events_link_click";case 10:return"inbox_see_all_chats_threadlist";case 11:return"inbox_see_all_groups_threadlist";case 12:return"inbox_see_all_unread_threadlist"}}f.string_of_event=a}),null);
__d("MessengerInfoPanelWorkContextContainerReact.bs",["cx","fbt","bs_curry","React","Link.react","bs_caml_option","ReasonReact.bs","FBClipboardLinkReact.bs","SubscriptionsHandler","FBClipboardLink.react","WorkChatActivityTypedLogger","WorkChatActivityTypedLogger.bs","MercuryWorkContextInformation","MessengerInfoPanelSectionReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MercuryWorkContextInformation").get(),k=b("ReasonReact.bs").reducerComponent("MessengerInfoPanelWorkContextContainerReact"),l={phone:void 0,email:void 0,location:void 0};function m(a,c,d,e,f){return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:function(a){a=c.other_user_fbid;if(a==null)return l;a=j.getOrFetch(a);if(a==null)return l;else return a},didMount:function(a){var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("MercuryWorkContextInformation").addListener("change",function(c){return b("bs_curry")._1(a.send,0)}));b("bs_curry")._1(a.onUnmount,function(a){c.release()});return b("bs_curry")._1(a.send,0)},didUpdate:k.didUpdate,willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(f){var g=f.state.phone,j=f.state.email,k=f.state.location;if(g==null&&j==null&&k==null)return null;g={isCollapsible:!0,isCollapsed:a,onToggle:d,title:h._("About"),children:null};j=b("bs_caml_option").nullable_to_opt(c.solid_color);j!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(j));k=f.state.phone;j=f.state.email;f=f.state.location;return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,g,i.jsx("table",{children:i.jsxs("tbody",{children:[k==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Phone")}),i.jsx("td",{children:k})]}),j==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Email")}),i.jsx("td",{children:i.jsx(b("FBClipboardLink.react"),b("FBClipboardLinkReact.bs").componentProps("_7cys",j,j,h._("Click to copy"),h._("Copied"),void 0,void 0,void 0,void 0,void 0,void 0)(void 0))})]}),f==null?null:i.jsxs("tr",{children:[i.jsx("td",{children:h._("Location")}),i.jsx("td",{children:f})]})]}),className:"_2dwl",style:{tableLayout:"fixed"}}),i.jsx("div",{children:i.jsx(b("Link.react"),{className:"_2dwm",href:e,onClick:function(a){new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(3)).log()},target:"_blank",children:h._("View Profile")}),className:"_3-8z"}))},initialState:function(a){return{phone:void 0,email:void 0,location:void 0}},retainedProps:k.retainedProps,reducer:function(a,b){a=c.other_user_fbid;if(a==null)return 0;b=j.getOrFetch(a);if(!(b==null))return{TAG:0,_0:b};else return 0},jsElementWrapped:k.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return m(a.isCollapsed,a.thread,a.onToggle,a.href,[])});f.mercuryWorkContextInformation=j;f.component=k;f.nullInfo=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerSharedFileReact.bs",["cx","React","Link.react","joinClasses","MercuryAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.filename,d=a.url;a=a.mimetype;a=b("MercuryAttachment").getAttachIconClassByMime(a);return h.jsx("li",{children:h.jsx(b("Link.react"),{className:b("joinClasses")("_2a43",a),href:d,target:"_blank",children:h.jsxs("div",{children:[h.jsx("i",{className:"img"}),h.jsx("span",{children:c,className:"_2a45 _fy2"})],className:"_2a44"})}),className:"_2a42"})}c=a;f.make=c}),null);
__d("MessengerThreadSharedFilesWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2150199688342867"};b.getQueryID=function(){return"1887039681373281"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSharedFilesReact.bs",["cx","fbt","ODS","bs_curry","React","bs_js_dict","bs_js_json","bs_caml_obj","FBLogger","bs_belt_Array","bs_caml_array","Link.react","WebGraphQL","setTimeout","bs_belt_Option","bs_caml_option","ReasonReact.bs","promiseDone","clearTimeout","bs_js_null_undefined","MercuryAttachment","MercuryMessageStore","MessengerSpinnerReact.bs","MessengerSharedFileReact.bs","MessengerInfoPanelSectionReact.bs","MessengerThreadSharedFilesWebGraphQLQuery"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=a.message_thread;if(a==null)return!1;a=a.message_shared_media;if(a==null)return!1;a=a.page_info;if(a==null)return!1;a=a.has_next_page;if(a==null)return!1;else return a}function a(a){a=a.page_info;if(a==null)return!1;a=a.end_cursor;return!(a==null)}c=i.jsx("div",{children:i.jsx(b("MessengerSpinnerReact.bs").make,{color:"gray"}),className:"_omn"});var k=b("ReasonReact.bs").reducerComponent("MessengerSharedFilesReact");function l(a,c,d,e,f){var g=function(a,d){if(c!==void 0){b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerThreadSharedFilesWebGraphQLQuery"))({threadFBID:c,count:b("bs_js_null_undefined").fromOption(a)})),function(a){return b("bs_curry")._1(d.send,{TAG:0,_0:a})},function(a){a.errors.forEach(function(a){b("FBLogger")("messenger_shared_files").mustfix(a.message)})});return}},l=function(a,c){a=c.state.isLoadingFiles;var d=c.state.queryResp;if(a)return;if(d===void 0)return;a=b("bs_caml_option").valFromOption(d).message_thread;if(a==null)return;d=a.message_shared_media;if(d==null)return;a=d.edges.length;if(a>0){b("bs_curry")._1(c.send,0);return g(a+10|0,c)}},m=function(a,c){return a.subscribe(function(a){var d=a.eventType,e=d===b("MercuryMessageStore").MESSAGES_RECEIVED,f=d===b("MercuryMessageStore").MESSAGES_CHANGED;d=d===b("MercuryMessageStore").MESSAGES_DELETED;var h=a.messages;if(h.length===0)return;if(!e&&!f&&!d)return;e=b("bs_caml_array").get(h,h.length-1|0);f=e.attachments;h=f==null?!1:f.some(function(a){return b("MercuryAttachment").isFileAttachment(a)});if(!h)if(d)return b("bs_curry")._1(c.send,{TAG:1,_0:a.deletedMessages});else return;var i=b("setTimeout")(function(a){return g(void 0,c)},1e3);return b("bs_curry")._1(c.onUnmount,function(a){b("clearTimeout")(i)})})},n=function(a){if(a.state.isLoadingFiles)return i.jsx("div",{children:i.jsx(b("MessengerSpinnerReact.bs").make,{color:"gray"}),className:"_2n20"});else return i.jsx(b("Link.react"),{className:"_3oh- _fy2 _91u6",onClick:b("bs_curry")._1(a.handle,l),children:h._("Show All...")})},o=function(a,c){c=c.state.shouldDisplayExpander?n(c):null;return i.jsxs("ul",{children:[a.map(function(a){var c=a.filename,d=a.legacy_attachment_id,e=a.mimetype;a=a.url;if(c==null)return null;if(d==null)return null;if(e==null)return null;if(a==null)return null;a=b("bs_js_json").decodeString(a);if(a!==void 0)return i.jsx(b("MessengerSharedFileReact.bs").make,{filename:c,url:a,mimetype:e},d);else return null}),c],className:"_2o39"})};return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:function(a){return{shouldDisplayExpander:a.shouldDisplayExpander,isLoadingFiles:a.isLoadingFiles,queryResp:a.queryResp,previousThreadFBID:c,sharedFiles:a.sharedFiles}},didMount:function(c){g(void 0,c);var d=new(b("MercuryMessageStore"))(a);m(d,c);return b("bs_curry")._1(c.onUnmount,function(a){d.destroy()})},didUpdate:function(a){a=a.oldSelf;if(b("bs_caml_obj").caml_notequal(a.state.previousThreadFBID,c))return b("bs_curry")._1(a.send,1)},willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(a){var f=a.state.queryResp;if(f!==void 0&&c!==void 0&&!(c===""||a.state.sharedFiles.length<=0))return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,{isCollapsible:!0,isCollapsed:d,onToggle:e,title:h._("Shared Files"),children:o(a.state.sharedFiles,a)});else return null},initialState:function(a){return{shouldDisplayExpander:!1,isLoadingFiles:!1,queryResp:void 0,previousThreadFBID:c,sharedFiles:[]}},retainedProps:k.retainedProps,reducer:function(a,c){var d=function(a){var c=a==null?void 0:b("bs_caml_option").some(a);return function(a){return b("bs_belt_Option").flatMap(c,a)}};if(typeof a==="number")if(a===0)return{TAG:0,_0:{shouldDisplayExpander:c.shouldDisplayExpander,isLoadingFiles:!0,queryResp:c.queryResp,previousThreadFBID:c.previousThreadFBID,sharedFiles:c.sharedFiles}};else return{TAG:2,_0:{shouldDisplayExpander:c.shouldDisplayExpander,isLoadingFiles:c.isLoadingFiles,queryResp:void 0,previousThreadFBID:c.previousThreadFBID,sharedFiles:[]},_1:function(a){return g(void 0,a)}};if(a.TAG){var e=a._0,f={contents:void 0},h=c.sharedFiles.filter(function(a){var c=a.legacy_attachment_id;if(c==null){f.contents="file_missing_attachment_id";return!0}else return!b("bs_js_dict").values(e).some(function(a){a=a.attachmentIDs;if(a==null){f.contents="message_attachments_unknown";return!1}else return a.map(function(a){return a}).includes(c)})}),i=f.contents;if(i!==void 0){b("ODS").bumpEntityKey(3297,"refetch_shared_files",i);return{TAG:2,_0:{shouldDisplayExpander:c.shouldDisplayExpander,isLoadingFiles:c.isLoadingFiles,queryResp:void 0,previousThreadFBID:c.previousThreadFBID,sharedFiles:[]},_1:function(a){return g(void 0,a)}}}else return{TAG:0,_0:{shouldDisplayExpander:c.shouldDisplayExpander,isLoadingFiles:c.isLoadingFiles,queryResp:c.queryResp,previousThreadFBID:c.previousThreadFBID,sharedFiles:h}}}i=a._0;h=d(i.message_thread)(function(a){return d(a.message_shared_media)(function(a){return b("bs_belt_Array").keepMap(a.edges,function(a){return b("bs_caml_option").nullable_to_opt(a.node)})})});return{TAG:0,_0:{shouldDisplayExpander:j(i),isLoadingFiles:!1,queryResp:b("bs_caml_option").some(i),previousThreadFBID:c.previousThreadFBID,sharedFiles:b("bs_belt_Option").getWithDefault(h,[])}}},jsElementWrapped:k.jsElementWrapped}}d=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.threadID,b("bs_caml_option").nullable_to_opt(a.threadFBID),a.isCollapsed,a.onToggle,[])});f.hasNextPage=j;f.hasFiles=a;f.spinner=c;f.component=k;f.make=l;f.jsComponent=d}),null);
__d("MessengerSharedPhotosVideosData.bs",["bs_curry","bs_js_dict","bs_belt_Array","bs_caml_option","MessengerThreadSharedMediaHelper","MessengerSharedPhotosVideosBaseData.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){a=b("bs_belt_Array").get(b("bs_js_dict").values(a),0);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);if(!(a==null))return b("bs_caml_option").some(a.message_shared_media)}function h(a,c,d,e){a=g(a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var f=d.fetchingState;f=f.tail;f={head:1,tail:f};d=d.actualData;if(d!==void 0){var h=a.edges;h=h.length!==0?{fetchingState:f,actualData:{edges:h.concat(d.edges),newestItemCursor:a.page_info.start_cursor,oldestItemCursor:d.oldestItemCursor,hasNextPage:a.page_info.has_next_page}}:{fetchingState:f,actualData:{edges:d.edges,newestItemCursor:d.newestItemCursor,oldestItemCursor:d.oldestItemCursor,hasNextPage:a.page_info.has_next_page}}}else h={fetchingState:f,actualData:{edges:a.edges,newestItemCursor:a.page_info.start_cursor,oldestItemCursor:a.page_info.end_cursor,hasNextPage:a.page_info.has_next_page}};b("MessengerSharedPhotosVideosBaseData.bs").set(e,h);return b("bs_curry")._1(c,void 0)}function i(a,c,d,e){a=g(a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var f=d.fetchingState;f=f.head;f={head:f,tail:1};d=d.actualData;if(d!==void 0){var h=a.edges;h=h.length!==0?{fetchingState:f,actualData:{edges:d.edges.concat(h),newestItemCursor:d.newestItemCursor,oldestItemCursor:a.page_info.end_cursor,hasNextPage:a.page_info.has_next_page}}:{fetchingState:f,actualData:{edges:d.edges,newestItemCursor:d.newestItemCursor,oldestItemCursor:d.oldestItemCursor,hasNextPage:a.page_info.has_next_page}}}else h={fetchingState:f,actualData:{edges:a.edges,newestItemCursor:a.page_info.start_cursor,oldestItemCursor:a.page_info.end_cursor,hasNextPage:a.page_info.has_next_page}};b("MessengerSharedPhotosVideosBaseData.bs").set(e,h);return b("bs_curry")._1(c,void 0)}function j(a,c,d,e,f,g,h){var j=a.fetchingState;j={head:j.head,tail:0};a=a.actualData;j={fetchingState:j,actualData:a};b("MessengerSharedPhotosVideosBaseData.bs").set(c,j);b("bs_curry")._1(h,void 0);b("MessengerThreadSharedMediaHelper").loadMorePrevious(d,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,e,function(a){var d=b("MessengerSharedPhotosVideosBaseData.bs").get(c);if(d!==void 0)return i(a,g,d,c)})}function k(a,c,d,e,f,g,i){var j=a.fetchingState;j={head:0,tail:j.tail};a=a.actualData;j={fetchingState:j,actualData:a};b("MessengerSharedPhotosVideosBaseData.bs").set(c,j);b("bs_curry")._1(i,void 0);b("MessengerThreadSharedMediaHelper").loadMoreLatest(d,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,e,function(a){var d=b("MessengerSharedPhotosVideosBaseData.bs").get(c);if(d!==void 0)return h(a,g,d,c)})}function a(a,c,d,e,f){var g=b("MessengerSharedPhotosVideosBaseData.bs").get(d);if(g===void 0)return j({fetchingState:{head:1,tail:1},actualData:void 0},d,c,a,void 0,e,f);if(!g.fetchingState.head)return;var h=g.actualData;return h!==void 0&&h.edges.length!==0?k(g,d,c,a,h.newestItemCursor,e,f):j(g,d,c,a,void 0,e,f)}function c(a,c,d,e,f){var g=b("MessengerSharedPhotosVideosBaseData.bs").get(d);if(g===void 0)return j({fetchingState:{head:1,tail:1},actualData:void 0},d,c,a,void 0,e,f);if(!g.fetchingState.tail)return;var h=g.actualData;if(h!==void 0){if(!h.hasNextPage)return;if(h.edges.length!==0)return j(g,d,c,a,h.oldestItemCursor,e,f)}return j(g,d,c,a,void 0,e,f)}e=(d=b("MessengerSharedPhotosVideosBaseData.bs")).data;var l=d.get,m=d.set;d=d.localRemove;f.data=e;f.get=l;f.set=m;f.localRemove=d;f.convertPayload=g;f.onFetchNewerDone=h;f.onFetchOlderDone=i;f.mutateDataThenLoadMoreFromRecentToOld=j;f.mutateDataThenLoadMoreFromOldToRecent=k;f.fetchNewer=a;f.fetchOlder=c}),null);
__d("MessengerSharedPhotosReact.bs",["cx","fbt","bs_curry","React","bs_caml_obj","bs_belt_Array","MercuryIDs","bs_caml_option","MercuryActionType","MercuryAttachment","MercuryDispatcher","SpotlightViewer","SphericalPhotoUtils","MercuryPayloadSource","MessengerSpinnerReact.bs","MessengerSharedPhotoReact.bs","MessengerInfoPanelSectionReact.bs","MessengerSharedPhotosVideosData.bs","MessengerSharedPhotosAlbumViewContainer.react","SpotlightMessengerSharedMediaViewerContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=i.jsx("div",{className:"_4dfu"}),k={albumView:void 0,shownID:void 0,rerenderFlag:!1};function l(a,c){if(typeof c==="number")switch(c){case 0:return{albumView:a.albumView,shownID:a.shownID,rerenderFlag:!a.rerenderFlag};case 1:return{albumView:a.albumView,shownID:void 0,rerenderFlag:a.rerenderFlag};case 2:return{albumView:void 0,shownID:a.shownID,rerenderFlag:a.rerenderFlag}}else switch(c.TAG|0){case 0:return{albumView:b("bs_caml_option").some(c._0),shownID:void 0,rerenderFlag:a.rerenderFlag};case 1:return{albumView:void 0,shownID:b("bs_caml_option").some(c._0),rerenderFlag:a.rerenderFlag};case 2:return{albumView:a.albumView,shownID:b("bs_caml_option").some(c._0),rerenderFlag:a.rerenderFlag}}}function m(a,c){a=b("MercuryDispatcher").getForFBID(a);return a.subscribe("update-messages",function(a,d){if(d==null)return;if(d.payload_source!==b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)return;a=d.actions;if(a.length!==1)return;d=a[0];a=d.thread_id;var e=b("MercuryIDs").getThreadFBIDFromThreadID(a),f=d.attachments;if(!(f==null)){var g=f.some(function(a){if(b("MercuryAttachment").isPhotoAttachment(a))return!0;else return b("MercuryAttachment").isVideoAttachment(a)});g&&!(a==null)&&b("MessengerSharedPhotosVideosData.bs").fetchNewer(Math.max(f.length,10),e,a,function(a){return b("bs_curry")._1(c,0)},function(a){return b("bs_curry")._1(c,0)})}if(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").REMOVE_MESSAGE)){g=d.messageId;f=d.thread_id;!(g==null)&&!(f==null)&&b("bs_curry")._1(c,0)}if(!b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").DELETE_MESSAGES))return;e=d.message_ids;a=d.thread_id;if(!(e==null)&&!(a==null))return b("bs_curry")._1(c,0)})}function n(a){if(a==null)return!1;else return a.isScrolledToBottom()}function o(a){if(!(a==null))return a.getClientHeight();else return 0}function a(a){var c=a.viewer,d=a.isCollapsed,e=a.onToggle,f=a.threadID,g=a.threadFBID,p=a.scrollableArea;a=i.useReducer(l,k);var q=a[1];a=a[0];var r=n(p),s=o(p),t=b("MessengerSharedPhotosVideosData.bs").get(f);if(t!==void 0){t=t.actualData;t=t!==void 0?t.edges.length:0}else t=0;var u=i.useCallback(function(a){a=b("MessengerSharedPhotosVideosData.bs").get(f);if(g==null)return;if(a!==void 0){if(!a.fetchingState.tail)return;a=g}else a=g;return b("MessengerSharedPhotosVideosData.bs").fetchOlder(12,a,f,function(a){return b("bs_curry")._1(q,0)},function(a){return b("bs_curry")._1(q,0)})},[g,f,q]);i.useLayoutEffect(function(){var a=!d&&n(p)&&o(p)!==0;a&&b("bs_curry")._1(u,void 0)},[d,r,t,s,p,u]);i.useEffect(function(){var a=m(c,q);return function(b){a.unsubscribe()}},[c,q]);i.useEffect(function(){b("bs_curry")._1(u,void 0)},[]);r=b("MessengerSharedPhotosVideosData.bs").get(f);if(g==null)return null;if(r===void 0)return null;t=r.actualData;if(t===void 0)return null;if(t.edges.length===0)return null;s=r.actualData;t=r.fetchingState.tail;r=a.shownID;r=r!==void 0?i.jsx(b("SpotlightMessengerSharedMediaViewerContainer.react"),{onClosePhotoView:function(a){return b("bs_curry")._1(q,1)},openAlbum:function(a){return b("bs_curry")._1(q,{TAG:0,_0:a})},photoID:b("bs_caml_option").valFromOption(r),rootClassName:"",threadID:g,disableForward:!1}):null;a=a.albumView;a=a!==void 0?i.jsx(b("SpotlightViewer"),{className:"_3ode",onHide:function(a){return b("bs_curry")._1(q,2)},open:!0,children:i.jsx(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:function(a){return b("bs_curry")._1(q,{TAG:1,_0:a})},onCloseSharedPhotos:function(a){return b("bs_curry")._1(q,2)},threadID:g,viewedPhoto:b("bs_caml_option").valFromOption(a)})}):null;var v=h._("Shared Photos"),w=i.jsx("div",{children:i.createElement(b("MessengerSpinnerReact.bs").make,{}),className:"_7jxv"});return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,{isCollapsible:!0,isCollapsed:d,onToggle:e,title:v,children:null},r,a,i.jsx("div",{children:b("bs_belt_Array").map(s.edges,function(c){var d=c.node.image;d=d==null?["_3m31 _ooh",void 0]:["_3m31",d.uri];var e=d[1];c=c.node;var f=c.photo_encodings,a;if(f==null||f.length===0)a=[!1,e];else{f=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(f).smallThumbnail;e=f==null?e:f;a=[!0,e]}f={className:d[0],fbid:c.legacy_attachment_id,onClick:function(a){return b("bs_curry")._1(q,{TAG:2,_0:a})},isSpherical:a[0]};e=a[1];e!==void 0&&(f.uri=b("bs_caml_option").valFromOption(e));return i.jsx(b("MessengerSharedPhotoReact.bs").make,f,c.legacy_attachment_id)}),className:"_40jj _5l-3"}),t?null:w,t&&!s.hasNextPage?j:null)}c=12;d=a;f.endOfMediaIndicator=j;f.howManyPhotosAndVideosToFetch=c;f.initialState=k;f.reducer=l;f.subscribeToNewMessages=m;f.getIsScrolledToBottom=n;f.getClientHeight=o;f.make=d}),null);
__d("MessengerThreadInfoPanelScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={prevHeight:-1,prevIsScrolledToBottom:!1};c.$1=function(){var a=c.isScrolledToBottom(),b=c.getHeight();(c.state.prevIsScrolledToBottom!==a||c.state.prevHeight!==b)&&c.setState({prevHeight:b,prevIsScrolledToBottom:a})};c.scrollable=g.createRef();return c}var d=c.prototype;d.render=function(){var a;return g.jsx(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$1,children:g.jsx(b("MessengerScrollableArea.react"),{height:"100%",onScroll:this.$1,ref:this.scrollable,children:this.props.children((a=(a=this.scrollable.current)==null?void 0:a.getArea())!=null?a:null)})})};d.isScrolledToBottom=function(){var a;return(a=(a=this.scrollable.current)==null?void 0:a.isScrolledToBottom())!=null?a:!1};d.getHeight=function(){var a;return(a=(a=this.scrollable.current)==null?void 0:(a=a.getArea())==null?void 0:a.getClientHeight())!=null?a:0};return c}(g.Component);e.exports=a}),null);
__d("WorkChatEditGroupThreadDescriptionDialogReact.bs",["cx","fbt","bs_curry","React","bs_string","bs_caml_option","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerTextWithEmojiInputReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c,d,e=a.currentDescription,f=a.onEdit,g=i.useRef(void 0);a=function(a){a=g.current;if(a!==void 0){a=b("bs_string").trim(b("bs_caml_option").valFromOption(a).getValue());var c=a===e;c||f===void 0||b("bs_curry")._1(f,a)}return b("MessengerDialogs.bs").removeDialog(void 0,void 0)};var j=(c=b("ReasonReact.bs")).element(void 0,function(a){g.current=a==null?void 0:b("bs_caml_option").some(a)},b("MessengerTextWithEmojiInputReact.bs").make("_7rkc",void 0,void 0,void 0,h._("Tell your coworkers what this chat is for, note important links or list FAQs"),e,void 0,[]));return c.element(void 0,void 0,(d=b("MessengerDialogReact.bs")).Dialog.make("_7rkd",void 0,void 0,void 0,void 0,void 0,void 0,500,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Edit Description")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_7rke",children:j}),c.element(void 0,void 0,d.Footer.make(void 0,void 0,[c.element(void 0,void 0,d.CancelButton.make(void 0,[])),c.element(void 0,void 0,d.Button.make(void 0,h._("Save"),void 0,void 0,a,0,void 0,void 0,void 0,[]))]))]))}c=a;f.make=c}),null);
__d("WorkChatTextWithEntitiesTruncated.bs",["ReasonReact.bs","bs_js_null_undefined","TextWithEntitiesTruncated.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;return b("ReasonReact.bs").wrapJsForReason(b("TextWithEntitiesTruncated.react"),{text:(g=b("bs_js_null_undefined")).fromOption(a),ranges:g.fromOption(c),maxLines:g.fromOption(d),truncationStyle:g.fromOption(e)},f)}f.make=a}),null);
__d("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs",["ix","cx","fbt","Keys","React","asset","Image.react","ReasonReact.bs","getURLRanges","MessengerDialogs.bs","WorkChatTextWithEntitiesTruncated.bs","WorkChatEditGroupThreadDescriptionDialogReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){var c=a.thread,d=a.actionsEnabled,e=a.onEdit;a=c.description;a=a==null?[]:b("getURLRanges")(a);var f=c.description,h=f==null?"":f,k=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return j.jsx(b("WorkChatEditGroupThreadDescriptionDialogReact.bs").make,{currentDescription:h,onEdit:e})})};f=function(a){a.preventDefault();return k(void 0)};var l=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return k(void 0)}},m=c.description;m=m==null?d?[j.jsx("div",{children:i._("Add a Description"),className:"_7rkb",role:"button",tabIndex:0,onKeyDown:l,onClick:f}),!1]:[i._("No description"),!0]:[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatTextWithEntitiesTruncated.bs").make(m,a,4,"see-more-and-less",[])),!1];a=c.description;c=d&&!(a==null)?j.jsx("div",{children:j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("Image.react"),{src:g("478817")}),className:"_7rex"}),j.jsx("div",{children:i._("Edit"),className:"_7rey"})],className:"_7rew",role:"button",tabIndex:0,onKeyDown:l,onClick:f}),className:"_7rev"}):null;return j.jsxs("div",{children:[j.jsx("div",{children:j.jsx("div",{children:m[0],className:"_7re_"+(m[1]?" _7rf0":"")}),className:"_7re-",role:"button",tabIndex:0}),c],className:"_7rez"})}c=a;f.make=c}),null);
__d("WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs",["cx","fbt","React","bs_caml_option","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelSectionReact.bs","MessagingThreadCustomizationSource","WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isCollapsed,d=a.onToggle,e=a.thread,f=a.viewer;if(!e.is_subscribed||b("MessageRequestUtils").isMessageRequest(e))return null;a=b("MessengerAdminGroupUtils").canUpdateThreadDescription(e,f);var g=function(a){if(!b("MercuryThreadInfo").isEmptyLocalThread(e)){b("MercuryThreadActions").getForFBID(f).changeGroupThreadDescription(e.thread_id,a,b("MessagingThreadCustomizationSource").SETTINGS);return}};a=i.jsx("div",{children:i.createElement(b("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs").make,{thread:e,actionsEnabled:a,onEdit:g}),className:"_7rka"});g={isCollapsible:!0,isCollapsed:c,onToggle:d,title:h._("Group Description"),children:a};c=b("bs_caml_option").nullable_to_opt(e.solid_color);c!==void 0&&(g.customColor=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerInfoPanelSectionReact.bs").make,g)}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerThreadInfoPanelContainer.react",["cx","fbt","AsyncRequest","Bootloader","BootloadOnRender.react","CoworkerThreadContextBanner.react","CurrentUser","ErrorBoundary.react","IgnoreMessagesTypedLogger","ImmutableObject","JSResource","LazyComponent.react","LoadOnRender.react","MarketplaceMeasurementUtils","MarketplaceThreadLabelTypeEnum","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadIDMap","MercuryThreadInfo","MessageRequestUtils","MessageThreadAssociatedObjectUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfig","MessengerConfirmBlockThreadDialogReact.bs","MessengerConfirmLeaveGroupDialogReact.bs","MessengerContactAdapters","MessengerContactListRowActions","MessengerDialogs.bs","MessengerDomIDs.bs","MessengerDotComAndInboxM4Check.bs","MessengerInfoPanelAssociatedObjectSection.react","MessengerInfoPanelGroupSection.react","MessengerInfoPanelGroupThreadDescriptionContainerReact.bs","MessengerInfoPanelNameSectionM4React.re","MessengerInfoPanelNameSectionReact.bs","MessengerInfoPanelPeopleSectionReact.re","MessengerInfoPanelPrivacySupportOptionsContainerReact.bs","MessengerInfoPanelSearchReact.bs","MessengerInfoPanelThreadOptionsContainerReact.bs","MessengerInfoPanelWorkContextContainerReact.bs","MessengerLeaveGroupAction","MessengerMessageRequestsTypedLogger","MessengerObjectAssociationType","MessengerSettingsActions","MessengerSettingsStore","MessengerSharedFilesReact.bs","MessengerSharedPhotosReact.bs","MessengerThreadInfoPanelScrollableArea.react","React","StoreAndPropBasedStateMixin","WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs","WorkGalahadSettings","WorkModeConfig","XMessagingSetThreadImageController","XMessagingSetThreadNameController","createReactClass_DEPRECATED","getJSEnumSafe","getPageIDFromThreadID","gkx","immutable","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("MessengerInfoPanelWorkGroupLinksContainerReact").__setRef("MessengerThreadInfoPanelContainer.react")),k=b("lazyLoadComponent")(b("JSResource")("WorkChatInfoPanelThreadOptionsContainerReact").__setRef("MessengerThreadInfoPanelContainer.react"));c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadInfoPanelContainer",mixins:[b("StoreAndPropBasedStateMixin")(b("MessengerSettingsStore"))],propTypes:{className:(a=b("prop-types")).string.isRequired,blockedIds:a.any,contactData:a.object,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired,hideGroupInfoInThreadInfoPanel:a.bool.isRequired},statics:{calculateState:function(){var a=b("MessengerSettingsStore").getSettings(),c=a.links_section_collapsed,d=a.associated_object_section_collapsed,e=a.people_section_collapsed,f=a.photos_section_collapsed,g=a.files_section_collapsed,h=a.thread_section_collapsed,i=a.thread_stats_section_collapsed,j=a.group_section_collapsed,k=a.group_approval_section_collapsed,l=a.group_link_section_collapsed,m=a.description_section_collapsed,n=a.privacy_section_collapsed;a=a.page_link_section_collapsed;return{links_section_collapsed:c,associated_object_section_collapsed:d,people_section_collapsed:e,photos_section_collapsed:f,files_section_collapsed:g,thread_section_collapsed:h,thread_stats_section_collapsed:i,group_section_collapsed:j,group_approval_section_collapsed:k,group_link_section_collapsed:l,description_section_collapsed:m,privacy_section_collapsed:n,page_link_section_collapsed:a}}},render:function(){var a=this,c=this.props.contactData||{},d=this.props.thread.thread_fbid||this.props.thread.other_user_fbid,e=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(this.props.viewer,this.props.blockedIds,this.props.thread),f=b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,c.contact);return i.jsx(b("MessengerThreadInfoPanelScrollableArea.react"),{className:this.props.className,children:function(g){return i.jsxs("div",{className:"_3tkv",id:b("MessengerDomIDs.bs").ids.THREAD_INFO_PANEL,children:[i.jsx("h3",{className:"accessible_elem",children:h._("Conversation Information")}),b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("MessengerInfoPanelNameSectionM4React.re").make,{contact:c.contact,isUserActive:c.isUserActive||!1,lastActive:c.lastActive,onThreadNameChange:a._handleThreadNameChange,onThreadPhotoChange:a._handleThreadPhotoChange,platform:c.platform,thread:a.props.thread,viewer:a.props.viewer}):i.jsx(b("MessengerInfoPanelNameSectionReact.bs").jsComponent,{contact:c.contact,isUserActive:c.isUserActive||!1,isBlocked:e,lastActive:c.lastActive,onArchive:a._handleArchive,onDelete:a._handleDelete,onLeaveGroup:a._handleLeaveGroup,onMarkRead:a._handleMarkRead,onMarkSpam:a._handleMarkSpam,onMarkUnread:a._handleMarkUnread,onMute:a._handleMuteChange,onThreadNameChange:a._handleThreadNameChange,onThreadPhotoChange:a._handleThreadPhotoChange,onPin:a._handlePin,onUnpin:a._handleUnpin,onUnmute:a._handleUnmute,onIgnore:a._handleIgnore,onBlock:a._handleBlock,onUnblock:a._handleUnblock,showBlock:f,participants:a.props.participants,platform:c.platform,showLeaveGroup:a.props.thread.is_subscribed&&!a.props.thread.is_canonical,showReport:a._isPageChat(),thread:a.props.thread,viewer:a.props.viewer}),a._renderAssociatedObject(),a._renderWorkContext(),a._renderMarketplaceBanner(),a._renderCoworkerThreadBanner(),b("CurrentUser").isWorkUser()?i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(k,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,search:b("WorkGalahadSettings").isGalahadEnabled?null:i.jsx(b("MessengerInfoPanelSearchReact.bs").jsComponent,{thread:a.props.thread}),viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle,contactData:c})}):b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("MessengerInfoPanelThreadOptionsContainerReact.bs").jsComponent,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle}):i.jsx(b("MessengerInfoPanelThreadOptionsContainerReact.bs").jsComponent,{isCollapsed:a.state.thread_section_collapsed,participants:a.props.participants,thread:a.props.thread,viewer:a.props.viewer,onToggle:a._handleThreadSectionToggle}),a._renderPageLink(),a._renderGroupDescription(),a._renderGroupLink(),b("MessengerAdminGroupUtils").canSeeGroupOptionsSection(a.props.thread,a.props.viewer)?a._renderGroupOptions():null,a.props.thread.is_canonical?null:a._renderMembers(),b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("MessengerInfoPanelPrivacySupportOptionsContainerReact.bs").make,{contact:c.contact,isBlocked:e,isCollapsed:a.state.privacy_section_collapsed,isPage:a._isPageChat(),participants:a.props.participants,showBlock:f,thread:a.props.thread,viewer:a.props.viewer,onBlock:a._handleBlock,onIgnore:a._handleIgnore,onUnblock:a._handleUnblock,onToggle:a._handlePrivacySectionToggle}):null,i.jsx(b("MessengerSharedFilesReact.bs").jsComponent,{threadID:a.props.thread.thread_id,threadFBID:d,isCollapsed:a.state.files_section_collapsed,onToggle:a._handleFilesSectionToggle}),i.jsx(b("MessengerSharedPhotosReact.bs").make,{isCollapsed:a.state.photos_section_collapsed,onToggle:a._handlePhotosSectionToggle,threadID:a.props.thread.thread_id,threadFBID:d,viewer:a.props.viewer,scrollableArea:g})]})}})},_handleArchive:function(){this._getThreadActions().archive(this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,"menu_item_in_info_panel")},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,"menu_item_in_info_panel")},_handleDelete:function(){this._getThreadActions()["delete"](this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){this._getThreadActions().markSpam(this.props.thread.thread_id),b("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleIgnore:function(){this._getThreadActions().changeFolder(this.props.thread.thread_id,"other"),b("MessengerActions").selectThread(null),new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlock:function(){var a=this,b=this.props.thread;b=b.thread_id;var c=this.props.contactData&&this.props.contactData.contact.short_name||h._("sender");b&&this._getThreadActions().blockIgnoreOnMessengerDotCom(!0,b,function(){a._handleAfterBlock(c)})},_handleAfterBlock:function(a){var c=this.props,d=c.thread;c=c.viewer;b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerConfirmBlockThreadDialogReact.bs").make,{participantName:a})});c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.thread_id,b("MercuryIDs").getParticipantIDFromUserID(c));d.folder===b("MessagingTag").PENDING&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint("settings").log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_handleMuteChange:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handleContactSelect:function(a,c){c=b("MercuryIDs").getThreadIDFromParticipantID(a.uid);c&&b("MessengerActions").selectThread(c)},_handleLeaveGroup:function(){var a=this;if(this.props.viewer){var c=b("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,{onLeave:a._onLeaveGroupConfirm,isViewerAdmin:c,thread:a.props.thread})})}},_onLeaveGroupConfirm:function(){b("MessengerLeaveGroupAction").leaveGroup(this.props.thread,this.props.viewer)},_handleThreadNameChange:function(a){var c=b("XMessagingSetThreadNameController").getURIBuilder().getURI(),d=this.props.thread.thread_fbid;if(d===null){var e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(this.props.thread.thread_id)}new(b("AsyncRequest"))().setURI(c).setData({thread_id:d,thread_name:a}).send()},_handleThreadPhotoChange:function(a,c){c=(c=c)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c;if(!c)return;var d=b("XMessagingSetThreadImageController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(a),thread_image_id:c}).send()},_handleAssociatedObjectSectionToggle:function(){b("MessengerSettingsActions").changeSettings({associated_object_section_collapsed:!this.state.associated_object_section_collapsed})},_handlePeopleSectionToggle:function(){b("MessengerSettingsActions").changeSettings({people_section_collapsed:!this.state.people_section_collapsed})},_handlePhotosSectionToggle:function(){b("MessengerSettingsActions").changeSettings({photos_section_collapsed:!this.state.photos_section_collapsed})},_handleFilesSectionToggle:function(){b("MessengerSettingsActions").changeSettings({files_section_collapsed:!this.state.files_section_collapsed})},_handleThreadSectionToggle:function(){b("MessengerSettingsActions").changeSettings({thread_section_collapsed:!this.state.thread_section_collapsed})},_handleThreadStatsSectionToggle:function(){b("MessengerSettingsActions").changeSettings({thread_stats_section_collapsed:!this.state.thread_stats_section_collapsed})},_handleGroupOptionsSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_section_collapsed:!this.state.group_section_collapsed})},_handleGroupOptionsApprovalSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_approval_section_collapsed:!this.state.group_approval_section_collapsed})},_handleLinksSectionToggle:function(){b("MessengerSettingsActions").changeSettings({links_section_collapsed:!this.state.links_section_collapsed})},_handleDescriptionSectionToggle:function(){b("MessengerSettingsActions").changeSettings({description_section_collapsed:!this.state.description_section_collapsed})},_handleGroupLinkSectionToggle:function(){b("MessengerSettingsActions").changeSettings({group_link_section_collapsed:!this.state.group_link_section_collapsed})},_handlePrivacySectionToggle:function(){b("MessengerSettingsActions").changeSettings({privacy_section_collapsed:!this.state.privacy_section_collapsed})},_handlePageMDotMeLinkSectionToggle:function(){b("MessengerSettingsActions").changeSettings({page_link_section_collapsed:!this.state.page_link_section_collapsed})},_getThreadActions:function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return b("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return b("MercuryMessageObject").getForFBID(this.props.viewer)},_isPageChat:function(){return!!b("getPageIDFromThreadID")(this.props.thread.thread_id)},_renderAssociatedObject:function(){var a=this.props,c=a.thread;a=a.hideGroupInfoInThreadInfoPanel;var d=c.work_associated_group||c.object_association_type===b("MessengerObjectAssociationType").GENERAL_CHAT;if(b("CurrentUser").isWorkUser()&&d&&!a)return b("gkx")("808098")?i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(j,{isCollapsed:this.state.associated_object_section_collapsed,thread:c,onToggle:this._handleAssociatedObjectSectionToggle})}):null;d=b("MessageThreadAssociatedObjectUtils").shouldRender(c.associated_object);return!d?null:i.jsx(b("MessengerInfoPanelAssociatedObjectSection.react"),{isCollapsed:this.state.associated_object_section_collapsed,onToggle:this._handleAssociatedObjectSectionToggle,customColor:c.solid_color,associatedObject:c.associated_object})},_renderWorkContext:function(){var a=this.props.contactData||{};a=a.contact;return!b("CurrentUser").isWorkUser()||!a||!a.href||b("WorkModeConfig").hide_email_address||a.user_type!=="user"&&a.user_type!=="fb4c"?null:i.jsx(b("MessengerInfoPanelWorkContextContainerReact.bs").jsComponent,{isCollapsed:this.state.thread_stats_section_collapsed,thread:this.props.thread,onToggle:this._handleThreadStatsSectionToggle,href:a.href})},_renderMarketplaceBanner:function(){var a,c;a=(a=this.props.thread)==null?void 0:a.marketplace_thread_data;var d=a==null?void 0:a.for_sale_item,e=a==null?void 0:a.buyer_fbid,f=a==null?void 0:a.seller_fbid,g=a==null?void 0:a.is_seller_eligible_for_shipping,h=a==null?void 0:a.eligible_profile_selling_invoice_actions;c=(c=b("MarketplaceMeasurementUtils").getCurrentStatusLabel(a==null?void 0:a.seller_added_labels))==null?void 0:c.label_string;a=(a=b("MarketplaceMeasurementUtils").getCurrentStatusLabel(a==null?void 0:a.seller_added_labels))==null?void 0:a.label_type;a=b("getJSEnumSafe")(b("MarketplaceThreadLabelTypeEnum"),a);if(!d||!e||!f)return null;var j=this.props.thread.thread_fbid||this.props.thread.other_user_fbid;return i.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MarketplaceMessengerContextBanner.react").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:i.jsx("div",{}),component:i.jsx(b("LazyComponent.react"),{buyerID:e,eligibleProfileSellingInvoiceActions:h,forSaleItem:d,renderLocation:"messenger",sellerID:f,isSellerEligibleForShipping:g,threadFBID:j,selectedLabel:a,threadLabelString:c})})},_renderCoworkerThreadBanner:function(){var a;a=(a=this.props.thread)==null?void 0:a.group_thread_subtype;return a!==13?null:i.jsx(b("CoworkerThreadContextBanner.react"),{})},_renderPageLink:function(){if(b("CurrentUser").isWorkUser()||!this._isPageChat())return null;var a=function(a){b("Bootloader").loadModules(["MessengerInfoPanelPageThreadMDotMeLinkContainerReact.bs"],function(b){b=b.jsComponent;return a(b)},"MessengerThreadInfoPanelContainer.react")};return i.jsx(b("ErrorBoundary.react"),{children:i.jsx(b("LoadOnRender.react"),{component:i.jsx(b("LazyComponent.react"),{isCollapsed:this.state.page_link_section_collapsed,onToggle:this._handlePageMDotMeLinkSectionToggle,thread:this.props.thread,viewer:this.props.viewer}),loader:a,placeholder:i.jsx("div",{})})})},_renderGroupDescription:function(){var a;if(b("CurrentUser").isWorkUser()&&!this.props.thread.is_canonical)return i.jsx(b("WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs").jsComponent,{isCollapsed:this.state.description_section_collapsed,onToggle:this._handleDescriptionSectionToggle,thread:this.props.thread,viewer:this.props.viewer});if(!b("MessengerConfig").IGDE)return null;a=this.props.thread.marketplace_thread_data&&(((a=this.props.thread.marketplace_thread_data)!=null?a.for_sale_item:a)||((a=this.props.thread.marketplace_thread_data)!=null?a.buyer_fbid:a)||((a=this.props.thread.marketplace_thread_data)!=null?a.seller_fbid:a));a=a||this.props.thread.is_canonical||b("MessageRequestUtils").isMessageRequest(this.props.thread)||this.props.thread.associated_object;return a?null:i.jsx(b("MessengerInfoPanelGroupThreadDescriptionContainerReact.bs").jsComponent,{isCollapsed:this.state.description_section_collapsed,onToggle:this._handleDescriptionSectionToggle,thread:this.props.thread,viewer:this.props.viewer})},_renderGroupLink:function(){return i.jsx(b("BootloadOnRender.react"),{component:i.jsx(b("LazyComponent.react"),{isCollapsed:this.state.group_link_section_collapsed,onToggle:this._handleGroupLinkSectionToggle,thread:this.props.thread,viewer:this.props.viewer}),loader:b("JSResource")("messengerInfoPanelGroupLinkContainerReactComponent").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:i.jsx("div",{})})},_renderGroupOptions:function(){return i.jsx(b("MessengerInfoPanelGroupSection.react"),{isOptionsCollapsed:this.state.group_section_collapsed,onOptionsToggle:this._handleGroupOptionsSectionToggle,isApprovalsCollapsed:this.state.group_approval_section_collapsed,onApprovalToggle:this._handleGroupOptionsApprovalSectionToggle,onToggle:this._handleThreadSectionToggle,participants:this.props.participants,viewer:this.props.viewer,thread:this.props.thread})},_renderMembers:function(){return i.jsx(b("MessengerInfoPanelPeopleSectionReact.re").make,{canViewerReply:b("MercuryThreadInfo").canReply(this.props.thread),contactAdapter:b("MessengerContactAdapters").fromMercuryParticipant,isCollapsed:this.state.people_section_collapsed,isViewerSubscribed:this.props.thread.is_subscribed,onAddPeopleClick:this._handleAddPeopleClick,onContactAction:this._handleContactAction2,onContactSelect:this._handleContactSelect2,onToggle:this._handlePeopleSectionToggle,participants:this.props.participants,viewer:this.props.viewer,admins:this.props.thread.admins,thread:this.props.thread})},_handleAddPeopleClick:function(a){var c=this;a.preventDefault();b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("messengerAddToConversationDialogReactComponent").__setRef("MessengerThreadInfoPanelContainer.react"),placeholder:i.jsx("div",{}),component:i.jsx(b("LazyComponent.react"),{thread:c.props.thread,viewer:c.props.viewer})})})},_handleContactAction2:function(a,c){b("MessengerContactListRowActions").handleContactActions({action:a,contact:c,viewer:this.props.viewer,thread:this.props.thread,participants:this.props.participants,handleContactSelect:this._handleContactSelect})},_handleContactSelect2:function(a,c){this._handleContactSelect(b("MessengerContactAdapters").fromMercuryParticipant(a))}});d=c;e.exports=d}),null);
__d("MessengerInfoPanelSearchReact.re",["MessengerInfoPanelSearchReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerInfoPanelSearchReact.bs").handleSearchThread;f.handleSearchThread=a}),null);
__d("MessengerURIListener",["Arbiter","MessengerActions","MessengerURISerializer","PageTransitions"],(function(a,b,c,d,e,f){"use strict";f.start=a;f.stop=c;var g=!1;function a(){g||b("PageTransitions").registerHandler(h,6),g=!0}function c(){b("PageTransitions").removeHandler(h,6),g=!1}function h(a){a=b("MessengerURISerializer").deserialize(a);if(a.notMessenger){b("Arbiter").subscribeOnce("page_transition",function(){g&&b("PageTransitions").registerHandler(h)});return!1}b("PageTransitions").transitionComplete();b("MessengerActions").changeState(a);return!0}}),null);
__d("WorkchatAppKeyboardShortcut.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");b("immutable").List;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("div",{className:"_2_xt _4lrb",children:[h.jsx("div",{className:"_4lrc",children:this.props.label}),h.jsx("div",{className:"_4lrl",children:this.props.keys.map(function(a){return h.jsx("span",{className:"_4lrm",children:a},a)})})]})};return b}(h.Component);e.exports=a}),null);
__d("WorkchatAppKeyboardShortcutsDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogHeaderReact.re","MessengerDialogs.re","MessengerDialogTitleReact.re","React","WorkchatAppKeyboardShortcut.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("immutable").List,k=function(a){return a==="darwin"?{CmdOrCtrl:"\u2318",Alt:"\u2387",Shift:"\u21e7",Tab:"\u21b9",Up:"\u2191",Down:"\u2193"}:{CmdOrCtrl:"Ctrl",Alt:"Alt",Shift:"Shift",Tab:"Tab",Up:"\u2191",Down:"\u2193"}},l=function(a){a=k(a);return j([{Header:"General",Shortcuts:j([{label:h._("Create new chat"),keys:j([a.CmdOrCtrl,"N"])},{label:h._("Search chats"),keys:j([a.CmdOrCtrl,"K"])},{label:h._("Show\/hide notifications"),keys:j([a.CmdOrCtrl,"/"])}])},{Header:"Navigation",Shortcuts:j([{label:h._("Go to previous chat"),keys:j([a.Alt,a.Up])},{label:h._("Go to next chat"),keys:j([a.Alt,a.Down])},{label:h._("Go to next element"),keys:j([a.Tab])},{label:h._("Open\/select element"),keys:j(["Spacebar"])}])},{Header:"In a Conversation",Shortcuts:j([{label:h._("Show\/hide information"),keys:j([a.CmdOrCtrl,"."])},{label:h._("Mute\/unmute chat"),keys:j([a.CmdOrCtrl,a.Shift,"M"])},{label:h._("Find in chat"),keys:j([a.CmdOrCtrl,"F"])}])},{Header:"During a Call",Shortcuts:j([{label:h._("Toggle mute"),keys:j(["M"])},{label:h._("Toggle video"),keys:j(["V"])}])}])};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=l(this.props.platform);return i.jsxs(b("MessengerDialog.react"),{onToggle:this.$1,type:"default",width:560,children:[i.jsxs(b("MessengerDialogHeaderReact.re").make,{children:[i.jsx(b("MessengerDialogTitleReact.re").make,{children:h._("Keyboard Shortcuts")}),i.jsx(b("MessengerDialogButton.react"),{action:"cancel",label:h._("Done"),type:"primary",use:"default"})]}),i.jsx(b("MessengerDialogBody.react"),{children:this.$2(a)})]})};d.$2=function(a){return i.jsx("div",{className:"_4yne",children:a.map(function(a,c){return i.jsxs("div",{className:"_2_xt"+(c!==0?" _4ynf":""),children:[i.jsx("div",{className:"_4ynr",children:a.Header}),i.jsx("div",{children:a.Shortcuts.map(function(a){return i.jsx(b("WorkchatAppKeyboardShortcut.react"),{keys:a.keys,label:a.label},a.label)})})]},a.Header)})})};d.$1=function(a){a||b("MessengerDialogs.re").removeDialog({})};return c}(i.PureComponent);e.exports=a}),null);
__d("WorkchatAppBridge",["fbt","Arbiter","CurrentLocale","CurrentUser","MercuryThreadActions","MercuryThreadInfo","MercuryThreadInformer","MessagingTag","MessengerActions","MessengerDialogs.re","MessengerInfoPanelSearchReact.re","MessengerPromotionDataActions","MessengerSettingsActions","MessengerSettingsStore","MessengerState.re","MessengerURIListener","MessengerURIStore","React","WorkchatAppKeyboardShortcutsDialog.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";f.toggleWorkNotificationJewel=a;f.toggleKeyboardShortCutsList=c;f.toggleInfoPanel=d;f.getCurrentUser=e;f.getCurrentLocale=j;f.subscribeToUnseenMessageCount=k;f.enableDesktopNotifs=l;f.onSampleTextFromThread=m;f.selectThread=n;f.newThread=o;f.searchInChat=p;f.restartURIListener=q;f.initReloadEveryDayHack=r;f.toggleMuteConversation=s;f.showAppUpdateBanner=t;f.init=u;var h=b("React"),i="TOGGLE_NOTIFICATION_DIALOG";f.TOGGLE_NOTIFICATION_DIALOG=i;function a(){b("Arbiter").inform(i)}function c(a){b("MessengerDialogs.re").showDialog(function(){return h.jsx(b("WorkchatAppKeyboardShortcutsDialog.react"),{platform:a})})}function d(){var a=b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!a})}function e(){return{isWorkUser:b("CurrentUser").isWorkUser,isEmployee:b("CurrentUser").isEmployee,getID:b("CurrentUser").getID,upgradeToWorchon:b("gkx")("1547427")}}function j(){return b("CurrentLocale").get()}function k(a){var c=b("MercuryThreadInformer").get();b("gkx")("997564")?(c.subscribe("unseen-updated",function(){var c;return a((c=b("MessengerState.re").getUnreadThreadCount(b("CurrentUser").getID(),b("MessagingTag").INBOX))!=null?c:0)}),c.subscribe("unread-updated",function(){var c;return a((c=b("MessengerState.re").getUnreadThreadCount(b("CurrentUser").getID(),b("MessagingTag").INBOX))!=null?c:0)})):(c.subscribe("unseen-updated",function(){return a(b("MessengerState.re").getUnseenCount(b("CurrentUser").getID()))}),c.subscribe("unread-updated",function(){return a(b("MessengerState.re").getUnseenCount(b("CurrentUser").getID()))}))}function l(){b("MessengerSettingsActions").changeDesktopNotifs(!0)}function m(a){function c(){var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;b("MessengerState.re").getThreadMessagesRange(b("CurrentUser").getID(),c,0,10,function(b){b=b.map(function(a){return a.body}).join("\n");a(b)})}c();b("MessengerURIStore").addListener("change",function(){c()})}function n(a){b("MessengerActions").selectThread("thread:"+a)}function o(){b("MessengerActions").changeDetailView("detail/compose")}function p(){b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!1}),b("MessengerInfoPanelSearchReact.re").handleSearchThread()}function q(){b("MessengerURIListener").stop(),b("MessengerURIListener").start()}function r(){return}function s(){var a=b("CurrentUser").getID(),c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;var d=b("MessengerState.re").getThreadMetaNow(a,c);if(!d)return;d=b("MercuryThreadInfo").isMuted(d);a=b("MercuryThreadActions").getForFBID(a);d?a.unmute(c):a.updateMuteSetting(c,-1)}function t(a){b("MessengerPromotionDataActions").setPromotionData({promotionID:null,promotionContent:g._("A new version is available with improvements and fixes."),primaryActionTitle:g._("Click to update"),primaryActionCallback:a})}function u(){if(window.workchat===void 0||typeof window.workchat.initMainWindow!=="function")return;window.workchat.initMainWindow(this);this.initReloadEveryDayHack()}}),null);
__d("MessengerDetailView.react",["cx","fbt","invariant","Bootloader","BootloadOnRender.react","CurrentUser","CustomColorHighlighting.react","DataTransfer","JSResource","LazyComponent.react","MercuryCanonicalGroupThreadStore","MercuryConfig","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MessengerActions","MessengerComposerContainer.react","MessengerComposerStore","MessengerConversation.react","MessengerConversationContainer.react","MessengerDeliveryReceipt.bs","MessengerDetailViewHeaderContainer.react","MessengerDomIDs.bs","MessengerDotComAndInboxM4Check.bs","MessengerErrorBoundary.react","MessengerGalahadGating.bs","MessengerParticipants.bs","MessengerPresenceStatusUtils","MessengerSettingsActions","MessengerSettingsStore","MessengerState.bs","MessengerThreadInfoPanelContainer.react","MessengerThreadSearchActions","MessengerThreadSearchStore","MessengerURIStore","MessengerView","Parent","PresenceStatus","React","SubscriptionsHandler","WorkChatAvailabilityStatusLoader","WorkChatRedesignedMessageListCheck.re","WorkGalahadSettings","compactArray","createReactClass_DEPRECATED","gkx","immutable","prop-types","requireCond","WorkchatAppBridge","AvailableList","emptyFunction","ifRequired","joinClasses","lazyLoadComponent","cr:1186631","promiseDone","cr:895572","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");b("WorkchatAppBridge").init();b("AvailableList");var k=b("lazyLoadComponent")(b("JSResource")("WorkChatPinnedMessages.react").__setRef("MessengerDetailView.react")),l=b("lazyLoadComponent")(b("JSResource")("WorkChatGroupNameComposeViewHeader.react").__setRef("MessengerDetailView.react"));a=b("createReactClass_DEPRECATED")({displayName:"MessengerDetailView",_composer:void 0,_refsConversationContainer:null,_subscriptionsHandler:null,_participantSubscription:null,_userStatusLiveSubscription:null,_currentThreadIDForStatusSubscription:null,propTypes:{activeThread:b("prop-types").object,activeThreadID:b("prop-types").string,blockedIds:b("prop-types").any,deliveryReceipts:b("prop-types").object,messengerState:b("prop-types").object.isRequired,readReceipts:b("prop-types").any,view:b("prop-types").string,viewer:b("prop-types").string.isRequired,isWorkUser:b("prop-types").bool.isRequired,hostProps:b("prop-types").object,DetailViewHeaderComponent:b("prop-types").any.isRequired,hideGroupInfoInThreadInfoPanel:b("prop-types").bool,hideContextBanner:b("prop-types").bool,openPostComposerInSameWindow:b("prop-types").bool,suppressThreadInfoPanel:b("prop-types").bool,suppressSearchResults:b("prop-types").bool,bottomOffset:b("prop-types").number},calculateState:function(a,c){var d,e=this;c===void 0&&(c=!1);d=a.activeThreadID||((d=a.activeThread)==null?void 0:d.thread_id);var f=b("MessengerComposerStore").getState();if(a.view===b("MessengerView").DETAIL.COMPOSE){!f.recipients&&i(0,1840);var g=f.recipients;g.size===1?d=b("MercuryIDs").getThreadIDFromUserID(g.first().getUniqueID().toString()):g.size>1&&(d=b("MercuryCanonicalGroupThreadStore").getOrFetch(Array.from(g).map(function(a){return a.getUniqueID().toString()})))}g=this.props.activeThread;d&&!g&&(g=b("MessengerState.bs").getThreadMetaNow(a.viewer,d),!g&&!c&&b("MessengerState.bs").getThreadMeta(a.viewer,d,function(a){g=a}));c=b("immutable").Map();this._participantSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantSubscription);var h=g;if(h&&d){var j=h.participants;if(h.is_subscribed){var k=b("MercuryIDs").getParticipantIDFromUserID(a.viewer);j=j.concat([k])}k=b("MessengerParticipants.bs").getMultiEagerMap(j,function(a){e._participantSubscription=null,e.setState({participants:a})});j=k[0];k=k[1];this._participantSubscription=k;c=j}k=b("ifRequired")("MessengerUploadFilesStore",function(a){return a.getState()},function(){return b("immutable").Map({})});j=b("ifRequired")("MessengerSharePreviewStore",function(a){return a.getState()},function(){return b("immutable").Map({})});var l=b("ifRequired")("WorkChatContentAppStore",function(a){return a.getState()},function(){return b("immutable").Map({})});this._checkThreadUpdatedForStatusSubscription(h);return{infoPanelCollapsed:b("MessengerSettingsStore").getSettings().info_sidebar_collapsed,activeThreadID:d,composerState:f,messengerState:b("MessengerURIStore").getState(),contactData:b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(c,h),activeThread:h,participants:c,searchResults:b("MessengerThreadSearchStore").getState(),uploadFilesState:k,sharePreviewState:j,workChatContentAppsState:l,hideGroupInfoInThreadInfoPanel:!!a.hideGroupInfoInThreadInfoPanel,hideContextBanner:!!a.hideContextBanner,openPostComposerInSameWindow:!!a.openPostComposerInSameWindow}},getInitialState:function(){return babelHelpers["extends"]({dropTargetOverlayVisible:!1,isCreatingNewGroupChat:!1,newGroupName:""},this.calculateState(this.props,!0))},componentDidMount:function(){var a=this;this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscribeToSubscriptionsHandler([b("MessengerComposerStore"),b("MessengerSettingsStore"),b("MessengerURIStore"),b("MessengerThreadSearchStore"),b("MercuryCanonicalGroupThreadStore"),b("PresenceStatus")]);b("Bootloader").loadModules(["MessengerUploadFilesStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");b("Bootloader").loadModules(["MessengerSharePreviewStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){b=b.store;a._subscribeToSubscriptionsHandler([b]);a._checkThreadUpdatedForStatusSubscription(a.state.activeThread)});b("CurrentUser").isWorkUser()&&b("gkx")("1192386")&&b("Bootloader").loadModules(["WorkChatContentAppStore"],function(b){a._subscribeToSubscriptionsHandler([b])},"MessengerDetailView.react");this.setState(this.calculateState(this.props,!1))},_subscribeToSubscriptionsHandler:function(a){var b=this,c=function(){b.setState(b.calculateState(b.props,!1))},d=[];a.forEach(function(a){a.hasChanged&&a.getDispatchToken&&a.addListener?d.push(a.addListener(c)):a.subscribe?d.push(a.subscribe("change",c)):a.addListener?d.push(a.addListener("change",c)):i(0,574)});if(d.length>0){this._subscriptionsHandler&&(a=this._subscriptionsHandler).addSubscriptions.apply(a,d)}},shouldComponentUpdate:function(a,c){return b("shallowCompare")(this,a,c)},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release(),this._subscriptionsHandler=null,this._participantSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantSubscription)},UNSAFE_componentWillReceiveProps:function(a){this.setState(this.calculateState(a,!1)),this.props&&this.props.activeThreadID!==a.activeThreadID&&this._cancelReplyingToMessage(),this.setState(function(c){var d=b("MessengerComposerStore").getState();return a.view!==b("MessengerView").DETAIL.COMPOSE||d.recipients.size<2||c.newGroupName===""?{newGroupName:"",isCreatingNewGroupChat:!1}:{}})},_checkThreadUpdatedForStatusSubscription:function(a){if(!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return;var c=a==null?void 0:a.thread_id;if((a==null?void 0:a.thread_fbid)==null)return;if(this._currentThreadIDForStatusSubscription===c)return;var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),e=b("MercuryIDs").getUserIDFromThreadID(c);this._userStatusLiveSubscription!=null&&(this._userStatusLiveSubscription.dispose(),this._userStatusLiveSubscription=null);e!=null?(d.fetchUsersIfNeeded([e]),this._userStatusLiveSubscription=d.liveSubscribe(e)):a!=null&&b("gkx")("1222861")&&d.fetchUsersIfNeeded(b("compactArray")(a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)})));this._currentThreadIDForStatusSubscription=c},_renderMessageView:function(a){var c=null;return j.jsxs("div",{className:"_4_j4"+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj4":""),onClick:this._handleConversationClick,onDragEnter:this._showDropTargetOverlay,onDragLeave:this._hideDropTargetOverlay,onDragOver:this._showDropTargetOverlay,onDrop:this._handleDrop,role:"presentation",children:[this._renderGroupNameComposerHeader(),this.state.activeThread!=null?j.jsx(m,{thread:this.state.activeThread,onResize:this._handleResize}):null,this._renderMainView(a),c,this._renderSearchView(a),this._renderFooterView(a),j.jsx("div",{className:(this.state.dropTargetOverlayVisible?"":"hidden_elem")+" _2fg6"}),this._renderUploadFiles(a)]})},render:function(){var a=this;if(this.props.view===b("MessengerView").DETAIL.GALLERY&&b("cr:1186631")!==null)return j.jsx(b("cr:1186631"),{});var c=this.state.activeThreadID,d=this.props.DetailViewHeaderComponent;if(this.props.hostProps&&this.props.hostProps.renderMinimal)return this._renderMessageView(c);else{var e=this._getMainLabelDetails();return j.jsxs("div",{"aria-labelledby":e.labelIDs,className:b("joinClasses")("_1t2u"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7sli":""),b("cr:895572")),role:"main",children:[j.jsxs("div",{className:"hidden_elem",id:b("MessengerDomIDs.bs").ids.MAIN_LABEL,children:[e.labelText," "]}),j.jsxs(b("CustomColorHighlighting.react"),{className:"_wsc",customColor:b("WorkChatRedesignedMessageListCheck.re").enabled?null:this.state.activeThread&&this.state.activeThread.solid_color,children:[j.jsx(d,{contactData:this.state.contactData,recipients:this.state.composerState.recipients,participants:this.state.participants,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,onResize:this._handleResize,onInfoPanelToggle:this._handleInfoPanelToggle,infoPanelCollapsed:this.state.infoPanelCollapsed,isWorkUser:this.props.isWorkUser,messengerState:this.props.messengerState,shouldShowCreateGroupButton:b("gkx")("836564")&&this.state.composerState.recipients.size>=2&&c&&!this.state.isCreatingNewGroupChat,onCreateGroupButtonClicked:function(){a.setState({newGroupName:"",isCreatingNewGroupChat:!0})}}),j.jsxs("div",{className:"_20bp",children:[this._renderInfoPanel(),this._renderMessageView(c)]})]})]})}},_renderUploadFiles:function(a){if(!a)return null;var c=this.state.sharePreviewState.get(a);return j.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerDragAndDrop.react").__setRef("MessengerDetailView.react"),placeholder:j.jsx("div",{}),component:j.jsx(b("LazyComponent.react"),{threadID:a,sharePreview:c,onResize:this._handleResize})})},_renderSearchView:function(a){return b("WorkGalahadSettings").isGalahadEnabled?null:a&&!this.props.mid&&this.props.query!=null?j.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerThreadSearchContainer.react").__setRef("MessengerDetailView.react"),placeholder:j.jsx("div",{className:"_33p7 _5iwm"}),component:j.jsx(b("LazyComponent.react"),{loading:this.state.searchResults.loading,query:this.state.searchResults.query,selectedIndex:this.state.searchResults.selectedIndex,totalCount:this.state.searchResults.totalCount})}):null},_renderGroupNameComposerHeader:function(){var a=this;return this._shouldShowGroupNameComposer()?j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(l,{autoFocus:!b("gkx")("836564")&&this.state.isCreatingNewGroupChat,onChange:function(b){a.setState({newGroupName:b})},onCloseButtonClick:function(){a.setState({isCreatingNewGroupChat:!1})},showCloseButton:this.state.isCreatingNewGroupChat})}):null},_assignConversationContainerRef:function(a){this._refsConversationContainer=a},_renderMainView:function(a){if(!a||this._shouldShowGroupNameComposer())return j.jsx("div",{className:"_1ut7"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":"")});var c=this.state.contactData?this.state.contactData.contact:null,d=this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,a):0;return this.state.searchResults.messages&&this.props.suppressSearchResults!==!0?j.jsx(b("MessengerErrorBoundary.react"),{component:"conversation",children:j.jsx(b("MessengerConversation.react"),{className:"_1wfr"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":""),contact:c,deliveryTimestamp:d,downExhausted:this.state.searchResults.downExhausted,fetchMessages:b("MessengerThreadSearchActions").getMoreSearchContext,onVoiceClipCreate:this.handleAudioUpload,innerClassName:"_1r_-",isCanonical:b("MercuryIDs").isCanonical(a),isLoaded:!0,isLoading:!1,messages:this.state.searchResults.messages,onRead:b("emptyFunction"),onReplyToMessage:this._handleReplyToMessage,readReceipts:this.props.readReceipts,thread:this.state.activeThread,threadID:a,upExhausted:this.state.searchResults.upExhausted,useManualFetch:!0,viewer:this.props.viewer,ref:this._assignConversationContainerRef,selectedMessage:this.state.searchResults.mid,scrolledToMid:this.state.searchResults.scrolledToMid,isSearchResult:!!this.state.searchResults.query,hideContextBanner:this.state.hideContextBanner})}):j.jsx(b("MessengerErrorBoundary.react"),{component:"conversation",children:j.jsx(b("MessengerConversationContainer.react"),{className:"_1wfr"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w75":"")+(b("MessengerGalahadGating.bs").isGalahadUIEnabled()?" _7pj5":""),contact:c,deliveryTimestamp:d,ignoredIds:b("MessengerState.bs").ignoredIds(this.props.messengerState),fbid:b("MessengerState.bs").fbid(this.props.messengerState),onVoiceClipCreate:this.handleAudioUpload,onMarkRead:this._handleMarkRead,onReplyToMessage:this._handleReplyToMessage,readReceipts:this.props.readReceipts,ref:this._assignConversationContainerRef,thread:this.state.activeThread,threadID:a,viewer:this.props.viewer,hideContextBanner:this.state.hideContextBanner,bottomOffset:this.props.bottomOffset})})},_renderFooterView:function(a){var c=this;return j.jsx(b("MessengerErrorBoundary.react"),{className:"_4rv3 _2pen",component:"composer",children:j.jsx(b("MessengerComposerContainer.react"),{canReply:!!(!this._shouldBlockReply()&&(this.props.view===b("MessengerView").DETAIL.COMPOSE||this.state.activeThread&&b("MercuryThreadInfo").canReply(this.state.activeThread)&&!b("MercuryConfig").ViewerIsReadOnly)),disableAutofocus:b("CurrentUser").isWorkUser()&&this.props.view===b("MessengerView").DETAIL.COMPOSE,fileUploader:this.state.uploadFilesState.get(a),onMount:function(a){return c._composer=a},onResize:this._handleResize,participants:this.state.participants,recipients:this.state.composerState.recipients,sharePreview:this.state.sharePreviewState.get(a),workChatContentApps:this.state.workChatContentAppsState.get(a),hostProps:this.props.hostProps,threadID:a,threadFBID:this.state.activeThread?this.state.activeThread.thread_fbid:null,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,replyingToMessage:this.state.replyingToMessage,onCancelReplyingToMessage:this._cancelReplyingToMessage,newGroupName:this.state.newGroupName,openPostComposerInSameWindow:this.state.openPostComposerInSameWindow})})},_renderInfoPanel:function(){var a=this.state,c=a.activeThread,d=a.contactData,e=a.infoPanelCollapsed,f=a.participants;a=a.hideGroupInfoInThreadInfoPanel;var g=this.props,h=g.view;g=g.suppressThreadInfoPanel;return g||!c||!f||h===b("MessengerView").DETAIL.COMPOSE?null:j.jsx("div",{className:(e?"hidden_elem":"")+" _4_j5","data-testid":void 0,children:j.jsx(b("MessengerErrorBoundary.react"),{className:"_4rv3",component:"conversation information",children:j.jsx(b("MessengerThreadInfoPanelContainer.react"),{blockedIds:this.props.blockedIds,className:"_4_j9",contactData:d,participants:f,thread:c,viewer:this.props.viewer,hideGroupInfoInThreadInfoPanel:a})})})},_getMainLabelDetails:function(){return this.props.view===b("MessengerView").DETAIL.COMPOSE?{labelText:h._("New Message"),labelIDs:b("MessengerDomIDs.bs").ids.MAIN_LABEL}:{labelText:h._("Conversation with"),labelIDs:b("MessengerDomIDs.bs").ids.MAIN_LABEL+" "+b("MessengerDomIDs.bs").ids.THREAD_TITLE}},_handleConversationClick:function(a){var c=this.props.activeThreadID;if(c&&this._refsConversationContainer&&this._refsConversationContainer.isScrolledToBottom()){var d=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,c);d&&d.unread_count&&d.unread_count>0&&this._handleMarkRead(c)}if(window.getSelection().toString()!=="")return;d=a.target;if(d instanceof Node&&b("Parent").byTag(d,"a")!=null)return;c=this._getComposer();c&&c.focusInput()},handleAudioUpload:function(a){var b=this._getComposer();b!=null&&a!=null&&(b.handleAudioUpload(a),b.focusInput())},_showDropTargetOverlay:function(a){a&&a.preventDefault(),this.setState({dropTargetOverlayVisible:!0})},_hideDropTargetOverlay:function(a){a&&a.preventDefault();this.setState({dropTargetOverlayVisible:!1});a=this._getComposer();a&&a.resetDrag()},_handleDrop:function(a){this._hideDropTargetOverlay(a);var c=this._getComposer();if(!c)return;a.nativeEvent.dataTransfer instanceof Object||i(0,1841);var d=new(b("DataTransfer"))(a.nativeEvent.dataTransfer),e=d.getFiles(),f=this.state.activeThreadID;if(e.length){b("MessengerActions").prepareFilesForSend(f,a.nativeEvent.dataTransfer.files,"DragAndDrop");return}if(e.length)c.handleFileUpload(e);else{f=d.getText();f&&c.handleTextDropped(f)}},_handleResize:function(){var a=this._refsConversationContainer;a&&a.handleResize()},_handleInfoPanelToggle:function(){var a=!this.state.infoPanelCollapsed;this.setState({infoPanelCollapsed:a},function(){b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:a})})},_handleMarkRead:function(a){b("MercuryThreadActions").getForFBID(this.props.viewer).markRead(a)},_handleReplyToMessage:function(a){this.setState({replyingToMessage:a});a=this._getComposer();a!=null&&a.focusInput()},_cancelReplyingToMessage:function(){this.setState({replyingToMessage:null})},_shouldShowGroupNameComposer:function(){return!b("gkx")("836564")||this.props.view!==b("MessengerView").DETAIL.COMPOSE||this.state.composerState.recipients.size<2?!1:!this.state.activeThread||this.state.isCreatingNewGroupChat},_shouldBlockReply:function(){var a;return!!(((a=this.state.contactData)==null?void 0:(a=a.contact)==null?void 0:a.is_messenger_blocked)||b("MercuryConfig").ColdOpenBlock&&this.state.activeThread&&b("MercuryThreadInfo").isColdOpen(this.state.activeThread))},_getComposer:function(){return this._composer}});function m(a){var c=a.thread;a=a.onResize;if(c==null)return null;var d=c.pinned_messages,e=c.thread_fbid;return e==null||d==null||!b("gkx")("1179386")?null:j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(k,{thread:c,threadFBID:e,pinnedMessages:d,onResize:a})})}a.defaultProps={DetailViewHeaderComponent:b("MessengerDetailViewHeaderContainer.react")};c=a;e.exports=c}),null);
__d("MessengerDetailViewReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerDetailView.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m){var n;return b("ReasonReact.bs").wrapJsForReason(b("MessengerDetailView.react"),{activeThreadID:(n=b("bs_js_null_undefined")).fromOption(a),blockedIds:c,className:n.fromOption(d),deliveryReceipts:e,readReceipts:f,messengerState:g,mid:n.fromOption(h),query:n.fromOption(i),view:n.fromOption(j),viewer:k,isWorkUser:l},m)}f.make=a}),null);
__d("MessengerFlexScrollableAreaReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerFlexScrollableArea.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;return b("ReasonReact.bs").wrapJsForReason(b("MessengerFlexScrollableArea.react"),{onScroll:(g=b("bs_js_null_undefined")).fromOption(a),className:g.fromOption(c),maxHeight:g.fromOption(d),limitCalculationToParent:g.fromOption(e)},f)}f.make=a}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f){function g(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function h(a,c){var d=[];a.forEach(function(a){var e=a[0];a=a[1];if(d.length>=c)return;if(b("PresencePrivacy").getFriendVisibility(e)==b("PresencePrivacy").BLACKLISTED)return;a==b("PresenceStatus").get(e)&&d.push(e)});return d}a=function(){function a(){this.$1=null}var c=a.prototype;c.getSorted=function(a,c){var d=this;if(this.$1){c(h(this.$1,a));return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;d.$1=g(b);c(h(d.$1,a))})};c.getAvailableSorted=function(a){var c=b("PresenceStatus").getOnlineIDs();a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};c.getAllSorted=function(a){var c=[],d=this.$1||[];b("PresenceStatus").getAllIDs().concat(d.map(function(a){return a[0]})).forEach(function(a){return c.indexOf(a)===-1&&c.push(a)});a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};return a}();c=new a();e.exports=c}),null);
__d("AbstractPopoverButtonReact.bs",["ReasonReact.bs","bs_js_null_undefined","AbstractPopoverButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h;return b("ReasonReact.bs").wrapJsForReason(b("AbstractPopoverButton.react"),{config:(h=b("bs_js_null_undefined")).fromOption(a),haschevron:h.fromOption(c),image:h.fromOption(d),label:h.fromOption(e),maxwidth:h.fromOption(f)},g)}f.make=a}),null);
__d("MessengerSettingsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M18,11.00025 C14.1345,11.00025 11.0005,14.13425 11.0005,18.00025 C11.0005,21.86575 14.1345,24.99975 18,24.99975 C21.8655,24.99975 24.9995,21.86575 24.9995,18.00025 C24.9995,14.13425 21.8655,11.00025 18,11.00025 Z M31,17.42725 L31,18.57325 C31,19.14125 30.679,19.66025 30.171,19.91475 L28.638,20.68075 C28.2975,20.85125 28.0215,21.13725 27.8915,21.49475 C27.7675,21.83575 27.624,22.16775 27.4665,22.49175 C27.3,22.83375 27.286,23.23025 27.406,23.59175 L27.96,25.25225 C28.1395,25.79125 27.999,26.38575 27.5975,26.78725 L26.787,27.59775 C26.3855,27.99925 25.791,28.13975 25.2525,27.95975 L23.595,27.40725 C23.234,27.28725 22.837,27.30125 22.495,27.46775 C22.1705,27.62575 21.837,27.76975 21.4945,27.89425 C21.1355,28.02475 20.849,28.30125 20.6785,28.64275 L19.9145,30.17075 C19.6605,30.67875 19.141,31.00025 18.573,31.00025 L17.427,31.00025 C16.859,31.00025 16.3395,30.67875 16.0855,30.17075 L15.3215,28.64275 C15.151,28.30125 14.864,28.02475 14.5055,27.89425 C14.1625,27.76975 13.83,27.62575 13.505,27.46775 C13.163,27.30125 12.766,27.28725 12.405,27.40725 L10.7475,27.95975 C10.2085,28.13975 9.6145,27.99925 9.213,27.59775 L8.4025,26.78725 C8.0005,26.38575 7.8605,25.79125 8.04,25.25225 L8.594,23.59175 C8.714,23.23025 8.7,22.83375 8.5335,22.49175 C8.376,22.16775 8.2325,21.83575 8.1085,21.49475 C7.9785,21.13725 7.7025,20.85125 7.362,20.68075 L5.829,19.91475 C5.321,19.66025 5,19.14125 5,18.57325 L5,17.42725 C5,16.85875 5.321,16.33925 5.829,16.08525 L7.362,15.31925 C7.7025,15.14875 7.9785,14.86275 8.1085,14.50525 C8.2325,14.16425 8.376,13.83225 8.5335,13.50825 C8.7,13.16625 8.714,12.76975 8.594,12.40825 L8.04,10.74775 C7.8605,10.20875 8.0005,9.61475 8.4025,9.21275 L9.213,8.40275 C9.6145,8.00075 10.2085,7.86025 10.7475,8.04025 L12.405,8.59275 C12.766,8.71275 13.163,8.69875 13.505,8.53225 C13.83,8.37425 14.1625,8.23025 14.5055,8.10575 C14.864,7.97525 15.151,7.69875 15.3215,7.35725 L16.0855,5.82925 C16.3395,5.32125 16.859,5.00025 17.427,5.00025 L18.573,5.00025 C19.141,5.00025 19.6605,5.32125 19.9145,5.82925 L20.6785,7.35725 C20.849,7.69875 21.1355,7.97525 21.4945,8.10575 C21.837,8.23025 22.1705,8.37425 22.495,8.53225 C22.837,8.69875 23.234,8.71275 23.595,8.59275 L25.2525,8.04025 C25.791,7.86025 26.3855,8.00075 26.787,8.40275 L27.5975,9.21275 C27.999,9.61475 28.1395,10.20875 27.96,10.74775 L27.406,12.40825 C27.286,12.76975 27.3,13.16625 27.4665,13.50825 C27.624,13.83225 27.7675,14.16425 27.8915,14.50525 C28.0215,14.86275 28.2975,15.14875 28.638,15.31925 L30.171,16.08525 C30.679,16.33925 31,16.85875 31,17.42725 Z",fill:"#000000"})],id:"Settings"}),id:"settings",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"30px",width:"30px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/fb_iframe_target/",{gk_spoof:{type:"String"}})}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/messenger_dot_com_iframe/",{redirect_uri:{type:"String",required:!0}})}),null);
__d("MessengerSpoof",["Arbiter","DOM","JSXDOM","URI","XMessengerDotComSpoofIFrameController","XSpoofMessengerDotComIFrameController"],(function(a,b,c,d,e,f){"use strict";f.init=a;var g,h=6e3;function a(a){var c=b("JSXDOM").iframe({src:i().toString(),width:0,height:0});b("DOM").appendContent(document.body,c);b("Arbiter").subscribeOnce("messengerdotcom_spoof",function(){b("DOM").remove(c),a()});setTimeout(function(){b("Arbiter").inform("messengerdotcom_spoof")},h)}function i(){var a=new(g||(g=b("URI")))(document.URL),c=b("XMessengerDotComSpoofIFrameController").getURIBuilder().getURI().getQualifiedURI().toString();c=b("XSpoofMessengerDotComIFrameController").getURIBuilder().setString("redirect_uri",c).getURI();return c.setDomain(a.getDomain().replace("messenger.com","facebook.com")).setPort(a.getPort()).setProtocol("https")}}),null);
__d("SRDevModeParams",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({items:["__spin_r","__spin_b","__spin_t","__spin_dev_mhenv"],escapeParam:"reset_spin"})}),null);
__d("SRPinningNub",["Event","SRDevModeParams","URI"],(function(a,b,c,d,e,f){f.watchForm=a;f.watchLink=c;f.resetPage=d;var g;function a(a){b("Event").listen(a,"submit",function(a){var c=(g||(g=b("URI"))).getRequestURI();c.removeQueryData(b("SRDevModeParams").items);c.removeQueryData(b("SRDevModeParams").escapeParam);var d=a.target.getElementsByTagName("input");for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.addQueryData(h.name,h.value)}h=a.target.getElementsByTagName("select");for(var f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}h=a;c.addQueryData(h.name,h.value)}c.go(!0);return!1})}function c(a){a=(g||(g=b("URI"))).getRequestURI();for(var c=b("SRDevModeParams").items,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.removeQueryData(f)}a.go(!0);return!1}function d(a){a=(g||(g=b("URI"))).getRequestURI();a.addQueryData(b("SRDevModeParams").escapeParam,"");a.go(!0);return!1}}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};c=a;e.exports=c}),null);
__d("WorkChatCustomMenuItem",["cx","CSS","DOM","MenuItem","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=["href","rel","ajaxify","target","accesskey"];function j(a,c){var d={};i.forEach(function(a){c[a]&&(d[a]=c[a])});b("DOM").setAttributes(a,d)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d._renderItemContent=function(){this._anchor=b("DOM").create(this._data.renderas==="label"?"label":"a",{className:"_54nc"+(this._data.icon?" _54nu":"")});if(this._data.children){var a=this._data.icon?h.cloneElement(this._data.icon,{className:b("joinClasses")(this._data.icon.props.className,"mrs")}):null;b("ReactDOM").render(h.jsx(h.Suspense,{fallback:null,children:h.jsxs("div",{children:[a,h.jsx("div",{className:"_54nh",children:this._data.children})]})}),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent}else{a=b("DOM").create("div",null,b("DOM").create("div",{className:"_54nh"},this._data.markup||this._data.label));this._data.icon&&b("DOM").prependContent(a,this._data.icon);b("DOM").setContent(this._anchor,a)}this._data.href||(this._data.href="#");this.isDisabled()||j(this._anchor,this._data);b("DOM").setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute("role",this._ARIARole);return this._anchor};d.render=function(){var c=a.prototype.render.call(this);b("CSS").addClass(c,"_1ydp");this._disabled&&b("CSS").addClass(c,"_5arm");return c};return c}(b("MenuItem"));e.exports=a}),null);
__d("WorkChatCustomMenuItem.bs",["ReasonReact.bs","bs_js_null_undefined","WorkChatCustomMenuItem"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("WorkChatCustomMenuItem"),{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatDoNotDisturbDialogReactBootloader.bs",["bs_curry","React","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbDialogReactBootloader");function a(a,c){return{debugName:h.debugName,reactClassInternal:h.reactClassInternal,handedOffState:h.handedOffState,getDerivedStateFromProps:h.getDerivedStateFromProps,didMount:function(a){b("Bootloader").loadModules(["WorkChatDoNotDisturbDialogReact.bs"],function(c){return b("bs_curry")._1(a.send,{_0:c})},"WorkChatDoNotDisturbDialogReactBootloader.bs")},didUpdate:h.didUpdate,willUnmount:h.willUnmount,shouldUpdate:h.shouldUpdate,render:function(c){c=c.state.workChatDoNotDisturbDialog;if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(c.make,a,[]));else return g.jsx("div",{})},initialState:function(a){return{workChatDoNotDisturbDialog:void 0}},retainedProps:h.retainedProps,reducer:function(a,b){return{TAG:0,_0:{workChatDoNotDisturbDialog:a._0}}},jsElementWrapped:h.jsElementWrapped}}f.component=h;f.make=a}),null);
__d("WorkUserDoNotDisturbSettingsEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:"impression",SCHEDULED_DND_SETTINGS_DIALOG_IMPRESSION:"scheduled_dnd_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION:"status_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION_QP:"status_settings_dialog_impression_qp",STATUS_SETTINGS_DIALOG_CLICK:"status_settings_dialog_click",STATUS_SETTINGS_DIALOG_CLICK_QP:"status_settings_dialog_click_qp",TURN_OFF:"turn_off",TURN_ON:"turn_on"});e.exports=a}),null);
__d("WorkUserDoNotDisturbSettingsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUE_BAR_MODERN_MENU:"blue_bar_modern_menu",BOOKMARK_NAV_MENU:"bookmark_nav_menu",GALAHAD_NAV_BAR_MENU:"galahad_nav_bar_menu",WORKPLACE_CHAT_MENU:"workplace_chat_menu",WORKPLACE_QUICKCHAT:"workplace_quickchat",WORKPLACE_THREAD_CONTEXT_MENU:"workplace_thread_context_menu"});e.exports=a}),null);
__d("XCometPageVanityInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/inbox/{?selected_item_id}/",{vanity:{type:"String",required:!0},threadid:{type:"String"},selected_item_id:{type:"String"},mailbox_id:{type:"FBID"},platform:{type:"Enum",enumType:1},section:{type:"Enum",enumType:1},automation:{type:"Enum",enumType:1},ref:{type:"String",defaultValue:""}})}),null);
__d("XFacebookWorkChatInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/t/{?thread_key}/",{entrypoint:{type:"String"},thread_key:{type:"String"},mid:{type:"String"},ref:{type:"String"},ds:{type:"Int"},sender:{type:"Bool",defaultValue:!1},hide_header:{type:"Bool",defaultValue:!1},last_message_timestamp:{type:"Int"},first_message_timestamp:{type:"Int"},new_room:{type:"Exists",defaultValue:!1}})}),null);
__d("XMessengerDotComDYIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dyi/",{error:{type:"Exists",defaultValue:!1},tab:{type:"String"},start:{type:"Int"},end:{type:"Int"},quality:{type:"Enum",enumType:0},format:{type:"Enum",enumType:0},sections:{type:"EnumKeyset",enumType:null},referrer:{type:"Enum",enumType:1},settings_tracking:{type:"String"},target_id:{type:"FBID"},min_date:{type:"Int"}})}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("XWorkLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/logout/",{next:{type:"String"},session_id:{type:"String"}})}),null);
__d("MessengerSettingsMenuReact.bs",["fbt","Run","Form","bs_curry","React","goURI","gkx","UserAgent","JSResource","AsyncDialog","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","AsyncRequest","SRPinningNub","MercuryConfig","MessengerView","MercuryFilters.bs","MessengerSpoof","MessengerConfig","MessengerActions","MessengerDialogs.bs","ReasonReactCompat.bs","WebStorageMonster","BootloaderResource","MessengerMenu.react","MessengerEnvironment","ProfilePlusMessaging","XWorkLogoutController","WorkChatCustomMenuItem.bs","MessengerDesktopAppLinks","MessengerPopoverMenu.react","ServiceWorkerLoginAndLogout","XMessengerDotComDYIController","XCometPageVanityInboxController","MessengerDesktopPromoEventLogger","XFacebookWorkChatInboxController","XMessengerDotComLogoutController","WorkUserDoNotDisturbSettingsEvent","WorkUserDoNotDisturbSettingsSource","WorkDoNotDisturbSettingsTypedLogger","WorkChatDoNotDisturbDialogReactBootloader.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a.preventDefault()}var i=b("JSResource")("WorkChatDoNotDisturbMenuItemContentReact.bs").__setRef("MessengerSettingsMenuReact.bs");function c(a,b){return{viewer:a}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:c,make:j};var k=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("Windows");function d(a){if(k)return b("gkx")("1420764");else return!1}function l(a){return h.jsx(b("MessengerMenu.react").Item,{href:b("CurrentUser").isWorkUser()?"https://www.workplace.com":"https://www.messenger.com/about",label:g._("About"),target:"_blank"})}function m(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI),"https://www.facebook.com/policies");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Terms"),target:"_blank"})}function n(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI),"https://www.facebook.com/privacy/explanation");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Privacy Policy"),target:"_blank"})}function o(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI),"https://www.facebook.com/help/cookies");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Cookie Policy"),target:"_blank"})}var p=b("JSResource")("MessengerSettingsDialogWrapper.bs").__setRef("MessengerSettingsMenuReact.bs");function e(a,b,c){return{viewer:a,causalElement:b}}function q(a){return h.createElement(b("BootloaderResource").read(p).make,a)}e={reasonResource:p,makeProps:e,make:q};var r={contents:!1};function s(a){if(!r.contents&&k&&b("gkx")("1420764")){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Impression"});r.contents=!0;return}}function t(a){var c=a.filter,d=a.folder,e=a.view,f=a.viewer;a=a.children;var i=h.useRef(void 0),p=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Click"})},r=function(a){a.preventDefault();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("ReasonReactCompat.bs").wrapReactForReasonReact(h.Suspense,{fallback:null},h.createElement(q,{viewer:f,causalElement:i.current})))})},s=function(a){a.preventDefault();new(b("WorkDoNotDisturbSettingsTypedLogger"))().setEvent(b("WorkUserDoNotDisturbSettingsEvent").IMPRESSION).setSource(b("WorkUserDoNotDisturbSettingsSource").WORKPLACE_CHAT_MENU).log();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatDoNotDisturbDialogReactBootloader.bs").make(f,[]))})},t=function(a){a.preventDefault(),b("MessengerActions").changeMasterView(e===b("MessengerView").MASTER.RECENT?b("MessengerView").MASTER.PEOPLE:b("MessengerView").MASTER.RECENT)},u=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="pending"?"inbox":"pending")},v=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="other"?"inbox":"other")},w=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="action:archived"?"inbox":"action:archived")},x=function(a){a.preventDefault(),b("MessengerSpoof").init(function(a){b("goURI")(window.location.href,!0,void 0)})},y=function(a){b("Run").onUnload(function(a){b("WebStorageMonster").cleanOnLogout([]),b("ServiceWorkerLoginAndLogout").logout()}),b("Form").post((b("CurrentUser").isWorkUser()?b("XWorkLogoutController").getURIBuilder().setString("next",b("XFacebookWorkChatInboxController").getURIBuilder().getURI().toString()):b("XMessengerDotComLogoutController").getURIBuilder()).getURI(),{})},z=function(a){a.preventDefault(),b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/bugs/report"))},A=function(a){a.preventDefault(),b("MessengerActions").changeFilter(c===b("MercuryFilters.bs").unread?b("MercuryFilters.bs").all:b("MercuryFilters.bs").unread)},B=function(a){a=b("XMessengerDotComDYIController").getURIBuilder().getURI();return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Download Your Information"),target:"_blank"})},C=function(a){if(b("UserAgent").isPlatform("Mac OS X"))return h.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").macOSX,label:g._("New! Messenger for Mac"),onclick:function(a){return p(void 0)},target:"_blank"});else if(b("UserAgent").isPlatform("Windows"))return h.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").windows,label:g._("New! Messenger for Windows"),onclick:function(a){return p(void 0)},target:"_blank"});else return null},D=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:g._("Log Out"),onclick:y})},E=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:g._("Message Requests"),onclick:u})},F=function(a){if(b("CurrentUser").isWorkUser())return h.jsx(b("MessengerMenu.react").Item,{label:g._("Permanently Hidden"),onclick:v});else return null},G=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Hidden Chats"):g._("Archived Chats"),onclick:w})},H=b("CurrentUser").isWorkUser()?"/help/work/682468881954082":"https://www.facebook.com/help/messenger-app",I=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Copy Spoofs",onclick:x})},J=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Reset SPIN Pin",onclick:function(a){b("SRPinningNub").resetPage()}})},K=function(a){a=b("ProfilePlusMessaging").delegatePageID;if(a==null)return null;a=b("XCometPageVanityInboxController").getURIBuilder().setString("vanity",a).getURI();return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Message History in Inbox"),target:"_blank"})};s=b("CurrentUser").isWorkUser()?[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatCustomMenuItem.bs").make(void 0,g._("Do Not Disturb"),s,void 0,[h.jsx(j,{viewer:f})])),h.jsx(b("MessengerMenu.react").Separator,{})]:[null,null];s=h.jsxs(b("MessengerMenu.react"),{children:[s[0],s[1],h.jsx(b("MessengerMenu.react").Item,{label:g._("Settings"),onclick:r}),h.jsx(b("MessengerMenu.react").Separator,{}),h.jsx(b("MessengerMenu.react").Item,{label:e===b("MessengerView").MASTER.RECENT?b("CurrentUser").isWorkUser()?g._("People"):g._("Active Contacts"):g._("Recent Messages"),onclick:t}),e===b("MessengerView").MASTER.RECENT?E(void 0):null,e===b("MessengerView").MASTER.RECENT?F(void 0):null,e===b("MessengerView").MASTER.RECENT&&d==="inbox"?G(void 0):null,h.jsx(b("MessengerMenu.react").Item,{label:c===b("MercuryFilters.bs").unread?g._("All Chats"):g._("Unread Chats"),onclick:A}),b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?K(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?l(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI))!==void 0?m(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI))!==void 0?n(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI))!==void 0?o(void 0):null,b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isDeactivatedAllowedOnMessenger()?B(void 0):null,h.jsx(b("MessengerMenu.react").Separator,{}),h.jsx(b("MessengerMenu.react").Item,{href:H,label:g._("Help"),target:"_blank"}),h.jsx(b("MessengerMenu.react").Item,{label:g._("Report a Problem"),onclick:z}),b("MessengerConfig").GKSpoof?I(void 0):null,b("CurrentUser").isEmployee()?J(void 0):null,k&&b("gkx")("1420764")?h.jsx(b("MessengerMenu.react").Separator,{}):null,k&&b("gkx")("1420764")?C(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?D(void 0):null]});return h.jsx(b("MessengerPopoverMenu.react"),{menu:s,children:b("bs_curry")._1(a,i)})}var u=b("bs_belt_Option").getWithDefault;t=t;f.preventDefault=a;f.$pipe$question=u;f.WorkChatDoNotDisturbMenuItemContentReact=c;f.isMacOrWindows=k;f.showDesktopPromo=d;f.renderAbout=l;f.renderPolicies=m;f.renderPrivacy=n;f.renderCookies=o;f.LazySettings=e;f.hasFiredDesktopPromoImpressionEvent=r;f.logDesktopPromoImpressionOnce=s;f.make=t}),null);
__d("MessengerSettingsMenuButton.bs",["cx","fbt","bs_curry","React","Link.react","bs_caml_option","ReasonReact.bs","AbstractPopoverButtonReact.bs","MessengerSettingsMenuReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerSettingsIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("Settings, help and more"),k=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.settingsButtonRef,d=a.tabIndex,e=a.onClick;a=function(a){b("MessengerSettingsMenuReact.bs").logDesktopPromoImpressionOnce(void 0);if(e!==void 0)return b("bs_curry")._1(e,a)};a={button:b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("Link.react"),{"aria-label":j,className:k,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a)},onClick:a,role:"button",tabIndex:d,title:j,children:b("MessengerSettingsIconSVGM4React.bs").icon}):i.jsx(b("Link.react"),{"aria-label":j,className:k,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a)},onClick:a,role:"button",tabIndex:d,title:j}),defaultMaxWidth:200};return b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(a),!1,void 0,void 0,200,[]))}c=a;f.settingsLabel=j;f.settingsIconClasses=k;f.make=c}),null);
__d("WorkChatThreadlistTabsReact.bs",["cx","fbt","React","Link.react","MessengerView","MercuryFilters.bs","MessengerActions","MessengerSettingsMenuReact.bs","MessengerSettingsMenuButton.bs","WorkChatActivityTypedLogger.bs","WorkChatActivityTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.filter,d=a.folder,e=a.view;a=a.viewer;c=c!==void 0?c:b("MercuryFilters.bs").all;var f=d!==void 0?d:"",g=function(a){f!=="inbox"&&b("MessengerActions").changeFolder("inbox"),new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(2)).addToExtraData("data",[a===b("MessengerView").MASTER.RECENT?"recent":"people"]).log(),b("MessengerActions").changeMasterView(a)};d=h._("Home");var j=h._("People"),k=e===b("MessengerView").MASTER.RECENT&&f==="inbox";return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("Link.react"),{"aria-label":d,className:"_65t-"+(k?"":" _65t_")+(k?" _65u0":""),onClick:function(a){return g(b("MessengerView").MASTER.RECENT)},role:"button",title:d}),className:"_65tz"}),i.jsx("div",{children:i.jsx(b("Link.react"),{"aria-label":j,className:"_65t-"+(e!==b("MessengerView").MASTER.PEOPLE?" _65u1":"")+(e===b("MessengerView").MASTER.PEOPLE?" _65u2":""),onClick:function(a){return g(b("MessengerView").MASTER.PEOPLE)},role:"button",title:j}),className:"_65tz"}),i.jsx("div",{children:i.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:f,view:e,viewer:a,children:function(a){return i.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}}),className:"_65tz"})],className:"_65ty"})}c=a;f.make=c}),null);
__d("MessengerActiveUsersListReact.bs",["cx","fbt","bs_curry","React","gkx","bs_belt_Array","JSResource","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerView","MessengerState.bs","PresencePrivacy","MessengerActions","MessengerDialogs.bs","bs_js_null_undefined","ReasonReactCompat.bs","BootloaderResource","PresenceOrderedList","PresenceStatusStore","MessengerParticipants.bs","AvailableListConstants","MeasurePeopleTypedLogger","MessengerContactAdapters","WorkChatThreadlistTabsReact.bs","MessengerContactListRowReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableAreaReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("JSResource")("MessengerSettingsDialogWrapper.bs").__setRef("MessengerActiveUsersListReact.bs");function a(a,b,c){return{viewer:a,causalElement:b}}function k(a){return i.createElement(b("BootloaderResource").read(j).make,a)}d={reasonResource:j,makeProps:a,make:k};function l(a,c){var d=c.send;b("PresenceOrderedList").getSorted(200,function(a){var c=b("PresenceOrderedList").getAvailableSorted(a),e=a.filter(function(a){return b("PresencePrivacy").allows(a)});a=b("CurrentUser").isWorkUser()?a:b("bs_belt_Array").keep(b("bs_belt_Array").concat(e,c),function(a){return b("PresenceStatusStore").get(a)===b("AvailableListConstants").ACTIVE});e=b("bs_belt_Array").map(a,function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});c=b("MessengerParticipants.bs").getMultiEager(e,function(a){return b("bs_curry")._1(d,{_0:a,_1:void 0})});return b("bs_curry")._1(d,{_0:c[0],_1:b("bs_caml_option").nullable_to_opt(c[1])})})}function m(a){var c=b("PresencePrivacy").subscribe("privacy-user-presence-changed",b("bs_curry")._1(a.handle,l)),d=b("PresenceStatusStore").addListener(b("bs_curry")._1(a.handle,l));b("bs_curry")._1(a.onUnmount,function(a){b("PresencePrivacy").unsubscribe(c),d.remove()});new(b("MeasurePeopleTypedLogger"))().log();return l(void 0,a)}function n(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a.fbid),function(a){b("MessengerActions").selectThread(a.thread_id,void 0)},null)}var o=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl":"_225b",p=b("ReasonReact.bs").reducerComponent("MessengerActiveUsersListReact");e=b("MessengerContactListRowReact.bs").createMake(void 0);var q=e[1];g={make:q};function c(a,c,d){var e=function(a){a.preventDefault();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("ReasonReactCompat.bs").wrapReactForReasonReact(i.Suspense,{fallback:null},i.createElement(k,{viewer:c,causalElement:void 0})))})};return{debugName:p.debugName,reactClassInternal:p.reactClassInternal,handedOffState:p.handedOffState,getDerivedStateFromProps:p.getDerivedStateFromProps,didMount:m,didUpdate:p.didUpdate,willUnmount:function(a){a=a.state.participantSubscription.contents;if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_caml_option").valFromOption(a))},shouldUpdate:p.shouldUpdate,render:function(d){d=d.state;var f=b("MercuryIDs").getUserIDFromThreadID(b("bs_js_null_undefined").fromOption(a)),g=!(f==null)&&f!==""?b("bs_caml_option").some(f):void 0;f=b("CurrentUser").isWorkUser()&&b("gkx")("678606")?i.createElement(b("WorkChatThreadlistTabsReact.bs").make,{view:b("MessengerView").MASTER.PEOPLE,viewer:c}):null;if(d.isUserAvailable)return i.jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("MessengerFlexScrollableAreaReact.bs").make(void 0,void 0,void 0,void 0,[i.jsx("div",{children:b("CurrentUser").isWorkUser()?h._("Contacts ({number_of_contacts})",[h._param("number_of_contacts",String(d.contacts.length))]):h._("Active Contacts ({number_of_contacts})",[h._param("number_of_contacts",String(d.contacts.length))]),className:o}),i.jsx("ul",{children:b("bs_belt_Array").map(d.contacts,function(a){var d=g!==void 0?a.fbid===b("bs_caml_option").valFromOption(g):!1;return b("ReasonReact.bs").element(a.id,void 0,b("bs_curry").app(q,[function(a){return b("MessengerContactAdapters").fromMercuryParticipant(a)},a,void 0,n,void 0,void 0,void 0,!0,!1,void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,!0,void 0,void 0,c,!1,[]]))})})])),f]});else return i.jsxs("div",{children:[i.jsxs("div",{children:[i.jsx("div",{children:h._("See Active Contacts"),className:"_6cke"}),i.jsx("div",{children:h._("Let people know when you are active and see they are, too"),className:"_6ckf"}),i.jsx("button",{children:"Turn On",className:"_6ckg",onClick:e})],className:"_6ckd"}),f]})},initialState:function(a){return{contacts:[],isUserAvailable:b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,participantSubscription:{contents:void 0}}},retainedProps:p.retainedProps,reducer:function(a,c){return{TAG:0,_0:{contacts:a._0,isUserAvailable:b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,participantSubscription:{contents:a._1}}}},jsElementWrapped:p.jsElementWrapped}}a=200;f.LazySettings=d;f.numTopUsers=a;f.updateHelper=l;f.didMount=m;f.handleSelect=n;f.userListHeader=o;f.component=p;f.ListRowReactForMercuryParticipant=g;f.make=c}),null);
__d("LinkWithHiddenURLBar.react",["Link.react","React","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.link=null,d.$5=function(a){d.link=a},d.$4=function(a){d.$6(),d.props.onFocus&&d.props.onFocus(a)},d.$2=function(a){d.$1(),d.props.onBlur&&d.props.onBlur(a)},d.$3=function(a){d.$6(),!a.metaKey&&d.props.onClick&&(d.props.onClick(a),a.preventDefault()),d.props.onAllClicks&&d.props.onAllClicks(a),b("setImmediate")(function(){return d.$1()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this.props,c=a.label;a.onBlur;a.onAllClicks;a.onClick;a.onFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","onBlur","onAllClicks","onClick","onFocus"]);return g.jsx(b("Link.react"),babelHelpers["extends"]({},a,{label:c,onBlur:this.$2,onClick:this.$3,onFocus:this.$4,linkRef:this.$5}))};d.$1=function(){if(this.link){var a=this.link;a.href&&(a.setAttribute("data-href",a.href),a.removeAttribute("href"))}};d.$6=function(){if(this.link){var a=this.link,b=a.getAttribute("data-href");b&&(a.setAttribute("href",b),a.removeAttribute("data-href"))}};return c}(g.Component);e.exports=a}),null);
__d("LinkWithHiddenURLBarReact.bs",["ReasonReact.bs","bs_js_null_undefined","LinkWithHiddenURLBar.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u;return b("ReasonReact.bs").wrapJsForReason(b("LinkWithHiddenURLBar.react"),{"aria-label":(u=b("bs_js_null_undefined")).fromOption(a),"data-hover":u.fromOption(d),"data-tooltip-content":u.fromOption(e),"data-tooltip-alignh":u.fromOption(f),"data-tooltip-position":u.fromOption(g),className:u.fromOption(c),href:u.fromOption(h),linkRef:u.fromOption(i),onClick:u.fromOption(j),onAllClicks:u.fromOption(k),onMouseDown:u.fromOption(l),onMouseEnter:u.fromOption(m),role:u.fromOption(n),rel:u.fromOption(o),style:u.fromOption(p),tabIndex:u.fromOption(q),target:u.fromOption(r),title:u.fromOption(s)},t)}f.make=a}),null);
__d("MessengerArrowLeftIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M7.4993436,16.4891009 L24.8703244,16.4891009 L17.9462377,9.56085648 C17.3606035,8.97508945 17.3606035,8.02496734 17.9462377,7.43970012 C18.5318719,6.85343329 19.4805893,6.85343329 20.0657234,7.43970012 L29.5603993,16.9394218 C30.1465336,17.524689 30.1465336,18.475311 29.5603993,19.0605782 L20.0657234,28.5602999 C19.4805893,29.1465667 18.5318719,29.1465667 17.9462377,28.5602999 C17.3606035,27.9745329 17.3606035,27.0249105 17.9462377,26.4391435 L24.8918294,19.4899074 L7.4993436,19.4899074 C6.67115381,19.4899074 6,18.8181746 6,17.9895042 C6,17.1608338 6.67115381,16.4891009 7.4993436,16.4891009 Z",fill:"#000000"})],id:"ArrowLeft",transform:"translate(18.000000, 18.000000) scale(-1, 1) translate(-18.000000, -18.000000) "}),id:"arrow-left",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"30px",width:"30px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerComposeIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-2",d:"M15.047,20.26245 L15.9815,17.45445 C16.091,17.12495 16.276,16.82495 16.5215,16.57945 L27.486,5.60195 C28.29,4.79695 29.595,4.79695 30.399,5.60195 C31.2025,6.40645 31.202,7.70895 30.399,8.51345 L19.432,19.49345 C19.186,19.73945 18.886,19.92495 18.556,20.03495 L15.7555,20.96995 C15.318,21.11645 14.901,20.69995 15.047,20.26245 Z M24.005,28.00095 L12.001,28.00095 C9.791,28.00095 8,26.20945 8,23.99995 L8,11.99895 C8,9.78945 9.791,7.99845 12.001,7.99845 L19.0035,7.99745 C19.5555,7.99745 20.0035,8.44545 20.0035,8.99745 C20.0035,9.54995 19.5555,9.99795 19.0035,9.99795 L12.001,9.99845 C10.8965,9.99845 10.0005,10.89395 10.0005,11.99895 L10.0005,23.99995 C10.0005,25.10445 10.8965,26.00045 12.001,26.00045 L24.005,26.00045 C25.1095,26.00045 26.005,25.10445 26.005,23.99995 C26.005,23.99995 26.0045,17.55145 26.0045,16.99895 C26.0045,16.44645 26.4525,15.99845 27.005,15.99845 C27.557,15.99845 28.005,16.44645 28.005,16.99895 C28.005,17.55145 28.0055,23.99995 28.0055,23.99995 C28.0055,26.20945 26.2145,28.00095 24.005,28.00095 Z",fill:"#000000"})],id:"compose",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"30px",width:"30px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerMeetupIcon.react",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx("svg",{className:a.className,viewBox:"0 0 28 28",children:g.jsx("path",{d:"M7.00003 21H15.5556C17.2737 21 18.6667 19.607 18.6667 17.8889V10.1111C18.6667 8.393 17.2737 7 15.5556 7H7.00003C5.28192 7 3.88892 8.393 3.88892 10.1111V17.8889C3.88892 19.607 5.28192 21 7.00003 21ZM10.5 10.1111C10.5 9.68156 10.8482 9.33333 11.2778 9.33333C11.7074 9.33333 12.0556 9.68156 12.0556 10.1111V13.2222H15.1667C15.5962 13.2222 15.9445 13.5704 15.9445 14C15.9445 14.4296 15.5962 14.7778 15.1667 14.7778H12.0556V17.8889C12.0556 18.3184 11.7074 18.6667 11.2778 18.6667C10.8482 18.6667 10.5 18.3184 10.5 17.8889V14.7778H7.38892C6.95936 14.7778 6.61114 14.4296 6.61114 14C6.61114 13.5704 6.95936 13.2222 7.38892 13.2222H10.5V10.1111ZM23.7631 18.1996L20.867 16.7502C20.4719 16.5527 20.2222 16.1482 20.2222 15.7057V12.2951C20.2222 11.8529 20.4719 11.4481 20.867 11.2506L23.7631 9.80117C24.2807 9.54256 24.8889 9.919 24.8889 10.4977V17.5031C24.8889 18.0822 24.2807 18.4582 23.7631 18.1996"})})}}),null);
__d("RTWebMercuryPreCallProvider.react",["FBLogger","React","RelayFBDefaultEnvironment","RTWebPreCallContext","RTWebPreCallContextSingleton","useStable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=a.children;var c=b("useStable")(function(){try{return b("RTWebPreCallContextSingleton").create({relayEnvironment:b("RelayFBDefaultEnvironment")})}catch(a){b("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}});g.useEffect(function(){c&&b("RTWebPreCallContextSingleton").init()},[c]);return g.jsx(b("RTWebPreCallContext").Provider,{value:c,children:a})}}),null);
__d("MessengerCreateVideoCallLink.react",["fbt","regeneratorRuntime","FBLogger","LinkWithHiddenURLBar.react","MessengerMeetupIcon.react","MessengerSpinner.react","NewVideoChatLinkCall","React","RTWebMercuryPreCallProvider.react","URI","VideoChatLinksUserActionsMultiplexLogger","isMessengerDotComURI","stylex","uuid"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React");function a(){var a=j.useState(!1),c=a[0],d=a[1],e=j.useRef(null);a=g._("Create new room");var f=function(){var a,c,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;if(!(e.current&&!e.current.closed)){i.next=4;break}e.current.focus();return i.abrupt("return");case 4:i.next=9;break;case 6:i.prev=6,i.t0=i["catch"](0),b("FBLogger")("rtc_www").catching(i.t0).warn("Failed to access callWindow while opening link");case 9:d(!0);a=b("isMessengerDotComURI")((h||(h=b("URI"))).getRequestURI())?"messenger_dot_com":"www_facebook_window";c="messenger_inbox_meetup_create_link_button";f=b("uuid")().toString();new(b("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(f).setSurface(a).setComponent(c).setEvent("meetup_entry_point_clicked").log();i.prev=14;i.next=17;return b("regeneratorRuntime").awrap(b("NewVideoChatLinkCall").start(f,a,c));case 17:g=i.sent,g&&(e.current=g);case 19:i.prev=19;d(!1);return i.finish(19);case 22:case"end":return i.stop()}},null,this,[[0,6],[14,,19,22]])};return j.jsx(b("RTWebMercuryPreCallProvider.react"),{children:j.jsx(b("LinkWithHiddenURLBar.react"),{"aria-label":a,className:"g90fjkqk d1pn00lf jcxyg2ei jvc6uz2b dsct5syv alzwoclg ppft6osi o3nudhhi mlvjf7js aul781ta hzft2hz5 i85zmo3j fsf7x5fv",href:"#",onClick:f,role:"button",tabIndex:0,title:a,children:c?j.jsx(b("MessengerSpinner.react"),{color:"grey",size:24}):j.jsx(b("MessengerMeetupIcon.react"),{className:"j7vl6m33 k27skwkl f1pz0i20 om3e55n1"})})})}(i||(i=b("stylex"))).inject(".fsf7x5fv{cursor:pointer}",1);i.inject(".i85zmo3j{align-items:center}",1);i.inject(".hzft2hz5{background-color:rgba(0,0,0,.04)}",1);i.inject(".aul781ta{border-top-left-radius:99px}",1,".aul781ta{border-top-right-radius:99px}");i.inject(".mlvjf7js{border-top-right-radius:99px}",1,".mlvjf7js{border-top-left-radius:99px}");i.inject(".o3nudhhi{border-bottom-right-radius:99px}",1,".o3nudhhi{border-bottom-left-radius:99px}");i.inject(".ppft6osi{border-bottom-left-radius:99px}",1,".ppft6osi{border-bottom-right-radius:99px}");i.inject(".alzwoclg{display:flex}",1);i.inject(".dsct5syv{flex:0 0 auto}",.1);i.inject(".jvc6uz2b{height:36px}",1);i.inject(".jcxyg2ei{justify-content:center}",1);i.inject(".d1pn00lf{margin-left:12px}",1);i.inject(".g90fjkqk{width:36px}",1);i.inject(".om3e55n1{position:relative}",1);i.inject(".f1pz0i20{width:28px}",1);i.inject(".k27skwkl{height:28px}",1);i.inject(".j7vl6m33{color:black}",1)}),null);
__d("MessengerCreateVideoCallLinkReact.bs",["ReasonReact.bs","MessengerCreateVideoCallLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("MessengerCreateVideoCallLink.react"),{},a)}f.make=a}),null);
__d("MessengerDeleteAllDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("messengerDeleteAllDialogReactComponent").__setRef("MessengerDeleteAllDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerMessageRequestsTypedLoggerBootloader",["Promise","Bootloader"],(function(a,b,c,d,e,f){"use strict";f._loadLogger=a;f.log=c;d=null;f._loggerLoader=d;function a(){this._loggerLoader||(this._loggerLoader=new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(b){b=new b();a(b)},"MessengerMessageRequestsTypedLoggerBootloader")}));return this._loggerLoader}function c(a,b,c,d,e,f){this._loadLogger().done(function(g){g.setAction(a).setThreadKeyList(b).setSurface(c).setFolderType(d).setEntryPoint(e).setExtraClientData(f).log()})}}),null);
__d("MessengerDeleteAllMenuReact.bs",["cx","fbt","React","bs_js_dict","Link.react","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerActions","MessengerDialogs.bs","bs_js_null_undefined","MessengerURIStore","MessengerMenu.react","MercuryThreadActions","AbstractPopoverButtonReact.bs","MessengerPopoverMenu.react","MessengerDotComAndInboxM4Check.bs","MessengerSettingsIconSVGM4React.bs","MessagingThreadCustomizationSource","MessengerDeleteAllDialogBootloader.react","MessengerMessageRequestsTypedLoggerBootloader"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.viewer,g=function(a,c){if(a.length===0)return;var e=a.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a,f)});e=e.join(",");a=JSON.stringify({number_of_threads:a.length});b("MessengerMessageRequestsTypedLoggerBootloader").log(c,e,d,d,"settings",b("bs_js_null_undefined").fromOption(a))},k=function(a){if(e==null)return[];a=b("bs_js_dict").get(e,d);if(a===void 0)return[];a=b("bs_js_dict").get(b("bs_caml_option").valFromOption(a),c);if(a!==void 0)return b("bs_caml_option").valFromOption(a).threadlist;else return[]},l=function(a){a=k(void 0);a.forEach(function(a){var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;c=c===a;if(c){b("MessengerActions").selectThread("");return}});g(a,"message_requests_delete_request_multiple");b("MercuryThreadActions").get().batchDelete(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING)};a=function(a){a=k(void 0);g(a,"message_requests_delete_attempt_multiple");return b("MessengerDialogs.bs").showDialog(function(a){return i.jsx(b("MessengerDeleteAllDialogBootloader.react"),{onDeleteAll:l,getThreadIDs:k,logConnectionRequestEvent:g})})};var m=function(a){a=k(void 0);b("MercuryThreadActions").get().batchMarkRead(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return g(a,"message_requests_read_request_multiple")};a=i.jsxs(b("MessengerMenu.react"),{children:[i.jsx(b("MessengerMenu.react").Item,{label:h._("Delete All"),onclick:a}),i.jsx(b("MessengerMenu.react").Item,{label:h._("Mark All As Read"),onclick:m})]});m=h._("Settings, help and more");m={button:b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("Link.react"),{"aria-label":m,className:j,role:"button",title:m,children:b("MessengerSettingsIconSVGM4React.bs").icon}):i.jsx(b("Link.react"),{"aria-label":m,className:j,role:"button",title:m}),defaultMaxWidth:200};return i.jsx(b("MessengerPopoverMenu.react"),{menu:a,children:b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(m),!1,void 0,void 0,200,void 0))})}c=a;f.settingsIconClasses=j;f.make=c}),null);
__d("MessengerMovedSettingsNux.react",["cx","fbt","AsyncRequest","React","XBasicFBNuxViewController","XUIContextualDialog.react","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=h._("You can find Settings, Help, and more in the Profile Menu now"),k=7942;function a(a){var c=a.showMovedSettingsNux;a=a.children;var d=i.useRef(null);c=i.useState(c);var e=c[0],f=c[1],g=i.useCallback(function(){if(e){var a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",k).getURI();new(b("AsyncRequest"))().setURI(a).send();f(function(a){return!1})}},[e,f]);i.useEffect(function(){var a=b("setTimeout")(g,1e4);(function(){return b("clearTimeout")(a)})},[g]);return i.jsxs(i.Fragment,{children:[a(d,g),d.current!=null&&e&&i.jsx(b("XUIContextualDialog.react"),{alignment:"left",contextRef:function(){return d.current},shown:e,position:"below",offsetY:0,children:i.jsx("div",{className:"_94x1",role:"tooltip",onClick:g,children:j})})]})}}),null);
__d("MessengerMasterViewHeaderM4React.bs",["ix","cx","fbt","React","gkx","qex","asset","Link.react","MercuryIDs","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","MessengerView","Tooltip.react","MessengerActions","MeetupExperiments","MessengerURIConstants","MessengerSearchActions","LinkWithHiddenURLBarReact.bs","AbstractPopoverButtonReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs","MessengerSettingsMenuButton.bs","MessengerComposeIconSVGM4React.bs","MercuryParticipantsImageM4React.bs","MessengerMovedSettingsNux.react","MessengerArrowLeftIconSVGM4React.bs","MessengerCreateVideoCallLinkReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c){if(a==="action:archived")return 1;else if(a==="pending")return 5;else if(a==="marketplace_folder")return 4;else if(a==="other")return 2;else if(c===b("MessengerView").MASTER.PEOPLE)return 0;else if(c===b("MessengerView").MASTER.SEARCH)return 6;else if(c===b("MessengerView").MASTER.SEARCH_MESSAGES)return 7;else if(c===b("MessengerView").MASTER.SEE_ALL_GROUPS)return 8;else if(c===b("MessengerView").MASTER.SEE_ALL_PAGES)return 9;else if(c===b("MessengerView").MASTER.SEE_ALL_PEOPLE)return 10;else return 3}function l(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE),b("MessengerSearchActions").changeQuery(null)}function m(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}var n=i._("Back to Recent Messages"),o=i._("Back to Message Requests"),p=i._("New Message"),q=i._("Back to Search"),r=b("qex")._("1097094"),s=window.navigator.userAgent.toLowerCase().indexOf("electron/")>-1;function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.view,h=a.viewer;a=a.showMovedSettingsNux;var t=k(d,f),u=function(a){a.preventDefault();if(r){t!==7?t>=8&&b("MessengerSearchActions").exitSeeAllSearch():b("MessengerSearchActions").exitMessageSearch();b("MessengerActions").changeMasterView(b("MessengerView").MASTER.SEARCH);return}},v=function(a){a.preventDefault(),t===0?b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT):(t===6||t===7)&&(r&&t!==6?b("MessengerActions").changeMasterView(b("MessengerView").MASTER.SEARCH):b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)),b("MessengerActions").changeFolder("inbox")},w;switch(t){case 0:w=[0,i._("People"),2,!0];break;case 1:w=[0,b("CurrentUser").isWorkUser()?i._("Archived"):i._("Hidden Chats"),2,!0];break;case 2:w=[s?3:1,i._("Spam"),s?2:1,!1];break;case 3:w=[3,i._("Chats"),0,!0];break;case 4:w=[0,i._("Marketplace"),1,!1];break;case 5:w=[0,i._("Requests"),1,!1];break;case 6:w=[0,i._("Search"),2,!1];break;case 7:w=b("qex")._("1097094")?[2,i._("Search Messages"),2,!1]:[0,i._("Messages"),2,!1];break;case 8:w=[2,i._("Groups"),2,!1];break;case 9:w=[2,i._("Businesses"),2,!1];break;case 10:w=[2,i._("People"),2,!1];break}var x=w[3],y=w[2],z=w[1],A=w[0],B=x&&b("MeetupExperiments").supportLinkCreation(),C=B&&b("gkx")("1442420");return j.jsx(b("MessengerMovedSettingsNux.react"),{children:function(a,k){var r;switch(A){case 0:r=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(n,"_30yy _6-xf _6-xg",void 0,void 0,void 0,void 0,void 0,void 0,v,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,n,[b("MessengerArrowLeftIconSVGM4React.bs").icon]));break;case 1:r=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(o,"_30yy _6-xf _6-xg",void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,o,[b("MessengerArrowLeftIconSVGM4React.bs").icon]));break;case 2:r=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(n,"_30yy _6-xf _6-xg",void 0,void 0,void 0,void 0,void 0,void 0,u,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,q,[b("MessengerArrowLeftIconSVGM4React.bs").icon]));break;case 3:r=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(n,"_30yy _6-xf _6-xh",void 0,void 0,void 0,void 0,void 0,void 0,v,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,n,[b("MessengerArrowLeftIconSVGM4React.bs").icon]));break}if(b("gkx")("1185153")&&!s){var t=i._("Photo Gallery"),w="_30yy _8q7z";w=j.jsx("div",{children:j.jsx(b("Link.react"),{"aria-label":t,className:w,onClick:function(a){b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.GALLERY)},role:"button",title:t,children:j.jsx(b("Image.react"),{src:g("481793")})}),className:"_6ymu _7iq4"})}else w=null;var D;switch(y){case 0:D=j.jsx(b("Tooltip.react"),{tooltip:b("MessengerSettingsMenuButton.bs").settingsLabel,children:j.jsx("div",{children:j.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:h,children:function(a){return j.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0,onClick:k})}}),"aria-hidden":C,className:"_6ymu _7iq4"})});break;case 1:D=j.jsx("div",{children:j.createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:c,folder:d,threadlistOrderMap:e,viewer:h}),"aria-hidden":C,className:"_6ymu _7iq4"});break;case 2:D=j.jsx("div",{children:j.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:h,children:function(a){return j.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:-1,onClick:k})}}),"aria-hidden":C,className:"_6ymu _6-xj"});break}return j.jsxs("div",{children:[r,C?j.jsx(b("Tooltip.react"),{tooltip:i._("Profile Menu"),children:j.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:h,children:function(c){return b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make({button:j.jsx(b("Link.react"),{"aria-label":b("MessengerSettingsMenuButton.bs").settingsLabel,className:"_94wq",linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a)},onClick:k,role:"button",tabIndex:0,title:b("MessengerSettingsMenuButton.bs").settingsLabel,children:j.jsx(b("MercuryParticipantsImageM4React.bs").make,{className:"_7sta"+(A===3?" _7stb":"")+(A!==3?" _7stc":""),participants:[b("MercuryIDs").getParticipantIDFromUserID(h)],size:40,imageContainerRef:function(b){a.current=b}})})},!1,void 0,void 0,200,[]))}})}):j.createElement(b("MercuryParticipantsImageM4React.bs").make,{className:"_7sta"+(A===3?" _7stb":"")+(A!==3?" _7stc":""),participants:[b("MercuryIDs").getParticipantIDFromUserID(h)],size:40}),j.jsx("h1",{children:z,className:"_6-xo"}),j.jsx("div",{className:"_6-xl _6-xm"}),w,D,B?j.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerCreateVideoCallLinkReact.bs").make(void 0)),className:"_30yy _94py"}):null,b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(p,"_30yy _6-xp"+(x?" _6-xq":"")+(x?"":" _6-xr"),void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,l,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,p,[b("MessengerComposeIconSVGM4React.bs").icon]))],className:"_6-xk",role:"banner"})},showMovedSettingsNux:a})}c=a;f.convertStupidErrorProneCheckToViewVariant=k;f.handleNewMessageClick=l;f.handleBackToMessageRequests=m;f.backToInbox=n;f.backToMessageRequests=o;f.newMessage=p;f.backToMainSearch=q;f.shouldUseSearchRefactor=r;f.isArchon=s;f.make=c}),null);
__d("MessengerMasterViewHeaderReact.bs",["cx","fbt","React","ReasonReact.bs","MessengerView","MessengerActions","MessengerURIConstants","MessengerSearchActions","LinkWithHiddenURLBarReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs","MessengerSettingsMenuButton.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE),b("MessengerSearchActions").changeQuery(null)}function k(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}var l="_30yy _2oc8",m="_4kzu",n="_36ic _5l-3";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.view;a=a.viewer;var g=function(a){a.preventDefault(),f!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT),b("MessengerActions").changeFolder("inbox")},o=function(a){a=d==="pending"||d==="action:archived"||f!==b("MessengerView").MASTER.RECENT;var c=a?g:k;a=a?h._("Back to Recent Messages"):h._("Back to Message Requests");return b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,a,[]))},p=d==="action:archived"?h._("Archived Threads"):d==="pending"?h._("Message Requests"):d==="other"?h._("Spam Messages"):f===b("MessengerView").MASTER.PEOPLE?h._("Active Now"):h._("Messenger");o=d!=="inbox"||f!==b("MessengerView").MASTER.RECENT?o(void 0):i.jsx("div",{children:i.createElement(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:a,children:function(a){return i.createElement(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}}),className:m});var q=d!=="pending"&&d!=="other";if(q){q=h._("New Message");q=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(q,l,void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,j,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,q,[]))}else q=i.jsx("div",{children:i.createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:c,folder:d,threadlistOrderMap:e,viewer:a}),className:m});return i.jsxs("div",{children:[o,i.jsx("h1",{children:p,className:"_1tqi"}),q],className:n,role:"banner"})}c=a;d=a;f.handleAddClick=j;f.handleFilteredRequestsBackArrowClick=k;f.composeButtonClasses=l;f.settingsMenuClasses=m;f.rootClasses=n;f.make=c;f.jsComponent=d}),null);
__d("makeMarketplaceFolderPayload",["ImmutableObject","MessagingTag","makeMercuryThreadPayload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a===void 0&&(a={});return new(b("ImmutableObject"))(babelHelpers["extends"]({},b("makeMercuryThreadPayload")({folder:b("MessagingTag").INBOX,name:"Marketplace",thread_id:"marketplace",thread_type:6}),a))}}),null);
__d("MercuryThreadlistContainer.react",["LogHistory","MercuryAPIArgsSource","MercuryFilters.re","MercuryServerRequests","MercuryThreadlistConstants","MessagingTag","MessengerConfig","MessengerEnvironment","MessengerState.re","React","emptyFunction","gkx","immutable","makeMarketplaceFolderPayload","qex","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h="search";a=3;var i=5e3,j=b("MercuryThreadlistConstants").JEWEL_THREAD_COUNT+a,k=b("LogHistory").getInstance("threadlist_container");function l(a,b,c){a=a[b];return a?a[c]:null}function m(a,b,c){a=l(a,b,c);return a?a.reachedEnd:!1}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:null,isSearching:!1,threads:b("immutable").Map(),pinnedThreads:[]},d.$1=null,d.$5=function(){var a=function(){d.setState({suspended:!1}),d.handleThreadListUpdate()};b("gkx")("678640")&&(d.setState({suspended:!0}),b("setTimeout")(a,i))},d.$14=function(a){!d.state.isSearching&&!d.state.isLoading&&!m(d.props.threadlistOrderMap,d.props.folder,a)&&d.$13(d.props.folder,a,b("MercuryThreadlistConstants").JEWEL_MORE_COUNT+1)},d.$8=function(){d.$14(d.props.filter)},d.$10=function(a,c){d.setState({searchThreads:[]},function(){return d.$3(h,b("MercuryFilters.re").all,a)})},d.$9=function(a){d.setState({isSearching:!!a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props.threadlistOrderMap,this.props.folder,this.props.filter),this.$3(this.props.folder,this.props.filter)};d.UNSAFE_componentWillReceiveProps=function(a){(a.folder!==this.props.folder||a.filter!==this.props.filter)&&this.$2(a.threadlistOrderMap,a.folder,a.filter);var b=this.state.isLoading;if(b&&a.folder===b.folder&&a.filter===b.filter){var c=l(a.threadlistOrderMap,a.folder,a.filter);(c&&c.threadlist.length>=b.limit||m(a.threadlistOrderMap,a.folder,a.filter))&&this.setState({isLoading:null})}this.$3(a.folder,a.filter)};d.componentWillUnmount=function(){this.$4()};d.handleThreadListUpdate=function(){this.$3(this.props.folder,this.props.filter)};d.$6=function(){var a=this,c=l(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.re").unread);return!c?[]:c.threadlist.map(function(b){return a.props.threads[b]})};d.$7=function(a,c){var d=this;if(this.state.isSearching)return this.state.threads.get(h)||[];if(a==="inbox"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.all.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom){var e=this.state.threads.get(a)?[].concat(this.state.threads.get(a)).filter(function(a){return a.thread_type!==5}):[],f=this.props.threadlistOrderMap.marketplace_folder.all.threadlist.reduce(function(a,c){return a+(((a=b("MessengerState.re").getThreadMetaNow(d.props.viewer,c))==null?void 0:a.unread_count)||0)},0);if(c==="unread"&&f===0)return e;var g=b("MessengerState.re").getThreadMetaNow(this.props.viewer,this.props.threadlistOrderMap.marketplace_folder.all.threadlist[0]);g&&e.push(b("makeMarketplaceFolderPayload")({timestamp:g.timestamp,unread_count:f,snippet:g.snippet,snippet_sender:g.snippet_sender,participants:g.participants}));e.sort(function(a,b){return b.timestamp-a.timestamp});return e}else if(a==="marketplace_folder"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom)return this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.map(function(a){return b("MessengerState.re").getThreadMetaNow(d.props.viewer,a)}).filter(function(a){return a.message_count>0});f=this.state.threads.get(a)||[];c===b("MercuryFilters.re").unread&&f.filter!=null&&(f=f.filter(function(a){return a.unread_count>0}));return f};d.render=function(){var a=this.props,c=a.ChildClass,d=a.folder,e=a.filter,f=a.threadlistOrderMap;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass","folder","filter","threadlistOrderMap"]);var h=this.$7(d,e);return g.jsx(c,babelHelpers["extends"]({},a,{filter:e,folder:d,isLoaded:m(f,d,e),isLoading:!!this.state.isLoading,isSearching:this.state.isSearching,maxHeight:this.props.maxHeight,newMessageRequestThreads:this.$6(),pendingFolderUnseenCount:this.props.pendingFolderUnseenCount,threads:h,pinnedThreads:this.state.pinnedThreads,onLoadMoreRequest:this.$8,onQuery:this.$9,onSearchResults:this.$10,maxInitialThreadCount:j,handleChatTabOpen:this.props.source==="jewel"&&b("gkx")("678640")?this.$5:b("emptyFunction"),shouldDisableShortcuts:this.props.shouldDisableShortcuts}))};d.$2=function(a,c,d){var e=this;c===b("MessagingTag").INBOX&&this.props.source!==b("MercuryAPIArgsSource").JEWEL&&this.$11();!this.$12(c,d,a)?this.$13(c,d,j):this.state.isLoading?this.setState({isLoading:null},function(){e.$3(c,d)}):this.$3(c,d)};d.$11=function(){if(m(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.re").unread))return;b("MercuryServerRequests").getForFBID(this.props.viewer).fetchThreadlistInfo(0,b("MercuryThreadlistConstants").MAX_UNREAD_COUNT,b("MessagingTag").PENDING,b("MercuryFilters.re").unread,this.props.source,null)};d.$15=function(a,b){var c=l(this.props.threadlistOrderMap,a,b);c=c?c.threadlist:[];c=c&&c.length>0?c[c.length-1]:null;if(!c)return null;c=this.props.threads[c];var d=c?c.timestamp:null;a==="inbox"&&b==="all"&&k.debug("load threads after timestamp "+(d?d:"null"),c?c.thread_id:null);return d};d.$13=function(a,c,d){var e=this;a===b("MessagingTag").MARKETPLACE_FOLDER&&(a=b("MessagingTag").INBOX);var f=function(){b("MercuryServerRequests").getForFBID(e.props.viewer).fetchThreadlistInfo(b("MercuryThreadlistConstants").RECENT_THREAD_OFFSET,d,a,c===b("MercuryFilters.re").all?null:c,e.props.source,e.$15(a,c))};this.setState({isLoading:{folder:a,filter:c,limit:d}},f)};d.$3=function(a,c,d){var e=this;this.$4();c=l(this.props.threadlistOrderMap,a,c);var f=d||(c?c.threadlist:[]);d=[].concat.apply([],f);this.$1=b("MessengerState.re").getMultiThreadMeta(this.props.viewer,d,function(b){e.setState(function(c){c=c.threads.set(a,e.$16(f,b));return{threads:c}})});this.$17()};d.$17=function(){var a=this,c=b("MessengerState.re").getPinnedThreadlist(this.props.viewer);b("MessengerConfig").MPT!=null&&b("MessengerConfig").MPT>0&&c.reverse();b("MessengerState.re").getMultiThreadMeta(this.props.viewer,c,function(b){a.setState({pinnedThreads:a.$16(c,b)})})};d.$16=function(a,b){return a.map(function(a){if(Array.isArray(a))return a.map(function(a){return b[a]});else return b[a]})};d.$12=function(a,b,c){var d=j,e=l(c,a,b);return!!(e&&(e.threadlist.length>=d||m(c,a,b)))};d.$4=function(){this.$1&&b("MessengerState.re").unsubscribeThread(this.props.viewer,this.$1)};return c}(g.Component);e.exports=c;c.defaultProps={source:b("MercuryAPIArgsSource").JEWEL}}),null);
__d("ChatPinnedThreadsEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({MENU_ITEM_IN_OVERFLOW_MENU:"menu_item_in_overflow_menu",MENU_ITEM_IN_INFO_PANEL:"menu_item_in_info_panel",MENU_ITEM_IN_THREAD_ROW:"menu_item_in_thread_row",INFO_PANEL_SECTION_ITEM:"info_panel_section_item",CHAT_TAB_MENU:"chat_tab_menu",INTEGRATION_TEST:"integration_test",INBOX_THREAD_ROW_SWIPE:"inbox_thread_row_swipe",INBOX_EDIT_ORDER_SCREEN:"inbox_edit_order_screen"});e.exports=a}),null);
__d("ChatSidebarSheetChatOffline.react",["fbt","Link.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Turn on Active Status");return h.jsx("div",{children:g._("{=Go online} to see who's available.",[g._param("=Go online",h.jsx(b("Link.react"),{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick,children:a}))])})};return c}(h.PureComponent);e.exports=a;a.propTypes={onGoOnlineClick:b("prop-types").func.isRequired}}),null);
__d("Network",["mixInEventEmitter","$InternalEnum"],(function(a,b,c,d,e,f){var g=!0,h=a.navigator.connection,i={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"},j=b("$InternalEnum")({Bluetooth:"bluetooth",Cellular:"cellular",Ethernet:"ethernet",None:"none",Wifi:"wifi",Wimax:"wimax",Other:"other",Unavailable:"unavailable",Unknown:"unknown"}),k=b("$InternalEnum")({Type_Slow2g:"slow-2g",Type_2g:"2g",Type_3g:"3g",Type_4g:"4g",Unavailable:"unavailable"});function l(){return g}function c(a){if(a==g)return;g=a;o.emit(a?"online":"offline")}function d(){if(!l())return 0;var a=h==null?void 0:h.downlinkMax;if(typeof a==="number"&&Number.isFinite(a))return a;a=h==null?void 0:h.downlink;return typeof a==="number"&&Number.isFinite(a)?a:null}function f(){var a=h?String(h.type):"0";return i[a]||a}function m(){var a=h==null?void 0:h.type;return(a=typeof a==="string"?j.cast(a):null)!=null?a:j.Unavailable}function n(){var a=h==null?void 0:h.effectiveType;return(a=typeof a==="string"?k.cast(a):null)!=null?a:k.Unavailable}var o={NetworkConnectivityType:j,NetworkConnectivityEffectiveType:k,getBandwidth:d,getEffectiveType:n,getType:m,getType_DEPRECATED_DO_NOT_USE:f,isOnline:l,setOnline:c};b("mixInEventEmitter")(o,{online:!0,offline:!0});a.addEventListener?(a.addEventListener("online",c.bind(null,!0)),a.addEventListener("offline",c.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",c.bind(null,!0)),a.attachEvent("offline",c.bind(null,!1)));d=o;e.exports=d}),null);
__d("ChatSidebarSheetChatReconnectMsg.react",["fbt","ChannelConstants","Link.react","MessengerSpinner.react","Network","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isMessenger;a=a.msecs;var d=h.jsx(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:g._("No Internet Connection")});if(a==null||!b("Network").isOnline())return c?d:h.jsx("div",{children:g._("Unable to connect to chat. Check your Internet connection.")});else if(a>b("ChannelConstants").WARNING_COUNTDOWN_THRESHOLD_MSEC)return c?d:h.jsx("div",{children:g._("Unable to connect to chat. {try-again-link}",[g._param("try-again-link",h.jsx(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:g._("Try again")}))])});else if(a>1e3)return c?d:h.jsx("div",{children:g._("Unable to connect to chat. Reconnecting in {seconds}",[g._param("seconds",Math.floor(a/1e3))])});else return c?h.jsxs("div",{children:[h.jsx(b("MessengerSpinner.react"),{color:"grey"}),g._("Connecting...")]}):h.jsx("div",{children:g._("Unable to connect to chat. Reconnecting...")})};return c}(h.PureComponent);e.exports=a;a.propTypes={isMessenger:b("prop-types").bool,msecs:b("prop-types").number,onManuallyConnectClick:b("prop-types").func}}),null);
__d("ChatSidebarSheetChatShutdownMsg.react",["fbt","ChannelConstants","CurrentUser","React","SyncProtocolConstants","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.hint;a=a.isMessenger;switch(c){case b("ChannelConstants").HINT_AUTH:return h.jsx("div",{children:g._("Your session has timed out. Please log in.")});case b("ChannelConstants").HINT_MAINT:return a?h.jsx("div",{children:g._("Messenger is currently down for maintenance.")}):h.jsx("div",{children:g._("{Chat} is currently down for maintenance.",[g._param("Chat",g._("Chat"))])});case b("SyncProtocolConstants").IRIS_CURSOR_LIMIT:case b("SyncProtocolConstants").SNAPSHOT_FAILURE:case b("ChannelConstants").HINT_CONN:default:if(!a)return h.jsx("div",{children:g._("{Chat} is currently unavailable.",[g._param("Chat",g._("Chat"))])});else if(b("CurrentUser").isWorkUser())return h.jsx("div",{children:g._("Workplace Chat is currently unavailable.")});else return h.jsx("div",{children:g._("Messenger is currently unavailable.")})}};return c}(h.PureComponent);e.exports=a;a.propTypes={hint:b("prop-types").string,isMessenger:b("prop-types").bool}}),null);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","LogHistory","MercurySingletonProvider","MercurySyncDeltaTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),h=b("LogHistory").getInstance("dff_sender");a=function(){a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.sendGlobalDFF=function(){h.debug("sendGlobalDFF",JSON.stringify({fbid:this.$1})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch},queue:this.$1}})};c.sendThreadDFF=function(a,c){h.debug("sendThreadDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c}},queue:this.$1}})};c.sendMessageDFF=function(a,c,d){h.debug("sendMessageDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c,messageID:d})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c},messageId:d},queue:this.$1}})};return a}();e.exports=a;var i=new(b("MercurySingletonProvider"))(a)}),null);
__d("ChatSidebarSheetChatStale.react",["CurrentUser","FDSText.react","Link.react","MercurySyncFakeDFFSender","React","Tooltip"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.viewer;a="The server had a more recent sequence ID than the client the last two times it was checked.";return g.jsxs(g.Fragment,{children:[g.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(a,"above","center"),{children:g.jsx(b("FDSText.react"),{weight:"bold",color:"white",children:b("CurrentUser").isWorkUser()?"Chat is stale":"Messenger is stale"})})),g.jsxs("div",{children:[g.jsx(b("Link.react"),{onClick:function(){window.location.reload()},children:"Reload"})," | ",g.jsx(b("Link.react"),{onClick:function(){b("MercurySyncFakeDFFSender").getForFBID(c).sendGlobalDFF()},children:"Force data fetch"})," | ",b("CurrentUser").isEmployee()?g.jsx(b("Link.react"),{ajaxify:"/ajax/bugs/employee_report?source=chat_sidebar&defaultText=Chat%20is%20stale&product_category_id=303664383067721",rel:"dialog",children:"Report bug"}):null]})]})}}),null);
__d("MessengerSyncEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();e.exports=a}),null);
__d("ChatSidebarSheet.react",["fbt","Arbiter","Bootloader","ChannelConnection","ChatBehavior","ChatSidebarSheetChatOffline.react","ChatSidebarSheetChatReconnectMsg.react","ChatSidebarSheetChatShutdownMsg.react","ChatSidebarSheetChatStale.react","ChatVisibility","LogHistory","MercurySyncConstants","MercurySyncEventsProxy","MessengerEnvironment","MessengerSyncEventEmitter","PresencePrivacy","React","SubscriptionsHandler","clearTimeout","gkx","joinClasses","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("LogHistory").getInstance("sidebar_sheet");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=b("MercurySyncEventsProxy").getForFBID(d.props.viewer),d.state={connectionStatus:null,channelData:null,isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages(),syncStateInvalid:!1,syncStateReconnecting:!1,syncStateStale:!1},d.$5=function(a,c){var e=b("ChannelConnection").CONNECTED;switch(a){case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN):e=b("ChannelConnection").SHUTDOWN;break;case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING):e=b("ChannelConnection").RECONNECTING;break}d.setState({connectionStatus:e,channelData:c});d.$6()},d.$6=function(){d.setState({isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){var a=this,c;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("Arbiter")).subscribe([this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.CONNECTED),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING)],this.$5),b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],this.$6),b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.$6),b("ChatBehavior").subscribe(b("ChatBehavior").ON_CHANGED,this.$6),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE,function(){i.log("invalid state fatal","{}"),a.setState({syncStateInvalid:!0,syncStateReconnecting:!1})}),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY,function(){i.log("retry from invalid state","{}"),a.$7()}),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER,function(){i.log("recover from invalid state","{}"),a.$8()}),b("MessengerSyncEventEmitter").addListener("SYNC_INVALID_STATE_STALE",function(b){a.setState({syncStateStale:b.isStale})}))};d.componentDidMount=function(){this.$4()};d.componentDidUpdate=function(){this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.componentWillUnmount=function(){this.$1&&this.$1.release(),b("clearTimeout")(this.$2)};d.render=function(){var a=b("MessengerEnvironment").messengerui,c,d;!this.state.isOnline&&!a?(c="offline",d=this.$9()):this.$10()?(c="error",d=this.$11(a)):!this.state.notifiesUserMessages&&!a&&(c="notice",d=this.$12());(this.state.connectionStatus===b("ChannelConnection").RECONNECTING&&this.state.channelData<1e3||this.state.syncStateReconnecting)&&(c=b("joinClasses")(c,"reconnecting"));this.state.syncStateStale&&b("gkx")("1097694")&&(c="error",d=h.jsx(b("ChatSidebarSheetChatStale.react"),{viewer:this.props.viewer}));return c==="offline"&&this.$13()?null:h.jsxs("div",{className:b("joinClasses")(this.props.className,c),children:[a?null:h.jsx("div",{className:"img"}),h.jsx("div",{className:"message",children:d})]})};d.$13=function(){return!this.props.isSidebar};d.$10=function(){var a=this.state.connectionStatus;return a&&(a===b("ChannelConnection").SHUTDOWN||a===b("ChannelConnection").RECONNECTING&&this.state.channelData!==void 0)||this.state.syncStateInvalid||this.state.syncStateReconnecting};d.$11=function(a){var c=this;if(this.state.connectionStatus===b("ChannelConnection").SHUTDOWN||this.state.syncStateInvalid)return h.jsx(b("ChatSidebarSheetChatShutdownMsg.react"),{hint:this.state.syncStateInvalid?void 0:this.state.channelData,isMessenger:a});else if(this.state.connectionStatus===b("ChannelConnection").RECONNECTING||this.state.syncStateReconnecting){var d=this.state.channelData;if(d===void 0&&!this.state.syncStateReconnecting)return null;d=this.state.syncStateReconnecting?1:d;d>1e3&&(this.$2=b("setTimeoutAcrossTransitions")(this.$5.bind(this,this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING),d-1e3),1e3));return h.jsx(b("ChatSidebarSheetChatReconnectMsg.react"),{isMessenger:a,msecs:d,onManuallyConnectClick:function(){c.state.syncStateReconnecting||b("ChannelConnection").reconnect()}})}return null};d.$9=function(){var a=this;return h.jsx(b("ChatSidebarSheetChatOffline.react"),{onGoOnlineClick:function(c){a.$14(),i.log("sidebar_go_online"),b("ChatVisibility").goOnline()}})};d.$14=function(){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_PRESENCE_FUNNEL"),a.appendActionWithTag("WWW_PRESENCE_FUNNEL","sidebar_turn_on_chat",b("PresencePrivacy").getOnlinePolicyStr()),a.endFunnel("WWW_PRESENCE_FUNNEL")},"ChatSidebarSheet.react")};d.$12=function(){return h.jsx("div",{children:g._("Alerts are off while you use another client to chat.")})};d.$7=function(){this.setState({syncStateReconnecting:!0})};d.$8=function(){this.setState({syncStateInvalid:!1,syncStateReconnecting:!1})};return c}(h.PureComponent);e.exports=a}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_GUEST_MAX:6,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",GUEST_USER_TYPE:"guest",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"});e.exports=a}),null);
__d("MessageRequestLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){new(b("MessengerMessageRequestsTypedLogger"))().setSurface("inbox").setFolderType(d).setAction("message_requests_thread_impression").addToExtraData("threads",a).setThreadKeyList(c).log()}f.logItemImpression=a}),null);
__d("MessengerGraphQLSearchTypeaheadReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerGraphQLSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGraphQLSearchTypeahead.react"),{className:a,enableMessageSearch:c,excludeGroups:d,excludePages:e,hasHoverState:f,hideClearButton:(a=b("bs_js_null_undefined")).fromOption(g),isMessageSearchMode:a.fromOption(h),isFocused:a.fromOption(i),onBlur:j,onChange:k,onClear:l,onFocus:m,onScrollIntoView:n,onSelect:o,placeholder:p,queryString:a.fromOption(q),shouldQueryInternalBot:r,shouldQueryVCEndpoint:s,typeaheadViewClassName:t,viewer:u,rowComponent:a.fromOption(v),searchInputPortalRef:a.fromOption(w)},x)}f.make=a}),null);
__d("MessengerMessageRequestsInfoReact.bs",["fbt","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return g._("Open a request to see who wants to chat. Your info and actions stay private until you accept the request. Verify the identity of others before you share information");else return g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")}function a(a){return h(void 0)}c=a;f.getText=h;f.make=c}),null);
__d("MessengerSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a="WWW_MESSENGER_SEARCH_SESSION_FUNNEL";f.NAME=a;b="fetched_state_impression_list";f.FETCHED_STATE_IMPRESSION_LIST=b;c="loading_state_impression_list";f.LOADING_STATE_IMPRESSION_LIST=c;d="send_server_request";f.SEND_SERVER_REQUEST=d;e="www";f.WWW_SIDEBAR_TAG=e;a="messenger_dot_com";f.MESSENGER_DOT_COM=a;b="universal_search";f.UNIVERSAL_SEARCH=b;c="user_contact";f.USER_CONTACT=c;d="user_non_contact";f.USER_NON_CONTACT=d;e="group";f.GROUP=e;a="page";f.PAGE=a;b="game";f.GAME=b;c="tincan";f.TINCAN=c;d="message";f.MESSAGE=d;e="sms";f.SMS=e;a="sms_group";f.SMS_GROUP=a;b="coworker";f.COWORKER=b;c="other";f.OTHER=c}),null);
__d("MessengerSearchFunnelState",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1}var b=a.prototype;b.setSessionID=function(a){this.$1=a};b.getSessionID=function(){return this.$1};return a}();e.exports=a}),null);
__d("MessengerThreadListGridWrapper.react",["cx","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.label;return h.jsxs("div",{children:[h.jsx("h2",{className:"accessible_elem",children:a}),h.jsx("ul",{"aria-label":a,role:"grid",children:this.props.children})]})};return b}(h.PureComponent);e.exports=a;a.propTypes={label:b("prop-types").string.isRequired}}),null);
__d("MessengerThreadlistFooterDesktopAppLink.bs",["ix","fbt","React","UserAgent","fbicon","stylex","CometRow.react","TetraButton.react","CometRowItem.react","CometPressable.react","MessengerDesktopPromoEventLogger","XMessengerDotComDesktopController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c={};(i||(i=b("stylex"))).inject(".sn0e7ne5{box-shadow:0 0 2px rgba(0,0,0,.3)}",1);i.inject(".f6rbj1fe{min-height:54px}",1);i.inject(".l3ldwz01:hover{text-decoration:none}",7.1);var k={root:{boxShadow:"sn0e7ne5",minHeight:"f6rbj1fe",":hover":{textDecoration:"l3ldwz01"}}};function a(a){a=b("XMessengerDotComDesktopController").getURIBuilder().getURI().setDomain("www.messenger.com").setProtocol("https").toString();var c=j.useCallback(function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Click"})},[]),d=b("UserAgent").isPlatform("Windows")?h._("New! Messenger App for Windows"):b("UserAgent").isPlatform("Mac OS X")?h._("New! Messenger App for Mac"):h._("New! Messenger App for Desktop");return j.jsx(b("CometRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:k.root,children:j.jsx(b("CometRowItem.react"),{expanding:!0,children:j.jsx(b("CometPressable.react"),{"aria-label":d,expanding:!0,onPress:c,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(g("520490"),16),label:d.toString(),type:"overlay",onPress:c,linkProps:{target:"_blank",url:a}})})})})}d=a;f.XMessengerDotComDesktopController=c;f.styles=k;f.make=d}),null);
__d("MessengerThreadlistLinkRowReact.bs",["cx","fbt","React","Link.react","ClickableAreaButton.react","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_2ogt _6yb-":"_2ogt";function k(a){return i.jsx("li",{children:i.jsx("div",{children:i.createElement(b("Link.react"),{className:j,onClick:a,children:h._("See Spam")}),className:"_2ogs"}),className:"_5l-3 _1ht1 _2ogr"})}function a(a){return i.createElement(b("ClickableAreaButton.react"),{onClick:a,children:k(a),className:j})}f.linkClasses=j;f.linkBox=k;f.make=a}),null);
__d("MessengerMessageDotsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-2",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-11",d:"M24,15.5044817 C22.8955,15.5044817 22,16.4004043 22,17.5054256 C22,18.6104468 22.8955,19.5063694 24,19.5063694 C25.1045,19.5063694 26,18.6104468 26,17.5054256 C26,16.4004043 25.1045,15.5044817 24,15.5044817 Z M18,15.5044817 C16.8955,15.5044817 16,16.4004043 16,17.5054256 C16,18.6104468 16.8955,19.5063694 18,19.5063694 C19.1045,19.5063694 20,18.6104468 20,17.5054256 C20,16.4004043 19.1045,15.5044817 18,15.5044817 Z M12,15.5044817 C10.8955,15.5044817 10,16.4004043 10,17.5054256 C10,18.6104468 10.8955,19.5063694 12,19.5063694 C13.1045,19.5063694 14,18.6104468 14,17.5054256 C14,16.4004043 13.1045,15.5044817 12,15.5044817 Z M29.9995,17.4579031 C29.9985,24.1155436 24.974,28.9893426 18,28.9893426 C16.838,28.9893426 15.731,28.8857938 14.692,28.6321741 C13.829,28.4215748 12.9275,28.4430849 12.0855,28.7302204 L8.084,29.9587999 C7.439,30.1784035 6.814,29.5521081 7.032,28.8827924 L7.827,26.2530519 C8.124,25.3411217 8.0085,24.3406498 7.5095,23.5257654 C6.4525,21.8004516 6.001,19.7394794 6.0005,17.4579031 L6.0005,17.4569027 L6.0005,17.4559022 C6.0015,10.7992622 11.026,6.0035 18,6.0035 C24.974,6.0035 29.9985,10.7992622 29.9995,17.4559022 L29.9995,17.4569027 L29.9995,17.4579031 Z",fill:"#000000"})],id:"message-dots",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerThreadlistMessageRequestsRowReact.bs",["cx","ix","fbt","Keys","Image.bs","React","bs_caml_array","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerActions","MNAdsLogMessageUtils","MessengerParticipants.bs","LinkWithHiddenURLBarReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerMessageDotsIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h("86936");function l(a){a.preventDefault();if(a.charCode===b("Keys").RETURN){b("MessengerActions").changeFolder("pending");return}}function m(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}function a(a){var c=a.pendingFolderUnseenCount,d=a.newMessageRequestThreads,e=a.viewer,f=d.filter(function(a){return!(a==null)});a=function(a){a=i._({"someone":"From someone you may know","people":"From people you may know"},[i._enum(f.length===1?"someone":"people",{someone:"someone",people:"people"})]);var c=f.length;if(c===0)return a;var d=b("bs_caml_array").get(f,0),g=b("MercuryIDs").getParticipantIDFromUserID(e),h=d.participants.find(function(a){return a!==g});if(h===void 0)return a;h=b("MessengerParticipants.bs").getNow(h);if(h==null)return a;else{b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);if(c===1)return i._("From {name}",[i._param("name",h.name)]);else return i._("From {name} and {count} more",[i._param("name",h.name),i._param("count",String(c-1|0))])}};if(f.length===0)return null;else return j.jsxs("li",{children:[b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(void 0,"_1ht5 _2il3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3",void 0,void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[j.jsxs("div",{children:[j.jsxs("div",{children:[b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:b("MessengerMessageDotsIconSVGM4React.bs").icon,className:"_7jot",style:{height:String(50)+"px",width:String(50)+"px"}}):b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,k,50,void 0,50,void 0,[])),(c==null?void 0:b("bs_caml_option").some(c))!==0&&!b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("span",{className:"_3xse"}):null],className:"_5l-3 _1qt3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5nxe"}),j.jsxs("div",{children:[j.jsx("div",{children:j.jsx("div",{children:i._({"*":"New Message Requests","_1":"New Message Request"},[i._plural(f.length)]),className:"_1ht6 _5nxa"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":"")}),className:"_1qt5 _5l-3"}),j.jsx("div",{children:j.jsx("div",{children:a(void 0),className:"_1htf"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":"")}),className:"_1qt5 _5l-3"})],className:"_1qt4"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m"})],className:"_6zkb"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":"")})])),b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:j.jsx("div",{children:j.jsx("div",{className:"_7jp2"}),className:"_2j6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3"}),role:"gridcell"}):null],className:"_5l-3 _1ht1"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+" _2kt",role:"row",tabIndex:-1,onKeyPress:l})}c=50;d=a;f.imageSize=c;f.src=k;f.handleKeyPress=l;f.handleClickRow=m;f.make=d}),null);
__d("MessengerThreadlistNewMessageRow.react",["cx","fbt","ix","Image.react","LinkWithHiddenURLBar.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerCrossIconSVGM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerView","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=50,l=i("86935");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:c.$3()},c.$8=function(a){a.preventDefault(),c.props.onClose&&c.props.onClose(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("MessengerComposerStore").addListener("change",function(){var b=a.$3();a.setState({participants:b})})};d.$3=function(){var a=this;this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2);var c=b("MessengerParticipants.bs").getMultiEager(this.$4(),function(b){a.$2=null,a.setState({participants:b})}),d=c[0];c=c[1];this.$2=c;return d};d.$4=function(){return b("MessengerComposerStore").getState().recipients.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray()};d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2)};d.renderM4=function(){return j.jsx("li",{className:"_5l-3 _1ht1 _6zk9"+(this.props.isActive?" _1ht2":""),children:j.jsx(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,tabIndex:0,className:"_1ht5 _2il3 _6zka _5l-3",children:j.jsxs("div",{className:"_6zkb _7t1l _6zkc",children:[this.$6(),j.jsx("div",{className:"_1qt4 _7vuo _5l-m",children:j.jsx("div",{className:"_1qt5 _5l-3",children:j.jsx("div",{className:"_1ht6 _7st9",children:this.$7()})})}),j.jsx("div",{className:"_6zv8",children:j.jsx(b("ShimButton.react"),{className:"_23ct _6zv9"+(this.props.isActive?" _6zva":""),onClick:this.$8,children:j.jsx(b("MessengerCrossIconSVGM4React.bs").make,{size:18})})})]})})})};d.render=function(){if(b("MessengerDotComAndInboxM4Check.bs").yes)return this.renderM4();else return j.jsx("li",{className:"_5l-3 _1ht1"+(this.props.isActive?" _1ht2":""),children:j.jsxs(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,className:"_1ht5 _2il3 _5l-3",children:[this.$6(),j.jsxs("div",{className:"_1qt4 _5l-m",children:[j.jsxs("div",{className:"_1qt5 _5l-3",children:[j.jsx("div",{className:"_1ht6",children:this.$7()}),j.jsx(b("ShimButton.react"),{"aria-label":h._("Close"),className:"_23ct",onClick:this.$8})]}),j.jsx("div",{className:"_1qt5 _5l-3",children:"\xa0"})]})]})})};d.$6=function(){var a=this.state.participants;return a.length>0?j.jsx("div",{className:"_1qt3 _5l-3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":""),children:j.jsx(b("MessengerProfileImageWrapperReact.bs").jsComponent,{isMessengerUser:a.length===1&&a[0].is_messenger_user,size:k,showBadge:!1,children:j.jsx(b("MercuryParticipantsImage.react"),{participants:a.map(function(a){return a.id}).slice(0,3),size:k})})}):j.jsx("div",{className:"_1qt3 _5l-3",children:j.jsx(b("Image.react"),{height:k,src:l,width:k})})};d.$7=function(){return this.state.participants.length===0?h._("New message"):h._("New message to {List of message recipients}",[h._param("List of message recipients",new(b("MercuryParticipantListRenderer"))().renderParticipantList(this.state.participants.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))])};d.$5=function(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE)};return c}(j.PureComponent);e.exports=a;a.propTypes={isActive:b("prop-types").bool,onClose:b("prop-types").func.isRequired}}),null);
__d("MessengerThreadlistNewMessageRowReact.bs",["ReasonReact.bs","MessengerThreadlistNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableListConstants","Bootloader","CurrentUser","ImmutableObject","MercuryIDs","MessengerParticipants.bs","PresenceStatus","React","SubscriptionsHandler","createReactClass_DEPRECATED","immutable","prop-types","shallowEqual","AvailableList"],(function(a,b,c,d,e,f){"use strict";var g=b("React");b("AvailableList");var h=function(a){return!b("CurrentUser").isWorkUser()?!1:b("immutable").Seq(a).some(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a===b("CurrentUser").getID())return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE})},i=function(a){return a.thread.is_canonical_user?a.thread.other_user_fbid:null},j=b("createReactClass_DEPRECATED")({displayName:"MercuryThreadlistRowContainer",propTypes:{ChildClass:b("prop-types").func.isRequired,thread:b("prop-types").instanceOf(b("ImmutableObject")).isRequired,viewer:b("prop-types").string.isRequired},_availabilityStatusStore:null,subscriptions:new(b("SubscriptionsHandler"))(),_participantsSubscription:null,getInitialState:function(){return{participants:b("immutable").Map(),isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:this._getDoNotDisturb()}},componentDidMount:function(){var a=this;b("CurrentUser").isWorkUser()&&this.subscriptions.addSubscriptions(b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return a.setState({isPresenceForWork:h(a.props.thread.participants)})}));if(b("CurrentUser").isWorkUser()){var c=i(this.props);c&&b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(b){j._availabilityStatusStore=b,b.fetchUsersIfNeeded([c]),b.subscribeUser(c,a),a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)}),a.subscriptions.addSubscriptions(b.addListener(function(){var c=a.props.thread.is_canonical_user?a.props.thread.other_user_fbid:null;c&&a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)})}))},"MercuryThreadlistRowContainer.react")}var d=this._getDoNotDisturb(),e=this._computeParticipants();this.setState({participants:e,isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:d})},componentDidUpdate:function(){var a=this,b=[];this.props.thread.participants.map(function(c){var d=a.state.participants.get(c);d||b.push(c)});var c=this._getDoNotDisturb();if(b.length>0)this.setState({participants:this._computeParticipants(),isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:c});else{var d=h(this.props.thread.participants);d!==this.state.isPresenceForWork&&this.setState({isPresenceForWork:d});c!==this.state.isDoNotDisturb&&this.setState({isDoNotDisturb:c})}},_computeParticipants:function(){var a=this;this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription);var c=b("MessengerParticipants.bs").getMultiEagerMap(this.props.thread.participants,function(b){a._participantsSubscription=null,a.setState({participants:b})}),d=c[0];c=c[1];this._participantsSubscription=c;return d},_getDoNotDisturb:function(){var a=i(this.props);return j._availabilityStatusStore&&a&&b("CurrentUser").isWorkUser()?j._availabilityStatusStore.getIsDoNotDisturb(a):!1},componentWillUnmount:function(){var a=i(this.props);a&&(b("CurrentUser").isWorkUser()&&j._availabilityStatusStore&&j._availabilityStatusStore.unsubscribeUser(a,this));this.subscriptions.release();this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription)},shouldComponentUpdate:function(a,c){return!b("shallowEqual")(a,this.props)||c.isPresenceForWork!==this.state.isPresenceForWork||c.isDoNotDisturb!==this.state.isDoNotDisturb||!b("immutable").is(c.participants,this.state.participants)},render:function(){var a=this.props,c=a.ChildClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass"]);return g.jsx(c,babelHelpers["extends"]({},a,{participants:this.state.participants,isPresenceForWork:this.state.isPresenceForWork,isDoNotDisturb:b("CurrentUser").isWorkUser()&&this.state.isDoNotDisturb}))}});a=j;e.exports=a}),null);
__d("MNAdsMessageRequestUtils",["fbt","AdPageMessageTypeEnum","MessagingTag","React"],(function(a,b,c,d,e,f,g){"use strict";f.isAdsMessageRequest=a;f.renderAdsMessageRequestStatus=c;var h=b("React");function a(a){return a.folder==b("MessagingTag").PENDING&&!!a.last_message_type&&a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD}function c(){var a=g._("Sponsored");return h.jsx("span",{children:a})}}),null);
__d("MarketplaceMeasurementGating",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";f.shouldShowTxnSurveyOnly=a;f.shouldShowInboxOnWWW=c;function a(){return b("gkx")("1341472")}function c(){return b("qex")._("1581518")}}),null);
__d("MercuryThreadTimestampReact.re",["MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MercuryThreadTimestampReact.bs").make;f.make=a}),null);
__d("MessengerConfirmBlockThreadDialogReact.re",["MessengerConfirmBlockThreadDialogReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerConfirmBlockThreadDialogReact.bs").make;f.make=a}),null);
__d("MessengerConfirmLeaveGroupDialogReact.re",["MessengerConfirmLeaveGroupDialogReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerPinIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"PinChatIcon"}),g.jsx("path",{id:"Fill-1",d:"M13.9355,-3.55271368e-15 C13.4005,-3.55271368e-15 12.8985,0.208 12.5205,0.586 L11.5435,1.562 C11.0045,2.102 10.8195,2.886 11.0605,3.609 L11.3765,4.559 L8.5715,7.364 L7.2425,7.364 C5.3635,7.364 3.5955,8.096 2.2675,9.425 C1.9845,9.707 1.8285,10.084 1.8285,10.485 C1.8285,10.886 1.9845,11.263 2.2675,11.546 L9.3385,18.617 C9.6225,18.9 9.9985,19.057 10.3995,19.057 C10.8005,19.057 11.1775,18.9 11.4605,18.617 C12.7895,17.289 13.5205,15.521 13.5205,13.643 L13.5205,12.313 L16.3265,9.508 L17.2755,9.824 C17.4795,9.893 17.6925,9.927 17.9075,9.927 C18.4415,9.927 18.9445,9.719 19.3225,9.341 L20.2985,8.363 C20.6765,7.986 20.8845,7.484 20.8845,6.949 C20.8845,6.415 20.6765,5.913 20.2985,5.535 L15.3495,0.586 C14.9715,0.208 14.4695,-3.55271368e-15 13.9355,-3.55271368e-15 M13.9355,1 C14.1915,1 14.4475,1.098 14.6425,1.293 L19.5915,6.242 C19.9825,6.633 19.9825,7.267 19.5915,7.656 L18.6155,8.634 C18.4235,8.824 18.1675,8.927 17.9075,8.927 C17.8015,8.927 17.6955,8.91 17.5915,8.876 L16.6425,8.56 C16.5395,8.525 16.4325,8.508 16.3275,8.508 C16.0655,8.508 15.8105,8.61 15.6195,8.801 L12.8135,11.606 C12.6255,11.794 12.5205,12.049 12.5205,12.313 L12.5205,13.643 C12.5205,15.243 11.8845,16.778 10.7525,17.91 C10.6555,18.008 10.5275,18.057 10.3995,18.057 C10.2715,18.057 10.1435,18.008 10.0455,17.91 L2.9745,10.839 C2.7795,10.644 2.7795,10.327 2.9745,10.132 C4.1065,9 5.6415,8.364 7.2425,8.364 L8.5715,8.364 C8.8355,8.364 9.0905,8.259 9.2785,8.071 L12.0835,5.266 C12.3515,4.998 12.4455,4.602 12.3255,4.242 L12.0085,3.293 C11.8895,2.934 11.9825,2.538 12.2505,2.27 L13.2285,1.293 C13.4235,1.098 13.6795,1 13.9355,1",fill:b}),g.jsx("path",{id:"Fill-3",d:"M0.1465,20.7383 C-0.0485,20.5433 -0.0485,20.2263 0.1465,20.0313 L4.3885,15.7883 C4.5835,15.5933 4.9015,15.5933 5.0965,15.7883 C5.2915,15.9833 5.2915,16.3013 5.0965,16.4963 L0.8535,20.7383 C0.6585,20.9333 0.3415,20.9333 0.1465,20.7383",fill:b})],viewBox:"0 0 22 22"}),className:a})}f.make=a}),null);
__d("MessengerThreadlistRowSeenHeadReact.bs",["cx","Image.bs","MercuryIDs","bs_caml_option","ReasonReact.bs","joinClasses","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c,d,e){var f=d.snippet_sender;if(e===void 0)if(!(f==null)&&f===a)return c.watermark>=d.timestamp;else return!1;f=b("bs_caml_option").valFromOption(e);if(f.author===a&&c.watermark>=f.timestamp&&!b("MessengerMessage.bs").isSending(f))return!b("MessengerMessage.bs").hasError(f);else return!1}function i(a){var c=a.className,d=a.isHidden,e=a.lastMessage,f=a.participants,g=a.readReceipts,i=a.thread;a=a.viewer;c=c!==void 0?c:"";var j=i.is_canonical,k=i.other_user_fbid;if(d===void 0)return null;if(!j)return null;if(k==null)return null;if(d)return null;j=b("MercuryIDs").getParticipantIDFromUserID(a);d=b("MercuryIDs").getParticipantIDFromUserID(k);a=g.get(d);k=f.get(d);if(!(k==null)&&!(a==null)&&h(j,a,i,e))return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(c,"_2_a2"),void 0,void 0,void 0,k.image_src,void 0,k.name,void 0,void 0,[]));else return null}function a(a){var c={participants:a.participants,readReceipts:a.readReceipts,thread:a.thread,viewer:a.viewer},d=b("bs_caml_option").nullable_to_opt(a.className);d!==void 0&&(c.className=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.isHidden);d!==void 0&&(c.isHidden=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.lastMessage);d!==void 0&&(c.lastMessage=b("bs_caml_option").valFromOption(d));return i(c)}c=i;f.shouldRender=h;f.make=c;f.jsComponent=a}),null);
__d("MessengerThreadlistWorkDenseMode",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({QUICK_CHAT:null,TEAMWORK:null});c=Object.freeze(a);d=c;e.exports=d}),null);
__d("MessengerURIUtils.bs",["URI","MercuryIDs","MessengerView","MessengerURISerializer"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){var c=b("MessengerURISerializer").deserialize(new(g||(g=b("URI")))(window.location.href)),d=b("MessengerView").DETAIL.THREAD;return b("MessengerURISerializer").serialize(Object.assign(Object.assign({},c),{activeThreadID:a,detailView:d,query:c.queryAll?c.query:void 0}))}function a(a){return h(b("MercuryIDs").getThreadIDFromUserID(a))}function c(a){return h(a.thread_id).setQueryData({mid:a.message_id})}f.getURIForThreadID=h;f.getURIForUserID=a;f.getURIForMessage=c}),null);
__d("WorkGalahadChannelStatusBadge.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var b=a.canToggle,c=a.isNested;c=c===void 0?!1:c;var d=a.onClick;a=a.unread;var e=j({canToggle:b,unread:a});return i.jsx("div",{"aria-label":e,className:(c?"":"_2ph-")+(a?"":" _1qum")+(a?" _1qun":"")+(b?" _1quo":""),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":e,onClick:b?function(a){a.stopPropagation(),a.preventDefault(),d&&d()}:void 0,role:b?"button":void 0,children:i.jsx("div",{className:"_1qvo"})})}function j(a){var b=a.canToggle;a=a.unread;return!b?null:a?h._("Mark as Read"):h._("Mark as Unread")}}),null);
__d("WIGDeferredPopoverTrigger.react",["CometDeferredPopoverTrigger.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometDeferredPopoverTrigger.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WIGCircleButton.react",["React","TetraCircleButton.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return g.jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({ref:c},a))}c=g.forwardRef(a);e.exports=c}),null);
__d("WIGInteractiveElementContext.react",["React"],(function(a,b,c,d,e,f){a=b("React");c=a.createContext({hovered:!1,focused:!1,pressed:!1});e.exports=c}),null);
__d("FocusTable.react",["FocusManager","Locale","React","ReactKeyboardEvent.react","focusKeyboardEventPropagation","gkx","react","setElementCanTab","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){f.createFocusTable=a;var g,h=b("React"),i=g||(g=b("react")),j=5;function k(a){return a.length===1}function l(a,c,d){if(c){c=c.scopeRef.current;if(c!==null){c=c.DO_NOT_USE_queryFirstNode(a);c!==null&&(b("setElementCanTab")(c,!0),b("FocusManager").focusElement(c),d.preventDefault(),b("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(d))}}}function m(a,b,c,d,e){d=d[c];c=q(d,e);var f=0,g,h,i;do{g=b-f;if(g>=0){i=o(d,g,e,a);if(i)return i}h=b+f;if(h<=c){i=o(d,h,e,a);if(i)return i}f++}while(g>=0&&h<=c);return null}function n(a,b,c,d,e,f,g,h){var i=b.onNavigate;if(i){var j=!1;e=t(e,d,h);var k=e[1];e=v(b,d,g,h);var n=e[0],p=e[1];if(n===null)return!1;b={currentCellIndex:k,currentRowIndex:p,event:c,focusCell:function(a,b){l(b||f,a,c)},getCell:function(a,b){a=n[a];return o(a,b,h)},getCellByTag:function(a){var b=m(a,k,p,n,h);if(b)return b;var c=n.length,d=p+1;while(!0){if(d===p)return null;if(d>c-1){d=0;continue}b=m(a,k,d,n,h);if(b)return b;d++}return null},preventDefault:function(){j=!0},type:a};i(b);if(j)return!0}return!1}function o(a,b,c,d){a=a.getChildContextValues(c).filter(function(a){return a&&a.disabled!==!0&&(d===void 0||a.tag===d)});c=0;for(var e=0;e<a.length;e++){var f=a[e];if(f){c+=f&&f.colSpan||1;if(c>b)return f}}return null}function p(a,b,c,d,e){c=o(b,c,d);if(c!==null){l(a,c,e);return}c=b.getChildContextValues(d).filter(function(a){return a&&a.disabled!==!0});c.length>0&&l(a,c[c.length-1],e)}function q(a,b){b=(a=a.getChildContextValues(b).filter(function(a){return a&&a.disabled!==!0}))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function r(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function s(a,b){return a.getChildContextValues(b).filter(function(a){return a&&a.disabled!==!0})}function t(a,b,c){b=s(b,c);if(b.length>0){c=r(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function u(a,b,c){if(a){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(b);b=[];for(var d=0;d<a.length;d++){var e=a[d];if(e){e=e.current;e&&(e.getChildContextValues(c).every(function(a){return a&&a.disabled===!0})||b.push(e))}}return b}}return null}function v(a,b,c,d){a=u(a,c,d);if(b&&a&&a.length>0){c=a.indexOf(b);return[a,c]}return[null,-1]}function w(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var c=i.unstable_Scope,d=i.createContext(null),e=i.createContext(null),f=i.createContext(null);function g(a){var b=a.children,e=a.wrapX,f=a.wrapY,g=a.wrapXToNextLine,k=a.tabScopeQuery,l=a.allowModifiers,m=a.pageJumpSize,n=m===void 0?j:m,o=a.onNavigate,p=h.useRef(null);m=h.useMemo(function(){return{scopeRef:p,wrapXToNextLine:g,wrapX:e,wrapY:f,tabScopeQuery:k,allowModifiers:l,pageJumpSize:n,onNavigate:o}},[g,e,f,k,l,n,o]);return i.jsx(d.Provider,{value:m,children:i.jsx(c,{ref:p,children:b})})}function m(a){a=a.children;var b=h.useRef(null);return i.jsx(e.Provider,{value:b,children:i.jsx(c,{ref:b,children:a})})}function o(c,d){c=c.current;if(c!=null){c=c.DO_NOT_USE_queryFirstNode(a);c!==null&&b("setElementCanTab")(c,!d)}}var r=b("gkx")("1792723")?function(a,b){return h.useEffect(function(){o(a,b)},[b,a])}:function(a,c){return b("useLayoutEffect_SAFE_FOR_SSR")(function(){window.requestAnimationFrame(function(){return o(a,c)})},[c,a])};function s(g){var j=g.children,m=g.colSpan,o=g.disabled;g=g.tag;var s=h.useContext(d),u=h.useContext(e),x=h.useRef(null);b("ReactKeyboardEvent.react").useKeyboard(x,h.useMemo(function(){return{onKeyDown:function(c){if(b("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(c))return;var d=x.current;if(d===null||s===null)return;if(u===null)return;var g=u.current;if(g===null)return;var h=c.key;if(h==="Tab"&&s){var i=s.tabScopeQuery,j=s.scopeRef.current;if(i&&j){if(n("TAB",s,c,g,d,i,e,f))return;var m=document.activeElement;j=j.DO_NOT_USE_queryAllNodes(i);if(j!==null)for(var i=0;i<j.length;i++){var o=j[i];o!==m?b("setElementCanTab")(o,!1):b("setElementCanTab")(o,!0)}}return}if(w(c)&&s){o=s.allowModifiers;if(o!==!0)return}m=c.ctrlKey||c.metaKey;i=h;b("Locale").isRTL()&&(h==="ArrowRight"?i="ArrowLeft":h==="ArrowLeft"&&(i="ArrowRight"));switch(i){case"Home":if(n("HOME",s,c,g,d,a,e,f))return;j=t(d,g,f);o=j[0];i=j[1];j=v(s,g,e,f);var r=j[0];j=j[1];if(o!==null&&r!==null)if(m){if(j!==0||i!==0){o=r[0];p(a,o,0,f,c)}}else if(i!==0){o=r[j];p(a,o,0,f,c)}return;case"End":if(n("END",s,c,g,d,a,e,f))return;i=t(d,g,f);r=i[0];j=i[1];o=v(s,g,e,f);i=o[0];o=o[1];if(r!==null&&i!==null)if(m){if(o!==i.length-1||j!==r.length-1){o=i[i.length-1];i=o.getChildContextValues(f).filter(function(a){return a&&a.disabled!==!0});i.length>0&&l(a,i[i.length-1],c)}}else j!==r[r.length-1]&&l(a,r[r.length-1],c);return;case"ArrowUp":if(n("PREV_ROW",s,c,g,d,a,e,f))return;o=t(d,g,f);i=o[0];j=o[2];if(i!==null&&s){r=v(s,g,e,f);o=r[0];i=r[1];if(o!==null)if(i===0){r=s.wrapY;if(r===!0&&!m){r=o[o.length-1];p(a,r,j,f,c)}}else if(m){r=o[0];p(a,r,j,f,c)}else{r=o[i-1];p(a,r,j,f,c)}}return;case"PageUp":if(n("PAGE_UP",s,c,g,d,a,e,f))return;o=t(d,g,f);i=o[0];r=o[2];j=v(s,g,e,f);o=j[0];j=j[1];if(i!==null&&o!==null&&s&&j!==0){i=s.pageJumpSize;o=o[Math.max(0,j-i)];p(a,o,r,f,c)}return;case"ArrowDown":if(n("NEXT_ROW",s,c,g,d,a,e,f))return;j=t(d,g,f);i=j[0];o=j[2];r=v(s,g,e,f);j=r[0];r=r[1];if(i!==null&&j!==null&&s&&r!==-1)if(r===j.length-1){i=s.wrapY;if(i===!0&&!m){i=j[0];p(a,i,o,f,c)}}else if(m){i=j[j.length-1];p(a,i,o,f,c)}else{m=j[r+1];p(a,m,o,f,c)}return;case"PageDown":if(n("PAGE_DOWN",s,c,g,d,a,e,f))return;i=t(d,g,f);j=i[0];r=i[2];m=v(s,g,e,f);o=m[0];i=m[1];if(j!==null&&o!==null&&s&&i!==o.length-1){m=s.pageJumpSize;j=o[Math.min(o.length-1,i+m)];p(a,j,r,f,c)}return;case"ArrowLeft":if(n("PREV_CELL",s,c,g,d,a,e,f))return;o=t(d,g,f);i=o[0];m=o[1];j=v(s,g,e,f);r=j[0];o=j[1];if(i!==null&&r!==null&&s)if(m>0)l(a,i[m-1],c);else if(m===0){j=s.wrapX;m=s.wrapXToNextLine;j===!0?l(a,i[i.length-1],c):m===!0&&r[o-1]&&p(a,r[o-1],q(r[o-1],f),f,c)}return;case"ArrowRight":if(n("NEXT_CELL",s,c,g,d,a,e,f))return;j=t(d,g,f);i=j[0];m=j[1];r=v(s,g,e,f);o=r[0];j=r[1];if(i!==null&&o!==null&&s&&m!==-1)if(m===i.length-1){r=s.wrapX;var y=s.wrapXToNextLine;r===!0?l(a,i[0],c):y===!0&&o[j+1]&&p(a,o[j+1],0,f,c)}else l(a,i[m+1],c);return;default:k(h)&&n("PRINT_CHAR",s,c,g,d,a,e,f)}}}},[u,s]));r(x,o);return i.jsx(f.Provider,{value:{scopeRef:x,disabled:o,colSpan:m,tag:g},children:i.jsx(c,{ref:x,children:j})})}return[g,m,s]}}),null);
__d("WorkGalahadChannelFocusableTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f){"use strict";a=b("FocusTable.react").createFocusTable(b("focusScopeQueries").tabbableScopeQuery);c=a[0];d=a[1];e=a[2];f.WorkGalahadChannelFocusableTableCell=e;f.WorkGalahadChannelFocusableTableRow=d;f.WorkGalahadChannelFocusableTable=c;a=b("focusScopeQueries").tabbableScopeQuery;f.WorkGalahadChannelFocusableScopeQuery=a}),null);
__d("useFocusState",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b){var c=g.useState(!1),d=c[0],e=c[1];c=g.useCallback(function(b){e(!0),a&&a(b)},[a]);var f=g.useCallback(function(a){e(!1),b&&b(a)},[b]);return[d,c,f]}}),null);
__d("WorkGalahadUIChannelMetaButton.react",["ix","React","WIGCircleButton.react","WIGInteractiveElementContext.react","WorkGalahadChannelFocusableTable.react","WorkGalahadHoverHelper","fbicon","stylex","useFocusState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");function a(a,c){var d=a.forceVisible,e=a.icon;e=e===void 0?b("fbicon")._(g("484385"),12):e;var f=a.label;a=a.onPress;var j=i.useContext(b("WIGInteractiveElementContext.react")),k=j.focused;j=j.hovered;var l=b("useFocusState")(),m=l[0],n=l[1];l=l[2];var o=b("WorkGalahadHoverHelper").useHover(),p=o[0];o=o[1];var q=o.onMouseEnter;o=o.onMouseLeave;return i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"opacity-1":"fchkd3bi","position-1":"i8ovu4tj","border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","width-1":"ez34a2ks","height-1":"mhmrsd19","box-shadow-1":"t2u441ym"},d===!0||j||k||m||p?{"opacity-1":"pt8wzkwh","position-1":"hal92y33"}:null),children:i.jsx(b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,{children:i.jsx("div",{role:"gridcell",children:i.jsx(b("WIGCircleButton.react"),{onFocusIn:n,onFocusOut:l,onHoverIn:q,onHoverOut:o,icon:e,label:f,size:24,onPress:a,ref:c})})})})}c=i.forwardRef(a);e.exports=c}),null);
__d("WorkGalahadUIChannelMeta.react",["React","WIGDeferredPopoverTrigger.react","WorkGalahadUIChannelMetaButton.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.label,d=a.onHide,e=a.onShow,f=a.forceVisible,h=f===void 0?!1:f;f=a.popoverProps;a=a.popoverResource;var i=g.useState(!1),j=i[0],k=i[1];return g.jsx(b("WIGDeferredPopoverTrigger.react"),{align:"start",popoverProps:f,popoverResource:a,popoverType:"menu",position:"below",onVisibilityChange:function(a){k(a),a?e&&e():d&&d()},children:function(d,a){return g.jsx(b("WorkGalahadUIChannelMetaButton.react"),{forceVisible:j||h,label:c,onPress:a,ref:d})}})}}),null);
__d("WorkGalahadChatChannelOverflowButton.react",["fbt","React","WorkGalahadUIChannelMeta.react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("requireDeferred")("WorkGalahadChatChannelOverflowMenu.react");function a(a){var c=a.onToggle;a=a.thread;return h.jsx(b("WorkGalahadUIChannelMeta.react"),{popoverProps:{label:g._("Chat actions"),thread:a},popoverResource:i,label:g._("Chat actions"),forceVisible:!0,onShow:function(){return c(!0)},onHide:function(){return c(!1)}})}}),null);
__d("WorkGalahadGroupEmojiConsts",[],(function(a,b,c,d,e,f){"use strict";a=128172;f.DEFAULT_EMOJI_CODEPOINT=a}),null);
__d("WorkGalahadMessageRow.react",["cx","React","WorkGalahadHoverHelper"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){var c=a.children,d=a.hideMeta,e=a.isActive;a=a.meta;var f=b("WorkGalahadHoverHelper").useHover(),g=f[0];f=f[1];return h.jsxs("div",babelHelpers["extends"]({className:"_3-gp _23dk _6inw"+(e?" _69pu":"")+(g?" _6aio":"")},f,{children:[c,a!=null&&d!==!0?h.jsx("div",{className:"_3-gq _3nmu",children:a}):null]}))}}),null);
__d("getMessengerThreadlistWorkDenseMode",["CurrentUser","MessengerThreadlistWorkDenseMode","gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a===!0?b("MessengerThreadlistWorkDenseMode").QUICK_CHAT:b("CurrentUser").isWorkUser()&&b("gkx")("779201")?b("MessengerThreadlistWorkDenseMode").TEAMWORK:null}}),null);
__d("messengerRTLClasses",["cx","isRTL"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function a(a,c){a=b("isRTL")(a||"");return c?a?"_4pv0":"":(a?"":"direction_ltr")+(a?" direction_rtl":"")+(a?"":" text_align_ltr")+(a?" text_align_rtl":"")+(a?" _4pv0":"")}}),null);
__d("MessengerThreadlistRow.react",["cssVar","cx","fbt","ix","Bootloader","CurrentUser","FBEmojiUtils","Image.react","ImmutableObject","LinkWithHiddenURLBar.react","MarketplaceMeasurementGating","MarketplaceMeasurementUtils","MarketplaceMessengerItemThreadLabel.react","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryParticipantListRenderer","MercuryThreadActions","MercuryThreadSnippet.react","MercuryThreadTimestampReact.re","MercuryThreadTitleSafe.react","MercuryTimestamp","MessageRequestUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerButtonReact.re","MessengerConfig","MessengerConfirmBlockThreadDialogReact.re","MessengerConfirmLeaveGroupDialogReact.re","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerGalahadGating.bs","MessengerMessage.bs","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerPinIconSVGReact.bs","MessengerPresenceStatusUtils","MessengerThreadImageM4React.bs","MessengerThreadlistRowActionsReact.bs","MessengerThreadlistRowSeenHeadReact.bs","MessengerThreadlistWorkDenseMode","MessengerURIStore","MessengerURIUtils.bs","MNAdsMessageRequestUtils","React","ReactDOM","RelayAPIConfig","RTWebUserActionLogger","ShimButton.react","Tooltip","UserAgent","WorkGalahadChannelStatusBadge.react","WorkGalahadChatChannelOverflowButton.react","WorkGalahadGroupEmojiConsts","WorkGalahadMessageRow.react","asset","clearTimeout","getMessengerThreadlistWorkDenseMode","getPageIDFromThreadID","gkx","immutable","joinClasses","messengerRTLClasses","prop-types","qex","requireCond","setTimeout","uniqueID","cr:999311","cr:1358619"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=50,m=24,n=j("86913"),o=j("86914");(function(a){var b;switch(a){case"pending":case"other":case"inbox":case"thread":b=a;break;default:b=null}return b});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={actionsOpen:!1,participantNames:"",isMiniInbox:!1},d.$1=b("uniqueID")(),d.$2=0,d.$3=null,d.$5=k.createRef(),d.$6=function(a){return d.setState({isMiniInbox:a.matches})},d.$9=function(a){a.preventDefault(),d.props.onFocus(d.props.thread.thread_id)},d.$10=function(a){d.$2++;if(d.$3)return;d.$3=b("setTimeout")(function(){d.props.onSelect&&d.props.onSelect(),d.$2=0,d.$3=null},1e3)},d.$11=function(a){d.$2--,d.$2===0&&(b("clearTimeout")(d.$3),d.$3=null)},d.$12=function(a){d.props.onSelect()},d.$13=function(a){if(d.props.logClickHandler){a=d.props.thread.is_canonical?b("MercuryIDs").getUserIDFromThreadID(d.props.thread.thread_id)||"0":d.props.thread.thread_fbid;d.props.logClickHandler&&d.props.logClickHandler(a)}},d.$20=function(a){d.setState({actionsOpen:a})},d.$28=function(a){a.preventDefault();a.stopPropagation();a=window.callWindow&&!window.callWindow.closed&&window.callWindow.focus;if(a)window.callWindow.focus();else{a=d.props.thread;var c=a.rtc_call_data,e=a.thread_fbid;a="GROUP:"+e;var f=c.call_state==="VIDEO_GROUP_CALL";b("RTWebUserActionLogger").logClick({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:b("RTWebUserActionLogger").getMediaType(!f)});b("Bootloader").loadModules(["StartCallWithZenonOrFBRTC","FBRTCLogger"],function(a,b){b=b.Trigger;a.startGroupCall(!f,e,[],f?b.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:b.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,c)},"MessengerThreadlistRow.react")}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.getParticipantNames(),this.$4=window.matchMedia("(max-width: 900px)"),this.setState({isMiniInbox:this.$4.matches}),this.$4.addListener(this.$6)};d.componentWillUnmount=function(){this.$4.removeListener(this.$6)};d.componentDidUpdate=function(a){this.props.isFocused&&(!a.isFocused?this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.$5.current).focus():b("ReactDOM").findDOMNode(this.refs.link).focus():!a.isActionsFocused&&this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.$5.current).focus():a.isActionsFocused&&!this.props.isActionsFocused&&b("ReactDOM").findDOMNode(this.refs.link).focus());if(this.$7(this.props.thread)&&!this.$7(a.thread)){a=this.props.thread;var c=a.rtc_call_data;a=a.thread_fbid;a="GROUP:"+a;c=c.call_state==="VIDEO_GROUP_CALL";b("RTWebUserActionLogger").logImpression({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:b("RTWebUserActionLogger").getMediaType(!c)})}this.getParticipantNames()};d.getParticipantNames=function(){var a=this;if(this.state.participantNames!=="")return;var c=this.props,d=c.thread;c=c.viewer;var e=d.participants||[],f=b("MercuryIDs").getParticipantIDFromUserID(c);e.length>1&&(e=e.filter(function(a){return a!=f}));var g=d.custom_nickname?{}:null;if(g)for(var h in d.custom_nickname)g[h]=d.custom_nickname[h];b("MessengerParticipants.bs").getMulti(e,function(c){var d=e.map(function(a){return c[a]});d=new(b("MercuryParticipantListRenderer"))().setNickname(g).renderParticipantList(d);a.setState({participantNames:d})})};d.render=function(){var a,c=this,d=this.props,e=d.isActive,f=d.isActionsFocused,g=d.isTabbable,h=d.participants,j=d.thread;d=d.viewer;var l=j.unread_count>0,m=b("MessengerURIUtils.bs").getURIForThreadID(j.thread_id),n=j.name?j.name:this.state.participantNames,o=b("MNAdsMessageRequestUtils").isAdsMessageRequest(j)?b("MNAdsMessageRequestUtils").renderAdsMessageRequestStatus():this.$8(j),p=b("getMessengerThreadlistWorkDenseMode")(this.props.isDenseRow),q=b("MessengerDotComAndInboxM4Check.bs").yes?"_7vuq":"_33g_";a=(a=(a=j.work_associated_group)==null?void 0:(a=a.group_icon)==null?void 0:a.emoji_codepoints)!=null?a:[];var r=null;a.length>0?r=b("FBEmojiUtils").codepointsToString([].concat(a)):j.work_associated_group!=null&&(r=b("FBEmojiUtils").codepointsToString([b("WorkGalahadGroupEmojiConsts").DEFAULT_EMOJI_CODEPOINT]));a=j.marketplace_thread_data;var s=a==null?void 0:a.seller_added_labels;s=(s=b("MarketplaceMeasurementUtils").getCurrentStatusLabel(s))==null?void 0:s.label_string;a=a==null?void 0:a.seller_fbid;a=a!=null&&a.toString()===b("RelayAPIConfig").actorID;m=k.jsxs("li",{"aria-live":l?"polite":null,"aria-relevant":e||l?"additions text":null,onFocus:this.$9,className:"_5l-3 _1ht1"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+(j.folder===b("MessagingTag").PENDING?" _4as3":"")+(this.props.isActive?" _1ht2":"")+(l?" _1ht3":"")+(this.state.actionsOpen?" _13aa":"")+(this.props.isMuted?" _569x":"")+((b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0)&&j.is_pinned?" _1oh3":"")+(this.props.isFocused?" _23_m":"")+(l&&b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Mac")?" _5fx8":"")+(p===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xnu":"")+(p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?" _79nz":""),onDragEnter:e?null:this.$10,onDragLeave:e?null:this.$11,role:"row",ref:function(a){return a&&c.props.registerThreadRefs&&c.props.registerThreadRefs(a)},tabIndex:-1,children:[k.jsx("div",{className:"_5l-3 _1ht5",id:this.$1,"data-testid":void 0,role:"gridcell",tabIndex:-1,children:k.jsx(b("LinkWithHiddenURLBar.react"),{"data-testid":void 0,href:m.toString(),onClick:this.$12,onAllClicks:this.$13,className:"_1ht5 _2il3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3 _3itx",s:"true",ref:"link",role:"link",tabIndex:g&&!f?0:-1,children:k.jsxs("div",{className:"_6zkb"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":""),children:[this.props.isMuted&&k.jsx("div",{className:"accessible_elem",children:i._("muted conversation")}),k.jsxs("div",babelHelpers["extends"]({},b("Tooltip").propsFor(n,"right","center"),{"data-tooltip-root-class":q,"aria-hidden":!0,className:"_1qt3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5l-3",children:[b("cr:1358619")!=null&&r!=null&&r!==""?k.jsx(b("cr:1358619"),{isPresenceForWork:this.props.isPresenceForWork,emojiText:r}):b("MessengerDotComAndInboxM4Check.bs").yes&&b("cr:999311")?k.jsx(b("cr:999311").make,{borderColor:e?"#f2f2f2":this.state.isMiniInbox&&l?"#D2E7FD":null,size:this.$14(p),thread:j,viewer:d}):k.jsx(b("MessengerThreadImageM4React.bs").make,{borderColor:e?"#f2f2f2":this.state.isMiniInbox&&l?"#D2E7FD":null,size:this.$14(p),thread:j,viewer:d}),j.is_business_page_active&&b("qex")._("968099")?k.jsx("div",{className:"_849n"}):null]})),k.jsxs("div",{className:"_1qt4"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m",children:[b("MessengerDotComAndInboxM4Check.bs").yes?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"_1qt5 _5l-3",children:k.jsx(b("MercuryThreadTitleSafe.react"),{className:"_1ht6 _7st9",showUnreadCount:!1,thread:j,useShortName:!1,viewer:d})}),k.jsxs("div",{className:"_1qt5 _6zkd _5l-3",children:[k.jsx(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf _6zke",b("messengerRTLClasses")(j.snippet,!0)),participants:h,shouldRenderYou:!0,thread:j,viewer:d}),k.jsx("div",{"aria-hidden":!0,className:"_6zkf",children:"\xb7"}),o]}),a&&b("MarketplaceMeasurementGating").shouldShowInboxOnWWW()?k.jsx(b("MarketplaceMessengerItemThreadLabel.react"),{threadLabel:s}):null]}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"_1qt5 _5l-3",children:[k.jsx(b("MercuryThreadTitleSafe.react"),{className:"_1ht6",showUnreadCount:!1,thread:j,useShortName:!1,viewer:d}),p!==b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?k.jsx("div",{children:o}):null]}),p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT||b("gkx")("1072947")?null:k.jsx("div",{className:"_1qt5 _5l-3",children:k.jsx(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf",b("messengerRTLClasses")(j.snippet,!0)),participants:h,shouldRenderYou:!0,thread:j,viewer:d})})]}),this.$15()]})]})})}),p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?this.$16():this.$17(p)]});if(b("MessengerGalahadGating.bs").isGalahadUIEnabled())return k.jsx(b("WorkGalahadMessageRow.react"),{isActive:this.props.isActive,hideMeta:p!=null,meta:k.jsx(b("WorkGalahadChannelStatusBadge.react"),{canToggle:!0,onClick:function(){l?c.props.onMarkRead():c.props.onMarkUnread()},unread:this.props.thread.unread_count>0}),children:m});else return m};d.$17=function(a){if(this.props.showActions===!1)return null;var c=this.props,d=c.blockedIds,e=c.isActionsFocused,f=c.isTabbable,g=c.participants,h=c.thread;c=c.viewer;var j=b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(this.props.participants,h);j=j&&j.contact;d=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(c,d,h);var l=b("MessengerAdminGroupUtils").isJoinableThread(h),m=b("MercuryIDs").isGroupChat(this.props.thread.thread_id),n=h.unread_count>0,o;(b("MessengerDotComAndInboxM4Check.bs").yes||a===b("MessengerThreadlistWorkDenseMode").TEAMWORK)&&n?o=this.state.actionsOpen?null:k.jsx("div",{className:"_6zv_"+(a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xfs":"")}):o=k.jsx(b("MessengerThreadlistRowSeenHeadReact.bs").jsComponent,{className:"_5bli",isHidden:this.state.actionsOpen&&!(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0),lastMessage:this.props.lastMessage,participants:g,readReceipts:this.props.readReceipts,thread:h,viewer:c});return k.jsx("div",{role:"gridcell",children:k.jsxs(b("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":i._("Actions"),className:"_2j6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3"+(a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8c_j":""),tabIndex:f&&e?0:-1,role:"button",children:[a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?null:this.$18(),k.jsx("div",{className:"_56ck"}),o,this.$19(),b("MessengerGalahadGating.bs").isGalahadUIEnabled()?k.jsx("div",{className:"_8xru",children:k.jsx(b("WorkGalahadChatChannelOverflowButton.react"),{className:"_5blh",onToggle:this.$20,tabIndex:-1,thread:this.props.thread})}):k.jsx(b("MessengerThreadlistRowActionsReact.bs").jsComponent,{contact:j,isGroupChat:m,isJoinableThread:l,isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isPinned:h.is_pinned,isUnread:n,isBlocked:d,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onPin:this.props.onPin,onToggle:this.$20,onUnmute:this.props.onUnmute,onUnpin:this.props.onUnpin,onIgnore:this.props.onIgnore,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,showLeaveGroup:this.props.showLeaveGroup,showMute:!0,showBlock:b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,j),showPin:this.$21(),showReport:this.$22(),tabIndex:-1,thread:h,buttonRef:this.$5}),this.$23()]})})};d.$16=function(){if(this.props.showActions===!1)return null;var a=this.props,c=a.isActionsFocused;a=a.isTabbable;return k.jsx("div",{role:"gridcell",children:k.jsxs(b("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":i._("Actions"),className:"_7pj3 _5l-3",tabIndex:a&&c?0:-1,role:"button",children:[this.$18(),k.jsx("div",{className:"_56ck"})]})})};d.$18=function(){if(b("CurrentUser").isWorkUser())return k.jsx(b("Image.react"),{src:j("572538"),className:"_6q64"});else if(b("MessengerConfig").MPT>0)return b("MessengerPinIconSVGReact.bs").make("_1oh5","#808080");return null};d.$23=function(){return b("CurrentUser").isWorkUser()?k.jsx(b("Image.react"),{src:j("1265675"),className:"_8xfj"}):null};d.$19=function(){var a=this.props.lastMessage;if(this.state.actionsOpen||!a)return null;var c=b("MessengerMessage.bs").isSending(a),d=b("MessengerMessage.bs").hasError(a);if(!c&&!d)return null;d=b("MessengerMessage.bs").getError(a);return k.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right","center"),{children:k.jsx(b("Image.react"),{className:"_wtw"+(c?" _3qh2":""),src:c?o:n})}))};d.$8=function(a){var c;return k.jsx(b("MercuryThreadTimestampReact.re").make,{className:"_1ht7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkh":""),time:a.timestamp,title:(c=b("MercuryTimestamp").getAbsoluteTimestamp(a.timestamp))!=null?c:void 0,text:b("MercuryTimestamp").getRelativeTimestamp(a.timestamp)})};d.$24=function(){var a=this,c=this.props.thread.thread_id;c&&b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerConfirmLeaveGroupDialogReact.re").jsComponent,{onLeave:function(){var d=b("MessengerURIStore").getState().activeThreadID===c;a.$25().leaveGroup(c);d&&b("MessengerActions").selectThread(null)},isViewerAdmin:!1,thread:a.props.thread})})};d.$25=function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)};d.$26=function(a){var c=this,d=this.props.thread.thread_id,e=d===b("MessengerURIStore").getState().activeThreadID;this.$25().blockIgnoreOnMessengerDotCom(e,d,function(){c.$27(a)})};d.$27=function(a){var c=this.props.thread,d=this.props.thread.thread_id;b("MessengerDialogs.bs").showDialog(function(){return k.jsx(b("MessengerConfirmBlockThreadDialogReact.re").make,{participantName:a})});var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(null).log()};d.$15=function(){if(!this.$7(this.props.thread))return null;var a=!b("gkx")("1105821")&&window.callWindow&&!window.callWindow.closed?i._("Return to Call"):i._("Join Call");return k.jsx(b("MessengerButtonReact.re").make,{className:"_4ry5",label:a,onClick:this.$28,type:"primary"})};d.$7=function(a){return((a=(a=a.rtc_call_data)==null?void 0:a.call_state)!=null?a:"NO_ONGOING_CALL")!=="NO_ONGOING_CALL"};d.$21=function(){var a=b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0,c=b("getPageIDFromThreadID")(this.props.thread.thread_id);return a&&c===null};d.$22=function(){return b("getPageIDFromThreadID")(this.props.thread.thread_id)!=null};d.$14=function(a){if(!b("CurrentUser").isWorkUser())return l;switch(a){case b("MessengerThreadlistWorkDenseMode").QUICK_CHAT:case b("MessengerThreadlistWorkDenseMode").TEAMWORK:return m;default:return l}};return c}(k.PureComponent);e.exports=c;c.propTypes={isActive:(d=b("prop-types")).bool.isRequired,blockedIds:d.any,isActionsFocused:d.bool,isFocused:d.bool,isMuted:d.bool.isRequired,isDoNotDisturb:d.bool,isPresenceForWork:d.bool,isDenseRow:d.bool,lastMessage:d.object,logClickHandler:d.func,onArchive:d.func.isRequired,onDelete:d.func.isRequired,onMarkRead:d.func.isRequired,onMarkSpam:d.func.isRequired,onMarkUnread:d.func.isRequired,onMute:d.func.isRequired,onPin:d.func.isRequired,onSelect:d.func.isRequired,onUnmute:d.func.isRequired,onIgnore:d.func.isRequired,onBlock:d.func.isRequired,onUnblock:d.func.isRequired,onUnpin:d.func.isRequired,participants:d.instanceOf(b("immutable").Map).isRequired,readReceipts:d.instanceOf(b("immutable").OrderedMap).isRequired,registerThreadRefs:d.func,thread:d.instanceOf(b("ImmutableObject")).isRequired,viewer:d.string.isRequired};function a(a,b){return"row_header_id_"+a+(b==null?"":b)}}),null);
__d("MessengerThreadlistRowContainer.react",["fbt","CurrentUser","IgnoreMessagesTypedLogger","ImmutableObject","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadInfo","MercuryThreadlistRowContainer.react","MessageRequestUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfirmLeaveGroupDialogReact.bs","MessengerDialogs.bs","MessengerEnvironment","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerReadReceipt.bs","MessengerState.bs","MessengerThreadlistRow.react","MNPlatformTagsDataManager","React","ReactComponentWithPureRenderMixin","ReactDOM","createReactClass_DEPRECATED","prop-types","requireCond","withMessengerSource","cr:998178","cr:998179"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadlistRowContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{blockedIds:(a=b("prop-types")).any,isActive:a.bool.isRequired,isTabbable:a.bool,folder:a.string,onScrollIntoView:a.func,onOverrideSelect:a.func,showActions:a.bool,readReceipts:a.any,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired,source:a.string.isRequired},componentDidUpdate:function(a){var c=this.props,d=c.onScrollIntoView;c=c.isActive;c&&!a.isActive&&d&&d(b("ReactDOM").findDOMNode(this))},render:function(){var a=this.props.thread.thread_id;a=b("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a,0,1)[0]||null;var c=b("MessengerReadReceipt.bs").getSeenTimestamps(this.props.readReceipts,this.props.thread.thread_id);if(this.props.thread.thread_type===6&&b("cr:998178")&&b("cr:998179")&&b("MessengerEnvironment").messengerdotcom)return h.jsx(b("cr:998178"),babelHelpers["extends"]({},this.props,{ChildClass:b("cr:998179")}));else return h.jsx(b("MercuryThreadlistRowContainer.react"),babelHelpers["extends"]({},this.props,{ChildClass:b("MessengerThreadlistRow.react"),isMuted:b("MercuryThreadInfo").isMuted(this.props.thread),lastMessage:a,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onPin:this._handlePin,onSelect:this._handleSelect,onUnmute:this._handleUnmute,onUnpin:this._handleUnpin,onIgnore:this._handleIgnore,onBlock:this._handleBlockFromSettingOrDecline,onUnblock:this._handleUnblock,readReceipts:c,showActions:this.props.showActions,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical}))},_handleArchive:function(){var a=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleDelete:function(){var a=this.props.isActive;this._getThreadActions()["delete"](this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){var a=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleSelect:function(){var a=b("CurrentUser").getID();a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);if(this.props.onOverrideSelect){this.props.onOverrideSelect(this.props.thread);return}b("MessengerActions").selectThread(this.props.thread.thread_id);var c=b("MercuryIDs").getUserIDFromThreadID(this.props.thread.thread_id),d;switch(this.props.folder){case"inbox":d="inbox";break;case"pending":d="pending";break;case"other":d="other";break}this.props.thread.folder!==b("MessagingTag").INBOX&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_thread_open").setThreadID(c).setSurface(d).setFolderType(this.props.thread.folder).setThreadKey(a).log();b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",c)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleLeaveGroup:function(){var a=this;if(this.props.viewer){var c=b("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);b("MessengerDialogs.bs").showDialog(function(){return h.jsx(b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,{onLeave:a._onLeaveGroupConfirm,isViewerAdmin:c,thread:a.props.thread})})}},_handleIgnore:function(){var a=this.props.isActive;this._getThreadActions().changeFolder(this.props.thread.thread_id,"other");a&&b("MessengerActions").selectThread(null);new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlockFromSettingOrDecline:function(){var a=this.props.thread.thread_id;a=b("MercuryIDs").isGroupChat(a);if(a){this._handleIgnore();return}a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(this.props.thread.other_user_fbid));a=a&&a.short_name||g._("sender");this._handleConfirmBlock(a)},_handleConfirmBlock:function(a){var b=this,c=this.props.thread.thread_id;c&&this._getThreadActions().blockIgnoreOnMessengerDotCom(this.props.isActive,c,function(){b._handleAfterBlock(a)})},_handleAfterBlock:function(a){a=this.props.thread;var c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.thread_id,b("CurrentUser").getID()),d=!!a&&b("MessageRequestUtils").isFiltered(a);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)).setSurface("thread").setFolderType(d?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint(null).log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_onLeaveGroupConfirm:function(){if(!b("MercuryThreadInfo").isEmptyLocalThread(this.props.thread)){var a=this._getMessageObject().constructLogMessageObject(this.props.source,this.props.thread.thread_id,"log:unsubscribe",{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(a)}},_getThreadActions:function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return b("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return b("MercuryMessageObject").getForFBID(this.props.viewer)}});d=b("withMessengerSource")(c,!0);e.exports=d}),null);
__d("MessengerThreadlistRowContainerReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","MessengerThreadlistRowContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistRowContainer.react"),{folder:b("bs_js_null_undefined").fromOption(a),blockedIds:n,isActive:(a=b("Utils.bs")).optionBoolToBool(c),isFocused:a.optionBoolToBool(d),isActionsFocused:a.optionBoolToBool(f),isTabbable:a.optionBoolToBool(h),isDenseRow:a.optionBoolToBool(e),onOverrideSelect:b("bs_js_null_undefined").fromOption(g),onFocus:i,onScrollIntoView:j,thread:k,viewer:l,readReceipts:m},o)}f.make=a}),null);
__d("WorkGalahadChatPinnedThreadsDraggableItem.react",["AbstractDraggableItem.react","React"],(function(a,b,c,d,e,f){e.exports=a;var g=b("React");function a(a){return g.jsx(b("AbstractDraggableItem.react"),babelHelpers["extends"]({},a,{useScroller:!1}))}}),null);
__d("WorkGalahadChatPinnedThreadsPlaceholder.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.height;a=a.size;return h.jsxs("div",{style:{height:c},className:"t36ehdhz oitujibm mu99tzkh",children:[h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"margin-start-1":"sz73h0x9","border-top-0.3":"o144up91","border-end-0.3":"cxmiaorw","border-bottom-0.3":"dyz8u7lw","border-start-0.3":"f7ccw6nr","border-top-start-radius-1":"fviam4sw","border-top-end-radius-1":"e3xoa9gt","border-bottom-end-radius-1":"c6boxllp","border-bottom-start-radius-1":"mukvf3dn","box-sizing-1":"tdgv6ycz"},a==="small"?{"height-1":"tnvj1z6f","width-1":"l99ei0wt"}:{"height-1":"ayztslwv","width-1":"fbxwonbd"})}),h.jsx("div",{className:"fxb11ux4 q877oug0 oqpzs85e"})]})}}),null);
__d("WorkGalahadChatPinnedThreadsReorderableList.react",["AbstractDraggableList.react","FBOverlayBase.react","React","WorkGalahadChatPinnedThreadsDraggableItem.react","WorkGalahadChatPinnedThreadsPlaceholder.react","immutable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");b("immutable").List;b("immutable").Map;function a(a){var c=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;var f={};a.forEach(function(a,c){f[c]={id:c,label:g.jsx(b("FBOverlayBase.react"),{children:a}),isMovable:!0,isRemovable:!1}});a=g.useCallback(function(a,b){var d=c["delete"](c.indexOf(a));if(b){b=d.indexOf(b);d=d.splice(b,0,a)}else d=d.push(a);e&&e(d)},[c]);return g.jsx(b("AbstractDraggableList.react"),{itemsRenderer:b("WorkGalahadChatPinnedThreadsDraggableItem.react"),itemIDs:c.toArray(),itemsByID:f,onRemove:function(){},onReorder:a,placeholderRenderer:b("WorkGalahadChatPinnedThreadsPlaceholder.react"),placeholderProps:{size:d}})}}),null);
__d("WorkGalahadChatPinnedThreadsInlineEditor.react",["cx","React","WorkGalahadChatPinnedThreadsReorderableList.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");b("immutable").List;b("immutable").Map;function a(a){var c=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;return h.jsx("div",{className:"_3-95 _8nwq",children:h.jsx(b("WorkGalahadChatPinnedThreadsReorderableList.react"),{onChange:e,ids:c,renderedItemsByID:a,itemSize:d})})}}),null);
__d("WIGPivotLink.react",["React","TetraPivotLink.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return g.jsx(b("TetraPivotLink.react"),babelHelpers["extends"]({},a,{ref:c}))}c=g.forwardRef(a);e.exports=c}),null);
__d("XSavedForLaterDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/saved/",{collection_token:{type:"String"},tag_filter:{type:"String"},cref:{type:"Int"},suggestion_dialog:{type:"Int"},cursor:{type:"String"},notif_id:{type:"Int"},dashboard_section:{type:"Enum",defaultValue:"ALL",enumType:1},cref_name:{type:"String"},a_type:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"},tab:{type:"Enum",enumType:1},unlisted_only:{type:"Bool",defaultValue:!1},seen_state_filter:{type:"Enum",enumType:0},referrer:{type:"String"},use_case:{type:"Enum",enumType:1}})}),null);
__d("WorkGalahadChatsThreadlistMenu",["fbt","MercuryFilters.re","MessagingTag","React","WIGPivotLink.react","WorkGalahadChatChannelActions","XSavedForLaterDashboardController","gkx"],(function(a,b,c,d,e,f,g){f.getMenuItemsForChannelHeader=a;b("React");function h(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function i(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").unread)}function j(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").ACTION_ARCHIVED),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function k(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").OTHER),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function l(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").PENDING),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function a(a,c){var d=b("gkx")("843916"),e=[{selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").INBOX,label:g._("All"),onPress:h},{selected:a===b("MercuryFilters.re").unread&&c===b("MessagingTag").INBOX,label:g._("Unread"),onPress:i},{selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").ACTION_ARCHIVED,label:g._("Hidden"),onPress:j}];e.push({selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").OTHER,label:g._("Permanently Hidden"),onPress:k});e.push({selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").PENDING,label:g._("Message Requests"),onPress:l});d&&e.push({label:g._("Saved Messages"),linkProps:{url:b("XSavedForLaterDashboardController").getURIBuilder().setEnum("dashboard_section","MESSAGES").getURI()}});return e}}),null);
__d("WorkGalahadUIPivotLinkGroup.react",["ix","fbt","FocusGroup.react","React","WIGCircleButton.react","WIGDeferredPopoverTrigger.react","WIGDropdownMenuItem.react","WIGPivotLink.react","WIGTooltip.react","fbicon","focusScopeQueries","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=b("requireDeferred")("WIGDropdownMenu.react");c=b("FocusGroup.react").createFocusGroup(b("focusScopeQueries").tabbableScopeQuery);var k=c[0],l=c[1];function a(a){var c,d=a.maxActionsNumber;d=d===void 0?1:d;var e=a.pivotActions;a=a.pivotActionsLabel;var f=i.useState(!1),n=f[0],o=f[1],p=[],q=i.useRef();i.useEffect(function(){n&&(q.current&&q.current(),o(!1),q.current=void 0)},[n]);f=((f=e)!=null?f:[]).slice(0,1);c=((c=e)!=null?c:[]).slice(1);c=((e=e)!=null?e:[]).length>d?c.sort(function(a,b){return Number(b.selected)-Number(a.selected)}):c;f=f.concat(c.slice(0,d));e=c.slice(d);f.forEach(function(a,b){p.push(i.jsx(m,babelHelpers["extends"]({},a),b))});c=e.map(function(a){var c;return i.jsx(b("WIGDropdownMenuItem.react"),{label:a.label,href:(c=(c=a.linkProps)==null?void 0:c.url)!=null?c:void 0,onClick:function(b){a!=null&&a.onPress!=null&&(q.current=function(){return a.onPress&&a.onPress(b)},o(!0))}},a.label)});if(e.length!==0){var r=h._("See more");p.push(i.jsx(l,{children:i.jsx("div",{className:"cfk3jyev",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:r,children:i.jsx(b("WIGDeferredPopoverTrigger.react"),{align:"start",fallback:null,popoverProps:{items:c,label:r},popoverResource:j,popoverType:"menu",children:function(a,c){return i.jsx(b("WIGCircleButton.react"),{label:r,icon:b("fbicon")._(g("484388"),24),onPress:c,ref:a,size:36})}})})})},f.length))}return f.length!==0?i.jsx(k,{wrap:!0,orientation:"horizontal",preventScrollOnFocus:!1,tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,allowModifiers:!0,children:i.jsx("div",{role:"toolbar","aria-label":a,className:"mhnqdiy5 o0foh442 sulwup3a mu99tzkh",children:p})}):null}var m=i.forwardRef(function(a,c){return i.jsx(l,{children:i.jsx("div",{className:"cfk3jyev e45fqjho q8ag7aew tdgv6ycz",children:i.jsx(b("WIGPivotLink.react"),babelHelpers["extends"]({},a,{ref:c}))})})})}),null);
__d("WorkGalahadUIChannelHeader.react",["React","WIGPivotLink.react","WIGText.react","WorkGalahadUIPivotLinkGroup.react","stylex","testID"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.backAction,d=a.maxActionsNumber,e=a.pivotActions,f=a.primaryAction,h=a.secondaryAction,i=a.tertiaryAction,j=a.title,k=a.pivotActionsLabel;a=a["data-testid"];c=g.jsxs("div",{className:"h7jhnjd5 t36ehdhz sulwup3a rpt3ley2 hal92y33 zfmvpfxx eimatuwp m3p3afjb a3m408la f0w9ysip kyu6y8np mq32vg4l ouhd256r jgcuv4po akl1aaa0 kqlegusg ftjbd6cl mu99tzkh tdgv6ycz j6ngj7h7 olwqhsk7",children:[g.jsxs("span",{className:"mu99tzkh",children:[Boolean(c)&&c,g.jsx("div",{className:Boolean(c)?"s9o98cno b3dg2zbw":"",children:g.jsx(b("WIGText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:j})})]}),g.jsxs("span",{className:"ktvg4m2a mu99tzkh",children:[i!=null&&g.jsx("span",{className:"ewe7nd7x",children:i}),h!=null&&g.jsx("span",{className:"ewe7nd7x",children:h}),f]})]});return g.jsxs("div",babelHelpers["extends"]({className:"r8mubyy5 kykouyfj p8o7x76n"},b("testID")(a),{children:[c,e?g.jsx("div",{className:"hmmao1jw bv6y7xb9",children:g.jsx(b("WorkGalahadUIPivotLinkGroup.react"),{maxActionsNumber:d,pivotActions:e,pivotActionsLabel:k})}):null]}))}}),null);
__d("WorkGalahadChatsThreadlistHeader.react",["fbt","MercuryFilters.re","MessagingTag","React","WorkGalahadChatsThreadlistMenu","WorkGalahadUIChannelHeader.react","gkx","requireCond","cr:1061624"],(function(a,b,c,d,e,f,g){var h=b("React"),i=g._("Chats");function a(a){var c=a.filter;a=a.folder;c=b("WorkGalahadChatsThreadlistMenu").getMenuItemsForChannelHeader(c,a);return h.jsx(b("WorkGalahadUIChannelHeader.react"),{pivotActions:c,pivotActionsLabel:g._("Chats filters"),primaryAction:b("cr:1061624")&&h.jsx(b("cr:1061624").PrimaryActionForChannelHeader,{}),title:i})}c=h.memo(a);e.exports=c}),null);
__d("WorkGalahadNavListContext.react",["React"],(function(a,b,c,d,e,f){a=b("React");c=a.createContext({focused:!1,hovered:!1});e.exports=c}),null);
__d("WorkGalahadNavHeaderPressableAction.react",["React","WIGPressable.react","WIGText.react","WIGTooltip.react","WorkGalahadNavListContext.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={action:{textAlign:"igocvxxm"},actionTransition:{opacity:"fchkd3bi",transitionProperty:"dm2j5ryo",transitionDuration:"rs2dquaj",transitionTimingFunction:"d32d5syc",":focus":{opacity:"el9k2h2j"},":hover":{opacity:"kh39u4sc"}},actionTransitionVisible:{opacity:"pt8wzkwh"}};function a(a){var c=a.href;c=c===void 0?void 0:c;var d=a.onClick,e=a.showOnHover,f=a.linkRef,i=a.tooltip;a=a.title;var j=g.useContext(b("WorkGalahadNavListContext.react")),k=j.focused;j=j.hovered;c=c!=null?{url:c.toString()}:void 0;c=g.jsx(b("WIGPressable.react"),{display:"block",linkProps:c,onPress:d,overlayDisabled:!0,xstyle:[h.action,e===!0&&h.actionTransition,(k||j)&&h.actionTransitionVisible],ref:f,children:g.jsx(b("WIGText.react"),{type:"bodyLink4",color:"highlight",children:a})});i!=null&&(c=g.jsx(b("WIGTooltip.react"),{tooltip:i,children:c}));return c}}),null);
__d("WorkGalahadNavTextHeaderBase.react",["React","WIGText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={title:{textTransform:"qh3kmfdh"},subtitle:{marginBottom:"hmmao1jw",marginTop:"ax8vyoxa",paddingTop:"b5mg2iqh",paddingBottom:"r8mubyy5"},titleAndAction:{display:"mu99tzkh",justifyContent:"akl1aaa0",alignItems:"t36ehdhz"},root:{display:"mu99tzkh",justifyContent:"oitujibm",alignItems:"qzq7978s",flexDirection:"tv52aht6",paddingTop:"b5mg2iqh",paddingBottom:"sgyxnsb9",paddingEnd:"ffozemys",paddingStart:"hmw2pi96"},indented:{paddingStart:"dxs9yoch"}};function a(a){var c=a.action,d=a.indented;d=d===void 0?!0:d;var e=a.subtitle,f=a.title;a=a.xstyle;return h.jsxs("div",{className:(g||(g=b("stylex")))(i.root,d&&i.indented,a),children:[h.jsxs("div",{className:g(i.titleAndAction),children:[f,c]}),e!=null?h.jsx("div",{className:(g||(g=b("stylex")))(i.subtitle),children:h.jsx(b("WIGText.react"),{type:"body4",color:"secondary",children:e})}):null]})}a.SmallTitle=function(a){a=a.title;return h.jsx("span",{className:(g||(g=b("stylex")))(i.title),children:h.jsx(b("WIGText.react"),{type:"bodyLink4",color:"secondary",isSemanticHeading:!0,numberOfLines:1,children:a})})};a.LargeTitle=function(a){a=a.title;return h.jsx(b("WIGText.react"),{type:"headlineEmphasized3",isSemanticHeading:!0,numberOfLines:1,children:a})};a.ExtraLargeTitle=function(a){a=a.title;return h.jsx(b("WIGText.react"),{type:"headlineEmphasized1",isSemanticHeading:!0,numberOfLines:1,children:a})}}),null);
__d("WorkGalahadNavTextHeader.react",["React","WorkGalahadNavTextHeaderBase.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,c){switch(c){case"EXTRA_LARGE":return g.jsx(b("WorkGalahadNavTextHeaderBase.react").ExtraLargeTitle,{title:a});case"LARGE":default:return g.jsx(b("WorkGalahadNavTextHeaderBase.react").LargeTitle,{title:a})}}function a(a){var c=a.action,d=a.indented;d=d===void 0?!0:d;var e=a.subtitle,f=a.title,i=a.xstyle;a=a.titleSize;a=a===void 0?"LARGE":a;return g.jsx(b("WorkGalahadNavTextHeaderBase.react"),{title:h(f,a),subtitle:e,indented:d,action:c,xstyle:i})}}),null);
__d("WorkGalahadNavTextHeaderReact.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){g={type:"text",title:a};c!==void 0&&(g.subtitle=b("bs_caml_option").valFromOption(c));d!==void 0&&(g.action=b("bs_caml_option").valFromOption(d));e!==void 0&&(g.isLarge=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.indented=b("bs_caml_option").valFromOption(f));return g}f.makeProps=a}),null);
__d("useHoverAndFocusState",["WorkGalahadHoverHelper","useFocusState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("WorkGalahadHoverHelper").useHover(),c=a[0];a=a[1];var d=b("useFocusState")(),e=d[0],f=d[1];d=d[2];return{hovered:c,focused:e,onHoverIn:a.onMouseEnter,onHoverOut:a.onMouseLeave,onFocusIn:f,onFocusOut:d}}}),null);
__d("WorkGalahadUIChannelItem.react",["CometPressableOverlay.react","Locale","React","URI","WIGInteractiveElementContext.react","WIGPressable.react","WIGTextPairing.react","WorkGalahadChannelFocusableTable.react","stylex","useHoverAndFocusState"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React"),j={root:{boxSizing:"tdgv6ycz",position:"hal92y33",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",minHeight:"eg3o40xf",minWidth:"f0w9ysip",display:"mu99tzkh",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",borderTop:"nplqc3z5",borderEnd:"llwpk7e4",borderBottom:"fqnkz0nq",borderStart:"jga1arsn",paddingEnd:"g1w82w5r"},focused:{outline:"d3fls08n"},selected:{backgroundColor:"p9m48beo"},contentContainer:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a"},content:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",outline:"mvskt0vx",":hover":{textDecoration:"b69vs25w"}},textPairing:{flexGrow:"ftjbd6cl",flexBasis:"trztskah",minWidth:"f0w9ysip",paddingTop:"s9o98cno",paddingBottom:"sgyxnsb9",overflowX:"ib0kwflm",overflowY:"qbbcxcfp",textOverflow:"oecdyzpx"},addOnPrimary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",justifyContent:"akl1aaa0",marginStart:"mq32vg4l",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",alignItems:"t36ehdhz",flexGrow:"aeqptlwn",marginBottom:"kl295ud9",marginEnd:"oypfxdan",marginTop:"q7fxw9qh",position:"hal92y33"},addOnSecondary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",position:"i8ovu4tj",start:"qgbafi3f",alignItems:"t36ehdhz",justifyContent:"lhmcu1i6",flexGrow:"aeqptlwn"},addOnSecondaryOffset:{transform:"s5apgkp2"},addOnSecondaryOffsetRTL:{transform:"xd99s5we"},indentationLevel1:{paddingStart:"hmw2pi96"},indentationLevel2:{paddingStart:"dxs9yoch"},indentationLevel3:{paddingStart:"den1hhl9"},addOnTertiary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginTop:"kyu6y8np",minHeight:"eg3o40xf",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexGrow:"aeqptlwn",flexShrink:"o0foh442",minWidth:"eia6fg53",alignItems:"t36ehdhz",justifyContent:"gyidwt2h",flexDirection:"sulwup3a",marginStart:"se2r61z1"}};function a(a,c){var d=a.addOnPrimary,e=a.addOnSecondary,f=a.addOnTertiary,k=a.disabled;k=k===void 0?!1:k;var l=a.emphasized;l=l===void 0?!1:l;var m=a.selected;m=m===void 0?!1:m;var n=a.indentationLevel;n=n===void 0?2:n;var o=a.linkProps;o=o===void 0?{}:o;var p=o.url;o=babelHelpers.objectWithoutPropertiesLoose(o,["url"]);var q=a.body,r=a.bodyColor,s=a.bodyLineLimit;s=s===void 0?1:s;var t=a.headline,u=a.headlineAddOn,v=a.headlineColor,w=a.headlineLineLimit;w=w===void 0?1:w;var x=a.meta,y=a.metaColor,z=a.metaLineLimit,A=a.metaLocation,B=a.onPress,C=a.onPressIn,D=a.onHoverIn,E=a.onHoverOut,F=a.onFocusIn,G=a.onFocusOut,H=a.isSemanticListItem;H=H===void 0?!0:H;var I=a.testid;I=a.wrapperRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","addOnTertiary","disabled","emphasized","selected","indentationLevel","linkProps","body","bodyColor","bodyLineLimit","headline","headlineAddOn","headlineColor","headlineLineLimit","meta","metaColor","metaLineLimit","metaLocation","onPress","onPressIn","onHoverIn","onHoverOut","onFocusIn","onFocusOut","isSemanticListItem","testid","wrapperRef"]);var J=i.useState(!1),K=J[0],L=J[1];J=b("useHoverAndFocusState")();var M=J.focused,N=J.hovered,O=J.onFocusIn,P=J.onFocusOut,Q=J.onHoverIn;J=J.onHoverOut;var R=i.useMemo(function(){return{hovered:N,focused:M,pressed:K}},[N,M,K]),S=i.useCallback(function(a){O(a),F&&F(a)},[F,O]),T=i.useCallback(function(a){P(a),G&&G(a)},[G,P]),U=i.useCallback(function(a){L(!0),C&&C(a)},[C]),V=i.useCallback(function(){return L(!1)},[]);d=i.jsxs(i.Fragment,{children:[d!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(j.addOnPrimary),children:d}),i.jsx("div",{"data-testid":void 0,className:(g||(g=b("stylex")))(j.textPairing),children:i.jsx(b("WIGTextPairing.react"),{body:q,bodyColor:r,bodyLineLimit:s,headline:t,headlineAddOn:u,headlineColor:v,headlineLineLimit:w,level:4,meta:x,metaColor:y,metaLineLimit:z,metaLocation:A,reduceEmphasis:l===!1})})]});q=H?"li":"div";r=B||p!=null;return i.jsx(b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableRow,{children:i.jsx(b("WIGInteractiveElementContext.react").Provider,{value:R,children:i.jsxs(q,{ref:I,role:r&&H?"row":void 0,onMouseEnter:Q,onMouseLeave:J,className:g(j.root,n===1&&j.indentationLevel1,n===2&&j.indentationLevel2,n===3&&j.indentationLevel3,M&&j.focused,m&&j.selected),children:[r&&i.jsx(b("CometPressableOverlay.react"),{focusVisible:M,hovered:N,pressed:K}),r?i.jsx(b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,{children:i.jsx("div",{className:(g||(g=b("stylex")))(j.contentContainer),role:H?"gridcell":void 0,children:i.jsx(b("WIGPressable.react"),babelHelpers["extends"]({},a,{display:"block",disabled:k,linkProps:p?babelHelpers["extends"]({},o,{url:(h||(h=b("URI"))).normalize(p)}):void 0,onHoverIn:D,onHoverOut:E,onFocusIn:S,onFocusOut:T,onPress:B,onPressIn:U,onPressOut:V,overlayDisabled:!0,ref:c,xstyle:j.content,children:d}))})}):i.jsx("div",{className:(g||(g=b("stylex")))(j.content),children:d}),e!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(j.addOnSecondary,b("Locale").isRTL()?j.addOnSecondaryOffsetRTL:j.addOnSecondaryOffset),children:e}),f!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(j.addOnTertiary),children:f})]})})})}c=i.forwardRef(a);e.exports=c}),null);
__d("WorkGalahadNewMessageRow.react",["fbt","ix","Image.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerParticipants.re","MessengerProfileImageWrapperReact.bs","MessengerView","React","WIGCircleButton.react","WorkGalahadUIChannelItem.react","fbicon"],(function(a,b,c,d,e,f,g,h){e.exports=a;var i=b("React"),j=h("86935");function a(a){var c=a.isActive;a=a.onClose;var d=i.useState([]),e=d[0],f=d[1],k=i.useRef(null),l=function(){k.current&&(b("MessengerParticipants.re").removeCallback(k.current),k.current=null);var c=b("MessengerComposerStore").getState().recipients.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray();c=b("MessengerParticipants.re").getMultiEager(c,function(a){f(a)});var a=c[0];c=c[1];k.current=c;return a};i.useEffect(function(){var a=b("MessengerComposerStore").addListener("change",function(){var a=l();f(a)});return function(){a&&a.remove(),k.current&&(b("MessengerParticipants.re").removeCallback(k.current),k.current=null)}},[]);return i.jsx(b("WorkGalahadUIChannelItem.react"),{onPress:function(){b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE)},addOnPrimary:e.length>0?i.jsx(b("MessengerProfileImageWrapperReact.bs").jsComponent,{isMessengerUser:!1,size:48,showBadge:!1,children:i.jsx(b("MercuryParticipantsImage.react"),{participants:e.map(function(a){return a.id}).slice(0,3),size:48})}):i.jsx(b("Image.react"),{height:48,src:j,width:48}),headline:e.length===0?g._("New message"):g._("New message to {List of message recipients}",[g._param("List of message recipients",new(b("MercuryParticipantListRenderer"))().renderParticipantList(e.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))]),addOnTertiary:i.jsx(b("WIGCircleButton.react"),{label:g._("Stop composing"),size:24,icon:b("fbicon")._(h("478231"),12),color:"primary",onPress:a}),selected:c})}}),null);
__d("WorkGalahadNewMessageRowReact.bs",["ReasonReact.bs","WorkGalahadNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("useWorkInviteModal.react",["JSResource","useWIGLazyDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("JSResource")("WorkInviteDialog.react").__setRef("useWorkInviteModal.react");function a(a){var c=a.source,d=a.creationSourceAdmin;a=b("useWIGLazyDialog")(g);var e=a[0],f=function(){e({source:c,creationSourceAdmin:d},function(){})};return function(a){return f()}}}),null);
__d("WorkchatThreadListInviteRow.react",["ix","fbt","React","WIGIcon.react","WorkGalahadUIChannelItem.react","fbicon","gkx","stylex","useWorkInviteModal.react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(){var a=b("useWorkInviteModal.react")({source:"www_chat_thread_list"}),c=b("gkx")("1412621");return!c?null:i.jsx(b("WorkGalahadUIChannelItem.react"),{onPress:a,addOnPrimary:i.jsx("div",{className:"fx7ovklu djuijisu s5xm7hhm brrrwa7m qctk5f2p h4y7jwnr kpaihjvf bul0e9dl su1hulxq dlzdiaoh",children:i.jsx(b("WIGIcon.react"),{color:"highlight",icon:b("fbicon")._(g("483770"),24)})}),headline:h._("Add Coworkers"),headlineColor:"highlight",emphasized:!0,selected:!1})}}),null);
__d("MessengerThreadlistReact.bs",["cx","csx","fbt","FBID.bs","bs_array","bs_curry","React","Parent","gkx","bs_js_dict","qex","bs_belt_Map","bs_belt_Set","bs_caml_obj","ReactDOM","ThreadId.bs","debounce","UserAgent","immutable","bs_belt_Array","Bootloader","bs_caml_array","Link.react","MercuryIDs","setTimeout","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerView","ParticipantId.bs","bs_caml_primitive","MercuryFilters.bs","MessengerState.bs","MessengerConfig","MessengerActions","MercuryThreadInfo","KeyEventController","MercuryThreadActions","MessageRequestLogger.bs","SubscriptionsHandler","MessengerSpinnerReact.bs","ChatSidebarSheet.react","MessengerGalahadGating.bs","MessengerSearchActions","QuickPerformanceLogger","MessengerTypeaheadUtils","MessengerComposerActions","MercuryTypeaheadConstants","MessengerSearchFunnelState","ChatPinnedThreadsEntryPoint","WorkChatThreadlistTabsReact.bs","WorkGalahadNavTextHeaderReact.bs","WorkGalahadNewMessageRowReact.bs","MessengerDotComAndInboxM4Check.bs","WorkGalahadNavTextHeader.react","MessengerNewMessagesNoticeReact.bs","MessengerThreadlistLinkRowReact.bs","MessengerFlexScrollableAreaReact.bs","MessengerMessageRequestsInfoReact.bs","WorkchatThreadListInviteRow.react","getMessengerThreadlistWorkDenseMode","MessengerGraphQLSearchTypeaheadReact.bs","MessengerSearchFunnelLoggerConstants","MessengerThreadListGridWrapper.react","MessengerThreadlistRowContainerReact.bs","MessengerThreadlistNewMessageRowReact.bs","WorkGalahadChatsThreadlistHeader.react","MessengerThreadlistFooterDesktopAppLink.bs","WorkGalahadNavHeaderPressableAction.react","MessengerThreadlistMessageRequestsRowReact.bs","MessengerUniversalSearchFunnelLoggerConstants","WorkGalahadChatPinnedThreadsInlineEditor.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("qex")._("1097094");function l(a,c,d){if(d===void 0)return!1;if(!(a.length>0&&c.length>0))return!1;a=b("bs_caml_array").get(a,0);c=b("bs_caml_array").get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_caml_option").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}function m(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?void 0:b("bs_caml_option").some(a))===void 0}function n(a,c){var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?void 0:b("bs_caml_option").some(a);if(d)if(e||f||g||!c)return!1;else return a===void 0;else if(e)if(f)if(g||!c)return!1;else return a===void 0;else if(g&&c)return a===void 0;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var o="K",p=a+" + K";function q(a,c){c.state.scrollable.contents=a==null?void 0:b("bs_caml_option").some(a)}function r(a,c,d){var e=d.findIndex(function(c){if(a!==void 0)return c.thread_id===b("bs_caml_option").valFromOption(a);else return!1});e=b("bs_caml_primitive").caml_int_min(b("bs_caml_primitive").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").get(d,e).thread_id}function s(a,c){a.preventDefault();a=c.state.searchInputNode.contents;if(a!==void 0)if(k){b("MessengerSearchActions").enterUniversalSearch();return}else return b("bs_caml_option").valFromOption(a).focusInput()}function t(a,c){c.state.searchInputNode.contents=a==null?void 0:b("bs_caml_option").some(a)}function u(a,c){var d=c.state;b("setTimeout")(function(c){c=d.scrollable.contents;if(c!==void 0){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_caml_option").valFromOption(c));return}},0)}function v(a){a.preventDefault(),b("MessengerActions").changeFolder("other")}function w(a){a.preventDefault(),b("MessengerActions").changeFilter(b("MercuryFilters.bs").all),b("MessengerActions").changeFolder("inbox")}function x(a,c,d,e){var f=[];Object.keys(c).forEach(function(d){d=b("bs_js_dict").get(c,d);if(d===void 0)return;var e=d[1];d=d[0];if(d==null)return;d=b("ReactDOM").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return}});if(f.length<=0)return;var g=f.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)});g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}var y=b("debounce")(function(a){var c=a[1];a=a[0];var d=a.scrollable.contents;if(d===void 0)return;d=b("bs_caml_option").valFromOption(d).getArea();if(d==null)return;d=d.getElement().getBoundingClientRect();x(d,a.pendingNodes,"pending",c);return x(d,a.otherNodes,"other",c)},500);function z(a,b,c){c=c.state;if(a.folder==="pending"){c.pendingNodes[a.thread_id]=[b,a];return}else if(a.folder==="other"){c.otherNodes[a.thread_id]=[b,a];return}else return}function A(a,c){return b("bs_curry")._1(a.send,{TAG:2,_0:c})}function B(a,c,d,e,f,g,h,i,j){var k=d.state;a=a!==void 0?b("bs_caml_option").valFromOption(a)===j.thread_id:!1;var l=k.focusedThreadID;l=l!==void 0;var m=k.focusedThreadID;m=m!==void 0?b("bs_caml_option").valFromOption(m)===j.thread_id:!1;l=a?l&&!m?!1:!0:m?!0:!1;return b("ReasonReact.bs").element(j.thread_id,j.folder==="pending"||j.folder==="other"?b("bs_curry")._1(d.handle,function(a,b){return z(j,a,b)}):function(a){},b("MessengerThreadlistRowContainerReact.bs").make(e,a,m,h,k.isThreadActionMenuFocused,i,l,b("bs_curry")._1(d.state.memoizedOnFocus,[d,A]),b("bs_curry")._1(d.state.memoizedHandleScrollIntoView,[d,u]),j,c,g,f,[]))}function C(a,c){var d=c.state;c=a[2];var e=a[1],f=a[0],g=e==null?b("MessengerSearchFunnelLoggerConstants").OTHER:e===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:e===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:e===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:e===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||e===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||e===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||e===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:e===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:e===b("MercuryTypeaheadConstants").MESSAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").MESSAGE:b("MessengerSearchFunnelLoggerConstants").OTHER;c!==void 0?b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),f,b("bs_curry").__1(c),null):g===b("MessengerSearchFunnelLoggerConstants").MESSAGE?b("MessengerSearchActions").searchForMessagesInAThread(f,d.queryString):b("MessengerActions").selectThread(f,e);a=d.queryString;var h=a===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.logResultSelected,d.queryString,f,g,h,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs")}var D=b("MessengerDotComAndInboxM4Check.bs").yes?"_3bll _6ybw":"_3bll";function E(a){a=b("getMessengerThreadlistWorkDenseMode")(a);if(a==null||a!=="QUICK_CHAT")return!1;else return!0}var F=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function G(a,c,d,e,f,g,h,x,z,A,G,H,aa,I,J,K,L,M,N,O,P,Q,R,S,T,U,ba,V,ca,W,da){var ea=U!==void 0?U:!0,X=function(d,e,f){var g=f.state,a=g.threads,c=g.pinnedThreads;d=typeof d==="number"?d!==0?a.length-1|0:(-a.length|0)-1|0:d._0;var h=e.altKey,i=b("Parent").bySelector(e.target,"._4rv3"),j=g.focusedThreadID,k=b("Parent").bySelector(e.target,"._1ht1");if(h&&!(i==null)){if(g.isNewMessageActive)if(d===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").get(a,0).thread_id,null);return}else return;h=function(d,c){return c.findIndex(function(c){return c===b("bs_caml_array").get(a,d)})};i=function(c,a,d){c=c;var e=!1;while(!e)b("bs_caml_array").get(a,c).is_pinned===!1?e=!0:c=c+d|0;return c};var l=a.findIndex(function(a){var c=g.activeThreadID;if(c!==void 0)return b("bs_caml_option").valFromOption(c)===a.thread_id;else return!1});if(l===-1)return;var m=c.length>0?b("bs_caml_array").get(c,c.length-1|0)===b("bs_caml_array").get(a,l):!1,n=l===i(0,a,1),o=b("bs_caml_array").get(a,l).is_pinned,p,q=0;o?m?n?q=2:p=c.length===a.length?b("bs_caml_array").get(a,l):d<0&&c.length>1?b("bs_caml_array").get(c,c.length-2|0):c.length===1&&d<0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(a,i(0,a,d)):n?q=2:p=h(l,c)===0&&d<0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(c,h(l,c)+d|0):m?q=2:p=n?c.length>0&&d<0?b("bs_caml_array").get(c,c.length-1|0):b("bs_caml_array").get(a,i(l+d|0,a,d)):l===(a.length-1|0)&&d>0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(a,l+d|0).is_pinned===!0?b("bs_caml_array").get(a,i(l+d|0,a,d)):b("bs_caml_array").get(a,l+d|0);q===2&&(p=b("bs_caml_array").get(a,l+d|0));b("MessengerActions").selectThread(p.thread_id);g.isComposing&&l===0&&d===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(l===(a.length-1|0))return b("bs_curry")._1(g.onLoadMoreRequest,void 0);else return}if(j!==void 0&&!(k==null)){e.preventDefault();return b("bs_curry")._1(f.send,{TAG:3,_0:d})}},Y=function(a,c){a.stopPropagation();b("MessengerComposerActions").exitComposeStateAbandonSearch();if(!z)return;c=K.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(c!==void 0?c.thread_id:null,null)},fa=function(a,c){a.preventDefault();return b("bs_curry")._1(H,void 0)},ga=function(a,c,d,e){if(a!==void 0){if(a)return null;a=2}else a=2;if(a===2&&c!==void 0&&c)return j.jsx("div",{children:j.jsx(b("MessengerSpinnerReact.bs").make,{}),className:"_19hf"});a=e.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).isScrolledToBottom()&&b("bs_curry")._1(H,void 0);return null}else return j.jsx("div",{children:j.jsx(b("Link.react"),{href:"#",onClick:b("bs_curry")._1(d.handle,fa),tabIndex:-1,children:i._("Show Older")}),className:"_19hf"})},Z=S!==void 0?S:!1,ha=function(d,e){var g=b("immutable").Map(b("bs_array").map(function(d){return[b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id),B(a,M,e,f,c,N,Z,R,d)]},d));d=b("immutable").List(b("bs_array").map(function(a){return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},d));var h=b("getMessengerThreadlistWorkDenseMode")(Z);return j.createElement(b("WorkGalahadChatPinnedThreadsInlineEditor.react"),{ids:d,renderedItemsByID:g,itemSize:h==null?"medium":"small",onChange:function(a){return b("bs_curry")._1(e.send,{TAG:4,_0:a})}})},$=function(a,c){c=c.state.pinnedThreadsNewOrderTs;c=c!==void 0?b("bs_belt_Map").get(b("bs_caml_option").valFromOption(c),a.thread_id):void 0;a=a.thread_pin_timestamp;if(a==null)if(c!==void 0)return c;else return;else if(c!==void 0)return c>a?c:a;else return a},ia=function(d,e){if(d.length<1)return null;else{b("bs_array").stable_sort(function(a,b){a=$(a,e);b=$(b,e);if(a!==void 0)if(b!==void 0)return a-b|0;else return 1;else if(b!==void 0)return-1;else return 0},d);return j.jsxs(b("MessengerThreadListGridWrapper.react"),{label:i._("Pinned conversations"),children:[b("gkx")("932014")&&!E(Z)?e.state.isEditingPinnedThreads?j.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),i._("Drag to reorder"),b("bs_caml_option").some(j.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Save"),onClick:function(a){return b("bs_curry")._1(e.send,7)}})),!1,void 0,void 0)):j.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),void 0,b("bs_caml_option").some(j.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Edit"),onClick:function(a){return b("bs_curry")._1(e.send,8)}})),!1,void 0,void 0)):null,e.state.isEditingPinnedThreads?ha(d,e):d.map(function(b){return B(a,M,e,f,c,N,Z,R,b)})]})}},ja=function(d){if(K.length===0&&x===!1)if(b("MessengerDotComAndInboxM4Check.bs").yes&&I!==void 0){if(I==="")return null;var g=i._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[i._param("query",I)]);return j.jsxs("div",{children:[j.jsx("span",{children:i._("No Messages Found"),className:"_8b0k"}),j.jsx("span",{children:g,className:"_8b0l"})],className:"_8b0j"})}else{g=f==="inbox"?e===b("MercuryFilters.bs").unread?i._("No unread messages"):i._("No messages found."):f==="pending"?i._("No Message requests found."):i._("No spam messages found.");var h=f!=="inbox"||e!==b("MercuryFilters.bs").all?j.jsx(b("Link.react"),{onClick:w,children:i._("Return to Chats")}):null;return j.jsxs("div",{children:[g,j.jsx("div",{children:h,className:D})],className:"_3blk"})}else return j.jsx(b("MessengerThreadListGridWrapper.react"),{label:i._("Conversation List"),children:K.map(function(e){if(e.is_pinned===!0&&(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0))return null;else return B(a,M,d,f,c,N,Z,R,e)})})},ka=function(a){var c=function(d,e){var c=b("Parent").bySelector(e.target,"._1ht1");if(!(c==null)){e.preventDefault();return b("bs_curry")._1(a.send,{TAG:1,_0:d})}},d=new(b("SubscriptionsHandler"))(),e=b("CurrentUser").isWorkUser()?[function(a,c){return b("KeyEventController").registerKey(a,c)},function(a,c,d){return b("KeyEventController").registerKey(a,c,d)}]:[function(a,c){return b("KeyEventController").registerKeyAcrossTransitions(a,c)},function(a,c,d){return b("KeyEventController").registerKeyAcrossTransitions(a,c,d)}],f=e[1];e=e[0];var g={_0:-1},h={_0:1},i={_0:-5},j={_0:5};d.addSubscriptions(b("bs_curry")._3(f,"UP",b("bs_curry")._1(a.handle,function(a,b){return X(g,a,b)}),m),b("bs_curry")._3(f,"DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(h,a,b)}),m),b("bs_curry")._2(e,"PAGE_UP",b("bs_curry")._1(a.handle,function(a,b){return X(i,a,b)})),b("bs_curry")._2(e,"PAGE_DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(j,a,b)})),b("bs_curry")._2(e,"HOME",b("bs_curry")._1(a.handle,function(a,b){return X(0,a,b)})),b("bs_curry")._2(e,"END",b("bs_curry")._1(a.handle,function(a,b){return X(1,a,b)})),b("bs_curry")._2(e,"LEFT",function(a){return c(!1,a)}),b("bs_curry")._2(e,"RIGHT",function(a){return c(!0,a)}),b("bs_curry")._3(f,o,b("bs_curry")._1(a.handle,s),n));return b("bs_curry")._1(a.onUnmount,function(a){d.release()})};return{debugName:F.debugName,reactClassInternal:F.reactClassInternal,handedOffState:F.handedOffState,getDerivedStateFromProps:function(c){var d=c.scrollable.contents;d=d!==void 0?b("bs_caml_option").valFromOption(d).isScrolledToTop():!1;var e=l(K,c.threads,a),h=0;if(d||!e)h=2;else if(I!==void 0){e=b("bs_caml_obj").caml_obj_dup(c);e.folder=f;e.isNewMessageActive=z;e.onLoadMoreRequest=H;e.activeThreadID=a;e.isComposing=g;e.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;e.pinnedThreads=L;e.threads=K;e.showNewMessagesNotice=!0;e.queryString=I.length===0?I:c.queryString;return e}if(h===2&&I!==void 0){e=b("bs_caml_obj").caml_obj_dup(c);e.folder=f;e.isNewMessageActive=z;e.onLoadMoreRequest=H;e.activeThreadID=a;e.isComposing=g;e.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;e.pinnedThreads=L;e.threads=K;e.showNewMessagesNotice=c.showNewMessagesNotice&&!d;e.queryString=I.length===0?I:c.queryString;return e}h=b("bs_caml_obj").caml_obj_dup(c);h.folder=f;h.isNewMessageActive=z;h.onLoadMoreRequest=H;h.activeThreadID=a;h.isComposing=g;h.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;h.pinnedThreads=L;h.threads=K;return h},didMount:function(a){W!==void 0&&W===!0||ka(a);b("QuickPerformanceLogger").markerStartFromNavStart(25296901);b("QuickPerformanceLogger").markerEnd(25296901,"SUCCESS");return y([a.state,M])},didUpdate:function(a){var c=a.newSelf;a=a.oldSelf;c.state.folder!==f&&y([c.state,M]);var d=c.state.isSearchFocused!==a.state.isSearchFocused;a=g&&!a.state.isComposing;c=c.state.scrollable.contents;if(d&&a&&c!==void 0){b("bs_caml_option").valFromOption(c).scrollToTop();return}},willUnmount:F.willUnmount,shouldUpdate:F.shouldUpdate,render:function(a){var c=a.state,k=c.showNewMessagesNotice&&!c.isSearchFocused,l=b("MessengerGalahadGating.bs").isGalahadUIEnabled(void 0),m=e===b("MercuryFilters.bs").unread?b("bs_belt_Array").keep(L,function(a){return a.unread_count>0}):L,n=!c.isSearchFocused&&b("MessengerConfig").MPT>0&&m.length>0&&f==="inbox",o=b("CurrentUser").isWorkUser()&&!c.isSearchFocused&&m.length>0&&(e===b("MercuryFilters.bs").all||e===b("MercuryFilters.bs").unread)&&f==="inbox",r=i._("Conversations"),s=I!==void 0,w=O!==void 0?O:!1,y=P!==void 0?P:!1,B=Q!==void 0?Q:!1,D=V!==void 0?V:b("CurrentUser").isWorkUser()?i._("Search chats{keyboard shortcut help}",[i._param("keyboard shortcut help",c.isSearchFocused?"":" ("+(p+")"))]):i._("Search Messenger"),E,F=0;T!==void 0&&T?E=null:F=1;F===1&&(E=f==="inbox"?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,t),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-_b":"")+(c.isSearchFocused||c.queryString.length!==0?" _5iwn":"")+" _150g",ea,!1,!1,!1,c.queryString===""&&!s,s,c.isSearchFocused,function(d){if(s)return b("bs_curry")._1(a.send,1);var e=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ABANDON,"",e,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs");return b("bs_curry")._1(a.send,2)},function(c){c=c.target.value;return b("bs_curry")._1(a.send,{TAG:0,_0:c})},function(c){d!==void 0&&b("bs_curry")._1(d,void 0);return b("bs_curry")._1(a.send,3)},function(c){if(s)return b("bs_curry")._1(a.send,4);else return b("bs_curry")._1(a.send,0)},b("bs_curry")._1(a.state.memoizedHandleScrollIntoView,[a,u]),function(d,e){var f=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("bs_curry")._2(a.handle,C,[d,e,R]);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,"",f,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs")},D,c.queryString,!0,!0,"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c.queryString.length<2?" _8cg4":""),M,ba,ca,[])):l?j.jsx("div",{className:"_7cyu"}):null);return j.jsxs("div",{children:[j.jsx(b("ChatSidebarSheet.react"),{className:"_p0g",viewer:M}),j.createElement(b("MessengerNewMessagesNoticeReact.bs").make,{isOpen:k,onClick:function(c){c.preventDefault();return b("bs_curry")._1(a.send,6)}}),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,q),b("MessengerFlexScrollableAreaReact.bs").make(function(c){return b("bs_curry")._1(a.send,5)},"_3_e8"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7slg":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&c.isScrolled?" _7slh":""),A,B,[E,b("CurrentUser").isWorkUser()&&!c.isSearchFocused?j.jsx(b("WorkchatThreadListInviteRow.react"),{}):null,l&&!c.isSearchFocused&&!w?j.jsx(b("WorkGalahadChatsThreadlistHeader.react"),{filter:e,folder:f,viewer:M,shouldShowEditPinnedThreads:b("gkx")("932014")&&(o||n),isEditingPinnedThreads:c.isEditingPinnedThreads,toggleEditingPinnedThreads:function(d){if(c.isEditingPinnedThreads)return b("bs_curry")._1(a.send,7);else return b("bs_curry")._1(a.send,8)}}):null,o||n?j.jsxs("div",{children:[ia(m,a),n||y?null:j.jsx("div",{className:"_1s38"})]}):null,f==="pending"?j.jsx("div",{children:j.createElement(b("MessengerMessageRequestsInfoReact.bs").make,{}),className:"_5u15"}):null,j.jsxs("div",{children:[f==="inbox"&&G.length>0?j.createElement(b("MessengerThreadlistMessageRequestsRowReact.bs").make,{pendingFolderUnseenCount:aa,newMessageRequestThreads:G,viewer:M}):null,g?l?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNewMessageRowReact.bs").make(z,b("bs_curry")._1(a.handle,Y),[])):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistNewMessageRowReact.bs").make(z,b("bs_curry")._1(a.handle,Y),[])):null,ja(a),f==="pending"&&!b("CurrentUser").isWorkUser()?b("MessengerThreadlistLinkRowReact.bs").make(v):null,J!==void 0?b("bs_curry")._1(J,void 0):ga(h,x,a,c)],"aria-label":r,className:c.isSearchFocused&&!s?"accessible_elem":"",role:"navigation"})])),b("gkx")("1817606")?j.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):null,b("CurrentUser").isWorkUser()&&!l&&b("gkx")("678606")?j.createElement(b("WorkChatThreadlistTabsReact.bs").make,{filter:e,folder:f,view:b("MessengerView").MASTER.RECENT,viewer:M}):null],className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":"")})},initialState:function(c){return{focusedThreadID:void 0,isSearchFocused:!1,isThreadActionMenuFocused:!1,queryString:b("bs_belt_Option").getWithDefault(I,""),searchInputNode:{contents:void 0},showNewMessagesNotice:!1,scrollable:{contents:void 0},isScrolled:!1,pendingNodes:{},otherNodes:{},threads:K,pinnedThreads:L,pinnedThreadsNewOrderTs:void 0,isEditingPinnedThreads:!1,isComposing:g,searchFunnelState:void 0,activeThreadID:a,onLoadMoreRequest:H,isNewMessageActive:z,folder:f,memoizedHandleScrollIntoView:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0].handle,a[1])}),memoizedOnFocus:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])})}},retainedProps:F.retainedProps,reducer:function(c,d){if(typeof c==="number")switch(c){case 0:var e=new(b("MessengerSearchFunnelState"))();e.setSessionID(0);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._3(a.startFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.MESSENGER_DOT_COM,e)},"MessengerThreadlistReact.bs");k&&b("MessengerSearchActions").enterUniversalSearch();var f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.searchFunnelState=b("bs_caml_option").some(e),f.isSearchFocused=!0,f)};case 1:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isSearchFocused=!1,f)};case 2:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.queryString="",f.isSearchFocused=!1,f)};case 3:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.searchFunnelState=void 0,f.queryString="",f)};case 4:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isSearchFocused=!0,f)};case 5:if(d.isSearchFocused)return 0;f=d.scrollable.contents;if(f===void 0)return 0;f=b("bs_caml_option").valFromOption(f);var g=f.isScrolledToTop(),h=b("bs_caml_obj").caml_obj_dup(d);h.isScrolled=!g;f=f.isScrolledToBottom();var i=d.showNewMessagesNotice;if(f){if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return{TAG:2,_0:(f.showNewMessagesNotice=!1,f),_1:function(a){b("bs_curry")._1(H,void 0);return y([a.state,M])}}}return{TAG:2,_0:h,_1:function(a){b("bs_curry")._1(H,void 0);return y([a.state,M])}}}if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return{TAG:2,_0:(f.showNewMessagesNotice=!1,f),_1:function(a){return y([a.state,M])}}}return{TAG:2,_0:h,_1:function(a){return y([a.state,M])}};break;case 6:g=b("bs_caml_obj").caml_obj_dup(d);return{TAG:2,_0:(g.showNewMessagesNotice=!1,g),_1:function(a){a=a.state.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).scrollToTop();return}}};case 7:i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:2,_0:(i.isEditingPinnedThreads=!1,i),_1:function(a){b("bs_array").stable_sort(function(b,c){b=$(b,a);c=$(c,a);if(b!==void 0)if(c!==void 0)return b-c|0;else return 1;else if(c!==void 0)return-1;else return 0},L),b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).bulkPinThreadsUpdate(b("bs_belt_Array").map(L,function(a){return a.thread_id}),b("ChatPinnedThreadsEntryPoint").INBOX_EDIT_ORDER_SCREEN)}};case 8:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isEditingPinnedThreads=!0,f)}}else switch(c.TAG|0){case 0:var a=c._0;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(c){return b("bs_curry")._1(c.logQueryChanged,a)},"MessengerThreadlistReact.bs");h=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(h.queryString=a,h)};case 1:g=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(g.isThreadActionMenuFocused=c._0,g)};case 2:i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(i.focusedThreadID=b("bs_caml_option").some(c._0),i)};case 3:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.focusedThreadID=b("bs_caml_option").some(r(d.focusedThreadID,c._0,K)),f)};case 4:var j=b("bs_belt_Array").reduce(L,b("bs_belt_Map").make(b("FBID.bs")),function(a,c){return b("bs_belt_Map").set(a,b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),c)});h=b("bs_belt_Array").keepMap(c._0.toArray(),function(a){return b("bs_belt_Map").get(j,a)});var l={contents:Date.now()};g=b("bs_belt_Array").reduce(h,b("bs_belt_Map").make(b("ThreadId.bs")),function(a,c){l.contents=l.contents+1;return b("bs_belt_Map").set(a,c.thread_id,l.contents)});i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(i.pinnedThreadsNewOrderTs=b("bs_caml_option").some(g),i)}}},jsElementWrapped:F.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(F,function(a){var c=a.blockedIds,d=a.isComposing;return G(b("bs_caml_option").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make(b("ParticipantId.bs")):c,b("bs_caml_option").nullable_to_opt(a.handleClear),a.filter,a.folder,d==null?!1:d,b("bs_caml_option").nullable_to_opt(a.isLoaded),b("bs_caml_option").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_caml_option").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_caml_option").nullable_to_opt(a.queryString),b("bs_caml_option").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.pinnedThreads),[]),a.viewer,a.readReceipts,b("bs_caml_option").nullable_to_opt(a.hideThreadListHeader),b("bs_caml_option").nullable_to_opt(a.hidePinnedThreadSeparator),b("bs_caml_option").nullable_to_opt(a.skipViewportHeightCalculationForScrollarea),b("bs_caml_option").nullable_to_opt(a.onOverrideSelect),b("bs_caml_option").nullable_to_opt(a.isDenseRow),b("bs_caml_option").nullable_to_opt(a.hideSearchBox),a.enableMessageSearch,b("bs_caml_option").nullable_to_opt(a.searchResultRowComponent),b("bs_caml_option").nullable_to_opt(a.searchPlaceholder),b("bs_caml_option").nullable_to_opt(a.searchInputPortalRef),b("bs_caml_option").nullable_to_opt(a.shouldDisableShortcuts),[])});d=b("bs_belt_Option").getWithDefault;e=25296901;g=10;f.shouldUseSearchRefactor=k;f.$pipe$question=d;f.qpl_module_page_load_mdotcom=e;f.hasNewUnreadMessages=l;f.filterKeyEvent=m;f.filterPlatformSpecificModifierKey=n;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=o;f.searchKeyboardShortcut=p;f.setScrollable=q;f.getFocusedThreadId=r;f.handleFocusSearchBar=s;f.setSearchInputNode=t;f.handleScrollIntoView=u;f.handleFilteredRequestsClick=v;f.handleReturnToInboxClick=w;f.impressionOffset=g;f.logNodeImpressions=x;f.checkAndUpdateMessageRequestImpressions=y;f.setter=z;f.onFocus=A;f.renderThread=B;f.handleSelect=C;f.emptyInboxLinkClasses=D;f.isQuickChat=E;f.component=F;f.make=G;f.jsComponent=c}),null);
__d("MessengerRecentContainer.react",["MercuryAPIArgsSource","MercuryThreadlistContainer.react","MessengerComposerSteps","MessengerComposerStore","MessengerState.bs","MessengerThreadlistReact.bs","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerRecentContainer",mixins:[b("PureStoreBasedStateMixin")(b("MessengerComposerStore"))],propTypes:{activeThreadID:(a=b("prop-types")).string,blockedIds:a.any,filter:a.string.isRequired,folder:a.string.isRequired,maxHeight:a.number,pendingFolderUnseenCount:a.number,readReceipts:a.any,viewer:a.string.isRequired,hideThreadListHeader:a.bool,isDenseRow:a.bool,hideSearchBox:a.bool,searchInputPortalRef:a.any},statics:{calculateState:function(){return{isComposing:b("MessengerComposerStore").getState().step!==b("MessengerComposerSteps").NULL}}},render:function(){var a=this;return g.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.viewer,children:function(c){return g.jsx(b("MercuryThreadlistContainer.react"),{ChildClass:b("MessengerThreadlistReact.bs").jsComponent,activeThreadID:a.props.activeThreadID,blockedIds:a.props.blockedIds,filter:a.props.filter,folder:a.props.folder,isComposing:a.state.isComposing,maxHeight:a.props.maxHeight,pendingFolderUnseenCount:a.props.pendingFolderUnseenCount,isNewMessageActive:a.props.isNewMessageActive,readReceipts:a.props.readReceipts,source:b("MercuryAPIArgsSource").WEBMESSENGER,threads:b("MessengerState.bs").threads(c),threadlistOrderMap:b("MessengerState.bs").threadlistOrderMap(c),viewer:a.props.viewer,hideThreadListHeader:a.props.hideThreadListHeader,isDenseRow:a.props.isDenseRow,hideSearchBox:a.props.hideSearchBox,searchInputPortalRef:a.props.searchInputPortalRef})}})}});d=c;e.exports=d}),null);
__d("MessengerRecentContainerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerRecentContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){var k;return b("ReasonReact.bs").wrapJsForReason(b("MessengerRecentContainer.react"),{activeThreadID:(k=b("bs_js_null_undefined")).fromOption(a),blockedIds:k.fromOption(c),filter:d,folder:e,isNewMessageActive:f,pendingFolderUnseenCount:k.fromOption(g),readReceipts:k.fromOption(h),viewer:i},j)}f.make=a}),null);
__d("MessengerGlobalSearchContainer.react",["cx","MessengerActions","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLSearchTypeahead.react","MessengerView","React","emptyFunction","immutable"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=h.useState(""),d=c[0],e=c[1];c=!d||d.length<2;return h.jsx(b("MessengerGraphQLSearchTypeahead.react"),{className:"_5iwm _6-_b _5iwn _150g",enableMessageSearch:!0,excludeGroups:!1,excludePages:!1,hasHoverState:!1,hideClearButton:d==="",isMessageSearchMode:!1,isFacebookChat:!1,isFocused:!0,isTokenizer:!1,onBackspace:b("emptyFunction"),onBlur:function(a){},onChange:function(a){e(a.target.value)},onClear:function(a){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)},onFocus:function(a){},onScrollIntoView:b("emptyFunction"),onSelect:function(a,c){b("MessengerActions").selectThread(a,c)},originalEntryIDs:b("immutable").Set(),placeholder:"Search",queryString:(d=d)!=null?d:"",selectedEntryIDs:b("immutable").Set(),scrollableViewClassName:"",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!0,typeaheadViewClassName:"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c?" _8cg4":""),useLayer:!1,viewer:a.viewer})}}),null);
__d("MessengerSearchSnapshotStack",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.stack=[]}var b=a.prototype;b.push=function(a){this.stack.push(a)};b.pop=function(){if(this.stack.length)return this.stack.pop();else return null};return a}();e.exports=a}),null);
__d("MessengerSearchState",["MessengerSearchSnapshotStack"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.snapshots=new(b("MessengerSearchSnapshotStack"))(),this.searchMode="none"}var c=a.prototype;c.enterUniversalSearch=function(){this.searchMode="root_search"};c.enterMessageSearch=function(){this.searchMode="search_all_messages"};c.enterSeeAll=function(){this.searchMode="see_all"};c.exitMessageSearch=function(){this.searchMode="root_search"};c.exitSeeAll=function(){this.searchMode="root_search"};c.getSearchMode=function(){return this.searchMode};c.addSnapshot=function(a){this.snapshots.push(a)};c.goBack=function(){this.snapshots.pop()};return a}();e.exports=a}),null);
__d("MessengerGlobalSearchStore",["MessengerSearchActions","MessengerSearchState","MessengerStore","qex"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerGlobalSearchStore1=new(b("MessengerSearchState"))();return c}var d=c.prototype;d.getState=function(){return this.$MessengerGlobalSearchStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerSearchActions").Types.ENTER_UNIVERSAL_SEARCH:b("qex")._("1097094")&&this.$MessengerGlobalSearchStore1.enterUniversalSearch();break;case b("MessengerSearchActions").Types.ENTER_MESSAGE_SEARCH:this.$MessengerGlobalSearchStore1.enterMessageSearch();break;case b("MessengerSearchActions").Types.EXIT_MESSAGE_SEARCH:this.$MessengerGlobalSearchStore1.exitMessageSearch();break;case b("MessengerSearchActions").Types.ENTER_SEE_ALL_SEARCH:this.$MessengerGlobalSearchStore1.enterSeeAll();break;case b("MessengerSearchActions").Types.EXIT_SEE_ALL_SEARCH:this.$MessengerGlobalSearchStore1.exitSeeAll();break;default:break}this.emitChange()};return c}(b("MessengerStore"));c=new a();e.exports=c}),null);
__d("MessengerMessageSearchContainer.react",["cx","fbt","ix","Image.react","ImageBlock.react","Keys","Link.react","MessengerActions","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerSearchActions","MessengerSpinner.react","MessengerThreadlistReact.bs","MessengerThreadSearchActions","MessengerView","React","bs_belt_MapString","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerThreadlistReact.bs").jsComponent,k=b("React");c=b("React");var l=c.useState,m=i("86933");(function(){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)});var n=function(){return k.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[k.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),k.jsx("div",{className:"_4g0h",children:h._("Searching...")})]})};function a(a){var c=this,d=l(""),e=d[0],f=d[1];d=function(){var d;if((d=a.threadSearchState)==null?void 0:d.loading)return k.jsx(n,{});if((d=a.threadSearchState)==null?void 0:d.threadsExhausted){d=(d=(d=a.threadSearchState)==null?void 0:d.threads)!=null?d:[];return d.length>0||b("MessengerDotComAndInboxM4Check.bs").yes?null:k.jsx("div",{className:"_19hf",children:k.jsx(b("Link.react"),{href:"#",onClick:c._handleClear,children:h._("No conversations found")})})}return k.jsx("div",{className:"_19hf",children:k.jsx(b("Link.react"),{href:"#",onClick:b("MessengerThreadSearchActions").loadMoreThreads,tabIndex:-1,children:h._("Load More")})})};var g=function(c){a.handleKeyDown&&a.handleKeyDown(c);c=c.keyCode;c===b("Keys").RETURN&&(f(""),b("MessengerSearchActions").changeQuery(e))},i=function(){var b;return k.jsx("input",{autoComplete:"off",className:"_58al _7tpc",disabled:(b=(b=a.threadSearchState)==null?void 0:b.loading)!=null?b:!1,onChange:function(a){f(a.target.value)},onKeyDown:function(a){return g(a)},placeholder:(b=a.threadSearchState)==null?void 0:b.query,spellCheck:!1,tabIndex:-1,type:"text",value:e})};return k.jsx(b("MessengerFlexScrollableArea.react"),{onScroll:function(){},shouldStickToBottom:!1,children:k.jsxs("div",{className:"_1nq2 _7vup",children:[k.jsxs("span",{className:"_5iwm _6-_b _5iwn _150g",children:[k.jsx("label",{className:"_58ak",children:i()}),k.jsx(b("Image.react"),{onMouseDown:function(){f("")},className:(e.length?"":"hidden_elem")+" _8aj2",src:m})]}),k.jsx(j,babelHelpers["extends"]({},a,{enableMessageSearch:!0,folder:a.folder,handleClear:b("emptyFunction"),isLoaded:!((i=a.threadSearchState)==null?void 0:i.loading)&&!!((i=a.threadSearchState)==null?void 0:i.threads),isLoading:(i=(i=a.threadSearchState)==null?void 0:i.loading)!=null?i:!1,isSearching:!0,maxHeight:a.maxHeight,newMessageRequestThreads:[],onLoadMoreRequest:b("MessengerThreadSearchActions").loadMoreThreads,onQuery:b("MessengerSearchActions").changeQueryAll,onSearchResults:b("emptyFunction"),searchPlaceholder:b("gkx")("997564")?null:"Search Messages",queryString:e,renderLoadMore:d,readReceipts:b("bs_belt_MapString").empty,threads:(d=(i=a.threadSearchState)==null?void 0:i.threads)!=null?d:[],hideSearchBox:!0,hideThreadListHeader:a.hideThreadListHeader,isDenseMode:a.isDenseMode}))]})})}e.exports=a}),null);
__d("MessengerSearchContainer.react",["cx","fbt","ix","Bootloader","Image.react","ImageBlock.react","Keys","Link.react","MercuryIDs","MercuryThreadIDMap","MessengerActions","MessengerContactAdapters","MessengerContactList.react","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerGlobalSearchContainer.react","MessengerGlobalSearchStore","MessengerMessageSearchContainer.react","MessengerSearchActions","MessengerSearchStore","MessengerSpinner.react","prop-types","qex","MessengerThreadSearchActions","MessengerThreadSearchStore","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","MessengerURIStore","MessengerView","React","createReactClass_DEPRECATED","StoreAndPropBasedStateMixin","emptyFunction","gkx","immutable","MessengerThreadlistReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MercuryThreadIDMap").get(),k=b("React"),l=b("immutable").OrderedMap,m=i("86933"),n=function(a){var b,c;switch(a){case"friend":case"non_friend":b=h._("Search People");c=h._("People");break;case"page":b=h._("Search Businesses");c=h._("Businesses");break;case"thread":b=h._("Search Groups");c=h._("Groups");break;default:break}return[b,c]},o=function(){return k.jsxs(b("ImageBlock.react"),{className:"_225c",spacing:"medium",children:[k.jsx(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),k.jsx("div",{className:"_4g0h",children:h._("Searching...")})]})};c=b("createReactClass_DEPRECATED")({displayName:"MessengerSearchContainer",mixins:[b("StoreAndPropBasedStateMixin")(b("MessengerSearchStore"),b("MessengerGlobalSearchStore"),b("MessengerThreadSearchStore"),b("MessengerURIStore"))],propTypes:{activeThreadID:(a=b("prop-types")).string,blockedIds:a.object.isRequired,filter:a.string.isRequired,folder:a.string.isRequired,isComposing:a.bool,isLoaded:a.bool,isLoading:a.bool,isNewMessageActive:a.bool,maxHeight:a.number,viewer:a.string.isRequired,readReceipts:a.any,hideThreadListHeader:a.bool,isDenseMode:a.bool},statics:{calculateState:function(a){a=b("MessengerURIStore").getState();h._("Search Messenger");var c=b("MessengerGlobalSearchStore").getState();c=c.getSearchMode();if(c!==null&&b("qex")._("1097094"))if(c==="search_all_messages")return{showUniversalSearchPanel:!0,showMessageSearchPage:!0,threadSearchState:b("MessengerThreadSearchStore").getState()};else if(c==="see_all"){c=n(a.seeAllType);a=c[0];c=c[1];return{placeholder:a,showUniversalSearchPanel:!0,showSeeAllPage:!0,seeAllSearchState:b("MessengerSearchStore").getState(),seeAllType:c}}else return{showUniversalSearchPanel:!0,showMessageSearchPage:!1,showSeeAllPage:!1};a=b("MessengerThreadSearchStore").getState();c=h._("Search Messages");return{loading:a.loading,placeholder:c,query:a.query,threads:a.threads||[],threadsExhausted:a.threadsExhausted}}},_subscriptions:null,render:function(){if(this.state.showUniversalSearchPanel)return this._renderUniversalSearchPanel();else{var a=this.state.query===null;if(a)return k.jsx(o,{})}return this._renderMessageSearch()},_renderUniversalSearchPanel:function(){var a=this;if(this.state.showMessageSearchPage){var c;return k.jsx(b("MessengerFlexScrollableArea.react"),{onScroll:function(){a.refs.scrollableArea.isScrolledToBottom()},shouldStickToBottom:!1,ref:"scrollableArea",children:k.jsx(b("MessengerMessageSearchContainer.react"),{activeThreadID:(c=this.state.threadSearchState)==null?void 0:c.activeThreadID,folder:this.props.folder,maxHeight:this.props.maxHeight,hideThreadListHeader:this.props.hideThreadListHeader,isDenseMode:this.props.isDenseMode,threadSearchState:this.state.threadSearchState,viewer:this.props.viewer})})}else if(this.state.showSeeAllPage)return this.state.seeAllSearchState?this._renderSeeAllView(this.state.seeAllSearchState):k.jsx("div",{className:"_19hf",children:h._("There was a problem. Please try again.")});else return k.jsx(b("MessengerFlexScrollableArea.react"),{onScroll:function(){a.refs.scrollableArea.isScrolledToBottom()},shouldStickToBottom:!1,ref:"scrollableArea",children:k.jsx(b("MessengerGlobalSearchContainer.react"),{viewer:this.props.viewer})})},_renderSeeAllView:function(a){var c=this,d,e=l();a.threads&&a.threads.length>1&&(e=b("MessengerTypeaheadUtils").buildSingleSection(a.threads),this._logSearchImpressions(e,a.query));return k.jsx(b("MessengerFlexScrollableArea.react"),{onScroll:function(){c.refs.scrollableArea.isScrolledToBottom()&&!a.threadsExhausted&&!a.loading?b("MessengerSearchActions").loadMoreResults():null},shouldStickToBottom:!1,ref:"scrollableArea",children:k.jsxs("div",{className:"_1nq2 _7vup",children:[k.jsxs("span",{className:"_5iwm _6-_b _5iwn _150g",children:[k.jsx("label",{className:"_58ak",children:this._renderSearchInput(a.query)}),k.jsx(b("Image.react"),{onMouseDown:this._handleClear,className:(((d=a.query)==null?void 0:d.length)?"":"hidden_elem")+" _8aj2",src:m})]}),k.jsx(b("MessengerContactList.react"),{contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,isLoading:a.loading,listSections:e,onSelect:this._handleSeeAllSelect,queryString:(d=a.query)!=null?d:"",seeAllType:this.state.seeAllType,showLoadMore:!a.threadsExhausted,viewer:this.props.viewer})]})})},_renderMessageSearch:function(){var a=!this.state.loading&&!!this.state.threads;return k.jsx(b("MessengerThreadlistReact.bs").jsComponent,babelHelpers["extends"]({},this.props,{handleClear:this._handleClear,isLoaded:a,isLoading:this.state.loading,isSearching:!1,maxHeight:this.props.maxHeight,newMessageRequestThreads:[],onLoadMoreRequest:b("MessengerThreadSearchActions").loadMoreThreads,onQuery:b("MessengerSearchActions").changeQueryAll,onSearchResults:b("emptyFunction"),searchPlaceholder:b("gkx")("997564")?null:this.state.placeholder,queryString:this.state.query,renderLoadMore:this._renderLoadMoreLink,readReceipts:this.props.readReceipts,threads:this.state.threads,hideThreadListHeader:this.props.hideThreadListHeader,isDenseMode:this.props.isDenseMode}))},_renderLoadMoreLink:function(){if(this.state.threadsExhausted)return this.state.threads.length>0||b("MessengerDotComAndInboxM4Check.bs").yes?null:k.jsx("div",{className:"_19hf",children:k.jsx(b("Link.react"),{href:"#",onClick:this._handleClear,children:h._("No conversations found")})});return this.state.loading?k.jsx(o,{}):k.jsx("div",{className:"_19hf",children:k.jsx(b("Link.react"),{href:"#",onClick:b("MessengerThreadSearchActions").loadMoreThreads,tabIndex:-1,children:h._("Load More")})})},_renderSearchInput:function(a){var b=this;return k.jsx("input",{autoComplete:"off",className:"_58al _7tpc",disabled:this.state.loading,onChange:function(a){b.setState({newQuery:a.target.value})},onKeyDown:function(a){b._handleKeyDown(a)},placeholder:this.state.placeholder,spellCheck:!1,tabIndex:-1,type:"text",value:this.state.newQuery?this.state.newQuery:this.state.newQuery===""?"":a})},_handleClear:function(){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)},_handleKeyDown:function(a){a=a.keyCode;if(a===b("Keys").BACKSPACE&&this.state.newQuery&&this.state.newQuery.length===1){this.setState({newQuery:""});return}a===b("Keys").RETURN&&b("MessengerSearchActions").changeQuery(this.state.newQuery)},_handleSeeAllSelect:function(a,c){c&&c.preventDefault();var d=a.getType();c=a.getUniqueID().split(":").pop();this._logResultSelected(c);switch(d){case"friend":case"non_friend":case"page":b("MessengerActions").selectThread(b("MercuryIDs").getThreadIDFromUserID(c),d);break;case"thread":a=function(a){return b("MessengerActions").selectThread(a,d)};j.getClientIDFromServerID(c,a);break}},_logSearchImpressions:function(a,c){b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger"],function(d,e){var f=b("immutable").OrderedMap(),g=a.toArray();g[0].forEach(function(a){var c=a.getUniqueID(),e=c.split(":").pop();e={result_fbid:e,result_type:d.getLoggingTypeFromMercuryType(a.getType()),rank_section:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL_AND_SERVER,data_source:b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER};f=f.set(c,e)});e.logImpressions(f,c,"",b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER)},"MessengerSearchContainer.react")},_logResultSelected:function(a){var c=this;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(d){d.logResultSelected(c.state.query,a,"",b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.SEE_ALL)},"MessengerSearchContainer.react");b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel((a=b("MessengerUniversalSearchFunnelLoggerConstants")).END_REASONS.END_ACTION,a.END_ACTIONS.RESULT_SELECTED,null,a.ENTRY_SURFACES.INBOX,a.RESULT_PAGES.SEE_ALL)},"MessengerSearchContainer.react")}});d=c;e.exports=d}),null);
__d("MessengerSearchContainerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerSearchContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l){var m;return b("ReasonReact.bs").wrapJsForReason(b("MessengerSearchContainer.react"),{activeThreadID:(m=b("bs_js_null_undefined")).fromOption(a),blockedIds:m.fromOption(c),filter:d,folder:e,isComposing:m.fromOption(f),isLoaded:m.fromOption(g),isLoading:m.fromOption(h),isNewMessageActive:m.fromOption(i),readReceipts:m.fromOption(j),viewer:k},l)}f.make=a}),null);
__d("MessengerThreadlistBanner.react",["cx","AsyncRequest","Bootloader","CurrentUser","FDSCloseButton.react","MessengerButtonReact.re","MessengerSignals.re","React","XMessengerDotComNUXLoggingController","XQuickPromotionSimpleLoggingController","goURI","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bannerClosed:!1},d.$5=function(a,c,e,f){return function(){d.$6(),d.props.promotionID!=null?(new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action",a).setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send(),c==="dialog_url"?b("Bootloader").loadModules(["AsyncDialog"],function(a){a.send(new(b("AsyncRequest"))().setURI(b("nullthrows")(e)))},"MessengerThreadlistBanner.react"):window.open(e)):e!=null?b("goURI")(e,!0):f&&f()}},d.$2=function(){d.$6(),d.props.promotionID!=null&&new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",d.props.promotionID).setEnum("qp_action","dismiss").setStringToStringMap("qp_instance_log_data",d.props.instanceLogData).getURI()).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.promotionID==null&&this.setState({bannerClosed:!1})};d.componentDidMount=function(){if(this.$1()||this.props.promotionID==null||b("CurrentUser").isWorkUser())return;new(b("AsyncRequest"))().setURI(b("XMessengerDotComNUXLoggingController").getURIBuilder().setInt("promotion_id",this.props.promotionID).setStringToStringMap("instance_log_data",this.props.instanceLogData).getURI()).send()};d.componentDidUpdate=function(){window.dispatchEvent(new Event("resize"))};d.render=function(){return this.$1()?null:h.jsxs("div",{className:"_92bb",children:[h.jsx("span",{className:"_9525",children:h.jsx(b("FDSCloseButton.react"),{onClick:this.$2})}),h.jsx("span",{className:"_92bc",children:this.props.promotionTitle}),h.jsx("span",{className:"_92bd",children:this.props.promotionContent}),h.jsxs("div",{className:"_92bh",children:[this.props.secondaryActionType!=null?this.$3():null,this.$4()]})]})};d.$1=function(){return this.state.bannerClosed};d.$4=function(){return h.jsx(b("MessengerButtonReact.re").make,{className:"_92be",label:this.props.primaryActionTitle,onClick:this.$5("primary",this.props.primaryActionType,this.props.primaryActionURI,this.props.primaryActionCallback),type:"primary"})};d.$3=function(){return h.jsx(b("MessengerButtonReact.re").make,{className:"_92be",label:this.props.secondaryActionTitle,onClick:this.$5("secondary",this.props.secondaryActionType,this.props.secondaryActionURI,this.props.secondaryActionCallback),type:"secondary"})};d.$6=function(){this.setState({bannerClosed:!0},function(){b("MessengerSignals.re").resize()})};return c}(h.Component);e.exports=a}),null);
__d("MessengerThreadlistPromotion.react",["MessengerPromotionDataDispatcher","MessengerPromotionDataStore","MessengerRefreshPrompt","MessengerThreadlistBanner.react","React","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={promotionData:b("MessengerPromotionDataStore").getThreadlistPromotionData()},d.subscriptions=new(b("SubscriptionsHandler"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("MessengerRefreshPrompt")();b("MessengerPromotionDataDispatcher").explicitlyRegisterStores([b("MessengerPromotionDataStore")]);this.subscriptions.addSubscriptions(b("MessengerPromotionDataStore").addListener(function(){a.setState({promotionData:b("MessengerPromotionDataStore").getThreadlistPromotionData()})}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){var a=this.state.promotionData;return a?g.jsx(b("MessengerThreadlistBanner.react"),{promotionID:a.promotionID,promotionTitle:a.promotionTitle,promotionContent:a.promotionContent,primaryActionTitle:a.primaryActionTitle,primaryActionType:a.primaryActionType,primaryActionURI:a.primaryActionURI,primaryActionCallback:a.primaryActionCallback,secondaryActionTitle:a.secondaryActionTitle,secondaryActionType:a.secondaryActionType,secondaryActionURI:a.secondaryActionURI,secondaryActionCallback:a.secondaryActionCallback,instanceLogData:a.instanceLogData}):null};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerThreadlistPromotion.re",["MessengerThreadlistPromotion.react"],(function(a,b,c,d,e,f){a=b("MessengerThreadlistPromotion.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MessengerGroupCreateDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{entryPoint:this.props.entryPoint,isShown:this.props.isShown,onClose:this.props.onClose}),loader:b("JSResource")("MessengerGroupCreateDialogImpl.react").__setRef("MessengerGroupCreateDialog.react"),placeholder:g.jsx("div",{})})};return c}(g.Component);e.exports=a}),null);
__d("MessengerGroupCreateDialogReact.bs",["ReasonReact.bs","MessengerGroupCreateDialog.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGroupCreateDialog.react"),{entryPoint:a,isShown:c,onClose:d},e)}f.make=a}),null);
__d("MessengerGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT_TAB:"chat_tab_add_people",JEWEL:"jewel_new_message",CHAT_SIDEBAR:"chat_sidebar_new_message",GCF_JEWEL:"jewel_new_group",GCF_CHAT_SIDEBAR:"chat_sidebar_new_group",GCF_SHARE_FLOW:"chat_share_message_to_messenger",CHAT_POLL:"chat_poll_button",WORK_CHAT_HEADER_NEW_GROUP_BUTTON:"work_chat_header_new_group_button"});e.exports=a}),null);
__d("WorkSyncedGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_GROUP_BUTTON_ON_MECURY_JEWEL:"new_group_button_on_mercury_jewel",GROUP_CREATION_ICON_ON_CHAT_SIDEBAR:"group_creation_icon_on_chat_sidebar",GROUP_CREATION_BUTTON_ON_CHAT_SIDEBAR:"group_creation_button_on_chat_sidebar",COMPOSE_BUTTON_ON_WORKCHAT:"compose_button_on_workchat"});e.exports=a}),null);
__d("WorkchatNotificationsJewelBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{}),loader:b("JSResource")("workchatNotificationsJewelReactComponent").__setRef("WorkchatNotificationsJewelBootloader.react"),placeholder:g.jsx("div",{})})}}),null);
__d("WorkplaceLogoReact.bs",["cx","fbt","React","Link.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=h._("Go to Workplace News Feed");return i.jsx(b("Link.react"),{"aria-label":a,className:"_2z9u",href:"/feed",target:"_blank",title:a,children:i.jsx("span",{children:a,className:"_2z9t"})})}c=a;f.make=c}),null);
__d("XWorkSaveGroupPurposeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/group_creation/dialog/save_purpose/",{purpose:{type:"String",required:!0},ref:{type:"String",required:!0},name:{type:"String"},community:{type:"FBID"},coworkers_to_invite:{type:"IntVector",defaultValue:[]},back_disallowed:{type:"Bool",defaultValue:!1}})}),null);
__d("WorkChatMasterViewHeaderReact.bs",["cx","fbt","bs_curry","React","gkx","QE2Logger","ReasonReact.bs","MercuryConfig","MessengerView","MessengerActions","WorkplaceLogoReact.bs","MessengerURIConstants","MessengerSearchActions","LinkWithHiddenURLBarReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs","MessengerSettingsMenuButton.bs","MessengerGroupCreateDialogReact.bs","XWorkSaveGroupPurposeController","MessengerGroupCreationEntryPoint","WorkSyncedGroupCreationEntryPoint","WorkchatNotificationsJewelBootloader.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE),b("MessengerSearchActions").changeQuery(null)}function a(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}var k="_30yy _2oc8",l="_4kzu",m="_36ic _5l-3",n=b("MessengerGroupCreationEntryPoint").WORK_CHAT_HEADER_NEW_GROUP_BUTTON;function o(a){if(a.state.isNewGroupChatDialogOpened)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerGroupCreateDialogReact.bs").make(n,!0,function(c){return b("bs_curry")._1(a.send,1)},[]));else return null}var p=b("ReasonReact.bs").reducerComponent("WorkChatMasterViewHeaderReact");function c(a,c,d,e,f,g){var n=function(a){a.preventDefault(),e!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT),b("MessengerActions").changeFolder("inbox")},q=function(a){a=h._("Back to Recent Messages");return b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",void 0,void 0,void 0,void 0,void 0,void 0,n,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,a,[]))},r=c==="action:archived"?h._("Hidden Chats"):c==="pending"?h._("Message Requests"):c==="other"?h._("Permanently Hidden"):e===b("MessengerView").MASTER.PEOPLE?h._("People"):h._("Chat"),s=b("gkx")("678606");return{debugName:p.debugName,reactClassInternal:p.reactClassInternal,handedOffState:p.handedOffState,getDerivedStateFromProps:p.getDerivedStateFromProps,didMount:p.didMount,didUpdate:p.didUpdate,willUnmount:p.willUnmount,shouldUpdate:p.shouldUpdate,render:function(g){var n=c!=="inbox"||e!==b("MessengerView").MASTER.RECENT?q(void 0):s?i.jsx(b("WorkchatNotificationsJewelBootloader.react"),{}):i.jsx("div",{children:i.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:a,folder:c,view:e,viewer:f,children:function(a){return i.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}}),className:l}),p=c!=="pending"&&c!=="other";b("QE2Logger").logExposureForUser("workchat_synced_groups_universe",f);var t=function(a){if(!b("MercuryConfig").WorkSyncedGroupEntryPointEnabled)return null;a=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled?[b("XWorkSaveGroupPurposeController").getURIBuilder().setString("purpose","work_teamwork").setString("ref",b("WorkSyncedGroupCreationEntryPoint").COMPOSE_BUTTON_ON_WORKCHAT).setBool("back_disallowed",!0).getURI(),function(a){},"dialog"]:["#",function(a){return b("bs_curry")._1(g.send,0)},""];var c=h._("New Group");return i.jsxs(i.Fragment,{children:[o(g),b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(c,"_30yy _6u29",void 0,void 0,void 0,void 0,a[0],void 0,a[1],void 0,void 0,void 0,void 0,a[2],void 0,void 0,void 0,c,[]))]})};if(p){var u=h._("New Message");u=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(u,k,void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,j,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,u,[]))}else u=i.jsx("div",{children:i.createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:a,folder:c,threadlistOrderMap:d,viewer:f}),className:l});return i.jsxs("div",{children:[s?i.createElement(b("WorkplaceLogoReact.bs").make,{}):null,n,i.jsx("h1",{children:r,className:"_1tqi"}),p?t(void 0):null,u],className:m,role:"banner"})},initialState:function(a){return{isNewGroupChatDialogOpened:!1}},retainedProps:p.retainedProps,reducer:function(a,b){if(a)return{TAG:0,_0:{isNewGroupChatDialogOpened:!1}};else return{TAG:0,_0:{isNewGroupChatDialogOpened:!0}}},jsElementWrapped:p.jsElementWrapped}}f.handleAddClick=j;f.handleFilteredRequestsBackArrowClick=a;f.composeButtonClasses=k;f.settingsMenuClasses=l;f.rootClasses=m;f.entryPoint=n;f.renderDialog=o;f.component=p;f.make=c}),null);
__d("bs_js_exn",["bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error(a)}function c(a){throw new EvalError(a)}function d(a){throw new RangeError(a)}function e(a){throw new ReferenceError(a)}function g(a){throw new SyntaxError(a)}function h(a){throw new TypeError(a)}function i(a){throw new URIError(a)}b=b("bs_caml_js_exceptions").$$Error;f.$$Error=b;f.raiseError=a;f.raiseEvalError=c;f.raiseRangeError=d;f.raiseReferenceError=e;f.raiseSyntaxError=g;f.raiseTypeError=h;f.raiseUriError=i}),null);
__d("MessengerMasterViewReact.bs",["React","bs_js_exn","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessengerView","MessengerActiveUsersListReact.bs","MessengerRecentContainerReact.bs","MessengerSearchContainerReact.bs","WorkChatMasterViewHeaderReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerMasterViewHeaderReact.bs","MessengerThreadlistPromotion.re","MessengerMasterViewHeaderM4React.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.activeThreadID,d=a.blockedIds,e=a.detailView,f=a.filter,h=a.folder,i=a.pendingFolderUnseenCount,j=a.readReceipts,k=a.threadlistOrderMap,l=a.view,m=a.viewer;a=a.showMovedSettingsNux;var n=function(a){a=e!==void 0?e===b("MessengerView").DETAIL.COMPOSE:!1;if(l===b("MessengerView").MASTER.PEOPLE)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerActiveUsersListReact.bs").make(a?void 0:c,m,[]));else if(l===b("MessengerView").MASTER.PAYMENT||l===b("MessengerView").MASTER.RECENT)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerRecentContainerReact.bs").make(c,b("bs_caml_option").some(d),b("bs_belt_Option").getExn(f),h,a,i,b("bs_caml_option").some(j),m,[]));else if(l===b("MessengerView").MASTER.SEARCH||l===b("MessengerView").MASTER.SEARCH_MESSAGES||l===b("MessengerView").MASTER.SEE_ALL_PAGES||l===b("MessengerView").MASTER.SEE_ALL_PEOPLE||l===b("MessengerView").MASTER.SEE_ALL_GROUPS)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerSearchContainerReact.bs").make(c,b("bs_caml_option").some(d),b("bs_belt_Option").getExn(f),h,void 0,void 0,void 0,a,b("bs_caml_option").some(j),m,[]));else return b("bs_js_exn").raiseError("Unknown master view: "+l)};return g.jsxs(g.Fragment,{children:[b("MessengerDotComAndInboxM4Check.bs").yes?g.createElement(b("MessengerMasterViewHeaderM4React.bs").make,{filter:b("bs_belt_Option").getExn(f),folder:h,threadlistOrderMap:k,view:l,viewer:m,showMovedSettingsNux:a}):b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(void 0,void 0,b("WorkChatMasterViewHeaderReact.bs").make(b("bs_belt_Option").getExn(f),h,k,l,m,[])):g.createElement(b("MessengerMasterViewHeaderReact.bs").make,{filter:b("bs_belt_Option").getExn(f),folder:h,threadlistOrderMap:k,view:l,viewer:m}),g.createElement(b("MessengerThreadlistPromotion.re").make,{}),n(void 0)]})}c=a;f.make=c}),null);
__d("P2PDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";var g={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;b("P2PDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));g={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.getState=function(){return g};d.onEventDispatched=function(a){var c=a.type;a=a.data;switch(c){case b("P2PActionConstants").DIALOG_SHOWN:g.dialogClass=a.dialogClass;g.dialogProps=a.dialogProps;this.emit("change");break;case b("P2PActionConstants").DIALOG_CLOSED:g.dialogClass=null;g.dialogProps=null;this.emit("change");break}};return c}(b("EventEmitter"));c=new a();e.exports=c}),null);
__d("P2PDialogContainer.react",["P2PDialogStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=b("P2PDialogStore").getState(),d.onDialogStoreChange=function(){d.setState(b("P2PDialogStore").getState())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.dialogStoreSub=b("P2PDialogStore").addListener("change",this.onDialogStoreChange)};d.componentWillUnmount=function(){this.dialogStoreSub&&(this.dialogStoreSub.remove(),this.dialogStoreSub=null)};d.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};return c}(g.Component);e.exports=a}),null);
__d("P2PPaymentPickerDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerGraphQLTokenizer.react","React","immutable","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=460,k=b("immutable").Set();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={entries:b("immutable").Set()},d.$1=function(){var a=d.state.entries;d.props.handleContinue(a)},d.$2=function(){var a=d.state.entries;d.props.handleCancel(a)},d.handleAddEntryAttempt=function(a){d.props.multiSelect?d.setState({entries:d.state.entries.add(a)}):d.setState({entries:b("immutable").Set.of(a)})},d.handleRemoveEntryAttempt=function(a){d.setState({entries:d.state.entries["delete"](a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.renderHeader=function(){return i.jsxs(b("MessengerDialogHeaderReact.re").make,{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.jsx(b("MessengerDialogTitleReact.re").make,{children:h._("Send Money")}),i.jsx(b("MessengerDialogButton.react"),{disabled:!this.state.entries.size,label:h._("Continue"),type:"primary",onClick:this.$1})]})};d.renderTokenizer=function(){return i.jsx(b("MessengerGraphQLTokenizer.react"),{autoFocus:!0,canViewerSendMoneyFilter:!0,className:"_2wsl",context:null,enableMessageSearch:!1,entries:this.state.entries.toList(),excludeGroups:!0,excludePages:!0,forceHideClearButton:!0,hasHoverState:!1,originalEntryIDs:k,placeholder:h._("Type the name of a person"),scrollableViewClassName:"_2wsm",shouldQueryInternalBot:!1,shouldQueryVCEndpoint:!1,useLayer:!1,viewer:this.props.viewer,width:j,onAddEntryAttempt:this.handleAddEntryAttempt,onClear:null,onRemoveEntryAttempt:this.handleRemoveEntryAttempt})};d.render=function(){return i.jsxs(b("MessengerDialog.react"),{className:"_2wsn",type:"default",width:j,onToggle:this.$2,children:[this.renderHeader(),this.renderTokenizer()]})};return c}(i.Component);e.exports=a;a.propTypes={viewer:(c=b("prop-types")).string.isRequired,handleContinue:c.func.isRequired,handleCancel:c.func.isRequired,multiSelect:c.bool.isRequired}}),null);
__d("MessengerP2PDialogContainer.react",["Bootloader","MercuryIDs","MessengerActions","MessengerURIStore","MessengerView","P2PActions","P2PDialogContainer.react","P2PPaymentPickerDialog.react","React","immutable","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this,c=b("MessengerURIStore").getState();c.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER&&this.$1();var d=c.extraQueryParams;d&&d.id&&b("Bootloader").loadModules(["P2PSendMoneyDialogStore"],function(){a.$2(d)},"MessengerP2PDialogContainer.react")};d.componentDidUpdate=function(){var a=b("MessengerURIStore").getState();a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER&&this.$1();a=b("MessengerURIStore").getState().extraQueryParams;a&&a.id&&this.$2(a)};d.$1=function(){var a=function(a){b("P2PActions").hideDialog();a=a.first().getUniqueID();b("MessengerActions").changeID(a)},c=function(a){b("P2PActions").hideDialog(),b("MessengerActions").selectThread(null)};b("P2PActions").showDialog(b("P2PPaymentPickerDialog.react"),{viewer:this.props.viewer,handleContinue:a,handleCancel:c,multiSelect:!1})};d.$2=function(a){var c=b("MercuryIDs").getThreadIDFromUserID(a.id);b("P2PActions").chatSendViewOpened({referrer:"chat",threadID:c,amount:a.a,memoText:a.m})};d.render=function(){return g.jsx(b("P2PDialogContainer.react"),{})};return c}(g.Component);e.exports=a;a.propTypes={viewer:b("prop-types").string.isRequired}}),null);
__d("bs_list",["bs_curry","bs_caml_obj","bs_pervasives","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function g(a){var b=0;a=a;while(!0){var c=a,d=b;if(!c)return d;a=c.tl;b=d+1|0;continue}}function a(a,b){return{hd:a,tl:b}}function c(a){if(a)return a.hd;throw{RE_EXN_ID:"Failure",_1:"hd",Error:new Error()}}function d(a){if(a)return a.tl;throw{RE_EXN_ID:"Failure",_1:"tl",Error:new Error()}}function e(a,b){if(b<0)throw{RE_EXN_ID:"Invalid_argument",_1:"List.nth",Error:new Error()};a=a;b=b;while(!0){var c=b,d=a;if(d){if(c===0)return d.hd;b=c-1|0;a=d.tl;continue}throw{RE_EXN_ID:"Failure",_1:"nth",Error:new Error()}}}function h(a,c){if(c<0)throw{RE_EXN_ID:"Invalid_argument",_1:"List.nth",Error:new Error()};a=a;c=c;while(!0){var d=c,e=a;if(!e)return;if(d===0)return b("bs_caml_option").some(e.hd);c=d-1|0;a=e.tl;continue}}function i(a,b){while(!0){var c=b,d=a;if(!d)return c;b={hd:d.hd,tl:c};a=d.tl;continue}}function j(a){return i(a,0)}function k(a,c,d,e){while(!0){var f=c,g=a;if(f>=d)return g;c=f+1|0;a={hd:b("bs_curry")._1(e,f),tl:g};continue}}function l(a,c,d){if(a>=c)return 0;var e=b("bs_curry")._1(d,a);return{hd:e,tl:l(a+1|0,c,d)}}function m(a,b){if(a<0)throw{RE_EXN_ID:"Invalid_argument",_1:"List.init",Error:new Error()};if(a>1e4)return i(k(0,0,a,b),0);else return l(0,a,b)}function n(a){if(a)return b("bs_pervasives").$at(a.hd,n(a.tl));else return 0}function o(a,c){if(!c)return 0;var d=b("bs_curry")._1(a,c.hd);return{hd:d,tl:o(a,c.tl)}}function p(a,c,d){if(!d)return 0;var e=b("bs_curry")._2(c,a,d.hd);return{hd:e,tl:p(a+1|0,c,d.tl)}}function q(a,b){return p(0,a,b)}function r(a,c){var d=0;c=c;while(!0){var e=c,f=d;if(!e)return f;c=e.tl;d={hd:b("bs_curry")._1(a,e.hd),tl:f};continue}}function s(a,c){while(!0){var d=c;if(!d)return;b("bs_curry")._1(a,d.hd);c=d.tl;continue}}function t(a,c){var d=0;c=c;while(!0){var e=c,f=d;if(!e)return;b("bs_curry")._2(a,f,e.hd);c=e.tl;d=f+1|0;continue}}function u(a,c,d){while(!0){var e=d,f=c;if(!e)return f;d=e.tl;c=b("bs_curry")._2(a,f,e.hd);continue}}function v(a,c,d){if(c)return b("bs_curry")._2(a,c.hd,v(a,c.tl,d));else return d}function w(a,c,d){if(c){if(d){var e=b("bs_curry")._2(a,c.hd,d.hd);return{hd:e,tl:w(a,c.tl,d.tl)}}throw{RE_EXN_ID:"Invalid_argument",_1:"List.map2",Error:new Error()}}if(!d)return 0;throw{RE_EXN_ID:"Invalid_argument",_1:"List.map2",Error:new Error()}}function x(a,c,d){var e=0;c=c;d=d;while(!0){var f=d,g=c,h=e;if(g){if(f){d=f.tl;c=g.tl;e={hd:b("bs_curry")._2(a,g.hd,f.hd),tl:h};continue}throw{RE_EXN_ID:"Invalid_argument",_1:"List.rev_map2",Error:new Error()}}if(f)throw{RE_EXN_ID:"Invalid_argument",_1:"List.rev_map2",Error:new Error()};return h}}function y(a,c,d){while(!0){var e=d,f=c;if(f){if(e){b("bs_curry")._2(a,f.hd,e.hd);d=e.tl;c=f.tl;continue}throw{RE_EXN_ID:"Invalid_argument",_1:"List.iter2",Error:new Error()}}if(!e)return;throw{RE_EXN_ID:"Invalid_argument",_1:"List.iter2",Error:new Error()}}}function z(a,c,d,e){while(!0){var f=e,g=d,h=c;if(g){if(f){e=f.tl;d=g.tl;c=b("bs_curry")._3(a,h,g.hd,f.hd);continue}throw{RE_EXN_ID:"Invalid_argument",_1:"List.fold_left2",Error:new Error()}}if(f)throw{RE_EXN_ID:"Invalid_argument",_1:"List.fold_left2",Error:new Error()};return h}}function A(a,c,d,e){if(c){if(d)return b("bs_curry")._3(a,c.hd,d.hd,A(a,c.tl,d.tl,e));throw{RE_EXN_ID:"Invalid_argument",_1:"List.fold_right2",Error:new Error()}}if(d)throw{RE_EXN_ID:"Invalid_argument",_1:"List.fold_right2",Error:new Error()};return e}function B(a,c){while(!0){var d=c;if(!d)return!0;if(!b("bs_curry")._1(a,d.hd))return!1;c=d.tl;continue}}function C(a,c){while(!0){var d=c;if(!d)return!1;if(b("bs_curry")._1(a,d.hd))return!0;c=d.tl;continue}}function D(a,c,d){while(!0){var e=d,f=c;if(f){if(e){if(!b("bs_curry")._2(a,f.hd,e.hd))return!1;d=e.tl;c=f.tl;continue}throw{RE_EXN_ID:"Invalid_argument",_1:"List.for_all2",Error:new Error()}}if(!e)return!0;throw{RE_EXN_ID:"Invalid_argument",_1:"List.for_all2",Error:new Error()}}}function E(a,c,d){while(!0){var e=d,f=c;if(f){if(e){if(b("bs_curry")._2(a,f.hd,e.hd))return!0;d=e.tl;c=f.tl;continue}throw{RE_EXN_ID:"Invalid_argument",_1:"List.exists2",Error:new Error()}}if(!e)return!1;throw{RE_EXN_ID:"Invalid_argument",_1:"List.exists2",Error:new Error()}}}function F(a,c){while(!0){var d=c;if(!d)return!1;if(b("bs_caml_obj").caml_equal(d.hd,a))return!0;c=d.tl;continue}}function G(a,b){while(!0){var c=b;if(!c)return!1;if(c.hd===a)return!0;b=c.tl;continue}}function H(a,c){while(!0){var d=c;if(d){var e=d.hd;if(b("bs_caml_obj").caml_equal(e[0],a))return e[1];c=d.tl;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function I(a,c){while(!0){var d=c;if(!d)return;var e=d.hd;if(b("bs_caml_obj").caml_equal(e[0],a))return b("bs_caml_option").some(e[1]);c=d.tl;continue}}function J(a,b){while(!0){var c=b;if(c){var d=c.hd;if(d[0]===a)return d[1];b=c.tl;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function K(a,c){while(!0){var d=c;if(!d)return;var e=d.hd;if(e[0]===a)return b("bs_caml_option").some(e[1]);c=d.tl;continue}}function L(a,c){while(!0){var d=c;if(!d)return!1;if(b("bs_caml_obj").caml_equal(d.hd[0],a))return!0;c=d.tl;continue}}function M(a,b){while(!0){var c=b;if(!c)return!1;if(c.hd[0]===a)return!0;b=c.tl;continue}}function N(a,c){if(!c)return 0;var d=c.tl;c=c.hd;if(b("bs_caml_obj").caml_equal(c[0],a))return d;else return{hd:c,tl:N(a,d)}}function O(a,b){if(!b)return 0;var c=b.tl;b=b.hd;if(b[0]===a)return c;else return{hd:b,tl:O(a,c)}}function P(a,c){while(!0){var d=c;if(d){var e=d.hd;if(b("bs_curry")._1(a,e))return e;c=d.tl;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function Q(a,c){while(!0){var d=c;if(!d)return;var e=d.hd;if(b("bs_curry")._1(a,e))return b("bs_caml_option").some(e);c=d.tl;continue}}function R(a){return function(c){var d=0;c=c;while(!0){var e=c,f=d;if(!e)return i(f,0);var g=e.tl;e=e.hd;if(b("bs_curry")._1(a,e)){c=g;d={hd:e,tl:f};continue}c=g;continue}}}function S(a,c){var d=0,e=0;c=c;while(!0){var f=c,g=e,h=d;if(!f)return[i(h,0),i(g,0)];var j=f.tl;f=f.hd;if(b("bs_curry")._1(a,f)){c=j;d={hd:f,tl:h};continue}c=j;e={hd:f,tl:g};continue}}function T(a){if(!a)return[0,0];var b=a.hd;a=T(a.tl);return[{hd:b[0],tl:a[0]},{hd:b[1],tl:a[1]}]}function U(a,b){if(a){if(b)return{hd:[a.hd,b.hd],tl:U(a.tl,b.tl)};throw{RE_EXN_ID:"Invalid_argument",_1:"List.combine",Error:new Error()}}if(!b)return 0;throw{RE_EXN_ID:"Invalid_argument",_1:"List.combine",Error:new Error()}}function V(a,c,d){if(!c)return d;if(!d)return c;var e=d.hd,f=c.hd;if(b("bs_curry")._2(a,f,e)<=0)return{hd:f,tl:V(a,c.tl,d)};else return{hd:e,tl:V(a,c,d.tl)}}function W(a,b){while(!0){var c=b,d=a;if(d===0)return c;if(c){b=c.tl;a=d-1|0;continue}throw{RE_EXN_ID:"Assert_failure",_1:["list.ml",262,11],Error:new Error()}}}function X(c,d){var a=function(d,a){if(d!==2){if(d===3&&a){var f=a.tl;if(f){var g=f.tl;if(g){g=g.hd;f=f.hd;var h=a.hd;if(b("bs_curry")._2(c,h,f)<=0)if(b("bs_curry")._2(c,f,g)<=0)return{hd:h,tl:{hd:f,tl:{hd:g,tl:0}}};else if(b("bs_curry")._2(c,h,g)<=0)return{hd:h,tl:{hd:g,tl:{hd:f,tl:0}}};else return{hd:g,tl:{hd:h,tl:{hd:f,tl:0}}};else if(b("bs_curry")._2(c,h,g)<=0)return{hd:f,tl:{hd:h,tl:{hd:g,tl:0}}};else if(b("bs_curry")._2(c,f,g)<=0)return{hd:f,tl:{hd:g,tl:{hd:h,tl:0}}};else return{hd:g,tl:{hd:f,tl:{hd:h,tl:0}}}}}}}else if(a){g=a.tl;if(g){f=g.hd;h=a.hd;if(b("bs_curry")._2(c,h,f)<=0)return{hd:h,tl:{hd:f,tl:0}};else return{hd:f,tl:{hd:h,tl:0}}}}g=d>>1;f=d-g|0;h=W(g,a);d=e(g,a);g=e(f,h);a=d;f=g;h=0;while(!0){d=h;g=f;var j=a;if(!j)return i(g,d);if(!g)return i(j,d);var k=g.hd,l=j.hd;if(b("bs_curry")._2(c,l,k)>0){h={hd:l,tl:d};a=j.tl;continue}h={hd:k,tl:d};f=g.tl;continue}},e=function(e,d){if(e!==2){if(e===3&&d){var f=d.tl;if(f){var g=f.tl;if(g){g=g.hd;f=f.hd;var h=d.hd;if(b("bs_curry")._2(c,h,f)>0)if(b("bs_curry")._2(c,f,g)>0)return{hd:h,tl:{hd:f,tl:{hd:g,tl:0}}};else if(b("bs_curry")._2(c,h,g)>0)return{hd:h,tl:{hd:g,tl:{hd:f,tl:0}}};else return{hd:g,tl:{hd:h,tl:{hd:f,tl:0}}};else if(b("bs_curry")._2(c,h,g)>0)return{hd:f,tl:{hd:h,tl:{hd:g,tl:0}}};else if(b("bs_curry")._2(c,f,g)>0)return{hd:f,tl:{hd:g,tl:{hd:h,tl:0}}};else return{hd:g,tl:{hd:f,tl:{hd:h,tl:0}}}}}}}else if(d){g=d.tl;if(g){f=g.hd;h=d.hd;if(b("bs_curry")._2(c,h,f)>0)return{hd:h,tl:{hd:f,tl:0}};else return{hd:f,tl:{hd:h,tl:0}}}}g=e>>1;f=e-g|0;h=W(g,d);e=a(g,d);g=a(f,h);d=e;f=g;h=0;while(!0){e=h;g=f;var j=d;if(!j)return i(g,e);if(!g)return i(j,e);var k=g.hd,l=j.hd;if(b("bs_curry")._2(c,l,k)<=0){h={hd:l,tl:e};d=j.tl;continue}h={hd:k,tl:e};f=g.tl;continue}},f=g(d);if(f<2)return d;else return a(f,d)}function Y(c,d){var a=function(d,a){if(d!==2){if(d===3&&a){var f=a.tl;if(f){var g=f.tl;if(g){g=g.hd;f=f.hd;var h=a.hd,j=b("bs_curry")._2(c,h,f);if(j===0){var k=b("bs_curry")._2(c,f,g);if(k===0)return{hd:f,tl:0};else if(k<0)return{hd:f,tl:{hd:g,tl:0}};else return{hd:g,tl:{hd:f,tl:0}}}if(j<0){k=b("bs_curry")._2(c,f,g);if(k===0)return{hd:h,tl:{hd:f,tl:0}};if(k<0)return{hd:h,tl:{hd:f,tl:{hd:g,tl:0}}};j=b("bs_curry")._2(c,h,g);if(j===0)return{hd:h,tl:{hd:f,tl:0}};else if(j<0)return{hd:h,tl:{hd:g,tl:{hd:f,tl:0}}};else return{hd:g,tl:{hd:h,tl:{hd:f,tl:0}}}}k=b("bs_curry")._2(c,h,g);if(k===0)return{hd:f,tl:{hd:h,tl:0}};if(k<0)return{hd:f,tl:{hd:h,tl:{hd:g,tl:0}}};j=b("bs_curry")._2(c,f,g);if(j===0)return{hd:f,tl:{hd:h,tl:0}};else if(j<0)return{hd:f,tl:{hd:g,tl:{hd:h,tl:0}}};else return{hd:g,tl:{hd:f,tl:{hd:h,tl:0}}}}}}}else if(a){k=a.tl;if(k){j=k.hd;g=a.hd;f=b("bs_curry")._2(c,g,j);if(f===0)return{hd:g,tl:0};else if(f<0)return{hd:g,tl:{hd:j,tl:0}};else return{hd:j,tl:{hd:g,tl:0}}}}h=d>>1;k=d-h|0;f=W(h,a);j=e(h,a);g=e(k,f);d=j;h=g;a=0;while(!0){k=a;f=h;j=d;if(!j)return i(f,k);if(!f)return i(j,k);g=f.tl;f=f.hd;var l=j.tl;j=j.hd;var m=b("bs_curry")._2(c,j,f);if(m===0){a={hd:j,tl:k};h=g;d=l;continue}if(m>0){a={hd:j,tl:k};d=l;continue}a={hd:f,tl:k};h=g;continue}},e=function(e,d){if(e!==2){if(e===3&&d){var f=d.tl;if(f){var g=f.tl;if(g){g=g.hd;f=f.hd;var h=d.hd,j=b("bs_curry")._2(c,h,f);if(j===0){var k=b("bs_curry")._2(c,f,g);if(k===0)return{hd:f,tl:0};else if(k>0)return{hd:f,tl:{hd:g,tl:0}};else return{hd:g,tl:{hd:f,tl:0}}}if(j>0){k=b("bs_curry")._2(c,f,g);if(k===0)return{hd:h,tl:{hd:f,tl:0}};if(k>0)return{hd:h,tl:{hd:f,tl:{hd:g,tl:0}}};j=b("bs_curry")._2(c,h,g);if(j===0)return{hd:h,tl:{hd:f,tl:0}};else if(j>0)return{hd:h,tl:{hd:g,tl:{hd:f,tl:0}}};else return{hd:g,tl:{hd:h,tl:{hd:f,tl:0}}}}k=b("bs_curry")._2(c,h,g);if(k===0)return{hd:f,tl:{hd:h,tl:0}};if(k>0)return{hd:f,tl:{hd:h,tl:{hd:g,tl:0}}};j=b("bs_curry")._2(c,f,g);if(j===0)return{hd:f,tl:{hd:h,tl:0}};else if(j>0)return{hd:f,tl:{hd:g,tl:{hd:h,tl:0}}};else return{hd:g,tl:{hd:f,tl:{hd:h,tl:0}}}}}}}else if(d){k=d.tl;if(k){j=k.hd;g=d.hd;f=b("bs_curry")._2(c,g,j);if(f===0)return{hd:g,tl:0};else if(f>0)return{hd:g,tl:{hd:j,tl:0}};else return{hd:j,tl:{hd:g,tl:0}}}}h=e>>1;k=e-h|0;f=W(h,d);j=a(h,d);g=a(k,f);e=j;h=g;d=0;while(!0){k=d;f=h;j=e;if(!j)return i(f,k);if(!f)return i(j,k);g=f.tl;f=f.hd;var l=j.tl;j=j.hd;var m=b("bs_curry")._2(c,j,f);if(m===0){d={hd:j,tl:k};h=g;e=l;continue}if(m<0){d={hd:j,tl:k};e=l;continue}d={hd:f,tl:k};h=g;continue}},f=g(d);if(f<2)return d;else return a(f,d)}function Z(a,b){while(!0){var c=b,d=a;if(!d)if(c)return-1;else return 0;if(!c)return 1;b=c.tl;a=d.tl;continue}}function $(a,b){while(!0){var c=b,d=a;if(!d)if(c===0)return 0;else if(c>0)return-1;else return 1;if(c<=0)return 1;b=c-1|0;a=d.tl;continue}}var aa=b("bs_pervasives").$at,ba=n,ca=R,da=X,ea=X;f.length=g;f.compare_lengths=Z;f.compare_length_with=$;f.cons=a;f.hd=c;f.tl=d;f.nth=e;f.nth_opt=h;f.rev=j;f.init=m;f.append=aa;f.rev_append=i;f.concat=ba;f.flatten=n;f.iter=s;f.iteri=t;f.map=o;f.mapi=q;f.rev_map=r;f.fold_left=u;f.fold_right=v;f.iter2=y;f.map2=w;f.rev_map2=x;f.fold_left2=z;f.fold_right2=A;f.for_all=B;f.exists=C;f.for_all2=D;f.exists2=E;f.mem=F;f.memq=G;f.find=P;f.find_opt=Q;f.filter=ca;f.find_all=R;f.partition=S;f.assoc=H;f.assoc_opt=I;f.assq=J;f.assq_opt=K;f.mem_assoc=L;f.mem_assq=M;f.remove_assoc=N;f.remove_assq=O;f.split=T;f.combine=U;f.sort=da;f.stable_sort=X;f.fast_sort=ea;f.sort_uniq=Y;f.merge=V}),null);
__d("MessengerReasonDialogContainerReact.bs",["bs_list","bs_array","bs_curry","React","ReasonReact.bs","MessengerDialogs.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("ReasonReact.bs").reducerComponent("MessengerReasonDialogContainer");function i(a){return{debugName:h.debugName,reactClassInternal:h.reactClassInternal,handedOffState:h.handedOffState,getDerivedStateFromProps:h.getDerivedStateFromProps,didMount:function(a){return b("MessengerDialogs.bs").addHandler(function(c){return b("bs_curry")._1(a.send,{_0:c})})},didUpdate:h.didUpdate,willUnmount:h.willUnmount,shouldUpdate:h.shouldUpdate,render:function(a){a=a.state;if(a!==void 0)return g.jsx("div",{children:b("bs_array").of_list(b("bs_list").rev(a)).map(function(a,c){return g.jsx("span",{children:b("bs_curry")._1(a,void 0)},String(c))})});else return null},initialState:function(a){},retainedProps:h.retainedProps,reducer:function(a,b){return{TAG:0,_0:a._0}},jsElementWrapped:h.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i([])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("PagesPlatformActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BOOKING_REQUEST_ACCEPT_ERROR:"booking_request_accept_error",BOOKING_REQUEST_ACCEPT_INITIATED:"booking_request_accept_initiated",BOOKING_REQUEST_ACCEPTED:"booking_request_accepted",BOOKING_REQUEST_CREATED:"booking_request_created",BOOKING_REQUEST_DECLINE_ERROR:"booking_request_decline_error",BOOKING_REQUEST_DECLINE_INITIATED:"booking_request_decline_initiated",BOOKING_REQUEST_DECLINED:"booking_request_declined",BOOKING_REQUEST_RESCHEDULE_INITIATED:"booking_request_reschedule_initiated",BOOKING_REQUEST_RESCHEULED:"booking_request_reschedule",DIALOG_CLOSED:"dialog_closed",DIALOG_SHOWN:"dialog_shown",NEW_TIME_CHOSEN:"new_time_chosen"});b=a;e.exports=b}),null);
__d("PagesPlatformRequestDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";a=new(b("Dispatcher_DEPRECATED"))();e.exports=a}),null);
__d("PagesPlatformDialogStore",["EventEmitter","PagesPlatformActionConstants","PagesPlatformRequestDispatcher"],(function(a,b,c,d,e,f){"use strict";var g={};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;b("PagesPlatformRequestDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));g={dialogClass:null,dialogProps:null};return c}var d=c.prototype;d.getState=function(){return g};d.onEventDispatched=function(a){var c=a.type;a=a.data;switch(c){case b("PagesPlatformActionConstants").DIALOG_SHOWN:g.dialogClass=a.dialogClass;g.dialogProps=a.dialogProps;this.emit("change");break;case b("PagesPlatformActionConstants").DIALOG_CLOSED:g.dialogClass=null;g.dialogProps=null;this.emit("change");break}};return c}(b("EventEmitter"));c=new a();e.exports=c}),null);
__d("PagesPlatformDialogContainer.react",["PagesPlatformDialogStore","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"PagesPlatformDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("PagesPlatformDialogStore"))],statics:{calculateState:function(){return b("PagesPlatformDialogStore").getState()}},render:function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return g.createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))}});c=a;e.exports=c}),null);
__d("RTWebMercuryParentWindow.react",["CurrentUser","React","requireCond","cr:1237285","cr:1237286"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h="2220391788200892";function a(a){a=a.children;return b("cr:1237286")?g.jsxs(b("cr:1237286"),{children:[b("cr:1237285")&&b("CurrentUser").getAppID()!==h?g.jsx(b("cr:1237285"),{}):null,a]}):a}}),null);
__d("MessengerReact.bs",["cx","bs_curry","React","Utils.bs","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","requireCond","MessengerState.bs","MessengerURIStore","MessengerBanner.react","MessengerDetailViewReact.bs","MessengerMasterViewReact.bs","MessengerErrorBoundary.react","MessengerDotComAndInboxM4Check.bs","RTWebMercuryParentWindow.react","FBPaymentsDialogContainer.react","MNCommerceDialogContainer.react","MessengerP2PDialogContainer.react","PagesPlatformDialogContainer.react","MessengerReasonDialogContainerReact.bs","MessengerInterstitialPromotion.react","cr:1695455"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){a.preventDefault()}var j=b("ReasonReact.bs").reducerComponent("MessengerReact");function k(a,c,d,e,f,g){return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:function(a){b("MessengerURIStore").addListener("change",function(c){return b("bs_curry")._1(a.send,0)});b("bs_curry")._1(a.onUnmount,function(a){b("MessengerURIStore").destroy()});return b("bs_curry")._1(f,void 0)},didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(f){var g=f.state;return h.createElement(b("MessengerState.bs").Provider.make,{fbid:b("CurrentUser").getID(),children:function(f){var j=f.blockedIds,k=f.readReceiptsPerThread,l={showWorkchatUpsellBanner:c};e!==void 0&&(l.isFirstRedirect=b("bs_caml_option").valFromOption(e));var m={blockedIds:j,folder:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(g.folder)),pendingFolderUnseenCount:f.pendingFolderUnseenCount,readReceipts:k,threadlistOrderMap:f.threadlistOrderMap,view:b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(g.masterView)),viewer:b("CurrentUser").getID(),showMovedSettingsNux:d},n=b("bs_caml_option").nullable_to_opt(g.activeThreadID);n!==void 0&&(m.activeThreadID=b("bs_caml_option").valFromOption(n));n=b("bs_caml_option").nullable_to_opt(g.detailView);n!==void 0&&(m.detailView=b("bs_caml_option").valFromOption(n));n=b("bs_caml_option").nullable_to_opt(g.filter);n!==void 0&&(m.filter=b("bs_caml_option").valFromOption(n));if(b("cr:1695455")==null)n=null;else{var o={isBetaEnabled:a!==void 0?b("Utils.bs").isTruthy(a.isBetaEnabled):!1},p=a!==void 0?a.unixName:void 0;p!==void 0&&(o.unixName=b("bs_caml_option").valFromOption(p));n=h.jsx(b("cr:1695455").make,o)}p=g.activeThreadID;return h.jsxs("div",{children:[h.jsxs(b("RTWebMercuryParentWindow.react"),{children:[h.jsx(b("MessengerBanner.react"),l),h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx(b("MessengerErrorBoundary.react"),{component:"conversation list",children:h.createElement(b("MessengerMasterViewReact.bs").make,m)}),n],className:"_1enh"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1s":"")}),b("ReasonReact.bs").element(p==null?void 0:p,void 0,b("MessengerDetailViewReact.bs").make(b("bs_caml_option").nullable_to_opt(g.activeThreadID),j,void 0,f.deliveryReceipts,k,f,b("bs_caml_option").nullable_to_opt(g.mid),b("bs_caml_option").nullable_to_opt(g.query),b("bs_caml_option").nullable_to_opt(g.detailView),b("CurrentUser").getID(),b("CurrentUser").isWorkUser(),[]))],className:"_4sp8",onDragEnter:i,onDragOver:i,onDrop:i})]}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerReasonDialogContainerReact.bs").make([])),h.jsx(b("MessengerInterstitialPromotion.react"),{}),h.jsx(b("MNCommerceDialogContainer.react"),{}),h.jsx(b("MessengerP2PDialogContainer.react"),{viewer:b("CurrentUser").getID()}),h.jsx(b("PagesPlatformDialogContainer.react"),{}),h.jsx(b("FBPaymentsDialogContainer.react"),{})],className:"_li"})}})},initialState:function(a){return b("MessengerURIStore").getState()},retainedProps:j.retainedProps,reducer:function(a,c){return{TAG:0,_0:b("MessengerURIStore").getState()}},jsElementWrapped:j.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(b("bs_caml_option").nullable_to_opt(a.employeeData),a.showWorkchatUpsellBanner,a.showMovedSettingsNux,b("bs_caml_option").nullable_to_opt(a.isFirstRedirect),a.onMount,[])});f.preventDefault=i;f.component=j;f.$MessengerBugNubReact$requireCond=b("cr:1695455");f.make=k;f.jsComponent=a}),null);
__d("MessengerMount",["cx","fbt","Bootloader","CSS","CurrentUser","HotLikeSound","MessengerConfig","MessengerDialogs.bs","MessengerEnvironment","MessengerFPSCounter","MessengerNonMount","MessengerPage","MessengerPromotionDataActions","MessengerReact.bs","MessengerSettingsStore","MessengerURIListener","MessengerWebStgTypedLoggerLite","ODS","React","ReactDOM","TetraButtonGroup.react","TetraishContextualMessage.react","gkx","OrderedFriendsList"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");b("OrderedFriendsList");a=function(){function a(){}a.getMainComponent=function(a){var c=b("CurrentUser").getID(),d=b("CurrentUser").isWorkUser();return i.jsx(b("MessengerReact.bs").jsComponent,{employeeData:a.employeeData,showWorkchatUpsellBanner:a.showWorkchatUpsellBanner,showMovedSettingsNux:a.showMovedSettingsNux,isFirstRedirect:!b("gkx")("678603"),viewer:c,isWorkUser:d,onMount:function(){return j(a)}})};a.mount=function(a,c,d){if(b("CurrentUser").isWorkUser()&&!b("gkx")("1806334")){k(a);return}b("MessengerEnvironment").setMessengerUI(!0);b("MessengerPage").emit(b("MessengerPage").Events.JS_LOADED);d=b("CurrentUser").getID();b("MessengerNonMount").initStoresAndListeners(d);b("MessengerURIListener").start();b("MessengerNonMount").dispatchInitialData(d,c);b("MessengerPage").emit(b("MessengerPage").Events.DATA_INITIALIZED);d=document.documentElement;d&&b("CSS").addClass(d,"_51l0");if(document.body){d=document.body;b("CSS").addClass(d,"_z4_");b("CSS").addClass(d,"__6g");b("MessengerConfig").SegoeUIDisabled&&b("CSS").addClass(d,"_2por");b("MessengerEnvironment").facebookdotcom&&b("CSS").addClass(d,"_mvg")}b("HotLikeSound").setCheckSoundEnabledFunc(function(){return b("MessengerSettingsStore").getSettings().sound_enabled});b("ReactDOM").render(this.getMainComponent(c),a);b("MessengerFPSCounter").counter&&b("MessengerFPSCounter").counter(6e4,function(a){b("ODS").bumpEntityKey(3303,"messenger_dot_com","fps.count."+a)})};return a}();e.exports=a;function j(a){b("MessengerPage").emit(b("MessengerPage").Events.APP_MOUNTED);b("MessengerWebStgTypedLoggerLite").log({event_name:"render_inbox"});var c=a.gameData;c&&c.gameID&&b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react","InstantGameContextType","QuicksilverSources"],function(a,d,e){var f=null,g=d.SOLO;c.contextSourceID&&(f=c.contextSourceID,g=d.THREAD);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(a,{cloudBinaryID:null,initialContextSourceID:f,initialContextType:g,onHide:function(){return b("MessengerDialogs.bs").removeAllDialogs()},initialGameID:c.gameID,initialSource:e.M_ME_LINK,sourceID:null})})},"MessengerMount");a.promotionData&&b("MessengerPromotionDataActions").setPromotionData(a.promotionData);a.threadlistPromotionData&&b("MessengerPromotionDataActions").setThreadlistPromotionData(a.threadlistPromotionData);a.interstitialPromotionData&&b("MessengerPromotionDataActions").setInterstitialPromotionData(a.interstitialPromotionData)}function k(a){b("ReactDOM").render(i.jsx("div",{className:"_9i_f",children:i.jsx("div",{className:"_9i_i",children:i.jsx(b("TetraishContextualMessage.react"),{addOnPrimary:i.jsx(b("TetraButtonGroup.react"),{primary:{label:h._("Open in Browser"),linkProps:{url:"https://fb.me/workplace-chat",target:"_blank"}},secondary:{label:h._("Learn More"),linkProps:{url:"https://www.workplace.com/help/work/413447289679338",target:"_blank"}}}),body:h._("The Workplace Chat desktop app in no longer be available. You can continue to use Workplace Chat in your browser."),headline:h._("Workplace Chat Desktop not available")})})}),a)}}),null);
__d("MessengerBubbleBlock.react",["cx","React","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:(b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _4h13"+(b("WorkChatRedesignedMessageListCheck.re").enabled?"":" _3058"),children:this.props.children})};return c}(h.Component);e.exports=a}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","MessengerDecoratorHideable.react","MessengerDotComAndInboxM4Check.bs","React","WorkChatRedesignedMessageListCheck.re","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1},c.$1=function(a){c.setState({shown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.decorators||b("MessengerDecorator").getInnerDecorators();if(this.props.isSavedView===!0)return null;c=c.map(function(c){return c.check(a.props.message)?h.jsx(b("MessengerDecoratorHideable.react"),{isActive:a.state.shown||c.isAlwaysVisible||a.props.hovered,children:c.render(a.props.message,a.props.isFromViewer,babelHelpers["extends"]({},a.props.messageProps,{onReactionSwap:a.props.onReactionSwap,messageIsSelected:a.props.hovered||a.state.shown,onShowMenu:a.$1,isSavedView:!1}))},c.name):null}).filter(Boolean);return h.jsx("span",{className:(b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_40fu")+(b("Locale").isRTL()||this.props.forGameChat?" _64wc":""),"data-hover":"none",children:h.jsx("span",{className:b("joinClasses")(this.props.className,"_2u_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2j":"")),children:c})})};return c}(h.Component);e.exports=a}),null);
__d("MercuryAttachmentAttribution.react",["cx","fbt","Image.react","ImmutableObject","Link.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.$1();return!a?null:i.jsxs("div",{className:b("joinClasses")(this.props.className,"_29ew"),children:[i.jsx(b("Image.react"),{src:a.icon_url,className:"_29ex"}),i.jsx("span",{className:"_29ey",children:a.name}),this.$2()]})};d.$1=function(){return this.props.attachment&&this.props.attachment.app_attribution};d.$2=function(){var a=this.$1();if(!a||!a.metadata)return null;var c="_439n";try{a=JSON.parse(a.metadata)}catch(a){return null}return a.spotify_link?i.jsx(b("Link.react"),{className:c,href:a.spotify_link,target:"_blank",children:h._("Open")}):null};return c}(i.PureComponent);e.exports=a;a.propTypes={attachment:b("prop-types").instanceOf(b("ImmutableObject"))}}),null);
__d("MessengerAttachmentAttribution.bs",["cx","React","bs_caml_option","MercuryAttachmentAttribution.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.attachment;var c={className:"_2f5n _4br2"};a!==void 0&&(c.attachment=b("bs_caml_option").valFromOption(a));return h.jsx(b("MercuryAttachmentAttribution.react"),c)}c=a;f.make=c}),null);
__d("MessengerAttachmentAttribution.re",["MessengerAttachmentAttribution.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerAttachmentAttribution.bs").make;f.make=a}),null);
__d("MessengerDeliveryStateIconsM4React.bs",["cssVar","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.color;return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("path",{d:"M0 0h16v16H0z"}),h.jsx("path",{d:"M8 16A8 8 0 118 0a8 8 0 010 16zM6.8 8.836L5.257 7.293a1 1 0 00-1.414 1.414l2.25 2.25a1 1 0 001.414 0l4.25-4.25a1 1 0 10-1.414-1.414L6.8 8.836z",fill:a})],fill:"none",fillRule:"evenodd"}),height:"10",width:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"})}g={make:a};function c(a){a=a.color;a={children:h.jsxs("g",{children:[h.jsx("path",{d:"M0 0h16v16H0z"}),h.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:a,strokeWidth:"2"}),h.jsx("path",{d:"M4.55 8l2.25 2.25L11.05 6",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})],fill:"none",fillRule:"evenodd"}),height:"10",width:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};a["data-testid"]="message_delivery_state_sent";return h.jsx("svg",a)}b={make:c};function d(a){a=a.color;return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("path",{d:"M0 0h16v16H0z"}),h.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:a,strokeWidth:"2"})],fill:"none",fillRule:"evenodd"}),height:"10",width:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"})}a={make:d};function e(a){return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("path",{d:"M0 0h16v16H0z"}),h.jsx("path",{d:"M8 16A8 8 0 118 0a8 8 0 010 16zM8 2a1.5 1.5 0 00-1.5 1.5v5a1.5 1.5 0 003 0v-5A1.5 1.5 0 008 2zm0 12a1.5 1.5 0 100-3 1.5 1.5 0 000 3z",fill:"#f03d25"})],fill:"none",fillRule:"evenodd"}),height:"10",width:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"})}c={make:e};f.Delivered=g;f.Sent=b;f.Sending=a;f.Error_=c}),null);
__d("MessengerDeliveryStateIconsM4React.re",["MessengerDeliveryStateIconsM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});c=(a=b("MessengerDeliveryStateIconsM4React.bs")).Delivered.make;f.Delivered_make=c;(function(a){return null});d=a.Sent.make;f.Sent_make=d;(function(a){return null});e=a.Sending.make;f.Sending_make=e;(function(a){return null});b=a.Error_.make;f.Error__make=b;c=a.Delivered;f.Delivered=c;d=a.Error_;f.Error_=d;e=a.Sent;f.Sent=e;b=a.Sending;f.Sending=b}),null);
__d("MessengerMessageActionsWrapper.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wrapper=null,c.mouseOverListenerAdded=!1,c.$4=function(){c.props.onShowMenu(c.props.message.message_id,!0),c.$2()},c.$3=function(){c.props.onShowMenu(c.props.message.message_id,!1),c.$1()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){this.$1()};c.componentWillUnmount=function(){this.$2()};c.render=function(){var a=this;return g.jsx("div",{onMouseLeave:this.$3,className:this.props.className,ref:function(b){return a.wrapper=b},children:this.props.children})};c.$1=function(){this.wrapper&&!this.mouseOverListenerAdded&&(this.wrapper.addEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!0)};c.$2=function(){this.wrapper&&this.mouseOverListenerAdded&&(this.wrapper.removeEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!1)};return b}(g.Component);e.exports=a}),null);
__d("getFBTSafeGenderFromGenderConst",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case b("GenderConst").MALE_SINGULAR:return b("IntlVariations").GENDER_MALE;case b("GenderConst").FEMALE_SINGULAR:return b("IntlVariations").GENDER_FEMALE;default:return b("IntlVariations").GENDER_UNKNOWN}}}),null);
__d("MessengerMessageSeenHeadsReact.bs",["cx","fbt","cssVar","Image.bs","React","immutable","ReasonReact.bs","joinClasses","MessengerConfig","MercuryTimestamp","MessengerMessage.bs","MercuryAttachment","getViewportDimensions","MessengerSurfaceQuickChat.bs","getFBTSafeGenderFromGenderConst"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("MessengerConfig").MaxSeenHeadCount;function l(a){a=b("getViewportDimensions")().width;if(a<parseInt("920px".replace("px",""),10))if(k<8)return k;else return 8;else if(a<parseInt("1211px".replace("px",""),10)&&k>=3)return 3;else return k}function a(a){var c=a.className,d=a.isFromViewer,e=a.message,f=a.nextTimestamp,g=a.participants;a=a.readReceipts;var i=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(void 0);if(b("MessengerMessage.bs").isSending(e)||a.isEmpty()||b("MessengerMessage.bs").hasError(e))return null;a=b("immutable").Seq(a).filter(function(a){a=a.watermark>=e.timestamp&&a.watermark<f;if(a)return!0;else return!1}).sort(function(a,b){return a.action-b.action|0});if(a.isEmpty())return null;i=i?1:d?k:l(void 0);d=a.count()>(i+1|0);var m=d?a.slice(0,i):a;m=m.map(function(a,c,d){d=g.get(c);if(d==null)return null;a=h._({"*":"Seen by {full name} at {seen time}"},[h._name("full name",d.name,b("getFBTSafeGenderFromGenderConst")(d.gender)),h._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.action))]);return b("ReasonReact.bs").element(String(c),void 0,b("Image.bs").make("_jf2",a,void 0,void 0,d.image_src,void 0,a,void 0,void 0,[]))}).toArray();if(m.length===0)return null;d=d?a.slice(i,void 0).count():0;if(d>0){a=a.slice(i,void 0).map(function(a,b,c){a=g.get(b);if(a==null)return"";else return a.name}).filter(function(a){return a!==""}).join("\n")+" ";m.unshift(j.jsx("span",{children:"+"+String(d),className:"_jf3",title:a},"overflow"))}return j.jsx("span",{children:m,className:b("joinClasses")(c,"_jf4"+((m.length+d|0)===1?" _jf5":"")+(b("MercuryAttachment").isSinglePhotoGroupAttachment(e)?" _ba3":""))})}c={make:a};d=a;e=a;f.maxSeenHeads=k;f.calculateSliceNumber=l;f.MessengerMessageSeenHeadsWrapper=c;f.make=d;f.jsComponent=e}),null);
__d("MessengerMessage.react",["cssVar","cx","fbt","CurrentUser","EmojiLikeUtils","FlexLayout.react","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercurySourceType","MercuryTimestamp","MessengerAttachmentAttribution.re","MessengerAttachmentRenderer","MessengerBubble.react","MessengerBubbleBlock.react","MessengerCodePasteUtils","MessengerDecorator","MessengerDeliveryStateIconsM4React.re","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","MessengerSourceContext.re","MessengerURIUtils.bs","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","prop-types","requireCond","shallowEqual","cr:1398876","cr:1398877","cr:1106477"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("Error")}return null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isVisible:!1,plainText:!1,shown:{}},d.$15=function(a){d.messageBody=a},d.$5=function(a,b){d.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},d.$12=function(){d.setState(function(a){return{plainText:!a.plainText}})},d.$11=function(){d.props.onSelect(d.props.message.message_id)},d.$13=function(){return b("MessengerCodePasteUtils").containsCodeBlock(d.props.message.body)||!!d.messageBody&&d.messageBody.hasFormatting()},c)||babelHelpers.assertThisInitialized(d)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));var e=b("ifRequired")("MessengerSphericalRendererStore",function(a){return a},function(){return null});e&&d.addSubscriptions(e.addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.isSelected!==this.props.isSelected||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad||Object.keys(((c=a.message)==null?void 0:c.reactions)||{}).length!==Object.keys(((c=this.props.message)==null?void 0:c.reactions)||{}).length||((c=a.thread)==null?void 0:c.pinned_messages)!==((a=this.props.thread)==null?void 0:a.pinned_messages)};d.render=function(){var a,c=this.props,d=c.isActive,e=c.isFromViewer;c=c.message;var f=!e,g=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(c.timestamp))]);g=b("TooltipData").propsFor(g,l(e,this.context));var h=[],k=[],m=this.props.message,n=e||!1,o=this.props.scrollToRepliedMessage,p=this.props.thread;m&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(m)&&h.push(a.render(m,n,{scrollToRepliedMessage:o,gradientColors:p==null?void 0:p.gradient_colors,solidColor:p==null?void 0:p.solid_color,nicknames:p==null?void 0:p.custom_nickname}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(m)&&k.push(a.getAdditionalClassNames())}));var q=this.$2(g,null);g=this.$3(g,this.props.isSavedView===!0||q!=null);var r=!!q&&this.$4();a=this.props.readReceipts.count()>=2&&r&&((a=c.attachments[0])==null?void 0:a.attach_type)==="share";return j.jsxs(j.Fragment,{children:[j.jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(d?" _-5k":"")+(f?"":" _3i_m")+(f?"":" _nd_")+(f?" _29_7":"")+(r?" _q4a":"")+(this.props.isFirstInGroup?" _8lma":""),b("messengerRTLClasses")(c.body)].concat(k)),message:c,onShowMenu:this.$5,isFromViewer:e,children:[h,g,q,this.$6(),this.$7(),j.jsx(b("MessengerMessageSeenHeadsReact.bs").jsComponent,{className:"_4jzq"+(a?" _8d3y":""),isFromViewer:e,message:c,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})]}),b("cr:1106477")!=null&&c.m_suggestions!=null&&c.m_suggestions.length>0?j.jsx(b("cr:1106477"),{isFromViewer:n,message:c,suggestions:c.m_suggestions.map(function(a){return a.type}),expirationTime:c.m_suggestions[0].expiration_time}):null]})};d.$8=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$9=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$2=function(a,c){if(this.props.message!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){c=((c=this.props.message)==null?void 0:(c=c.attachments[0])==null?void 0:(c=c.share)==null?void 0:c.style_list[0])==="wec_message"&&!((c=this.props.message)==null?void 0:(c=c.attachments[0])==null?void 0:(c=c.share)==null?void 0:(c=c.subattachments)==null?void 0:c.length);if(c)return null}if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type==="ride_intent")return null;c=this.props.message;var d=this.$10(c),e=d[0];d=d[1];var f=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$11,onUnwrap:null,pageID:this.props.pageID},e,this.props.thread);if(!f||!f.length)return null;var g=this.$8(f),h=this.props.isPageMessage||this.props.isSavedView?null:b("cr:1398877")!=null?j.jsx(b("cr:1398877"),{message:c,hovered:this.state.shown[this.props.message.message_id],messageProps:{isNonBubbleDecorator:!g,isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText}}):b("cr:1398876")!=null&&j.jsx(b("cr:1398876"),{className:g?"_1z_2":"",message:c,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[this.props.message.message_id],messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText}),isSavedView:this.props.isSavedView});this.$9()&&(f=[j.jsxs("span",{children:[f[0],j.jsx(b("MessengerAttachmentAttribution.re").make,{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);var i=f.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});f=g?j.jsxs("div",babelHelpers["extends"]({},a||{},{className:b("joinClasses").apply(void 0,["_3zvs"+(i?" _2-x3":"")].concat(d)),children:[f,e.length>1?j.jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:e}):e,h]})):f.map(function(b){return b&&j.cloneElement(b,a)});i=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);d=j.jsxs("div",{className:"_3058 _15gf"+(i?" _3duc":""),children:[f,c.body||g?null:h]},"renderedAttachments");return this.$9()?j.jsx(b("MessengerBubbleBlock.react"),{children:d}):d};d.$10=function(a){var c=this,d=[],e=[],f=this.props.isFromViewer||!1;a&&this.props.isSavedView!==!0&&b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(a,f)&&(d.push(b.render(a,f,c.props,c.state.shown[c.props.message.message_id])),e.push(b.getAdditionalClassNames()))});return[d,e]};d.$14=function(){return b("MessengerAttachmentRenderer").isP2PAttachment(this.props.message)};d.$3=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;d.profile_ranges&&d.profile_ranges.length&&(f=(f||[]).concat(d.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:b("MessengerURIUtils.bs").getURIForUserID(a.id)})})));var g=b("CurrentUser").isWorkUser()?!1:b("MessengerCodePasteUtils").containsCodeBlock(d.body)&&!this.state.plainText;if(d.is_filtered_content)return j.jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var h=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return h||!e.isEmpty()?j.jsx(b("MessengerBubble.react"),{thread:this.props.thread,attachments:e,body:d.body,bodyRef:this.$15,className:g?(this.props.isFromViewer?"_3uhm":"")+(this.props.isFromViewer?"":" _3uhn")+(this.props.isSelected?" _3xsz":""):"_3058 _ui9"+(this.props.isSelected?" _3xsz":""),onReactionSwap:this.props.onReactionSwap,containsCode:g,customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$14(),ranges:f,message:d,metaRanges:d.meta_ranges,plainText:this.state.plainText,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,participants:this.props.participants,wecFirstMessage:this.props.wecFirstMessage,isHovered:this.state.shown[d.message_id],onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText,isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,tooltip:a,is_forwarded:d.is_forwarded}):null};d.$7=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=k(a),d=b("CurrentUser").isWorkUser()&&(this.props.customColor==null||this.props.customColor.toLowerCase()==="#373e4c".toLowerCase())?"#373e4c":"rgba(134, 142, 153, 0.5)",e=null;switch(a){case b("MercuryMessageDeliveryState").SENDING:e=j.jsx(b("MessengerDeliveryStateIconsM4React.re").Sending.make,{color:d});break;case b("MercuryMessageDeliveryState").SENT:e=j.jsx(b("MessengerDeliveryStateIconsM4React.re").Sent.make,{color:d});break;case b("MercuryMessageDeliveryState").DELIVERED:e=j.jsx(b("MessengerDeliveryStateIconsM4React.re").Delivered.make,{color:d});break;case b("MercuryMessageDeliveryState").ERROR:e=j.jsx(b("MessengerDeliveryStateIconsM4React.re").Error_.make,{});break}return j.jsx("span",{"aria-label":c,"aria-roledescription":i._("Status icon"),className:"_8r4c",title:c,children:e})};d.$6=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:j.jsx(b("MercuryMessageError.react"),{className:"_3058 _2ygi",message:a,authorFBID:this.props.authorFBID})};d.$4=function(){var a=this.props.message,b=!1;a&&(b=!!(a.reactions&&Object.keys(a.reactions).length>0));return b};return c}(j.Component);e.exports=a;a.propTypes={customColor:(c=b("prop-types")).string,deliveryTimestamp:c.number.isRequired,hideBeforeDecorator:c.bool,isActive:c.bool,isFromViewer:c.bool,isPageMessage:c.bool,isSelected:c.bool,message:c.object.isRequired,messageTimestamp:c.number,nextTimestamp:c.number.isRequired,onReactionSwap:c.func,onAttachmentLoad:c.func.isRequired,onDeselect:c.func.isRequired,onSelect:c.func.isRequired,onReplyToMessage:c.func,participants:c.instanceOf(b("immutable").Map).isRequired,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,showDeliveryState:c.bool,authorFBID:c.string,threadCustomColor:c.string,pageID:c.string,isSavedView:c.bool,scrollToRepliedMessage:c.func,thread:c.object,wecFirstMessage:c.bool};a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};a.contextType=b("MessengerSourceContext.re").context;function l(a,c){var d=c==="source:workchat:quickchat";c=c==="source:work_room_incall_chat"||c==="source:messenger_room_incall_chat";return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||b("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a||d||c?"above":a?"right":"left"}}),null);
__d("MessengerPageAdminNoteList.react",["cx","fbt","LeftRight.react","MessengerBubble.react","PagesMessengerCreatorInfo.react","React","ReactComponentWithPureRenderMixin","classWithMixins","enumerate","immutable","mixin","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,b=[],c=this.calculateGroups(this.props.notes);c.forEach(function(c,d){b.push(i.jsx("li",{className:"_4kd2",children:a.$MessengerPageAdminNoteList1(c)},"group:"+d))});return i.jsx("ul",{className:"_4kd3",children:b})};d.$MessengerPageAdminNoteList1=function(a){var b=this,c=[];a.forEach(function(d,e){c.push(i.jsx("div",{className:"_4kd4",children:b.$MessengerPageAdminNoteList2(d,a)},"note:"+e))});return c};d.$MessengerPageAdminNoteList2=function(a,c){c=b("immutable").List([i.jsxs(b("LeftRight.react"),{className:"_561k",children:[i.jsx("div",{className:"_561l",children:h._("Private Note")}),i.jsx(b("PagesMessengerCreatorInfo.react"),{creator_info:c[0].creator_info,isNote:!0},"creator_info")]})]);return i.jsx("div",{className:"_o46 _3i_m _nd_",children:i.jsx("div",{className:"clearfix",children:i.jsx(b("MessengerBubble.react"),{body:a.body.text,attachments:c,className:"_3058 _4kd5"})})})};d.calculateGroups=function(a){var c=[],d=null,e=null;a=b("enumerate")(a);var f;while(!(f=a.next()).done){var g=e&&e.value.creator_info.creatorID===f.value.creator_info.creatorID;g||(d=[],c.push(d));d&&d.push(f.value);e=f}return c};return c}(b("classWithMixins")(i.Component,b("mixin")(b("ReactComponentWithPureRenderMixin"))));e.exports=a;a.propTypes={notes:(c=b("prop-types")).arrayOf(c.shape({id:c.string,body:c.object.isRequired,creator_info:c.shape({creatorID:c.string.isRequired,creatorName:c.string.isRequired,creatorType:c.string.isRequired,labelType:c.string.isRequired,pageID:c.string.isRequired,profileURI:c.string}),timestamp:c.number.isRequired})).isRequired}}),null);
__d("MessengerRemovedMessageTombstone.react",["cssVar","cx","fbt","MercuryTimestamp","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerInnerDecorators.react","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","React","RemovedMessageTombstoneContent","TooltipData","WorkChatRedesignedMessageListCheck.re","getViewportDimensions","gkx","immutable","joinClasses","messengerRTLClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:{}},c.$2=function(a,b){c.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=[],f=this.props.message;f&&b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(f)&&e.push(a.getAdditionalClassNames())});var g=this.$1();return j.jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7")+"",b("messengerRTLClasses")(a.body)].concat(e)),message:a,onShowMenu:this.$2,children:[g,this.props.hideDeliveryState===!0?null:j.jsx(b("MessengerMessageSeenHeadsReact.bs").jsComponent,{className:"_4jzq",isFromViewer:d,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})]})};d.$1=function(){var a=this.props.message,c=b("RemovedMessageTombstoneContent").getRemovedMessageTombstoneContent(a,this.props.participants),d=this.$3();d=b("TooltipData").propsFor(d,k(this.props.isFromViewer));return j.jsxs("div",babelHelpers["extends"]({className:"_3058 _ui9"+(a.isSelected?" _3xsz":"")+" _7301 _hh7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+" _s1- _52mr _3oh-"},d||{},{children:[this.props.hideBeforeDecorator===!0?null:j.jsx(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[a.message_id],messageProps:{},isSavedView:!1}),j.jsx("div",{className:"_aok"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w73":""),tabIndex:0,"aria-label":c,children:j.jsx("span",{children:c})})]}))};d.$3=function(){var a=this.props.message.timestamp,c=this.props.message.removed_timestamp;a=i._("Sent: {sent time}",[i._param("sent time",b("MercuryTimestamp").getPreciseTimestamp(a))]);if(!c)return a;c=b("gkx")("1531920")?i._("Unsent: {removed time}",[i._param("removed time",b("MercuryTimestamp").getPreciseTimestamp(c))]):i._("Removed: {removed time}",[i._param("removed time",b("MercuryTimestamp").getPreciseTimestamp(c))]);return a.toString()+"\n"+c.toString()};return c}(j.Component);e.exports=a;function k(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||b("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a?"above":a?"right":"left"}}),null);
__d("Middot.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".qfa2pajt{clip-path:polygon(0 0,0 0,0 0,0 0)}",1);g.inject(".s8sjc6am{position:absolute}",1);function a(a){return h.jsxs("span",babelHelpers["extends"]({},a,{children:[h.jsx("span",{className:"s8sjc6am qfa2pajt spvqvc9t",children:"\xa0"}),h.jsx("span",{"aria-hidden":"true",children:" \xb7 "})]}))}}),null);
__d("MessengerMessageGroup.react",["cx","fbt","CurrentUser","Image.react","ImmutableObject","JSResource","Link.react","MercuryIDs","MercuryParticipantSilhouettes","MessengerActions","MessengerContactActions.re","MessengerEnvironment","MessengerMessage.react","MessengerPageAdminNoteList.react","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerRemovedMessageTombstone.react","MessengerStickerUtils","MessengerTextWithEmoticons.react","MessengerURIUtils.bs","Middot.react","PagesMessengerCreatorInfo.react","React","ReactDOM","createReactClass_DEPRECATED","goURI","immutable","isMessengerMessageRemoved","prop-types","requireCond","lazyLoadComponent","cr:1003205","cr:1228094"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=b("immutable").List;c=b("immutable").OrderedMap;var j=b("lazyLoadComponent")(b("JSResource")("MessengerAvatarActions.react").__setRef("MessengerMessageGroup.react")),k=32,l=new(b("ImmutableObject"))({image_src:b("MercuryParticipantSilhouettes").neutralSilhouette,is_messenger_user:!0,name:""});f=b("createReactClass_DEPRECATED")({displayName:"MessengerMessageGroup",_subscription:null,propTypes:{author:(d=b("prop-types")).string.isRequired,activeMessageID:d.string,deliveryTimestamp:d.number.isRequired,hasDateBreak:d.bool,isCanonical:d.bool,isFromViewer:d.bool,isOnline:d.bool,isPageMessage:d.bool,lastReadTimestamp:d.number.isRequired,messages:d.instanceOf(a).isRequired,nextTimestamp:d.number.isRequired,onReactionSwap:d.func,onAttachmentLoad:d.func.isRequired,onMessageDeselect:d.func.isRequired,onMessageSelect:d.func.isRequired,persona:d.object,onReplyToMessage:d.func,readReceipts:d.instanceOf(c).isRequired,thread:d.object,pageID:d.string,scrollToRepliedMessage:d.func,selectedMessageId:d.string},getInitialState:function(){return{participants:{}}},componentDidMount:function(){this._subscription=this._computeParticipants()},shouldComponentUpdate:function(a,c){var d=a.thread,e=this.props.thread;d=Boolean(d&&e&&(d.solid_color!==e.solid_color||d.custom_nickname!==e.custom_nickname));return this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||this.props.deliveryTimestamp!==a.deliveryTimestamp||this.props.lastReadTimestamp!==a.lastReadTimestamp||this.props.onAttachmentLoad!==a.onAttachmentLoad||!b("immutable").is(this.props.messages,a.messages)||this.props.messages!==a.messages||!b("immutable").is(this.props.readReceipts,a.readReceipts)||this.state.participants!==c.participants||d},componentDidUpdate:function(){var a=this,b=m(this.props);!this._subscription&&!b.every(function(b){return a.state.participants[b]})&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){return i.jsxs("div",{children:[i.jsxs("div",{className:"_1t_p clearfix"+(b("MessengerStickerUtils").isStickerMessageGroup(this.props.messages)?" _5tx1":"")+(this._hasSeenHeadsAtBottom()?" _35fy":""),children:[this._renderProfileColumn(),i.jsxs("div",{className:"_41ud",children:[this._renderName(),this._renderMessages()]})]}),this.props.isPageMessage?this._renderNotes():null]})},_renderProfileColumn:function(){var a;if(this.props.isFromViewer)return null;var c=this.props.messages.last();c=this.state.participants[c.author]||l;var d=c.name,e=c.image_src;this.props.persona&&(d=this.props.persona.name,e=this.props.persona.profile_picture_url);var f=h._("{name}",[h._param("name",d)]);a=(a=c)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a;a=b("CurrentUser").isWorkUser()&&a==="FOREIGN";a=b("cr:1003205")?i.jsx(b("cr:1003205").make,{className:"_1t_r",isActive:!!this.props.isOnline,size:k,src:e,tooltipContent:f.toString()}):i.jsx(b("MessengerProfileImageWrapperReact.bs").jsComponent,{className:"_1t_r",isMessengerUser:c.is_messenger_user,size:k,showBadge:a,isMultiCompany:a,tooltipContent:f,children:i.jsx(b("Image.react"),{alt:d,src:e,height:k,width:k})});if(c.fbid){f=b("MessengerURIUtils.bs").getURIForUserID(c.fbid);!this.props.persona?a=i.jsx(i.Suspense,{fallback:this.props.isCanonical?a:i.jsx(b("Link.react"),{className:"_5f0v",href:f.toString(),onClick:this._handleContactSelect.bind(this,c),tabIndex:-1,children:a}),children:i.jsx(j,{avatar:a,contact:c,showSendMessageItem:!this.props.isCanonical,onAction:this._handleContactAction})}):this.props.isCanonical||(a=i.jsx(b("Link.react"),{className:"_5f0v",href:f.toString(),onClick:this._handleContactSelect.bind(this,c),tabIndex:-1,children:a}))}return i.jsx("div",{className:"_1t_q",children:a})},_handleContactAction:function(a,c,d){switch(a){case b("MessengerContactActions.re").actions.MESSAGE:this._handleContactSelect(c,d);break;case b("MessengerContactActions.re").actions.PROFILE:a=this.state.participants[c.id];if(a&&a.href){var e=b("MessengerEnvironment").messengerdotcom;e?window.open(a.href):b("goURI")(a.href)}else this._handleContactSelect(c,d);break}},_renderMessages:function(){var a=this,c=this.props.messages.size,d=[];this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,j=!1;a.props.selectedMessageId?j=e.message_id===a.props.selectedMessageId:j=e.isSelected;var k=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),l=a.props.thread?a.props.thread.solid_color:"",m=a.props.onAttachmentLoad,o=e.timestamp;if(b("isMessengerMessageRemoved")(e)){d.push(i.jsx(b("MessengerRemovedMessageTombstone.react"),{isActive:h,isFromViewer:a.props.isFromViewer,message:e,participants:b("immutable").Map(a.state.participants),nextTimestamp:a._getNextTimestamp(g,c,f),onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,ref:e.message_id,isFirstInGroup:f===0},e.message_id));return}d.push(i.jsx(b("MessengerMessage.react"),{thread:a.props.thread,customColor:l,deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,isSelected:j,message:e,messageTimestamp:o,messageActionsWrapper:a.props.messageActionWrapper,onReactionSwap:a.props.onReactionSwap,onAttachmentLoad:m,participants:b("immutable").Map(a.state.participants),nextTimestamp:a._getNextTimestamp(g,c,f),onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,showDeliveryState:e.timestamp>a.props.lastReadTimestamp||!!e.is_one_way_sent,ref:e.message_id,authorFBID:k==null?void 0:k,threadCustomColor:l,pageID:a.props.pageID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,isCanonical:a.props.isCanonical,isFirstInGroup:f===0},e.message_id));n(a.props.isPageMessage,g,f,e)&&d.push(i.jsx(b("PagesMessengerCreatorInfo.react"),{creator_info:e.creator_info},"creator_info:"+f))});return d},_renderNotes:function(){var a=this,c=[];this.props.messages.forEach(function(d,e,f){a.props.isPageMessage&&d.page_admin_notes&&c.push(i.jsx(b("MessengerPageAdminNoteList.react"),{notes:d.page_admin_notes},"notes:"+d.message_id))});return c},_renderName:function(){var a=this.props.messages.first(),c=this.state.participants[a.author],d=a.replied_to_message;if(!c)return null;if(d)return null;d=this.props.isCanonical?c.short_name:c.name;var e=d,f=null;if(this.props.thread){var g=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,j=b("MercuryIDs").getUserIDFromParticipantID(c.id);g&&j&&g[j]&&(d=g[j],e=i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:g[j]}));b("CurrentUser").isWorkUser()&&b("cr:1228094")!=null&&j!=null&&(f=i.jsx(b("cr:1228094"),{userID:j,withSpace:!0}))}if(this.props.persona!=null){g=this.state.participants[a.author];e=g?h._("{persona name} from {page name}",[h._param("persona name",this.props.persona.name),h._param("page name",g.short_name)]):this.props.persona.name;d=e.toString()}j=null;if(((a=c.work_foreign_entity_info)==null?void 0:a.detail)==="LIMITED_ACCOUNT"){j=i.jsxs("span",{className:"_9g79",children:[i.jsx(b("Middot.react"),{}),(g=c.work_foreign_entity_info)==null?void 0:g.label]})}a=i.jsxs("h5",{"aria-label":d,className:"_ih3"+(this.props.isFromViewer?" accessible_elem":"")+(this.props.isCanonical&&!this.props.persona?" _-ne":""),children:[e,j,f]});return a},getMessageElement:function(a){return b("ReactDOM").findDOMNode(this.refs[a])},_hasSeenHeadsAtBottom:function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){if(a>=d&&a<c&&++e===2)return!1});return e===2},_getNextTimestamp:function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp},_handleContactSelect:function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromParticipantID(a.id);c&&b("MessengerActions").selectThread(c)},_computeParticipants:function(){var a=this,c=m(this.props),d={},e=[];c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);d[a]=c;c||e.push(a)});this.setState({participants:d});return e.length>0?b("MessengerParticipants.bs").getMulti(e,function(b){a._subscription=null,a.setState(function(c){var a=Object.assign({},c.participants);e.forEach(function(c){a[c]=b[c]});return{participants:a}})}):null}});function m(a){var b=[a.messages.first().author];a.readReceipts.forEach(function(a,c){return b.push(c)});return b}function n(a,b,c,d){if(!a||!d.creator_info)return!1;if(c===b.size-1)return!0;a=b.get(c+1).creator_info;return!a?!0:d.creator_info.creatorID!==a.creatorID}g=f;e.exports=g}),null);
__d("MessengerAudioAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"Fill-11",d:"M12.8546683,23.0915802 C10.2003459,20.4371382 8.18827548,17.4933995 7.18895039,14.801598 C6.11677282,11.9134196 6.30082118,9.54827444 7.70754499,8.14106577 C8.38574404,7.46332572 9.22115105,6.9556194 9.80301228,6.64860076 C10.1768605,6.45174482 10.6202062,6.44887101 10.9902201,6.6495587 C12.2608248,7.33735708 14.2542027,9.8624776 14.6055242,11.228016 C14.6980277,11.5867632 14.6266131,11.9694589 14.4094936,12.2774354 L12.8029047,14.5630718 C12.7056083,14.7019726 12.682123,14.8820647 12.7415553,15.0406032 C13.4096892,16.8233229 14.2192144,18.3129141 15.9254961,20.01852 C17.6303399,21.7246049 19.1209399,22.5340612 20.904867,23.2027008 C21.0635129,23.2625718 21.2432476,23.2391024 21.3822424,23.1413929 L23.6205389,21.5679822 C23.9339963,21.3476569 24.313596,21.2868279 24.6572488,21.3696894 C26.1948195,21.7356211 28.7992956,23.6898115 29.3811568,24.9135753 C29.5474713,25.2637011 29.5388441,25.6674713 29.3576715,26.0209499 C29.0993327,26.5267404 28.5534185,27.4875506 27.8018877,28.2395308 C24.2474537,31.7915592 16.8807262,27.1187451 12.8546683,23.0915802",fill:a})],id:"phone",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerAudioUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Fill-4",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"new",d:"M21.3821106,23.1416542 L23.6204291,21.5682415 C23.9343688,21.3479158 24.313493,21.2866078 24.6571492,21.3694694 C26.194735,21.7354016 28.7997159,23.6900735 29.3811036,24.9138389 C29.5474198,25.2639652 29.5387924,25.667257 29.3580973,26.0212149 C29.0997561,26.5265271 28.5538364,27.4878176 27.8022982,28.2393197 C24.24735,31.7918318 16.8805501,27.1185326 12.8549319,23.0918414 C10.200104,20.437396 8.18849316,17.4931744 7.18915824,14.8013694 C6.11649083,11.9131872 6.3010203,9.54803895 7.70775794,8.14130741 C8.38548436,7.4630875 9.22137889,6.95538051 9.80276654,6.64884044 C10.1766185,6.45150527 10.6199685,6.44911042 10.989986,6.64931941 C12.2610825,7.33759766 14.2544801,9.86224252 14.605805,11.2282617 C14.6978301,11.5865304 14.6264148,11.9692265 14.4097724,12.2776825 L12.8031678,14.5633219 C12.7053911,14.7017439 12.6823849,14.8818362 12.7418177,15.0403749 C13.4099582,16.823097 14.2194914,18.3126901 15.9253105,20.0182982 C17.6306504,21.7243853 19.1212651,22.5343216 20.9047304,23.2029622 C21.0633779,23.2623543 21.2435936,23.2388848 21.3821106,23.1416542 M29.7074342,7.70752502 L25.9144427,11.4999687 L29.7074342,15.2929126 C30.0975219,15.6835613 30.0975219,16.3168024 29.7069347,16.7074511 C29.3163475,17.0975996 28.6835163,17.0975996 28.2929291,16.7069509 L24.4999376,12.9145072 L20.7074455,16.7069509 C20.3168583,17.0975996 19.6835276,17.0975996 19.2929404,16.7074511 C18.9023532,16.3168024 18.9023532,15.6835613 19.2929404,15.2929126 L23.0859319,11.4999687 L19.2929404,7.70752502 C18.9023532,7.31687631 18.9023532,6.68363525 19.2929404,6.29348672 L19.2929404,6.29298653 C19.6835276,5.90233782 20.3168583,5.90233782 20.7074455,6.29298653 L24.4999376,10.0859304 L28.2929291,6.29298653 C28.6835163,5.90233782 29.3163475,5.90233782 29.7069347,6.29298653 L29.7074342,6.29348672 C30.0975219,6.68363525 30.0975219,7.31687631 29.7074342,7.70752502",fill:a})],id:"phone-missed",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerVideoAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"original",d:"M20,27 L9,27 C6.791,27 5,25.209 5,23 L5,13 C5,10.791 6.791,9 9,9 L20,9 C22.209,9 24,10.791 24,13 L24,23 C24,25.209 22.209,27 20,27 M30.5525,23.3995 L26.829,21.536 C26.321,21.282 26,20.762 26,20.193 L26,15.808 C26,15.2395 26.321,14.719 26.829,14.465 L30.5525,12.6015 C31.218,12.269 32,12.753 32,13.497 L32,22.504 C32,23.2485 31.218,23.732 30.5525,23.3995",fill:a})],id:"camcorder",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerVideoUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("svg",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"original",d:"M6.52219159,23.73575 C6.00847773,24.24975 5.008035,24.00175 5.008035,23.01175 L5.008035,13.00725 C5.008035,10.79725 6.79803794,9.00525 9.00680761,9.00525 L19.1191748,9.00575 C19.9062364,9.00575 20.3005168,9.95775 19.7438269,10.51425 L6.52219159,23.73575 Z M27.1966755,8.70725 L24.589128,11.31625 C24.2143368,11.69125 24.0039539,12.19925 24.0039539,12.72875 L24.0019551,23.01175 C24.0019551,25.22175 22.2149504,27.00675 20.0061808,27.00675 L9.73590149,27.00675 C9.20569683,27.00675 8.69698019,27.21725 8.32218896,27.59225 L5.20642449,30.70925 C4.81614189,31.10025 4.18249484,31.10025 3.79271195,30.70925 C3.40242935,30.31875 3.40242935,29.68575 3.79271195,29.29525 L25.782963,7.29325 C26.1727459,6.90225 26.8063929,6.90225 27.1966755,7.29325 C27.5869581,7.68375 27.5869581,8.31725 27.1966755,8.70725 Z M30.5533058,23.41125 L26.8308793,21.54725 C26.3226624,21.29275 26.0018411,20.77225 26.0018411,20.20375 L26.0018411,15.81625 C26.0018411,15.24725 26.3226624,14.72725 26.8308793,14.47275 L30.5533058,12.60875 C31.2179356,12.27575 32,12.75975 32,13.50425 L32,22.51575 C32,23.25975 31.2179356,23.74425 30.5533058,23.41125 Z",fill:a})],id:"camcorder-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){a=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",SCREENSHARING_POP_OUT:"screensharing_pop_out_button",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",TOGGLE_CAMERA:"toggle_camera",CLOSE_CHAT:"close_chat",TOGGLE_FILTERS:"toggle_filters",SCROLL_FILTERS:"scroll_filters",VIDEO_FILTER_OPTION:"video_filter_option",ADD_PARTICIPANT:"add_participant",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_REMOVE:"participant_remove",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings",CLOSE_DIALOG:"close_dialog",INCOMING_RING_TONE:"incoming_ring_tone",FREE_CALL:"free_call",VIDEO_ESCALATE:"video_escalate",VIDEO_ESCALATE_ACCEPT:"video_escalate_accept",VIDEO_ESCALATE_DECLINE:"video_escalate_decline",RECENT_CALLS:"recent_calls",MESSAGE:"message",SAVE:"save_button",WINDOW_RESIZE:"window_resize",POOR_NETWORK_TOOLTIP:"poor_network_tooltip",VIDEO_LAYOUT_SWITCH:"video_layout_switch",MWEB_ROSTER_ROW:"mweb_roster_row",BANNER:"banner",UPGRADE_CHROME:"upgrade_chrome",UPGRADE_EDGE:"upgrade_edge",VIEW_PARTICIPANTS:"view_participants",BROWSER_NOTIFICATION:"browser_notification",MEDIA_ACCESS_PENDING:"media_access_pending",MEDIA_ACCESS_REJECTED:"media_access_rejected",PIN_SPEAKER:"pin_speaker",UNPIN_SPEAKER:"unpin_speaker",CREATE_LIVE_DIALOG_SHOW_BUTTON:"create_live_dialog_show_button",CREATE_LIVE_DIALOG_NEXT_BUTTON:"create_live_dialog_next_button",CREATE_LIVE_DIALOG_START_BUTTON:"create_live_dialog_start_button",END_LIVE_DIALOG_SHOW_BUTTON:"end_live_dialog_show_button",END_LIVE_DIALOG_END_BUTTON:"end_live_dialog_end_button",PARTICIPATE_LIVE_DIALOG:"participate_live_dialog",PARTICIPATE_LIVE_DIALOG_LEAVE_BUTTON:"participate_live_dialog_leave_button",PARTICIPATE_LIVE_DIALOG_JOIN_BUTTON:"participate_live_dialog_join_button",LIVE_INDICATOR:"live_indicator",MORE_OPTIONS_MENU:"more_options",RAISE_HAND:"raise_hand",INSTALL_APP_BUTTON:"install_app_button",SCHEDULE_ROOM:"schedule_room",UPSELL_ROOMS_CHROME_EXTENSION:"upsell_rooms_chrome_extension",COPY_LINK:"copy_link",CREATE_ROOM:"create_room",REVIEW_ROOM:"review_room",SELECT_INVITEES:"select_invitees",TOGGLE_VIDEO_FIRST:"toggle_video_first"});e.exports=a}),null);
__d("RTWebLoggingSurface",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_CONTROLS:"call_controls",CHAT_PANEL:"chat_panel",CHAT_TAB:"chat_tab",MESSENGER_HEADER:"messenger_header",INCOMING_DIALOG:"incoming_call_dialog",CALL_HEADER:"call_header",GROUP_CALL_ADD_MEMBERS_DIALOG:"group_call_add_members_dialog",GROUP_CALL_VIEW_MEMBERS_DIALOG:"group_call_view_members_dialog",GROUP_CALL_PARTICIPANT_PICKER_DIALOG:"group_call_participant_picker_dialog",CALL_CONTAINER:"call_container",TIMELINE_TOP_SECTION:"timeline_top_section",DROPDOWN_CALL_MENU:"dropdown_call_menu",THREAD_LIST:"thread_list",DESKTOP_NOTIFICATION:"desktop_notification",AUDIO_FALLBACK_DIALOG:"audio_fallback_dialog",STAR_RATING_SURFACE:"star_rating_surface",MISSED_CALL_DIALOG:"missed_call_dialog",UNSUPPORTED_BROWSER_DIALOG:"unsupported_browser_dialog",ADMIN_MESSAGE:"admin_message",WORK_HOVERCARD:"work_hovercard",MESSENGER_BUBBLE:"messenger_bubble",CHAT_SIDEBAR:"chat_sidebar",CHAT_SIDEBAR_CONFIRMATION_DIALOG:"chat_sidebar_confirmation_dialog",SETTING_DIALOG:"setting_dialog",SCREENSHARING_POP_OUT:"screensharing_pop_out",MWEB_ROSTER_VIEW:"mweb_roster_view",WORK_PROFILE:"work_profile",WORKPLACE_GROUP_CHAT:"workplace_group_chat",WORKPLACE_P2P_CHAT:"workplace_p2p_chat",MEETING_ROOM_INTERN_SEARCH_CARD:"meeting_room_intern_search_card",MEETING_ROOM_MAP_DIALOG:"meeting_room_map_dialog",MEETING_ROOM_PROFILE:"meeting_room_profile",MESSAGES_JEWEL:"messages_jewel",WWW_ROSTER_VIEW:"www_roster_view",PRE_CALL_SCREEN:"pre_call_screen",POST_VC_CALL_UPSELL:"post_vc_call_upsell",POST_ROOMS_CALL_UPSELL:"post_rooms_call_upsell"});e.exports=a}),null);
__d("MessengerRTCVideoCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerVideoAvailableIconSVGM4React.bs","MessengerVideoUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={height:"32px",width:"32px"};function a(a,c){c=a.customColor;var d=a.isAvailable,e=a.isGroupChat;j.useEffect(function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(e),component:b("RTWebLoggingComponent").AUDIO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER})},[]);a=e?i._("Start a group video chat"):i._("Start a video chat");var f=j.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470488"),void 0,a,void 0,void 0,[])),"aria-label":a,className:"_2phz"}),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=j.jsx("div",{children:d?b("MessengerVideoAvailableIconSVGM4React.bs").make(c):b("MessengerVideoUnavailableIconSVGM4React.bs").make(c),"aria-label":a,style:k,title:a});else{d=d?c:"#888888";c={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:d,strokeMiterlimit:"10",strokeWidth:"2"};h=j.jsx("div",{children:j.jsxs("svg",{children:[j.jsx("title",{children:a}),j.jsx("g",{children:j.jsx("g",{children:j.jsx("path",{d:"M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3\nc3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z"})})})],style:c,viewBox:"0 0 64 64"}),"aria-label":a,style:k,title:a})}d=b("VideoCallWebDriverIDs").START_VIDEO_CALL;return j.cloneElement(b("CurrentUser").isWorkUser()?f:h,{"data-testid":d})}c=a;d=a;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=k;f.make=c;f.jsComponent=d}),null);
__d("MessengerRTCVideoCallButtonReact.re",["bs_curry","MessengerRTCVideoCallButtonReact.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerRTCVideoCallButtonReact.bs").jsComponent,a,c);return a};f.jsComponent=a}),null);
__d("MessengerRTCVoiceCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerAudioAvailableIconSVGM4React.bs","MessengerAudioUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={height:"32px",width:"32px"};function a(a){var c=a.customColor,d=a.isAvailable,e=a.isGroupChat;j.useEffect(function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(e),component:b("RTWebLoggingComponent").VIDEO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER})},[]);a=e?i._("Start a group voice call"):i._("Start a voice call");var f=j.jsx("div",{children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470545"),void 0,a,void 0,void 0,[])),"aria-label":a,className:"_2phz"}),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=j.jsx("div",{children:d?b("MessengerAudioAvailableIconSVGM4React.bs").make(c):b("MessengerAudioUnavailableIconSVGM4React.bs").make(c),"aria-label":a,style:k,title:a});else{d=d?c:"#888888";c={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:d,strokeMiterlimit:"10",strokeWidth:"2"};h=j.jsx("div",{children:j.jsxs("svg",{children:[j.jsx("title",{children:a}),j.jsx("path",{d:"M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7\nc0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2\nc1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z"})],style:c,viewBox:"0 0 64 64"}),"aria-label":a,style:k,title:a})}d=b("VideoCallWebDriverIDs").START_VOICE_CALL;return j.cloneElement(b("CurrentUser").isWorkUser()?f:h,{"data-testid":d})}c=a;d=a;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=k;f.make=c;f.jsComponent=d}),null);
__d("MessengerRTCVoiceCallButtonReact.re",["MessengerRTCVoiceCallButtonReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerThreadImageReact.re",["MessengerThreadImageReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerThreadImageReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MercuryThreadTitle_DEPRECATED.react",["fbt","MercuryIDs","MercuryParticipantListRenderer","MessengerParticipants.bs","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={participantNames:""},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.$2(this.props)};d.componentWillUnmount=function(){this.$1=!1};d.componentDidUpdate=function(a){a!==this.props&&this.$2(this.props)};d.render=function(){return h.jsxs("span",{className:this.props.className,children:[this.props.thread.name?this.$3():this.state.participantNames,this.props.children]})};d.getTitle=function(){return this.state.participantNames};d.$3=function(){var a=this.props.thread,c=this.props.maxTitle?this.props.maxTitle<a.name.length?a.name.slice(0,this.props.maxTitle)+"...":a.name:a.name;c=h.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c});return!a.unread_count||!this.props.showUnreadCount?c:this.$4(c,a.unread_count)};d.$2=function(a){var c=this;if(a.thread.name)return;this.setState({participantNames:""});var d=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),e=a.thread.participants||[];e.length>1&&(e=e.filter(function(a){return a!=d}));b("MessengerParticipants.bs").getMulti(e,function(d){if(!c.$1)return;var f=e.map(function(a){return d[a]}),g=a.thread.custom_nickname?{}:null,i=b("MessengerTextWithEmoticons.react");if(g)for(var j in a.thread.custom_nickname)g[j]=h.jsx(i,{renderEmoticons:!0,renderEmoji:!0,text:a.thread.custom_nickname[j]});i=new(b("MercuryParticipantListRenderer"))().setUseShortName(a.useShortName).setUseAndSeparator(a.useAndSeparator).setIsNewThread(a.isNewThread).setNickname(g).renderParticipantList(f);g=a.showUnreadCount&&a.thread.unread_count?c.$4(i,a.thread.unread_count):i;c.setState({participantNames:g})})};d.$4=function(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",b)])};return c}(h.Component);e.exports=a;a.defaultProps={isNewThread:!1,showUnreadCount:!1,useShortName:!1,useAndSeparator:!1}}),null);
__d("SRLayout.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){return h.jsx("div",{className:b("joinClasses")(a.className,"_5aj7"),children:a.children})}}),null);
__d("SRLayoutColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){return h.jsx("div",{className:b("joinClasses")(a.className,"_4bl7"),children:a.children})}}),null);
__d("SRLayoutFillColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){return h.jsx("div",{className:b("joinClasses")(a.className,"_4bl9"),children:a.children})}}),null);
__d("SRLink.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx("a",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return b}(g.Component);e.exports=a}),null);
__d("ChatSidebarAdminedPage.react",["cx","Bootloader","React","SplitImage.react","SRLayout.react","SRLayoutColumn.react","SRLayoutFillColumn.react","SRLink.react","SRXUIBadge.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=d.props,c=a.slot,e=a.slotOffset,f=a.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(e+c).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d.props.slot).setSidebarSection("admined_pages").log()},"ChatSidebarAdminedPage.react")},d.$2=function(){var a=String(d.props.page.id);b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],b("emptyFunction"),"ChatSidebarAdminedPage.react");d.props.onMouseEnter&&d.props.onMouseEnter(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=9,d=this.props.page,e=d.imgSrc,f=[];e!=null&&(f=[e]);return h.jsx("li",{className:"_12um _42fz","data-id":d.id,ref:function(b){a.$1=b},onMouseOver:this.$2,onClick:this.$3,children:h.jsx("div",{className:"_55ln",children:h.jsx("div",{className:"_55lp",children:h.jsxs(b("SRLayout.react"),{children:[h.jsx(b("SRLayoutColumn.react"),{children:h.jsx(b("SRLink.react"),{href:d.uri,children:h.jsx("div",{className:"_55lq",children:h.jsx(b("SplitImage.react"),{size:d.imgSize,srcs:f})})})}),h.jsx(b("SRLayoutFillColumn.react"),{children:h.jsx(b("SRLink.react"),{className:"_224p",href:d.uri,children:h.jsx("div",{className:"_55lr",children:d.name})})}),h.jsx(b("SRLayoutColumn.react"),{className:"_3p8_",children:h.jsx("div",{className:"_5bon",children:h.jsx(b("SRXUIBadge.react"),{className:"_4fsv",count:d.badgingCount,maxcount:c})})})]})})})})};return c}(h.Component);e.exports=a}),null);
__d("ChatSidebarPageListContainer.react",["cx","ChatSidebarAdminedPage.react","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.adminedPages.length;return h.jsx("ul",{className:"_4kqp",children:a.adminedPages.map(function(d,e){return h.jsx(b("ChatSidebarAdminedPage.react"),{page:d,slot:e,slotOffset:0,totalSlots:c,onMouseEnter:a.onMouseEnter},d.id)})})}}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function(a,b,c,d,e,f){"use strict";a=new(b("RTCCallabilityStore"))(b("MessengerDispatcher"));e.exports=a}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","RTWebStrings","emptyFunction","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j=b("React"),k=(c={},c[(d=b("FBRTCParticipantCallState")).DISCONNECTED]=(f=b("RTWebStrings")).disconnected,c[d.NO_ANSWER]=f.noAnswer,c[d.REJECTED]=f.noAnswer,c[d.UNREACHABLE]=f.unreachable,c[d.CONNECTION_DROPPED]=f.connectionDropped,c[d.CONTACTING]=f.contacting,c[d.RINGING]=f.ringing,c[d.CONNECTING]=f.connecting,c[d.CONNECTED]=f.connected,c[d.PARTICIPANT_LIMIT_REACHED]=f.participantLimitReached,c[d.IN_ANOTHER_CALL]=f.inAnotherCall,c),l=32;function a(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;f=a.participantState;a=a.isDisabled;return j.jsxs(b("Link.react"),{"aria-checked":c,className:"mx3gdfnj i5cmt9u9 t5pnt8iu g88yxdo0 aexqnwuh k710t996"+(!c&&a?" gg1q5pym ht47p58g":""),onClick:!c&&a||o(f)?b("emptyFunction"):d,"data-testid":void 0,role:"checkbox",children:[j.jsx(b("MessengerContactImageReact.bs").jsComponent,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),j.jsxs("div",{className:"_4nvs",children:[j.jsxs("div",{className:"_4nvt",children:[j.jsx("div",{className:"_4nv_",children:e.userName}),j.jsx(m,{user:e,participantState:f})]}),j.jsx(n,{isSelected:c,participantState:f})]})]})}var m=function(a){var b=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Unknown");return j.jsx("div",{className:"_4nw0",children:a})}return b.vanity?j.jsxs("div",{className:"_4nw0",children:["@",b.vanity]}):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return j.jsx("div",{className:"_1j79",children:h._("In Call")});else if(c)return j.jsx("div",{className:"_1j79",children:j.jsx(b("Image.react"),{src:i("86852")})});return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","fbt","FDSText.react","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","immutable","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers,f=a.participantStates,g=f===void 0?b("immutable").Map():f;f=a.maxCallParticipants;a=a.isSelectable;var j=a===void 0?!0:a;a=e.map(function(a){return i.jsx(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),onClick:function(){return d(a.FBID)},user:a,dataTestID:"RTCPickerDialogContactListItem"+a.FBID,participantState:g.get(a.FBID),isDisabled:!j},a.FBID)});return i.jsxs(b("MessengerScrollableArea.react"),{className:"_12zw",children:[f?i.jsxs("div",{className:"pxxlrg32 lbuqpofn q63uvoy6 gr44084w eag340rj taopi3wr k710t996 bhpkv3af",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header3",children:h._("Members")}),i.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:h._("Select up to {maxParticipants}",[h._param("maxParticipants",f)])})]}):null,a]})}}),null);
__d("MessengerRTCGroupCallRingParticipantsRow.react",["cx","fbt","React","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){a=a.names;return i.jsxs("div",{className:"_1wsd",children:[i.jsx("div",{className:"_1wse",children:h._("Ring:")}),i.jsx("div",{className:"_1wsg",children:b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)})]})}}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=function(){return i.jsx("div",{className:"_1apf",children:h._("People you add to this group video will see previous messages in this conversation.")})},k=function(){return i.jsx("div",{className:"_1ydy",children:h._("You are about to ring people you've blocked.")})};function a(a){var c=a.thread,d=a.displayAddMemberWarning,e=a.displayBlockedMemberWarning,f=a.participants,g=a.viewerID;babelHelpers.objectWithoutPropertiesLoose(a,["thread","displayAddMemberWarning","displayBlockedMemberWarning","participants","viewerID"]);return i.jsxs("div",{className:"_5y31",children:[c&&c.image_src?i.jsx(b("MessengerThreadImageReact.bs").jsComponent,{className:"_5y32",participants:f,thread:c,viewer:g}):i.jsx(b("MessengerProfileImageWrapperReact.bs").jsComponent,{className:"_5y32",size:50,showBadge:!1,children:i.jsx(b("MercuryParticipantsImage.react"),{participants:Object.keys(f.toJS()),size:50})}),i.jsxs("div",{className:"_5y34",children:[c&&c.name?i.jsx(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_5y37",thread:c,viewer:g}):i.jsx(b("RTCCallTitle.react"),{className:"_5y37",participants:f,viewer:g}),d?i.jsx(j,{}):null,e?i.jsx(k,{}):null]})]})}}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialog.react",["cx","fbt","invariant","FBRTCCore","ImmutableObject","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerRTCGroupCallContactList.react","MessengerRTCGroupCallRingParticipantsRow.react","MessengerRTCGroupCallThreadRow.react","React","RTCUser","RTWebUserActionLogger","URI","immutable","prop-types","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=460,m=5,n=(a=b("qex")._("1818204"))!=null?a:8;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={isParticipantSelected:d.props.participants.mapEntries(function(a){var b=a[0];a=a[1];return[a.fbid?a.fbid:b,d.props.participants.size<=m]})};d.$3=function(){b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:"cancel_button"})};d.$5=function(a){var c=!d.state.isParticipantSelected.get(a);d.setState(function(b){return{isParticipantSelected:b.isParticipantSelected.set(a,c)}});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:c?"participant_row_select":"participant_row_unselect"})};d.$4=function(){var a=d.$2().map(function(a){return a.fbid});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:"mw",conferenceName:d.props.conferenceName,surface:"group_call_participant_picker_dialog",component:"start_call_button"});d.props.handleCall?d.props.handleCall(a):b("FBRTCCore").startGroupCall({conferenceName:d.props.conferenceName,hasVideo:d.props.hasVideo,trigger:d.props.trigger,usersToRing:a});d.props.onUnmount()};c=d.props.participants.valueSeq().toArray().map(function(a){var c=a.big_image_src||a.image_src;a.fbid||i(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(j||(j=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})});d.$1=c.sort(function(a,b){return a.userName.localeCompare(b.userName)});return d}var d=c.prototype;d.componentDidMount=function(){var a;(a=b("RTWebUserActionLogger")).logPreCallImpression({mediaType:a.getMediaType(!this.props.hasVideo),callType:"mw",conferenceName:this.props.conferenceName,surface:"group_call_participant_picker_dialog"});a.logImpression({surface:"group_call_participant_picker_dialog",component:"cancel_button"});a.logImpression({surface:"group_call_participant_picker_dialog",component:"start_call_button"})};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.thread;c=c.viewerID;var f=this.$2(),g=h._("Call group members");return k.jsx(b("MessengerDialog.react"),{onToggle:function(){a.props.onUnmount&&a.props.onUnmount()},type:"default",label:g,width:l,children:k.jsxs("div",{className:"_2m1r",children:[k.jsxs(b("MessengerDialogHeaderReact.re").make,{children:[k.jsx(b("MessengerDialogCancelButton.react"),{onClick:this.$3,dataTestID:"RTCPickerDialogCancelButton"}),k.jsx(b("MessengerDialogTitleReact.re").make,{autofocus:!0,children:g}),k.jsx(b("MessengerDialogButton.react"),{label:h._("Call"),onClick:this.$4,dataTestID:"RTCPickerDialogCallButton",disabled:f.length===0||this.$2().length>n,type:"primary",use:"default"})]}),k.jsx(b("MessengerRTCGroupCallThreadRow.react"),{displayBlockedMemberWarning:!1,participants:d,thread:e,viewerID:c}),k.jsx(b("MessengerRTCGroupCallRingParticipantsRow.react"),{names:f.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),k.jsx(b("MessengerRTCGroupCallContactList.react"),{remoteUsers:this.$1,isParticipantSelected:this.state.isParticipantSelected,onClick:this.$5,maxCallParticipants:n,isSelectable:this.$2().length<n})]})})};d.$6=function(a){return a.some(function(a){return a.is_messenger_blocked||a.is_facebook_blocked})};d.$2=function(){var a=this;return this.props.participants.filter(function(b,c){return a.state.isParticipantSelected.get(b.fbid?b.fbid:c)}).toArray()};return c}(k.Component);e.exports=c;c.propTypes={participants:b("prop-types").instanceOf(b("immutable").Map).isRequired,thread:b("prop-types").instanceOf(b("ImmutableObject")),viewerID:b("prop-types").string.isRequired,trigger:b("prop-types").string.isRequired,conferenceName:b("prop-types").string.isRequired,hasVideo:b("prop-types").bool.isRequired,handleCall:b("prop-types").func,onUnmount:b("prop-types").func.isRequired}}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialogController",["DOM","MessengerRTCGroupCallParticipantsPickerDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={_container:b("DOM").create("div"),render:function(a){var c=this,d=a.participants,e=a.thread,f=a.viewerID,h=a.trigger,i=a.conferenceName,j=a.hasVideo;a=a.handleCall;b("ReactDOM").render(g.jsx(b("MessengerRTCGroupCallParticipantsPickerDialog.react"),{participants:d,thread:e,viewerID:f,trigger:h,conferenceName:i,hasVideo:j,handleCall:a,onUnmount:function(){return c._onUnmount()}}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)}};e.exports=a}),null);
__d("MessengerRTCUnavailableDialog.react",["fbt","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogs.bs","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs(b("MessengerDialog.react"),{onToggle:this.$1,children:[h.jsx(b("MessengerDialogHeaderReact.re").make,{children:g._("Can't Make Call")}),h.jsx(b("MessengerDialogBodyReact.bs").jsComponent,{children:this.$2()}),h.jsx(b("MessengerDialogFooter.react"),{children:h.jsx(b("MessengerDialogButton.react"),{action:"cancel",label:g._("OK"),type:"primary"})})]})};d.$2=function(){return h.jsx("div",{children:g._("{name} is not available right now.",[g._param("name",this.props.name)])})};d.$1=function(a){a||b("MessengerDialogs.bs").removeDialog()};return c}(h.Component);e.exports=a;a.propTypes={name:b("prop-types").string.isRequired}}),null);
__d("XWorkplaceMarketingDefaultController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{?*path}/",{path:{type:"String",defaultValue:""},ref:{type:"String"},r:{type:"String"}})}),null);
__d("MessengerRTCGroupCallUnsupportedBrowserDialog.react",["fbt","CurrentUser","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return h.jsxs(b("MessengerDialog.react"),{onToggle:e,children:[h.jsx(b("MessengerDialogHeaderReact.re").make,{children:i(d)}),h.jsx(b("MessengerDialogBodyReact.bs").jsComponent,{children:j(c,d,a)}),h.jsx(b("MessengerDialogFooter.react"),{children:h.jsx(b("MessengerDialogButton.react"),{label:g._("OK"),onClick:a,type:"primary"})})]})}function i(a){return a?g._("Switch Browsers to Make Group Video Chats"):g._("Switch Browsers to Make Group Calls")}function j(a,c,d){return b("CurrentUser").isWorkUser()?g._({"video call":"Unfortunately, our Workplace Chat group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group video call, open in {link to install chrome} or the {link to install Workplace chat desktop} app.","call":"Unfortunately, our Workplace Chat group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group call, open in {link to install chrome} or the {link to install Workplace chat desktop} app."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",k(d)),g._param("link to install Workplace chat desktop",l(d))]):g._({"video call":"Unfortunately, our group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group video call, open in {link to install chrome}.","call":"Unfortunately, our group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group call, open in {link to install chrome}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",k(d))])}function k(a){return h.jsx(b("Link.react"),{onClick:a,href:"https://www.google.com/chrome/index.html",target:"_blank",children:"Google Chrome"})}function l(a){var c=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return h.jsx(b("Link.react"),{onClick:a,href:c,target:"_blank",children:"Workplace Chat"})}}),null);
__d("MessengerRTCUnsupportedBrowserDialog.react",["cx","fbt","CurrentUser","FBRTCConfig","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return i.jsxs(b("MessengerDialog.react"),{onToggle:e,children:[i.jsx(b("MessengerDialogHeaderReact.re").make,{children:h._("Switch Browsers to Make Calls")}),i.jsx(b("MessengerDialogBodyReact.bs").jsComponent,{children:this.$1(c,d)}),i.jsxs(b("MessengerDialogFooter.react"),{children:[i.jsx("span",{className:"_30vt",children:i.jsx(b("MessengerDialogButton.react"),{label:h._("Learn More"),onClick:a,type:"secondary",href:b("FBRTCConfig").unsupportedBrowserUrl(),target:"_blank",use:"default"})}),i.jsx(b("MessengerDialogButton.react"),{label:h._("OK"),onClick:a,type:"primary",use:"default"})]})]})};d.$1=function(a,c){if(b("CurrentUser").isWorkUser())return h._({"video calling":"Unfortunately, {browser name, i.e. Internet Explorer or Safari} doesn't support our video calling feature yet. To make a call, open Workplace Chat in {link to install chrome}, {link to install firefox} or the {link to install Workplace chat desktop} app.","calling":"Unfortunately, {browser name, i.e. Internet Explorer or Safari} doesn't support our calling feature yet. To make a call, open Workplace Chat in {link to install chrome}, {link to install firefox} or the {link to install Workplace chat desktop} app."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3()),h._param("link to install Workplace chat desktop",this.$4())]);else return h._({"video calling":"Unfortunately, {browser name, i.e. Internet Explorer or Safari} doesn't support our video calling feature yet. To make a call, open Messenger in {link to install chrome} or {link to install firefox}.","calling":"Unfortunately, {browser name, i.e. Internet Explorer or Safari} doesn't support our calling feature yet. To make a call, open Messenger in {link to install chrome} or {link to install firefox}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3())])};d.$2=function(){return i.jsx(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.google.com/chrome/index.html",target:"_blank",children:"Google Chrome"})};d.$3=function(){return i.jsx(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank",children:"Mozilla Firefox"})};d.$4=function(){var a=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return i.jsx(b("Link.react"),{onClick:this.props.hideDialog,href:a,target:"_blank",children:"Workplace Chat"})};return c}(i.Component);e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialogController",["fbt","requireCond","CurrentUser","MessengerDesktopAppLinks","MessengerDesktopUpsellLinks","MessengerDialogs.bs","MessengerRTCGroupCallUnsupportedBrowserDialog.react","MessengerRTCUnsupportedBrowserDialog.react","cr:1453546","React","UserAgent","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a={_dialog:null,_handleToggle:function(a){a||b("MessengerDialogs.bs").removeAllDialogs()},hideDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_browserName:function(){if(b("UserAgent").isBrowser("Firefox"))return g._("Firefox");else if(b("UserAgent").isBrowser("IE"))return g._("Internet Explorer");else if(b("UserAgent").isBrowser("Safari"))return g._("Safari");else return g._("your browser")},render:function(a){var c=this,d=a.hasVideo,e=a.isGroupCall;b("MessengerDialogs.bs").showDialog(function(){var f=b("MessengerDesktopUpsellLinks").getDesktopUpsellLinkIfEnabledForCalls();if(f!=null&&b("cr:1453546")!=null)return h.jsx(b("cr:1453546"),{desktopAppstoreLink:f,hideDialog:c.hideDialog,incomingUserID:a.incomingUserID,isGroupCall:e,onUnmount:c._handleToggle});else return e?h.jsx(b("MessengerRTCGroupCallUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle}):h.jsx(b("MessengerRTCUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle})})},dismiss:b("MessengerDialogs.bs").removeAllDialogs};e.exports=a}),null);
__d("MessengerRTCInvokeHandler",["invariant","MercuryIDs","MercuryThreadIDMap","MessengerDialogs.bs","MessengerRTCUnavailableDialog.react","MNRTCCallabilityStore","React","FBRTCLogger","RTWebUserActionLogger","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";f.isCallable=a;f.handleStartCall=c;var h=b("MercuryThreadIDMap").get(),i=b("React"),j=b("FBRTCLogger").Trigger;function a(a,c){var d;if(b("MercuryIDs").isGroupChat(a))d=!0;else{a=b("MercuryIDs").getUserIDFromThreadID(a);d=a!=null?b("MNRTCCallabilityStore").isCallable(a,c):!1}return d}function c(a,c,e,f,l,m,n,o){n?b("MercuryIDs").isGroupChat(a)?(b("RTWebUserActionLogger").logPreCallClick({conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,surface:"messenger_header",component:b("RTWebUserActionLogger").getAudioVideoComponent(!e),callType:"mw",mediaType:b("RTWebUserActionLogger").getMediaType(!e)}),d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController","MessengerRTCGroupCallParticipantsPickerDialogController"],function(d,g,i,m){var n=c.rtc_call_data,o=b("MercuryIDs").isGroupChat(a)&&l.size===1;if(n&&(n.call_state!=="NO_ONGOING_CALL"&&n.server_info_data||o)){d.startGroupCall({conferenceName:"GROUP:"+b("nullthrows")(c.thread_fbid),hasVideo:e,serverInfoData:n.server_info_data,trigger:o?e?j.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:j.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:n.call_state!=="AUDIO_GROUP_CALL"?e?j.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:j.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:e?j.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:j.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON});return}if(!g.isGroupCallWebtrcSupported()){k(a,c,e);i.render({hasVideo:e,isGroupCall:!0});return}if(l.size>0){o=b("qex")._("1006758")||0;n=l.filter(function(a){a=a.fbid;return a!==f}).toArray().map(function(a){a=a.fbid;return a});if(n.length<o){d.startGroupCall({conferenceName:"GROUP:"+b("nullthrows")(c.thread_fbid),hasVideo:e,trigger:e?j.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:j.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,usersToRing:n});return}}var p=function(a){m.render({participants:l.filter(function(a){a=a.fbid;return a!==f}),thread:c,viewerID:f,trigger:e?j.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:j.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,conferenceName:"GROUP:"+a,hasVideo:e})};b("MercuryIDs").isLocalThread(a)?h.getServerIDFromClientID(a,function(a){return p(a)}):p(b("MercuryIDs").getThreadFBIDFromThreadID(a))})):d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController"],function(d,f,h){if(!f.isWebrtcSupported()){k(a,c,e);h.render({hasVideo:e,isGroupCall:!1});return}f=b("MercuryIDs").getUserIDFromThreadID(a);f!=null||g(0,2744);h=e?"messenger_dot_com_video_call":"messenger_dot_com_audio_call";d.startOutgoingCall(f,h,!e,!1,o)}):(k(a,c,e),b("MessengerDialogs.bs").showDialog(function(){return i.jsx(b("MessengerRTCUnavailableDialog.react"),{name:m})}))}function k(a,c,d){b("RTWebUserActionLogger").logError({callType:b("MercuryIDs").isGroupChat(a)?"mw":"p2p",conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"})}}),null);
__d("RTWebMercuryDialogBase.react",["MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=400;function a(a){var c=a.body,d=a.acceptLabel,e=a.declineLabel,f=a.onClose;a=a.title;var i=function(){f(!0)},j=function(){f(!1)};return g.jsxs(b("MessengerDialog.react"),{width:h,layerHideOnBlur:!1,children:[g.jsx(b("MessengerDialogHeaderReact.re").make,{autofocus:!0,children:a}),g.jsx(b("MessengerDialogBody.react"),{children:c}),g.jsxs(b("MessengerDialogFooter.react"),{children:[g.jsx(b("MessengerDialogButton.react"),{label:e,onClick:j,type:"secondary",use:"default"}),g.jsx(b("MessengerDialogButton.react"),{label:d,onClick:i,type:"primary",use:"default",dataTestID:"answerCallButton"})]})]})}}),null);
__d("useRTWebMercuryIncomingCallDialog",["fbt","MessengerDialogs.re","RTWebMercuryDialogBase.react","RTWebStrings","ZenonUserActionLogger","deferredLoadComponent","requireDeferred","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryIncomingCallContent.react")),i=b("React"),j=function(){b("MessengerDialogs.re").removeDialog({})};function a(){return function(a){var c=a.inviterID,d=a.isVideoCall,e=a.onAccept,f=a.onDecline,k=a.participantIDs;b("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"});a=k.length>1;var l=a?d?g._("Incoming Group Video Chat"):g._("Incoming Group Call"):d?b("RTWebStrings").incomingVideoChat:g._("Incoming call"),m=a?g._("Ignore"):g._("Decline"),n=a?g._("Answer Call"):g._("Accept");b("MessengerDialogs.re").showDialog(function(){return i.jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:n,body:i.jsx(h,{inviterID:c,isVideoCall:d,participantIDs:k}),declineLabel:m,onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"accept_button":"decline_button",surface:"incoming_call_dialog"});j();return a?e():f()},title:l})});return{dismiss:j}}}}),null);
__d("useRTWebMercuryMissedCallDialog",["fbt","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","requireDeferred","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryMissedCallContent.react")),i=b("React"),j=function(){b("MessengerDialogs.re").removeDialog({})};function a(){return function(a){var c=a.inviterID,d=a.isVideoCall,e=a.onCallback,f=a.participantIDs,k=a.timeMissed;b("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"});var l=g._("Missed Call"),m=g._("Close"),n=g._("Call Back");b("MessengerDialogs.re").showDialog(function(){return i.jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:n,body:i.jsx(h,{inviterID:c,isVideoCall:d,participantIDs:f,timeMissed:k}),declineLabel:m,onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"call_back":"close_dialog",surface:"missed_call_dialog"});a&&b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"missed_call_dialog"});j();return a?e():void 0},title:l})});return{dismiss:j}}}}),null);
__d("useRTWebMercuryUnsupportedBrowserDialog",["fbt","FBRTCConfig","MessengerDesktopUpsellLinks","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","requireCond","requireDeferred","cr:1453546","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryUnsupportedBrowserContent.react")),i=b("React"),j=function(){b("MessengerDialogs.re").removeDialog({})};function a(){return function(a){var c=a.incomingUserID,d=a.isGroupCall,e=a.isVideoCall;b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});var f=g._("OK"),k=g._("Learn More"),l=g._("Switch Browsers to Make Calls");b("MessengerDialogs.re").showDialog(function(){var a=b("MessengerDesktopUpsellLinks").getDesktopUpsellLinkIfEnabledForCalls();if(a!=null&&b("cr:1453546")!=null){return i.jsx(b("cr:1453546"),{desktopAppstoreLink:a,hideDialog:j,incomingUserID:(a=c)!=null?a:void 0,isGroupCall:d,onUnmount:function(a){a||j()}})}return i.jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:f,body:i.jsx(h,{isVideoCall:e,onClose:j,isGroupCall:d}),declineLabel:k,onClose:function(a){a===!1&&window.open(b("FBRTCConfig").unsupportedBrowserUrl(),"_blank"),j()},title:l})});return{dismiss:j}}}}),null);
__d("RTWebMercuryCallInviteDialogs.react",["CurrentUser","React","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","StartVideoChatLinkCall","ZenonCallsModelTypes","useRoomIncomingCallDialog","useRTWebMercuryIncomingCallDialog","useRTWebMercuryMissedCallDialog","useRTWebMercuryUnsupportedBrowserDialog","useZenonDialogController"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.invite,d=b("CurrentUser").getID();a=g.useContext(b("RTWebPreCallContext"));var e=b("useRTWebMercuryIncomingCallDialog")(),f=b("useRoomIncomingCallDialog")(),h=b("useRTWebMercuryMissedCallDialog")(),i=b("useRTWebMercuryUnsupportedBrowserDialog")(),j=b("RTWebPreCallHooks").useAcceptCallCallback(),k=b("RTWebPreCallHooks").useStartCallCallback(),l=a?a.callInviteModel:null;b("useZenonDialogController")(c,function(){if(c===null||l==null)return null;if(c.context.type==="room"){var a=c.context.room;return f({inviterID:c.inviterID,linkUrl:a.linkHash,onAccept:function(){b("StartVideoChatLinkCall").startCall(a.linkHash,!0,!0)},onDecline:function(){l.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},roomName:a.roomName,sender:a.sender})}switch(c.type){case"ringing":return e({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onAccept:function(){j({trigger:"mercury_incoming_dialog_accept_button"})},onDecline:function(){l.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},participantIDs:c.participants});case"missed":if(c.context.type==="thread"){var g=c.context.thread;return h({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onCallback:function(){k({existingCall:null,invitees:[c.inviterID].concat(c.participants.filter(function(a){return a!==d})),mediaType:c.requestingVideo?"video":"audio",thread:g,trigger:"mercury_missed_call_dialog"}),l.dismiss()},participantIDs:c.participants,timeMissed:new Date(b("ServerTime").getMillis())})}return null;case"unsupported_browser":return i({incomingUserID:c.inviterID,isGroupCall:c.context.thread.type===2,isVideoCall:c.requestingVideo});default:return null}});return null}}),null);
__d("RTWebMercuryCallInviteController.react",["React","RelayFBEnvironment","RelayHooks","RTWebCallInviteDesktopNotification.react","RTWebMercuryCallInviteDialogs.react","RTWebPreCallContext","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react","ZenonDialogProvider.react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");c=b("requireDeferred")("FBRTCCallSummaryUploader");c.onReady(function(a){a.init()});function a(){h();var a=b("RTWebPreCallHooks").useCallInvite();return g.jsx(b("RelayHooks").RelayEnvironmentProvider,{environment:b("RelayFBEnvironment"),children:g.jsxs(b("ZenonDialogProvider.react"),{children:[g.jsx(b("RTWebMercuryCallInviteDialogs.react"),{invite:a}),g.jsx(b("RTWebCallInviteDesktopNotification.react"),{invite:a}),g.jsx(b("ZenonCallInviteRingtone.react"),{invite:a}),g.jsx(b("ZenonCallInviteTitleBlinking.react"),{invite:a})]})})}function h(){var a=g.useContext(b("RTWebPreCallContext"));g.useEffect(function(){a&&a.callInviteModel.startListening({callsBlocked:!1})},[a]);b("RTWebPreCallHooks").useNoAnswerTimeout()}}),null);
__d("RTWebMercuryOutgoingGroupCallContactListItem.react",["ix","Image.react","Link.react","MessengerContactImageReact.re","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=32;function a(a){var c=a.member,d=a.isSelected,e=a.toggle;return i.jsxs(b("Link.react"),{"aria-checked":d,className:"kqqcwhbg l3ldwz01 suikxctu laml0ql6 alzwoclg",onClick:function(){e({id:c.id,name:c.name,isSelected:d})},role:"checkbox",children:[i.jsx(b("MessengerContactImageReact.re").jsComponent,{className:"e4ay1f3w rl78xhln aesu6q9g srn514ro alzwoclg i85zmo3j",size:j,src:(a=c.profilePictureUrl)!=null?a:void 0}),i.jsxs("div",{className:"tsb96kwe tgm57n0e i15ihif8 cgu29s5g alzwoclg cd17qaie tamrfgvs qlm7rsnd ccoa9djf",children:[i.jsxs("div",{className:"tsb96kwe qm54mken tkmi5398 jcxyg2ei cqf1kptm tgm57n0e i15ihif8 cgu29s5g alzwoclg",children:[i.jsx("div",{className:"oshhggmv hf30pyar lq84ybu9 c61n2bf6 yav3l034",children:c.name}),c.vanity!=null&&c.vanity.length>0?i.jsxs("div",{className:"oshhggmv hf30pyar lq84ybu9 hg9jxets d36uvmw2",children:["@",c.vanity]}):null]}),d&&i.jsx("div",{className:"tkmi5398 alzwoclg d36uvmw2 i85zmo3j",children:i.jsx(b("Image.react"),{src:g("86852")})})]})]})}(h||(h=b("stylex"))).inject(".alzwoclg{display:flex}",1);h.inject(".laml0ql6{height:50px}",1);h.inject(".suikxctu:hover{background-color:rgba(0,0,0,.05)}",8);h.inject(".l3ldwz01:hover{text-decoration:none}",7.1);h.inject(".kqqcwhbg:active{background-color:rgba(0,0,0,.1)}",10);h.inject(".i85zmo3j{align-items:center}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".srn514ro{padding-top:0}",1);h.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");h.inject(".rl78xhln{padding-bottom:0}",1);h.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");h.inject(".ccoa9djf{border-top:1px solid gba(0,0,0,.1)}",.3);h.inject(".qlm7rsnd{border-right:1px solid gba(0,0,0,.1)}",.3,".qlm7rsnd{border-left:1px solid gba(0,0,0,.1)}");h.inject(".tamrfgvs{border-bottom:1px solid gba(0,0,0,.1)}",.3);h.inject(".cd17qaie{border-left:1px solid gba(0,0,0,.1)}",.3,".cd17qaie{border-right:1px solid gba(0,0,0,.1)}");h.inject(".alzwoclg{display:flex}",1);h.inject(".cgu29s5g{flex-grow:1}",1);h.inject(".i15ihif8{flex-shrink:1}",1);h.inject(".tgm57n0e{flex-basis:auto}",1);h.inject(".tsb96kwe{width:0}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".cgu29s5g{flex-grow:1}",1);h.inject(".i15ihif8{flex-shrink:1}",1);h.inject(".tgm57n0e{flex-basis:auto}",1);h.inject(".cqf1kptm{flex-direction:column}",1);h.inject(".jcxyg2ei{justify-content:center}",1);h.inject(".tkmi5398{padding-right:12px}",1);h.inject(".qm54mken{white-space:nowrap}",1);h.inject(".tsb96kwe{width:0}",1);h.inject(".yav3l034{color:rgba(0,0,0,1)}",1);h.inject(".c61n2bf6{font-size:0.875rem}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1);h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".hg9jxets{font-size:0.6875rem}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1);h.inject(".i85zmo3j{align-items:center}",1);h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".tkmi5398{padding-right:12px}",1)}),null);
__d("RTWebMercuryOutgoingGroupCallContactList.react",["MessengerScrollableArea.react","React","RTWebMercuryOutgoingGroupCallContactListItem.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.members,d=a.participants,e=a.toggle;return h.jsx(b("MessengerScrollableArea.react"),{className:"mo8xk5sm trbvugp6 j94dm2s7 lk0hwhjd cmg2g80i pu86zkx9",children:c.map(function(a){var c=d.some(function(b){return b.id===a.id});return h.jsx(b("RTWebMercuryOutgoingGroupCallContactListItem.react"),{member:a,isSelected:c,toggle:e},a.id)})})}(g||(g=b("stylex"))).inject(".pu86zkx9{background-color:#ffffff}",1);g.inject(".cmg2g80i{border-top-left-radius:0}",1,".cmg2g80i{border-top-right-radius:0}");g.inject(".lk0hwhjd{border-top-right-radius:0}",1,".lk0hwhjd{border-top-left-radius:0}");g.inject(".j94dm2s7{border-bottom-right-radius:6px}",1,".j94dm2s7{border-bottom-left-radius:6px}");g.inject(".trbvugp6{border-bottom-left-radius:6px}",1,".trbvugp6{border-bottom-right-radius:6px}");g.inject(".mo8xk5sm{max-height:383px}",1)}),null);
__d("RTWebMercuryOutgoingGroupCallMeta.react",["MercuryParticipantListRenderer","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.re","MessengerThreadImageReact.re","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=function(a,b){a.push({id:b.id,name:b.name,short_name:b.shortName});return a},j=function(a){return new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(a)};function a(a){var c=a.thread,d=a.viewer;a=a.members;var e=a.reduce(i,[]);return h.jsxs("div",{className:"jw0vj0hy alzwoclg br743ykl",children:[c.image_src!=null?h.jsx(b("MessengerThreadImageReact.re").jsComponent,{className:"qh2drquz alzwoclg i85zmo3j",participants:a,thread:c,viewer:d}):h.jsx(b("MessengerProfileImageWrapperReact.re").jsComponent,{className:"qh2drquz alzwoclg i85zmo3j",showBadge:!1,children:h.jsx(b("MercuryParticipantsImage.react"),{participants:c.participants,size:50})}),h.jsx("div",{className:"e4ay1f3w r9fxt90l aesu6q9g hmoou0mx hf30pyar lq84ybu9 jcxyg2ei cqf1kptm alzwoclg",children:c.name!=null?h.jsx(b("MercuryThreadTitle_DEPRECATED.react"),{className:"qm54mken oshhggmv hf30pyar lq84ybu9 k1z55t6l",thread:c,viewer:d}):h.jsx("span",{className:"qm54mken oshhggmv hf30pyar lq84ybu9 k1z55t6l",children:j(e)})})]})}(g||(g=b("stylex"))).inject(".br743ykl{border-bottom:1px solid rgba(0,0,0,.1)}",.3);g.inject(".alzwoclg{display:flex}",1);g.inject(".jw0vj0hy{min-height:68px}",1);g.inject(".i85zmo3j{align-items:center}",1);g.inject(".alzwoclg{display:flex}",1);g.inject(".qh2drquz{padding-left:12px}",1);g.inject(".alzwoclg{display:flex}",1);g.inject(".cqf1kptm{flex-direction:column}",1);g.inject(".jcxyg2ei{justify-content:center}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".hmoou0mx{padding-top:9px}",1);g.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");g.inject(".r9fxt90l{padding-bottom:9px}",1);g.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");g.inject(".k1z55t6l{font-size:0.9375rem}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".oshhggmv{text-overflow:ellipsis}",1);g.inject(".qm54mken{white-space:nowrap}",1)}),null);
__d("RTWebMercuryOutgoingGroupCallRingParticipantsRow.react",["fbt","React","intlList","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){a=a.names;return i.jsxs("div",{className:"e4ay1f3w r9fxt90l aesu6q9g hmoou0mx c61n2bf6 alzwoclg br743ykl",children:[i.jsx("div",{className:"tk6z8flf d36uvmw2",children:g._("Ring:")}),i.jsx("div",{className:"oshhggmv hf30pyar lq84ybu9 lpmtv4x5",children:b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)})]})}(h||(h=b("stylex"))).inject(".br743ykl{border-bottom:1px solid rgba(0,0,0,.1)}",.3);h.inject(".alzwoclg{display:flex}",1);h.inject(".c61n2bf6{font-size:0.875rem}",1);h.inject(".hmoou0mx{padding-top:9px}",1);h.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");h.inject(".r9fxt90l{padding-bottom:9px}",1);h.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");h.inject(".d36uvmw2{color:rgba(0,0,0,.4)}",1);h.inject(".tk6z8flf{padding-right:9px}",1);h.inject(".lpmtv4x5{color:#0084ff}",1);h.inject(".lq84ybu9{overflow-x:hidden}",1);h.inject(".hf30pyar{overflow-y:hidden}",1);h.inject(".oshhggmv{text-overflow:ellipsis}",1)}),null);
__d("RTWebMercuryOutgoingGroupCallContent.react",["fbt","regeneratorRuntime","CurrentUser","MercuryIDs","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerState.re","React","RTWebMercuryOutgoingGroupCallContactList.react","RTWebMercuryOutgoingGroupCallMeta.react","RTWebMercuryOutgoingGroupCallRingParticipantsRow.react","ZenonUserActionLogger","ZenonUsers","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=460,k=function(a,c){return a.reduce(function(a,d){d=b("MercuryIDs").getUserIDFromParticipantID(d);d!=null&&d!==c&&a.push(d);return a},[])};function a(a){var c=a.onCall,d=a.onClose,e=a.threadID,f=a.viewer;a=i.useState([]);var h=a[0],l=a[1];a=i.useState(null);var m=a[0],n=a[1];a=function(a){if(a.isSelected){l(h.filter(function(b){return b.id!==a.id}));return}var b=h.slice();b.push(babelHelpers["extends"]({},a,{isSelected:!0}));l(b)};i.useEffect(function(){b("MessengerState.re").getThreadMeta(b("CurrentUser").getID(),"thread:"+e,function(a){n(a)})},[e,n]);var o=i.useMemo(function(){return k(m?m.participants:[],f)},[m,f]),p=i.useState([]),q=p[0],r=p[1];i.useEffect(function(){function a(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("ZenonUsers").getMulti(o));case 2:a=c.sent,r(a.toArray()),l(a.toArray().map(function(a){return{id:a.id,name:a.shortName,isSelected:!0}}));case 5:case"end":return c.stop()}},null,this)}a()},[o]);if(m===null||q.length===0)return null;b("ZenonUserActionLogger").logImpression({surface:"group_call_participant_picker_dialog"});return i.jsx(b("MessengerDialog.react"),{type:"default",width:j,children:i.jsxs("div",{className:"nrr9agux",children:[i.jsxs(b("MessengerDialogHeaderReact.re").make,{children:[i.jsx(b("MessengerDialogCancelButton.react"),{onClick:function(){b("ZenonUserActionLogger").logClick({component:"close_dialog",surface:"group_call_participant_picker_dialog"}),d()}}),i.jsx(b("MessengerDialogTitleReact.re").make,{autofocus:!0,children:g._("Call group members")}),i.jsx(b("MessengerDialogButton.react"),{label:g._("Call"),onClick:function(){b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"group_call_participant_picker_dialog"}),c(h.map(function(a){a=a.id;return a})),d()},disabled:h.length===0,type:"primary",use:"default",dataTestID:"RTCPickerDialogCallButton"})]}),i.jsx(b("RTWebMercuryOutgoingGroupCallMeta.react"),{thread:m,viewer:f,members:q}),i.jsx(b("RTWebMercuryOutgoingGroupCallRingParticipantsRow.react"),{names:h.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),i.jsx(b("RTWebMercuryOutgoingGroupCallContactList.react"),{members:q,participants:h,toggle:a})]})})}(h||(h=b("stylex"))).inject(".nrr9agux{height:540px}",1)}),null);
__d("useRTWebMercuryOutgoingGroupCallDialog",["MessengerDialogs.re","React","RTWebMercuryOutgoingGroupCallContent.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return function(a){var c=a.onCall,d=a.threadID,e=a.viewer;b("MessengerDialogs.re").showDialog(function(){return g.jsx(b("RTWebMercuryOutgoingGroupCallContent.react"),{onCall:c,onClose:function(){b("MessengerDialogs.re").removeDialog({})},threadID:d,viewer:e})})}}}),null);
__d("useRTWebMercuryOutgoingUnsupportedBrowserDialog",["fbt","FBRTCConfig","MessengerDesktopUpsellLinks","MessengerDialogs.re","RTWebMercuryDialogBase.react","ZenonUserActionLogger","deferredLoadComponent","requireCond","requireDeferred","cr:1453546","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("deferredLoadComponent")(b("requireDeferred")("RTWebMercuryUnsupportedBrowserContent.react")),i=b("React"),j=function(){b("MessengerDialogs.re").removeDialog({})};function a(){return function(a){var c=a.isGroupCall,d=a.isVideoCall;b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});var e=g._("OK"),f=g._("Learn More"),k=g._("Switch Browsers to Make Calls");b("MessengerDialogs.re").showDialog(function(){var a=b("MessengerDesktopUpsellLinks").getDesktopUpsellLinkIfEnabledForCalls();return a!=null&&b("cr:1453546")!=null?i.jsx(b("cr:1453546"),{desktopAppstoreLink:a,hideDialog:j,isGroupCall:c,onUnmount:function(a){a||j()}}):i.jsx(b("RTWebMercuryDialogBase.react"),{acceptLabel:e,body:i.jsx(h,{isVideoCall:d,onClose:j,isGroupCall:c}),declineLabel:f,onClose:function(a){a===!1&&window.open(b("FBRTCConfig").unsupportedBrowserUrl(),"_blank"),j()},title:k})});return{dismiss:j}}}}),null);
__d("useRTWebMercuryStartCallCallback",["CurrentUser","FBLogger","React","RTWebPreCallContext","RTWebPreCallHooks","gkx","useRTWebMercuryOutgoingGroupCallDialog","useRTWebMercuryOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("CurrentUser").getID(),c=b("RTWebPreCallHooks").useStartCallCallback(),d=b("useRTWebMercuryOutgoingGroupCallDialog")(),e=b("useRTWebMercuryOutgoingUnsupportedBrowserDialog")(),f=g.useContext(b("RTWebPreCallContext"));return g.useCallback(function(g){var h=g.existingCall,i=g.mediaType,j=g.thread,k=g.trigger;if(!b("gkx")("1811099"))return;if(!f||!f.incomingRingSDK.isCallSupported({threadType:j.type,type:"thread"}))e({isGroupCall:j.type===2,isVideoCall:i==="video"});else switch(j.type){case 1:c({existingCall:h,invitees:[j.id],mediaType:i,thread:j,trigger:k});break;case 2:h===null||h.call_state==="NO_ONGOING_CALL"?d({onCall:function(a){c({existingCall:h,invitees:a,mediaType:i,thread:j,trigger:k})},threadID:j.id,viewer:a}):c({existingCall:h,invitees:[],mediaType:i,thread:j,trigger:k});break;default:b("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",j.type)}},[a,f,d,e,c])}}),null);
__d("RTWebMercuryCallButton.react",["Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.re","MessengerRTCVoiceCallButtonReact.re","React","ZenonUserActionLogger","useEffectOnce","useRTWebMercuryStartCallCallback"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.thread,d=a.threadID,e=a.className,f=a.isVideo;a=a.customColor;var i=g.useMemo(function(){return b("MessengerRTCInvokeHandler").isCallable(d,c)},[c,d]),j=b("useRTWebMercuryStartCallCallback")(),k=b("MercuryIDs").isGroupChat(d);a={customColor:a,isAvailable:i,isGroupChat:k};var l=h(c);b("useEffectOnce")(function(){b("ZenonUserActionLogger").logImpression({surface:"messenger_header",component:f?"video_button":"audio_button"})});return l!=null?g.jsx(b("Link.react"),{className:e,onClick:function(){b("ZenonUserActionLogger").logClick({surface:"messenger_header",component:f?"video_button":"audio_button"}),j({existingCall:c.rtc_call_data!=null?c.rtc_call_data:null,mediaType:f?"video":"audio",thread:{id:b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),type:l},trigger:f?"messenger_dot_com_video_call":"messenger_dot_com_audio_call"})},role:"button",children:f?g.jsx(b("MessengerRTCVideoCallButtonReact.re").jsComponent,babelHelpers["extends"]({},a)):g.jsx(b("MessengerRTCVoiceCallButtonReact.re").jsComponent,babelHelpers["extends"]({},a))}):null}function h(a){switch(a.thread_type){case 2:return 2;case 1:return 1;default:return null}}}),null);
__d("WorkChatDoNotDisturbStatusImpl.react",["ix","Image.react","MercuryIDs","React","asset"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.thread;if(!c)return null;c=b("MercuryIDs").getUserIDFromThreadID(c.thread_id);return c==null?null:a.isDoNotDisturb?h.jsx(b("Image.react"),{className:a.className,src:g("550343"),"data-tooltip-content":a.description,"data-hover":"tooltip"}):null}}),null);
__d("WIGLink.react",["CometLink.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return g.jsx(b("CometLink.react"),babelHelpers["extends"]({ref:c},a))}c=g.forwardRef(a);e.exports=c}),null);
__d("WorkGalahadAppTabChatsAction.react",["ix","fbt","MessengerURIConstants","React","WIGCircleButton.react","WIGIcon.react","WIGLink.react","WIGTooltip.react","fbicon","gkx","requireCond","stylex","cr:1421363","cr:1388408"],(function(a,b,c,d,e,f,g,h){"use strict";f.DefaultAction=a;f.PrimaryActionForChannelHeader=c;var i=b("React"),j=h._("Create new chat"),k=h._("New room");function a(){return i.jsx(b("WIGLink.react"),{id:"work-galahad-chat-create-new",testid:void 0,"aria-label":j,href:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH,children:i.jsx(b("WIGIcon.react"),{icon:b("fbicon")._(g("507177"),24),color:"secondary"})})}function c(){return b("gkx")("1703310")?i.jsx("div",{className:"q877oug0",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:j,children:i.jsx(b("WIGCircleButton.react"),{label:j,icon:b("fbicon")._(g("483769"),20),testid:void 0,size:36,linkProps:{url:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH}})})}):i.jsxs(i.Fragment,{children:[b("cr:1388408")&&i.jsx("div",{"data-nux-id":"create_room",className:"q877oug0",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:k,children:i.jsx(b("cr:1388408"),{})})}),i.jsx("div",{className:"q877oug0",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:j,children:i.jsx(b("WIGCircleButton.react"),{label:j,icon:b("fbicon")._(g("507172"),20),testid:void 0,size:36,linkProps:{url:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH}})})}),b("cr:1421363")&&i.jsx(b("cr:1421363"),{})]})}}),null);
__d("EnvironmentTimezoneDecisionTree-tz2020a",[],(function(a,b,c,d,e,f){"use strict";a={instant:1132117200,0:{instant:1531536300,0:{timezone:0},3600:{instant:1191290400,0:{instant:2019715200,3600:{timezone:86},0:{timezone:189}},3600:{timezone:54}},7200:{timezone:300}},10800:{instant:1087737300,10800:{instant:2019715200,10800:{timezone:20},7200:{timezone:170}},14400:{instant:2019715200,10800:{instant:1309636800,10800:{timezone:72},14400:{timezone:116}},14400:{instant:1472363100,14400:{timezone:402},10800:{instant:1487156400,14400:{timezone:416},10800:{timezone:423}}}}},3600:{instant:1309636800,3600:{instant:1191290400,3600:{timezone:96},7200:{timezone:133}},7200:{timezone:12}},7200:{instant:1982731950,7200:{instant:1250463600,7200:{instant:1354016700,7200:{timezone:141},3600:{timezone:190}},10800:{instant:1191290400,7200:{instant:1309636800,7200:{timezone:53},10800:{instant:1317033450,7200:{timezone:108},10800:{timezone:319}}},10800:{instant:1783022400,10800:{instant:1161703800,10800:{timezone:76},7200:{timezone:315}},7200:{timezone:115}}},3600:{timezone:191}},10800:{instant:1995497490,10800:{instant:2019715200,7200:{instant:1191290400,10800:{instant:1099178844,7200:{timezone:81},10800:{timezone:404}},7200:{timezone:70}},10800:{instant:1396198884,7200:{timezone:134},10800:{timezone:411},14400:{timezone:417}}},7200:{instant:1487156400,10800:{timezone:318},7200:{timezone:19}}}},"-36000":{instant:1309636800,"-32400":{timezone:192},"-36000":{timezone:3}},"-32400":{instant:1309636800,"-28800":{timezone:4},"-32400":{timezone:449}},"-14400":{instant:1331826750,"-14400":{timezone:21},"-16200":{timezone:139},"-10800":{instant:1130643321,"-10800":{timezone:37},"-14400":{instant:2019715200,"-14400":{instant:1257050196,"-14400":{timezone:227},"-10800":{timezone:257}},"-10800":{timezone:276}}},"-18000":{timezone:232}},"-10800":{instant:1205159083,"-10800":{instant:1250463600,"-10800":{instant:1324430100,"-10800":{instant:1354016700,"-7200":{timezone:195},"-10800":{timezone:24}},"-7200":{timezone:206}},"-7200":{timezone:226},"-14400":{instant:1309636800,"-14400":{instant:1783022400,"-10800":{timezone:271},"-14400":{timezone:41}},"-10800":{timezone:354}}},"-7200":{instant:1087274990,"-10800":{instant:1235670300,"-7200":{instant:1086812715,"-10800":{timezone:10},"-14400":{timezone:203}},"-10800":{timezone:11}},"-14400":{instant:1086003636,"-10800":{timezone:196},"-14400":{instant:1087737300,"-14400":{instant:1095133950,"-14400":{timezone:200},"-10800":{timezone:202}},"-10800":{timezone:204}}},"-7200":{timezone:256}},"-14400":{instant:2019715200,"-10800":{instant:1309636800,"-10800":{timezone:9},"-14400":{timezone:111}},"-14400":{instant:1076642325,"-10800":{timezone:23},"-14400":{timezone:218}}}},"-18000":{instant:1191290400,"-18000":{instant:1331449671,"-18000":{timezone:33},"-14400":{instant:1783022400,"-18000":{timezone:222},"-14400":{instant:1309636800,"-14400":{timezone:236},"-18000":{timezone:269}}},"-21600":{timezone:234}},"-14400":{instant:1087737300,"-14400":{instant:1487156400,"-18000":{timezone:7},"-14400":{timezone:228}},"-18000":{instant:1161703800,"-14400":{timezone:233},"-18000":{timezone:240}}},"-21600":{timezone:40}},"-25200":{instant:1333269930,"-18000":{instant:1427983200,"-21600":{timezone:207},"-18000":{timezone:263}},"-21600":{instant:1206083700,"-21600":{timezone:2},"-25200":{timezone:266}},"-25200":{instant:1309636800,"-21600":{timezone:93},"-25200":{timezone:5}}},"-21600":{instant:1427983200,"-21600":{instant:1154307150,"-21600":{timezone:32},"-18000":{instant:1309636800,"-21600":{instant:1117323900,"-21600":{instant:1146910500,"-18000":{timezone:61},"-21600":{timezone:63}},"-18000":{timezone:97}},"-18000":{timezone:94}}},"-18000":{instant:1206083700,"-21600":{instant:2019715200,"-18000":{timezone:213},"-21600":{timezone:252}},"-18000":{instant:1169100450,"-21600":{instant:1099207737,"-21600":{timezone:6},"-18000":{timezone:142}},"-18000":{timezone:274}}}},"-28800":{instant:1206083700,"-25200":{instant:2019715200,"-28800":{timezone:1},"-25200":{timezone:223}},"-28800":{instant:1836470418,"-32400":{timezone:255},"-25200":{timezone:91},"-28800":{timezone:464}}},"-7200":{instant:2019715200,"-10800":{instant:1546329600,"-10800":{timezone:138},"-7200":{timezone:25}},"-7200":{timezone:22}},"-3600":{instant:1309636800,0:{timezone:109},"-3600":{timezone:349}},"-12600":{timezone:38},28800:{instant:1087737300,28800:{instant:1487156400,39600:{timezone:291},28800:{instant:1206083700,28800:{timezone:42},32400:{timezone:13}}},32400:{instant:1309636800,32400:{timezone:121},28800:{timezone:342}}},25200:{instant:1087737300,25200:{instant:1265256900,18e3:{timezone:292},25200:{timezone:66}},28800:{instant:1309636800,25200:{instant:1191290400,25200:{timezone:320},28800:{timezone:326}},28800:{timezone:120}}},36e3:{instant:2019715200,36e3:{instant:1309636800,36e3:{timezone:293},39600:{timezone:123}},32400:{timezone:323},39600:{instant:1309636800,39600:{timezone:334},36e3:{timezone:441}}},39600:{instant:1191290400,36e3:{instant:1161703800,39600:{instant:1309636800,39600:{timezone:294},36e3:{timezone:357}},36e3:{timezone:15}},43200:{instant:2019715200,39600:{instant:1427983200,36e3:{timezone:124},39600:{timezone:336}},36e3:{timezone:344}},37800:{timezone:362},39600:{timezone:444}},21600:{instant:1256011038,18e3:{timezone:295},21600:{instant:1080340650,21600:{instant:1087737300,21600:{timezone:301},25200:{timezone:304}},18e3:{instant:2019715200,21600:{instant:1102530600,18e3:{timezone:311},21600:{timezone:332}},18e3:{timezone:333}}},25200:{instant:2019715200,25200:{instant:1464966450,25200:{instant:1461268125,25200:{timezone:310},21600:{timezone:341}},21600:{timezone:327}},21600:{instant:1309636800,21600:{timezone:17},25200:{timezone:119}}},19800:{timezone:82}},46800:{instant:1309636800,43200:{timezone:100},46800:{instant:1479759750,46800:{timezone:445},50400:{timezone:471}}},43200:{instant:1294843500,39600:{timezone:125},46800:{timezone:447},43200:{timezone:448}},18e3:{instant:1080340650,14400:{timezone:306},18e3:{instant:1250463600,18e3:{instant:1087737300,21600:{timezone:307},18e3:{timezone:90}},21600:{instant:1309636800,18e3:{timezone:105},21600:{timezone:118}}}},14400:{instant:1087737300,18e3:{instant:1309636800,18e3:{instant:1427983200,18e3:{timezone:146},14400:{timezone:347}},14400:{instant:1191290400,14400:{timezone:338},18e3:{timezone:117}}},14400:{instant:1235670300,14400:{timezone:8},18e3:{timezone:89}}},32400:{instant:1309636800,36e3:{instant:1427983200,28800:{timezone:313},32400:{timezone:122}},28800:{timezone:314},32400:{instant:1487156400,32400:{timezone:68},30600:{timezone:331}}},16200:{timezone:322},20700:{timezone:145},19800:{timezone:71},12600:{timezone:339},23400:{timezone:346},37800:{timezone:14},34200:{timezone:358},31500:{timezone:359},"-39600":{instant:2019715200,50400:{timezone:440},46800:{timezone:446},"-39600":{timezone:457}},49500:{timezone:442},50400:{timezone:452},"-34200":{timezone:456},41400:{timezone:460}};e.exports=a}),null);
__d("TimezoneNamesData-tz2020a",[],(function(a,b,c,d,e,f){e.exports={version:"2020a",zoneNames:{0:"Etc/UTC",1:"America/Los_Angeles",2:"America/Denver",3:"Pacific/Honolulu",4:"America/Anchorage",5:"America/Phoenix",6:"America/Chicago",7:"America/New_York",8:"Asia/Dubai",9:"America/Argentina/San_Luis",10:"America/Argentina/Buenos_Aires",11:"America/Argentina/Salta",12:"Europe/Vienna",13:"Australia/Perth",14:"Australia/Broken_Hill",15:"Australia/Sydney",16:"Europe/Sarajevo",17:"Asia/Dhaka",18:"Europe/Brussels",19:"Europe/Sofia",20:"Asia/Bahrain",21:"America/La_Paz",22:"America/Noronha",23:"America/Campo_Grande",24:"America/Belem",25:"America/Sao_Paulo",26:"America/Nassau",27:"America/Dawson",28:"America/Vancouver",29:"America/Dawson_Creek",30:"America/Edmonton",31:"America/Rainy_River",32:"America/Regina",33:"America/Atikokan",34:"America/Iqaluit",35:"America/Toronto",36:"America/Blanc-Sablon",37:"America/Halifax",38:"America/St_Johns",39:"Europe/Zurich",40:"Pacific/Easter",41:"America/Santiago",42:"Asia/Shanghai",43:"America/Bogota",44:"America/Costa_Rica",45:"Asia/Nicosia",46:"Europe/Prague",47:"Europe/Berlin",48:"Europe/Copenhagen",49:"America/Santo_Domingo",50:"Pacific/Galapagos",51:"America/Guayaquil",52:"Europe/Tallinn",53:"Africa/Cairo",54:"Atlantic/Canary",55:"Europe/Madrid",56:"Europe/Helsinki",57:"Europe/Paris",58:"Europe/London",59:"Africa/Accra",60:"Europe/Athens",61:"America/Guatemala",62:"Asia/Hong_Kong",63:"America/Tegucigalpa",64:"Europe/Zagreb",65:"Europe/Budapest",66:"Asia/Jakarta",67:"Asia/Makassar",68:"Asia/Jayapura",69:"Europe/Dublin",70:"Asia/Jerusalem",71:"Asia/Kolkata",72:"Asia/Baghdad",73:"Atlantic/Reykjavik",74:"Europe/Rome",75:"America/Jamaica",76:"Asia/Amman",77:"Asia/Tokyo",78:"Africa/Nairobi",79:"Asia/Seoul",80:"Asia/Kuwait",81:"Asia/Beirut",82:"Asia/Colombo",83:"Europe/Vilnius",84:"Europe/Luxembourg",85:"Europe/Riga",86:"Africa/Casablanca",87:"Europe/Skopje",88:"Europe/Malta",89:"Indian/Mauritius",90:"Indian/Maldives",91:"America/Tijuana",92:"America/Hermosillo",93:"America/Mazatlan",94:"America/Mexico_City",95:"Asia/Kuala_Lumpur",96:"Africa/Lagos",97:"America/Managua",98:"Europe/Amsterdam",99:"Europe/Oslo",100:"Pacific/Auckland",101:"Asia/Muscat",102:"America/Panama",103:"America/Lima",104:"Asia/Manila",105:"Asia/Karachi",106:"Europe/Warsaw",107:"America/Puerto_Rico",108:"Asia/Gaza",109:"Atlantic/Azores",110:"Europe/Lisbon",111:"America/Asuncion",112:"Asia/Qatar",113:"Europe/Bucharest",114:"Europe/Belgrade",115:"Europe/Kaliningrad",116:"Europe/Moscow",117:"Europe/Samara",118:"Asia/Yekaterinburg",119:"Asia/Omsk",120:"Asia/Krasnoyarsk",121:"Asia/Irkutsk",122:"Asia/Yakutsk",123:"Asia/Vladivostok",124:"Asia/Magadan",125:"Asia/Kamchatka",126:"Asia/Riyadh",127:"Europe/Stockholm",128:"Asia/Singapore",129:"Europe/Ljubljana",130:"Europe/Bratislava",131:"America/El_Salvador",132:"Asia/Bangkok",133:"Africa/Tunis",134:"Europe/Istanbul",135:"America/Port_of_Spain",136:"Asia/Taipei",137:"Europe/Kiev",138:"America/Montevideo",139:"America/Caracas",140:"Asia/Ho_Chi_Minh",141:"Africa/Johannesburg",142:"America/Winnipeg",143:"America/Detroit",144:"Australia/Melbourne",145:"Asia/Kathmandu",146:"Asia/Baku",147:"Africa/Abidjan",148:"Africa/Addis_Ababa",149:"Africa/Algiers",150:"Africa/Asmara",151:"Africa/Bamako",152:"Africa/Bangui",153:"Africa/Banjul",154:"Africa/Bissau",155:"Africa/Blantyre",156:"Africa/Brazzaville",157:"Africa/Bujumbura",158:"Africa/Ceuta",159:"Africa/Conakry",160:"Africa/Dakar",161:"Africa/Dar_es_Salaam",162:"Africa/Djibouti",163:"Africa/Douala",164:"Africa/El_Aaiun",165:"Africa/Freetown",166:"Africa/Gaborone",167:"Africa/Harare",168:"Africa/Juba",169:"Africa/Kampala",170:"Africa/Khartoum",171:"Africa/Kigali",172:"Africa/Kinshasa",173:"Africa/Libreville",174:"Africa/Lome",175:"Africa/Luanda",176:"Africa/Lubumbashi",177:"Africa/Lusaka",178:"Africa/Malabo",179:"Africa/Maputo",180:"Africa/Maseru",181:"Africa/Mbabane",182:"Africa/Mogadishu",183:"Africa/Monrovia",184:"Africa/Ndjamena",185:"Africa/Niamey",186:"Africa/Nouakchott",187:"Africa/Ouagadougou",188:"Africa/Porto-Novo",189:"Africa/Sao_Tome",190:"Africa/Tripoli",191:"Africa/Windhoek",192:"America/Adak",193:"America/Anguilla",194:"America/Antigua",195:"America/Araguaina",196:"America/Argentina/Catamarca",197:"America/Argentina/Cordoba",198:"America/Argentina/Jujuy",199:"America/Argentina/La_Rioja",200:"America/Argentina/Mendoza",201:"America/Argentina/Rio_Gallegos",202:"America/Argentina/San_Juan",203:"America/Argentina/Tucuman",204:"America/Argentina/Ushuaia",205:"America/Aruba",206:"America/Bahia",207:"America/Bahia_Banderas",208:"America/Barbados",209:"America/Belize",210:"America/Boa_Vista",211:"America/Boise",212:"America/Cambridge_Bay",213:"America/Cancun",214:"America/Cayenne",215:"America/Cayman",216:"America/Chihuahua",217:"America/Creston",218:"America/Cuiaba",219:"America/Curacao",220:"America/Danmarkshavn",221:"America/Dominica",222:"America/Eirunepe",223:"America/Fort_Nelson",224:"America/Fortaleza",225:"America/Glace_Bay",226:"America/Godthab",227:"America/Goose_Bay",228:"America/Grand_Turk",229:"America/Grenada",230:"America/Guadeloupe",231:"America/Guyana",232:"America/Havana",233:"America/Indiana/Indianapolis",234:"America/Indiana/Knox",235:"America/Indiana/Marengo",236:"America/Indiana/Petersburg",237:"America/Indiana/Tell_City",238:"America/Indiana/Vevay",239:"America/Indiana/Vincennes",240:"America/Indiana/Winamac",241:"America/Indianapolis",242:"America/Inuvik",243:"America/Juneau",244:"America/Kentucky/Louisville",245:"America/Kentucky/Monticello",246:"America/Kralendijk",247:"America/Lower_Princes",248:"America/Maceio",249:"America/Manaus",250:"America/Marigot",251:"America/Martinique",252:"America/Matamoros",253:"America/Menominee",254:"America/Merida",255:"America/Metlakatla",256:"America/Miquelon",257:"America/Moncton",258:"America/Monterrey",259:"America/Montreal",260:"America/Montserrat",261:"America/Nipigon",262:"America/Nome",263:"America/North_Dakota/Beulah",264:"America/North_Dakota/Center",265:"America/North_Dakota/New_Salem",266:"America/Ojinaga",267:"America/Pangnirtung",268:"America/Paramaribo",269:"America/Port-au-Prince",270:"America/Porto_Velho",271:"America/Punta_Arenas",272:"America/Rankin_Inlet",273:"America/Recife",274:"America/Resolute",275:"America/Rio_Branco",276:"America/Santarem",277:"America/Scoresbysund",278:"America/Sitka",279:"America/St_Barthelemy",280:"America/St_Kitts",281:"America/St_Lucia",282:"America/St_Thomas",283:"America/St_Vincent",284:"America/Swift_Current",285:"America/Thule",286:"America/Thunder_Bay",287:"America/Tortola",288:"America/Whitehorse",289:"America/Yakutat",290:"America/Yellowknife",291:"Antarctica/Casey",292:"Antarctica/Davis",293:"Antarctica/DumontDUrville",294:"Antarctica/Macquarie",295:"Antarctica/Mawson",296:"Antarctica/McMurdo",297:"Antarctica/Palmer",298:"Antarctica/Rothera",299:"Antarctica/Syowa",300:"Antarctica/Troll",301:"Antarctica/Vostok",302:"Arctic/Longyearbyen",303:"Asia/Aden",304:"Asia/Almaty",305:"Asia/Anadyr",306:"Asia/Aqtau",307:"Asia/Aqtobe",308:"Asia/Ashgabat",309:"Asia/Atyrau",310:"Asia/Barnaul",311:"Asia/Bishkek",312:"Asia/Brunei",313:"Asia/Chita",314:"Asia/Choibalsan",315:"Asia/Damascus",316:"Asia/Dili",317:"Asia/Dushanbe",318:"Asia/Famagusta",319:"Asia/Hebron",320:"Asia/Hovd",321:"Asia/Istanbul",322:"Asia/Kabul",323:"Asia/Khandyga",324:"Asia/Kuching",325:"Asia/Macau",326:"Asia/Novokuznetsk",327:"Asia/Novosibirsk",328:"Asia/Oral",329:"Asia/Phnom_Penh",330:"Asia/Pontianak",331:"Asia/Pyongyang",332:"Asia/Qostanay",333:"Asia/Qyzylorda",334:"Asia/Sakhalin",335:"Asia/Samarkand",336:"Asia/Srednekolymsk",337:"Asia/Tashkent",338:"Asia/Tbilisi",339:"Asia/Tehran",340:"Asia/Thimphu",341:"Asia/Tomsk",342:"Asia/Ulaanbaatar",343:"Asia/Urumqi",344:"Asia/Ust-Nera",345:"Asia/Vientiane",346:"Asia/Yangon",347:"Asia/Yerevan",348:"Atlantic/Bermuda",349:"Atlantic/Cape_Verde",350:"Atlantic/Faroe",351:"Atlantic/Madeira",352:"Atlantic/South_Georgia",353:"Atlantic/St_Helena",354:"Atlantic/Stanley",355:"Australia/Adelaide",356:"Australia/Brisbane",357:"Australia/Currie",358:"Australia/Darwin",359:"Australia/Eucla",360:"Australia/Hobart",361:"Australia/Lindeman",362:"Australia/Lord_Howe",363:"CET",364:"CST6CDT",365:"EET",366:"EST",367:"EST5EDT",368:"Etc/GMT",369:"Etc/GMT+0",370:"Etc/GMT+1",371:"Etc/GMT+10",372:"Etc/GMT+11",373:"Etc/GMT+12",374:"Etc/GMT+2",375:"Etc/GMT+3",376:"Etc/GMT+4",377:"Etc/GMT+5",378:"Etc/GMT+6",379:"Etc/GMT+7",380:"Etc/GMT+8",381:"Etc/GMT+9",382:"Etc/GMT-0",383:"Etc/GMT-1",384:"Etc/GMT-10",385:"Etc/GMT-11",386:"Etc/GMT-12",387:"Etc/GMT-13",388:"Etc/GMT-14",389:"Etc/GMT-2",390:"Etc/GMT-3",391:"Etc/GMT-4",392:"Etc/GMT-5",393:"Etc/GMT-6",394:"Etc/GMT-7",395:"Etc/GMT-8",396:"Etc/GMT-9",397:"Etc/GMT0",398:"Etc/Greenwich",399:"Etc/Universal",400:"Etc/Zulu",401:"Europe/Andorra",402:"Europe/Astrakhan",403:"Europe/Busingen",404:"Europe/Chisinau",405:"Europe/Gibraltar",406:"Europe/Guernsey",407:"Europe/Isle_of_Man",408:"Europe/Jersey",409:"Europe/Kirov",410:"Europe/Mariehamn",411:"Europe/Minsk",412:"Europe/Monaco",413:"Europe/Nicosia",414:"Europe/Podgorica",415:"Europe/San_Marino",416:"Europe/Saratov",417:"Europe/Simferopol",418:"Europe/Tirane",419:"Europe/Ulyanovsk",420:"Europe/Uzhgorod",421:"Europe/Vaduz",422:"Europe/Vatican",423:"Europe/Volgograd",424:"Europe/Zaporozhye",425:"GMT",426:"HST",427:"Indian/Antananarivo",428:"Indian/Chagos",429:"Indian/Christmas",430:"Indian/Cocos",431:"Indian/Comoro",432:"Indian/Kerguelen",433:"Indian/Mahe",434:"Indian/Mayotte",435:"Indian/Reunion",436:"MET",437:"MST",438:"MST7MDT",439:"PST8PDT",440:"Pacific/Apia",441:"Pacific/Bougainville",442:"Pacific/Chatham",443:"Pacific/Chuuk",444:"Pacific/Efate",445:"Pacific/Enderbury",446:"Pacific/Fakaofo",447:"Pacific/Fiji",448:"Pacific/Funafuti",449:"Pacific/Gambier",450:"Pacific/Guadalcanal",451:"Pacific/Guam",452:"Pacific/Kiritimati",453:"Pacific/Kosrae",454:"Pacific/Kwajalein",455:"Pacific/Majuro",456:"Pacific/Marquesas",457:"Pacific/Midway",458:"Pacific/Nauru",459:"Pacific/Niue",460:"Pacific/Norfolk",461:"Pacific/Noumea",462:"Pacific/Pago_Pago",463:"Pacific/Palau",464:"Pacific/Pitcairn",465:"Pacific/Pohnpei",466:"Pacific/Port_Moresby",467:"Pacific/Rarotonga",468:"Pacific/Saipan",469:"Pacific/Tahiti",470:"Pacific/Tarawa",471:"Pacific/Tongatapu",472:"Pacific/Wake",473:"Pacific/Wallis",474:"UTC",475:"WET",476:"Asia/Calcutta",477:"Asia/Katmandu",478:"America/Nuuk",479:"America/Buenos_Aires"}}}),null);
__d("TimezoneRulesFrom2009-tz2020a",[],(function(a,b,c,d,e,f){e.exports={version:"2020a",fromYear:2009,ruleSets:["1980 1 4 25 0 1 1980 1 10 31 2 0","2008 3 4 lastFri 0s 1 2008 1 8 lastThu 24 0 2009 1 8 20 24 0 2010 1 8 10 24 0 2010 1 9 9 24 1 2010 1 9 lastThu 24 0 2014 1 5 15 24 1 2014 1 6 26 24 0 2014 1 7 31 24 1 2014 1 9 lastThu 24 0","1942 1 9 1 0 0:20 1942 1 12 31 0 0","1997 1 4 4 0 1 1997 1 10 4 0 0 2013 1 3 lastFri 1 1 2013 1 10 lastFri 2 0","2008 1 10 lastSun 2 1 2009 1 3 lastSun 2 0","2008 1 6 1 0 1 2008 1 9 1 0 0 2009 1 6 1 0 1 2009 1 8 21 0 0 2010 1 5 2 0 1 2010 1 8 8 0 0 2011 1 4 3 0 1 2011 1 7 31 0 0 2012 2 4 lastSun 2 1 2012 1 7 20 3 0 2012 1 8 20 2 1 2012 1 9 30 3 0 2013 1 7 7 3 0 2013 1 8 10 2 1 2013 6 10 lastSun 3 0 2014 5 3 lastSun 2 1 2014 1 6 28 3 0 2014 1 8 2 2 1 2015 1 6 14 3 0 2015 1 7 19 2 1 2016 1 6 5 3 0 2016 1 7 10 2 1 2017 1 5 21 3 0 2017 1 7 2 2 1 2018 1 5 13 3 0 2018 1 6 17 2 1 2019 1 5 5 3 -1 2019 1 6 9 2 0 2020 1 4 19 3 -1 2020 1 5 31 2 0 2021 1 4 11 3 -1 2021 1 5 16 2 0 2022 1 3 27 3 -1 2022 1 5 8 2 0 2023 1 3 19 3 -1 2023 1 4 23 2 0 2024 1 3 10 3 -1 2024 1 4 14 2 0 2025 1 2 23 3 -1 2025 1 4 6 2 0 2026 1 2 15 3 -1 2026 1 3 22 2 0 2027 1 2 7 3 -1 2027 1 3 14 2 0 2028 1 1 23 3 -1 2028 1 3 5 2 0 2029 1 1 14 3 -1 2029 1 2 18 2 0 2029 1 12 30 3 -1 2030 1 2 10 2 0 2030 1 12 22 3 -1 2031 1 1 26 2 0 2031 1 12 14 3 -1 2032 1 1 18 2 0 2032 1 11 28 3 -1 2033 1 1 9 2 0 2033 1 11 20 3 -1 2033 1 12 25 2 0 2034 1 11 5 3 -1 2034 1 12 17 2 0 2035 1 10 28 3 -1 2035 1 12 9 2 0 2036 1 10 19 3 -1 2036 1 11 23 2 0 2037 1 10 4 3 -1 2037 1 11 15 2 0 2038 1 9 26 3 -1 2038 1 10 31 2 0 2039 1 9 18 3 -1 2039 1 10 23 2 0 2040 1 9 2 3 -1 2040 1 10 14 2 0 2041 1 8 25 3 -1 2041 1 9 29 2 0 2042 1 8 10 3 -1 2042 1 9 21 2 0 2043 1 8 2 3 -1 2043 1 9 13 2 0 2044 1 7 24 3 -1 2044 1 8 28 2 0 2045 1 7 9 3 -1 2045 1 8 20 2 0 2046 1 7 1 3 -1 2046 1 8 5 2 0 2047 1 6 23 3 -1 2047 1 7 28 2 0 2048 1 6 7 3 -1 2048 1 7 19 2 0 2049 1 5 30 3 -1 2049 1 7 4 2 0 2050 1 5 15 3 -1 2050 1 6 26 2 0 2051 1 5 7 3 -1 2051 1 6 18 2 0 2052 1 4 28 3 -1 2052 1 6 2 2 0 2053 1 4 13 3 -1 2053 1 5 25 2 0 2054 1 4 5 3 -1 2054 1 5 10 2 0 2055 1 3 28 3 -1 2055 1 5 2 2 0 2056 1 3 12 3 -1 2056 1 4 23 2 0 2057 1 3 4 3 -1 2057 1 4 8 2 0 2058 1 2 17 3 -1 2058 1 3 31 2 0 2059 1 2 9 3 -1 2059 1 3 23 2 0 2060 1 2 1 3 -1 2060 1 3 7 2 0 2061 1 1 16 3 -1 2061 1 2 27 2 0 2062 1 1 8 3 -1 2062 1 2 12 2 0 2062 1 12 31 3 -1 2063 1 2 4 2 0 2063 1 12 16 3 -1 2064 1 1 27 2 0 2064 1 12 7 3 -1 2065 1 1 11 2 0 2065 1 11 22 3 -1 2066 1 1 3 2 0 2066 1 11 14 3 -1 2066 1 12 26 2 0 2067 1 11 6 3 -1 2067 1 12 11 2 0 2068 1 10 21 3 -1 2068 1 12 2 2 0 2069 1 10 13 3 -1 2069 1 11 17 2 0 2070 1 10 5 3 -1 2070 1 11 9 2 0 2071 1 9 20 3 -1 2071 1 11 1 2 0 2072 1 9 11 3 -1 2072 1 10 16 2 0 2073 1 8 27 3 -1 2073 1 10 8 2 0 2074 1 8 19 3 -1 2074 1 9 30 2 0 2075 1 8 11 3 -1 2075 1 9 15 2 0 2076 1 7 26 3 -1 2076 1 9 6 2 0 2077 1 7 18 3 -1 2077 1 8 22 2 0 2078 1 7 10 3 -1 2078 1 8 14 2 0 2079 1 6 25 3 -1 2079 1 8 6 2 0 2080 1 6 16 3 -1 2080 1 7 21 2 0 2081 1 6 1 3 -1 2081 1 7 13 2 0 2082 1 5 24 3 -1 2082 1 6 28 2 0 2083 1 5 16 3 -1 2083 1 6 20 2 0 2084 1 4 30 3 -1 2084 1 6 11 2 0 2085 1 4 22 3 -1 2085 1 5 27 2 0 2086 1 4 14 3 -1 2086 1 5 19 2 0 2087 1 3 30 3 -1 2087 1 5 11 2 0","2008 10 9 Sun>=1 2 0 2008 10 4 Sun>=1 2 -1","1944 1 3 Sun>=15 2 0","1985 1 10 15 0 0 1985 1 4 lastSun 0 1","2008 1 3 lastSun 2s 1 2008 1 10 lastSun 2s 0","2008 - 3 lastSun 1u 2 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 1u 1 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 0 1 2008 - 10 lastSun 0 0","2008 3 3 lastSun 2s 1 2008 3 10 lastSun 2s 0","2011 1 3 lastSun 2s 1 2011 1 10 lastSun 2s 0","2008 8 3 lastSun 4 1 2008 8 10 lastSun 5 0","2009 1 6 19 23 1 2009 1 12 31 24 0","1949 1 5 1 0 1 1949 1 9 30 24 0","1991 1 9 Sun>=11 2 0 1991 1 4 Sun>=11 2 1","1979 1 5 13 3:30 1 1979 1 10 21 3:30 0","1979 1 7 1 0 1 1979 1 10 1 0 0","1979 1 5 13 3:30 1 1979 1 10 Sun>=16 3:30 0","1998 1 3 lastSun 0 1","2008 1 3 20 24 1 2008 1 9 20 24 0 2009 3 3 21 24 1 2009 3 9 21 24 0 2012 1 3 20 24 1 2012 1 9 20 24 0 2013 3 3 21 24 1 2013 3 9 21 24 0 2016 1 3 20 24 1 2016 1 9 20 24 0 2017 3 3 21 24 1 2017 3 9 21 24 0 2020 1 3 20 24 1 2020 1 9 20 24 0 2021 3 3 21 24 1 2021 3 9 21 24 0 2024 1 3 20 24 1 2024 1 9 20 24 0 2025 3 3 21 24 1 2025 3 9 21 24 0 2028 2 3 20 24 1 2028 2 9 20 24 0 2030 2 3 21 24 1 2030 2 9 21 24 0 2032 2 3 20 24 1 2032 2 9 20 24 0 2034 2 3 21 24 1 2034 2 9 21 24 0 2036 2 3 20 24 1 2036 2 9 20 24 0 2038 2 3 21 24 1 2038 2 9 21 24 0 2040 2 3 20 24 1 2040 2 9 20 24 0 2042 2 3 21 24 1 2042 2 9 21 24 0 2044 2 3 20 24 1 2044 2 9 20 24 0 2046 2 3 21 24 1 2046 2 9 21 24 0 2048 2 3 20 24 1 2048 2 9 20 24 0 2050 2 3 21 24 1 2050 2 9 21 24 0 2052 2 3 20 24 1 2052 2 9 20 24 0 2054 2 3 21 24 1 2054 2 9 21 24 0 2056 2 3 20 24 1 2056 2 9 20 24 0 2058 2 3 21 24 1 2058 2 9 21 24 0 2060 3 3 20 24 1 2060 3 9 20 24 0 2063 1 3 21 24 1 2063 1 9 21 24 0 2064 3 3 20 24 1 2064 3 9 20 24 0 2067 1 3 21 24 1 2067 1 9 21 24 0 2068 3 3 20 24 1 2068 3 9 20 24 0 2071 1 3 21 24 1 2071 1 9 21 24 0 2072 3 3 20 24 1 2072 3 9 20 24 0 2075 1 3 21 24 1 2075 1 9 21 24 0 2076 3 3 20 24 1 2076 3 9 20 24 0 2079 1 3 21 24 1 2079 1 9 21 24 0 2080 3 3 20 24 1 2080 3 9 20 24 0 2083 1 3 21 24 1 2083 1 9 21 24 0 2084 3 3 20 24 1 2084 3 9 20 24 0 2087 1 3 21 24 1 2087 1 9 21 24 0 2088 - 3 20 24 1 2088 - 9 20 24 0","2007 1 4 1 3s 1 2007 1 10 1 3s 0","2008 5 4 Fri<=1 2 1 2008 1 10 5 2 0 2009 1 9 27 2 0 2010 1 9 12 2 0 2011 1 10 2 2 0 2012 1 9 23 2 0 2013 - 3 Fri>=23 2 1 2013 - 10 lastSun 2 0","1951 1 9 Sat>=8 25 0 1951 1 5 Sat>=1 24 1","2008 5 3 lastThu 24 1 2008 4 10 lastFri 0s 0 2013 1 12 20 0 0 2014 - 3 lastThu 24 1 2014 - 10 lastFri 0s 0","2005 1 3 lastSun 2:30 1","1988 1 5 Sun>=8 2 1 1988 1 10 Sun>=8 3 0","1941 1 9 14 0 0:20 1941 1 12 14 0 0","2006 1 9 lastSat 2 0 2006 1 3 lastSat 2 1 2015 2 3 lastSat 2 1 2015 2 9 lastSat 0 0","2008 1 6 1 0 1 2008 2 11 1 0 0 2009 1 4 15 0 1","1967 1 5 1 1 1","2008 2 3 lastFri 0 1 2008 1 9 1 0 0 2009 1 9 Fri>=1 1 0 2010 1 3 26 0 1 2010 1 8 11 0 0 2011 1 4 1 0:1 1 2011 1 8 1 0 0 2011 1 8 30 0 1 2011 1 9 30 0 0 2012 3 3 lastThu 24 1 2012 1 9 21 1 0 2013 1 9 Fri>=21 0 0 2014 2 10 Fri>=21 0 0 2015 1 3 lastFri 24 1 2016 3 3 Sat>=24 1 1 2016 - 10 lastSat 1 0 2019 - 3 lastFri 0 1","1978 1 3 22 0 1 1978 1 9 21 0 0","2008 1 4 Fri>=1 0 1 2008 1 11 1 0 0 2009 1 3 lastFri 0 1 2010 2 4 Fri>=1 0 1 2012 - 3 lastFri 0 1 2009 - 10 lastFri 0 0","1944 1 3 lastSun 2 0","2008 2 3 lastSun 2s 0 2008 1 10 lastSun 2s 1","1992 1 3 Sun>=1 2s 0","1994 1 3 Sun>=1 2s 0","2008 - 4 Sun>=1 2s 0 2008 - 10 Sun>=1 2s 1","2008 - 10 Sun>=1 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 4 Sun>=1 2 0 2008 - 10 Sun>=1 2 0:30","2000 1 2 lastSun 3 0 2009 1 11 29 2 1 2010 1 3 lastSun 3 0 2010 4 10 Sun>=21 2 1 2011 1 3 Sun>=1 3 0 2012 2 1 Sun>=18 3 0 2014 1 1 Sun>=18 2 0 2014 5 11 Sun>=1 2 1 2015 - 1 Sun>=12 3 0 2019 - 11 Sun>=8 2 1","1977 1 4 24 2 1 1977 1 8 28 2 0","1997 1 3 2 2s 0","2008 - 9 lastSun 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 9 lastSun 2:45s 1 2008 - 4 Sun>=1 2:45s 0","1991 1 3 Sun>=1 0 0","2010 1 9 lastSun 0 1 2011 1 4 Sat>=1 4 0 2011 1 9 lastSat 3 1 2012 - 4 Sun>=1 4 0 2012 - 9 lastSun 3 1","2002 1 1 lastSun 2 0 2016 1 11 Sun>=1 2 1 2017 1 1 Sun>=15 3 0","1993 1 1 Sun>=23 0 0","1995 1 3 lastSun 1u 1 1995 1 10 Sun>=22 1u 0","2008 - 3 lastSun 1u 0 2008 - 10 lastSun 1u -1","2008 - 3 lastSun 1s 1 2008 - 10 lastSun 1s 0","2008 - 3 lastSun 2s 1 2008 - 10 lastSun 2s 0","1984 1 4 1 0 1","1980 1 4 6 0 1 1980 1 9 28 0 0","1946 1 5 19 2s 1 1946 1 10 7 2s 0","1982 1 4 Sat>=1 23 1","1949 1 10 Sun>=1 2s 0 1949 1 4 9 2s 1","1948 1 5 9 2s 1 1948 1 8 8 2s 0","2008 - 3 Sun>=8 2 1 2008 - 11 Sun>=1 2 0","1982 1 3 lastSun 2 1 1982 1 9 lastSun 3 0","1976 1 3 28 1 1 1976 1 9 26 1 0","1949 1 10 Sun>=1 2s 0 1949 1 4 10 2s 1","1945 1 5 24 2 2 1945 1 9 24 3 1 1945 1 11 18 2s 0","1980 1 4 1 0 1 1980 1 9 28 0 0","1980 1 4 6 1 1","1967 1 4 Sun>=1 1s 1 1967 1 10 29 1s 0","1979 1 5 Sun>=22 0s 1 1979 1 9 30 0s 0","1996 1 3 lastSun 2s 1 1996 1 9 lastSun 2s 0","1929 1 4 20 23 1","1980 1 9 Sun>=15 2 0 1980 1 3 31 2 1","2008 - 3 lastSun 2 1 2008 - 10 lastSun 3 0","1945 1 4 2 2s 1 1945 1 9 16 2s 0","1965 1 9 Sun>=15 2s 0 1965 1 4 25 2s 1","1964 1 5 lastSun 1s 1 1964 1 9 lastSun 1s 0","1983 1 3 lastSun 2s 1","1993 1 3 lastSun 0s 1 1993 1 9 lastSun 0s 0","1978 1 4 2 2s 1 1978 1 10 1 2s 0","1978 1 6 1 0 1 1978 1 8 4 0 0","1942 1 5 Mon>=1 1 1 1942 1 10 Mon>=1 2 0","2006 1 3 lastSun 1s 1 2006 1 10 lastSun 1s 0","1966 1 4 lastSun 2 1 1966 1 10 lastSun 2 0","1966 1 4 lastSun 1 1 1966 1 10 lastSun 2 0","1954 1 9 lastSun 2 0 1954 1 4 lastSun 2 1","1960 1 4 lastSun 2 1 1960 1 9 lastSun 2 0","1963 1 4 lastSun 2 1 1963 1 10 lastSun 2 0","1964 1 4 lastSun 2 1 1964 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 10 lastSun 2 0","1948 1 4 lastSun 2 1 1948 1 9 lastSun 2 0","2008 4 3 Sun>=8 0:1 1 2008 3 11 Sun>=1 0:1 0","1973 1 4 lastSun 2 1 1973 1 10 lastSun 2 0","2006 1 4 Sun>=1 0:1 1 2006 1 10 lastSun 0:1 0","2005 1 10 lastSun 2s 0 2005 1 4 Sun>=1 2s 1","1959 1 4 lastSun 2 1 1959 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 9 lastSun 2 0","2006 1 10 lastSun 2 0","2006 1 10 lastSun 2 0 2006 1 4 Sun>=1 2 1","2008 - 4 Sun>=1 2 1 2008 - 10 lastSun 2 0","1975 1 10 lastSun 2 0 1975 1 4 lastSun 2 1","1980 1 4 Sun>=15 2 1 1980 1 9 25 2 0","1983 1 2 12 0 0","1992 1 1 Sat>=15 0 1 1992 1 3 15 0 0","2008 3 10 lastSun 0s 0 2008 1 3 Sun>=15 0s 1 2009 2 3 Sun>=8 0s 1 2011 1 3 Sun>=15 0s 1 2011 1 11 13 0s 0 2012 1 4 1 0s 1 2012 - 11 Sun>=1 0s 0 2013 - 3 Sun>=8 0s 1","1974 1 1 21 0 0","1988 1 5 Sun>=1 0 1 1988 1 9 lastSun 0 0","2006 1 4 30 0 1 2006 1 10 1 0 0","2006 1 4 Sun>=1 0 1 2006 1 10 lastSun 0 0 2012 4 3 Sun>=8 2 1 2012 4 11 Sun>=1 2 0 2017 - 3 Sun>=8 2 1 2017 - 11 Sun>=1 2 0","2006 1 5 Sun>=1 0 1 2006 1 8 Mon>=1 0 0","2006 1 4 30 2 1 2006 1 10 Sun>=1 1 0","2008 2 3 Sun>=15 0 0 2008 1 10 Sun>=15 0 1","2008 2 3 Sun>=8 0 0 2008 1 10 Sun>=8 0 1","2008 10 10 Sun>=15 0 1 2008 4 2 Sun>=15 0 0 2012 1 2 Sun>=22 0 0 2013 2 2 Sun>=15 0 0 2015 1 2 Sun>=22 0 0 2016 4 2 Sun>=15 0 0 2018 1 11 Sun>=1 0 1","2008 3 10 Sun>=9 4u 1 2008 1 3 30 3u 0 2009 1 3 Sun>=9 3u 0 2010 1 4 Sun>=1 3u 0 2011 1 5 Sun>=2 3u 0 2011 1 8 Sun>=16 4u 1 2012 3 4 Sun>=23 3u 0 2012 3 9 Sun>=2 4u 1 2016 3 5 Sun>=9 3u 0 2016 3 8 Sun>=9 4u 1 2019 - 4 Sun>=2 3u 0 2019 - 9 Sun>=2 4u 1","1993 1 4 4 0 0","1993 1 2 5 0 0","2008 3 4 Sun>=15 2 0 2008 3 9 Sun>=1 2 1","2008 2 10 Sun>=15 0 1 2008 2 3 Sun>=8 0 0 2010 - 10 Sun>=1 0 1 2010 3 4 Sun>=8 0 0 2013 - 3 Sun>=22 0 0","1994 1 1 1 0 1 1994 1 4 1 0 0","2008 8 3 Sun>=8 2 0 2008 7 10 Sun>=1 2 1"],zones:["0 - -","-8 63 -","-7 63 -","-10 - -","-9 63 -","-7 - -","-6 63 -","-5 63 -","4 - -","-4 114 1255233600 -3 - -","-3 113 -","-3 - -","1 11 -","8 38 -","9:30 41 -","10 41 -",12,"6 16 -",12,"2 11 -","3 - -","-4 - -","-2 - -","-4 115 -",11,"-3 115 -",7,"-8 63 1583661600 -7 - -",1,5,2,6,"-6 - -","-5 - -",7,7,21,"-4 63 -","-3:30 93 1320114600 -3:30 63 -",12,"-6 116 -","-4 116 -","8 18 -","-5 117 -","-6 105 -",19,12,12,12,21,"-6 118 -","-5 118 -",19,"2 1 -","0 11 -",12,19,12,54,"0 2 -",19,"-6 109 -","8 19 -","-6 111 -",12,12,"7 - -","8 - -","9 - -","1 54 -","2 25 -","5:30 - -","3 24 -",0,12,33,"2 27 -","9 26 -",20,"9 29 -",20,"2 12 -",71,19,12,19,"0 5 1540692000 1 5 -",12,12,"4 4 -","5 - -","-8 101 1262332800 -8 63 -",5,"-7 101 -","-6 101 -",67,"1 - -","-6 112 -",12,12,"12 47 -",8,33,"-5 121 -","8 35 -","5 32 -",12,21,"2 34 1262296800 2 - 1269640860 2 34 1312146000 2 - 1325368800 2 34 -","-1 11 -",54,"-4 120 -",20,19,12,"2 13 1301184000 3 - 1414278000 2 - -","3 13 1301180400 4 - 1414274400 3 - -","4 13 1269727200 3 13 1301180400 4 - -","5 13 1301173200 6 - 1414267200 5 - -","6 13 1301169600 7 - 1414263600 6 - -","7 13 1301166000 8 - 1414260000 7 - -","8 13 1301162400 9 - 1414256400 8 - -","9 13 1301158800 10 - 1414252800 9 - -","10 13 1301155200 11 - 1414249200 10 - -","11 13 1301151600 12 - 1414245600 10 - 1461427200 11 - -","12 13 1269698400 11 13 1301151600 12 - -",20,12,67,12,12,"-6 108 -",66,"1 9 -","2 11 1301187600 2 - 1301274000 2 11 1396141200 2 - 1396227600 2 11 1445734800 2 dst:1 1446944400 2 11 1473195600 3 - -",21,"8 20 -",19,"-3 122 -","-4:30 - 1462086000 -4 - -",66,"2 7 -",6,7,15,"5:45 - -","4 15 -",0,20,96,20,0,96,0,0,"2 - -",96,155,12,0,0,20,20,96,86,0,155,155,20,20,"3 - 1509483600 2 - -",155,96,96,0,96,155,155,96,155,141,141,20,0,96,96,0,0,96,"0 - 1514768400 1 - 1546304400 0 - -","2 - 1352505600 1 3 1382659200 2 - -","2 6 -","-10 63 -",21,21,"-3 - 1350788400 -3 115 1378004400 -3 - -",11,10,11,11,11,11,11,10,11,21,"-3 - 1318734000 -3 115 1350788400 -3 - -","-7 101 1270371600 -6 101 -","-4 103 -","-6 104 -",21,2,2,"-6 101 1422777600 -5 - -",11,33,93,5,23,21,0,21,"-4 - 1384056000 -5 - -","-8 63 1425808800 -7 - -",11,37,"-3 11 -","-4 93 1320116400 -4 63 -","-5 63 1446357600 -4 - 1520751600 -5 63 -",21,21,21,"-5 106 -",7,6,7,7,6,7,7,7,7,2,4,7,7,21,21,11,21,21,21,"-6 101 1262325600 -6 63 -",6,94,"-8 - 1446372000 -9 63 1541325600 -8 - 1547978400 -9 63 -","-3 63 -",37,94,7,21,7,4,"-7 63 1289116800 -6 63 -",6,6,"-7 101 1262329200 -7 63 -",7,11,"-5 110 -",21,"-4 116 1480820400 -3 - -",6,11,6,222,11,109,4,21,21,21,21,21,32,37,7,21,27,4,2,"8 - 1255802400 11 - 1267714800 8 - 1319738400 11 - 1329843600 8 - 1477065600 11 - 1520701200 8 - -","7 - 1255806000 5 - 1268251200 7 - 1319742000 5 - 1329854400 7 - -","10 - -","10 42 1270310400 11 - -","6 - 1255809600 5 - -",100,271,11,20,"0 10 -","6 - -",12,20,301,125,90,90,90,90,"6 13 1301169600 7 - 1414263600 6 - 1459022400 7 - -",301,67,"9 13 1301158800 10 - 1414252800 8 - 1459015200 9 - -","8 31 -","2 36 -",68,90,"2 11 1473282000 3 - 1509238800 2 11 -","2 34 -","7 31 -",134,"4:30 - -","10 13 1301155200 11 - 1315832400 10 - 1414252800 9 - -",67,"8 21 -","7 13 1269716400 6 13 1301169600 7 - -","6 13 1301169600 7 - 1414263600 6 - 1469304000 7 - -",90,66,66,"9 - 1439564400 8:30 - 1525446000 9 - -",301,"6 - 1545328800 5 - -","10 13 1301155200 11 - 1414249200 10 - 1459008000 11 - -",90,"11 13 1301151600 12 - 1414245600 11 - -",90,8,"3:30 23 -",301,"6 13 1301169600 7 - 1414263600 6 - 1464465600 7 - -",314,301,"11 13 1301151600 12 - 1315828800 11 - 1414249200 10 - -",66,"6:30 - -","4 13 1293825600 4 14 -",37,"-1 - -",54,54,22,0,"-4 119 1283666400 -3 - -",14,"10 39 -","10 42 -","9:30 37 -","8:45 38 -",357,"10 40 -","10:30 43 -","1 56 -",6,19,33,7,0,0,349,3,"-11 - -","-12 - -",22,11,21,33,32,5,"-8 - -","-9 - -",0,96,293,"11 - -","12 - -","13 - -","14 - -",155,20,8,90,301,66,67,68,0,0,0,0,12,"3 13 1301180400 4 - 1414274400 3 - 1459033200 4 - -",12,"2 75 -",12,54,54,54,116,19,"2 13 1301184000 3 - -",12,19,12,12,"3 13 1301180400 4 - 1414274400 3 - 1480806000 4 - -","2 11 1396137600 4 - 1414274400 3 - -",12,402,19,12,12,"3 13 1301180400 4 - 1414274400 3 - 1540681200 4 - -",19,0,3,20,301,66,346,20,90,8,20,8,363,5,2,1,"-11 50 1325239200 13 50 -","10 - 1419696000 11 - -","12:45 48 -",293,"11 52 -",387,"-11 - 1325242800 13 - -","12 44 -",386,381,385,293,388,385,386,386,"-9:30 - -",372,386,372,"11:30 - 1443882600 11 - 1561899600 11 41 -","11 46 -",372,68,380,385,293,"-10 49 -",293,3,386,"13 51 -",386,386,0,54,71,145,226,10]}}),null);
__d("DraftEditorTextNode.react",["invariant","React","UserAgent","isElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("UserAgent").isBrowser("IE <= 11");function j(a){return i?a.textContent==="\n":a.tagName==="BR"}var k=function(a){return i?h.jsx("span",{"data-text":"true",ref:a,children:"\n"},"A"):h.jsx("br",{"data-text":"true",ref:a},"A")},l=function(a){return i?h.jsx("span",{"data-text":"true",ref:a,children:"\n"},"B"):h.jsx("br",{"data-text":"true",ref:a},"B")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=!1;return b}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.$2,d=a.children==="";b("isElement")(c)||g(0,6158);c=c;return d?!j(c):c.textContent!==a.children};d.componentDidMount=function(){this.$1=!this.$1};d.componentDidUpdate=function(){this.$1=!this.$1};d.render=function(){var a=this;return this.props.children===""?this.$1?k(function(b){return a.$2=b}):l(function(b){return a.$2=b}):h.jsx("span",{"data-text":"true",ref:function(b){return a.$2=b},children:this.props.children},this.$1?"A":"B")};return c}(h.Component);e.exports=a}),null);
__d("setDraftEditorSelection",["invariant","DraftEffects","DraftJsDebugLogging","UserAgent","containsNode","getActiveElement","getCorrectDocumentFromNode","isElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE");function i(a,c){if(!a)return"[empty]";a=j(a,c);if(a.nodeType===Node.TEXT_NODE)return a.textContent;b("isElement")(a)||g(0,3425);c=a;return c.outerHTML}function j(a,c){var d=c!==void 0?c(a):[];if(a.nodeType===Node.TEXT_NODE){var e=a.textContent.length;return b("getCorrectDocumentFromNode")(a).createTextNode("[text "+e+(d.length?" | "+d.join(", "):"")+"]")}e=a.cloneNode();e.nodeType===1&&d.length&&e.setAttribute("data-labels",d.join(", "));d=a.childNodes;for(var a=0;a<d.length;a++)e.appendChild(j(d[a],c));return e}function k(a,c){a=a;var d=a;while(a)if(b("isElement")(a)&&d.hasAttribute("contenteditable"))return i(a,c);else a=a.parentNode,d=a;return"Could not find contentEditable parent of node"}function l(a){return a.nodeValue===null?a.childNodes.length:a.nodeValue.length}function a(a,c,d,e,f){var g=b("getCorrectDocumentFromNode")(c);if(!b("containsNode")(g.documentElement,c))return;g=g.defaultView.getSelection();var h=a.getAnchorKey(),i=a.getAnchorOffset(),j=a.getFocusKey(),k=a.getFocusOffset(),l=a.getIsBackward();if(!g.extend&&l){var o=h,p=i;h=j;i=k;j=o;k=p;l=!1}o=h===d&&e<=i&&f>=i;p=j===d&&e<=k&&f>=k;if(o&&p){g.removeAllRanges();n(g,c,i-e,a);m(g,c,k-e,a);return}if(!l)o&&(g.removeAllRanges(),n(g,c,i-e,a)),p&&m(g,c,k-e,a);else{p&&(g.removeAllRanges(),n(g,c,k-e,a));if(o){h=g.focusNode;j=g.focusOffset;g.removeAllRanges();n(g,c,i-e,a);m(g,h,j,a)}}}function m(a,c,d,e){var f=b("getActiveElement")(),g=a.extend;if(g&&c!=null&&b("containsNode")(f,c)){d>l(c)&&b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())});g=c===a.focusNode;try{a.rangeCount>0&&a.extend&&a.extend(c,d)}catch(h){b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c,function(b){var c=[];b===f&&c.push("active element");b===a.anchorNode&&c.push("selection anchor node");b===a.focusNode&&c.push("selection focus node");return c}),extraParams:JSON.stringify({activeElementName:f?f.nodeName:null,nodeIsFocus:c===a.focusNode,nodeWasFocus:g,selectionRangeCount:a.rangeCount,selectionAnchorNodeName:a.anchorNode?a.anchorNode.nodeName:null,selectionAnchorOffset:a.anchorOffset,selectionFocusNodeName:a.focusNode?a.focusNode.nodeName:null,selectionFocusOffset:a.focusOffset,message:h?""+h:null,offset:d},null,2),selectionState:JSON.stringify(e.toJS(),null,2)});throw h}}else if(c&&a.rangeCount>0){g=a.getRangeAt(0);g.setEnd(c,d);a.addRange(g.cloneRange())}}function n(a,c,d,e){var f=b("getCorrectDocumentFromNode")(c).createRange();d>l(c)&&(b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())}),b("DraftEffects").handleExtensionCausedError());f.setStart(c,d);if(h)try{a.addRange(f)}catch(a){}else a.addRange(f)}e.exports={setDraftEditorSelection:a,addFocusToSelection:m}}),null);
__d("DraftEditorLeaf.react",["invariant","DraftEditorTextNode.react","React","isHTMLBRElement","setDraftEditorSelection"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("setDraftEditorSelection").setDraftEditorSelection;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.selection;if(a==null||!a.getHasFocus())return;var c=this.props,d=c.block,e=c.start;c=c.text;d=d.getKey();c=e+c.length;if(!a.hasEdgeWithin(d,e,c))return;var f=this.leaf;f||g(0,5590);var h=f.firstChild;h||g(0,5591);var j;h.nodeType===Node.TEXT_NODE?j=h:b("isHTMLBRElement")(h)?j=f:(j=h.firstChild,j||g(0,5592));i(a,j,d,e,c)};d.shouldComponentUpdate=function(a){var b=this.leaf;b||g(0,5593);b=b.textContent!==a.text||a.styleSet!==this.props.styleSet||a.forceSelection;return b};d.componentDidUpdate=function(){this.$1()};d.componentDidMount=function(){this.$1()};d.render=function(){var a=this,c=this.props.block,d=this.props.text;d.endsWith("\n")&&this.props.isLast&&(d+="\n");var e=this.props,f=e.customStyleMap,g=e.customStyleFn,i=e.offsetKey;e=e.styleSet;var j=e.reduce(function(a,b){var c={};b=f[b];b!==void 0&&a.textDecoration!==b.textDecoration&&(c.textDecoration=[a.textDecoration,b.textDecoration].join(" ").trim());return Object.assign(a,b,c)},{});if(g){g=g(e,c);j=Object.assign(j,g)}return h.jsx("span",{"data-offset-key":i,ref:function(b){return a.leaf=b},style:j,children:h.jsx(b("DraftEditorTextNode.react"),{children:d})})};return c}(h.Component);e.exports=a}),null);
__d("DraftEditorBlock.react",["cx","invariant","DraftEditorLeaf.react","DraftOffsetKey","React","Scroll","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=10,k=function(a,b){return a.getAnchorKey()===b||a.getFocusKey()===b};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.block!==a.block||this.props.tree!==a.tree||this.props.direction!==a.direction||k(a.selection,a.block.getKey())&&a.forceSelection};d.componentDidMount=function(){if(this.props.preventScroll)return;var a=this.props.selection,c=a.getEndKey();if(!a.getHasFocus()||c!==this.props.block.getKey())return;a=this.$1;if(a==null)return;c=b("Style").getScrollParent(a);var d=b("getScrollPosition")(c);if(c===window){var e=b("getElementPosition")(a);e=e.y+e.height;var f=b("getViewportDimensions")().height;e=e-f;e>0&&window.scrollTo(d.x,d.y+e+j)}else{b("isHTMLElement")(a)||h(0,4852);f=a.offsetHeight+a.offsetTop;a=c.offsetTop+c.offsetHeight;a=a+d.y;e=f-a;e>0&&b("Scroll").setTop(c,b("Scroll").getTop(c)+e+j)}};d.$2=function(){var a=this,c=this.props.block,d=c.getKey(),e=c.getText(),f=this.props.tree.size-1,g=k(this.props.selection,d);return this.props.tree.map(function(h,j){var k=h.get("leaves");if(k.size===0)return null;var l=k.size-1,m=k.map(function(k,m){var n=b("DraftOffsetKey").encode(d,j,m),h=k.get("start");k=k.get("end");return i.jsx(b("DraftEditorLeaf.react"),{offsetKey:n,block:c,start:h,selection:g?a.props.selection:null,forceSelection:a.props.forceSelection,text:e.slice(h,k),styleSet:c.getInlineStyleAt(h),customStyleMap:a.props.customStyleMap,customStyleFn:a.props.customStyleFn,isLast:j===f&&m===l},n)}).toArray(),n=h.get("decoratorKey");if(n==null)return m;if(!a.props.decorator)return m;var o=b("nullthrows")(a.props.decorator),p=o.getComponentForKey(n);if(!p)return m;o=o.getPropsForKey(n);n=b("DraftOffsetKey").encode(d,j,0);var q=k.first().get("start");k=k.last().get("end");var r=e.slice(q,k);h=c.getEntityAt(h.get("start"));var s=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(r),a.props.direction);r={contentState:a.props.contentState,decoratedText:r,dir:s,start:q,end:k,blockKey:d,entityKey:h,offsetKey:n};return i.createElement(p,babelHelpers["extends"]({},o,r,{key:n}),m)}).toArray()};d.render=function(){var a=this,b=this.props,c=b.direction;b=b.offsetKey;c="_1mf"+(c==="LTR"?" _1mj":"")+(c==="RTL"?" _1mk":"");return i.jsx("div",{"data-offset-key":b,className:c,ref:function(b){return a.$1=b},children:this.$2()})};return c}(i.Component);e.exports=a}),null);
__d("DraftEditorContents-core.react",["cx","DraftEditorBlock.react","DraftOffsetKey","React","joinClasses","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=function(a,b,c,d){return(a==="unordered-list-item"?"_3kpz":"")+(a==="ordered-list-item"?" _3kp_":"")+(c?" _3kq0":"")+(b===0?" _3kq1":"")+(b===1?" _3kq2":"")+(b===2?" _3kq3":"")+(b===3?" _3kq4":"")+(b>=4?" _3kq5":"")+(d==="LTR"?" _3kq6":"")+(d==="RTL"?" _3kq7":"")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props.editorState;a=a.editorState;var c=b.getDirectionMap(),d=a.getDirectionMap();if(c!==d)return!0;c=b.getSelection().getHasFocus();d=a.getSelection().getHasFocus();if(c!==d)return!0;c=a.getNativelyRenderedContent();d=b.isInCompositionMode();var e=a.isInCompositionMode();if(b===a||c!==null&&a.getCurrentContent()===c||d&&e)return!1;c=b.getCurrentContent();var f=a.getCurrentContent();b=b.getDecorator();var g=a.getDecorator();return d!==e||c!==f||b!==g||a.mustForceSelection()};d.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleMap,g=a.customStyleFn,j=a.editorState,k=a.editorKey,l=a.preventScroll;a=a.textDirectionality;var m=j.getCurrentContent(),n=j.getSelection(),o=j.mustForceSelection(),p=j.getDecorator(),q=b("nullthrows")(j.getDirectionMap()),r=m.getBlocksAsArray(),s=[],t=new Set(),u=null,v=null;for(var w=0;w<r.length;w++){var x=r[w],y=x.getKey(),z=x.getType(),A=d(x),B=void 0,C=void 0,D=void 0;A&&(B=A.component,C=A.props,D=A.editable);A=a?a:q.get(y);var E=b("DraftOffsetKey").encode(y,0,0);C={contentState:m,block:x,blockProps:C,blockStyleFn:e,customStyleMap:f,customStyleFn:g,decorator:p,direction:A,forceSelection:o,offsetKey:E,preventScroll:l,selection:n,tree:j.getBlockTree(y)};var F=c.get(z)||c.get("unstyled"),G=F.wrapper;F=F.element||c.get("unstyled").element;var H=x.getDepth(),I="";e&&(I=e(x));if(F==="li"){var J=v!==G||u===null||H>u||H<u&&!t.has(H);I=b("joinClasses")(I,i(z,H,J,A))}t.add(H);z=B||b("DraftEditorBlock.react");J={className:I,"data-block":!0,"data-editor":k,"data-offset-key":E,key:y};D!==void 0&&(J=babelHelpers["extends"]({},J,{contentEditable:D,suppressContentEditableWarning:!0}));A=h.createElement(F,J,h.createElement(z,babelHelpers["extends"]({},C,{key:y})));s.push({block:A,wrapperTemplate:G,key:y,offsetKey:E});G?u=x.getDepth():u=null;v=G}H=[];for(var B=0;B<s.length;){I=s[B];if(I.wrapperTemplate){D=[];do D.push(s[B].block),B++;while(B<s.length&&s[B].wrapperTemplate===I.wrapperTemplate);F=h.cloneElement(I.wrapperTemplate,{key:I.key+"-wrap","data-offset-key":I.offsetKey},D);H.push(F)}else H.push(I.block),B++}return h.jsx("div",{"data-contents":"true",children:H})};return c}(h.Component);e.exports=a}),null);